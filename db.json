{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/favicon.ico","path":"favicon.ico","modified":0,"renderable":0},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":0},{"_id":"source/images/mongo-cluster.jpg","path":"images/mongo-cluster.jpg","modified":0,"renderable":0},{"_id":"source/images/replica.jpg","path":"images/replica.jpg","modified":0,"renderable":0},{"_id":"source/images/wechat-reward-image.png","path":"images/wechat-reward-image.png","modified":0,"renderable":0},{"_id":"source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":0},{"_id":"source/images/alipay-reward-image.jpg","path":"images/alipay-reward-image.jpg","modified":0,"renderable":0},{"_id":"source/images/figure05.png","path":"images/figure05.png","modified":0,"renderable":0},{"_id":"source/images/restore-db/delay_bak.png","path":"images/restore-db/delay_bak.png","modified":0,"renderable":0},{"_id":"source/images/restore-db/inc_bak.png","path":"images/restore-db/inc_bak.png","modified":0,"renderable":0},{"_id":"source/images/restore-db/all_bak.png","path":"images/restore-db/all_bak.png","modified":0,"renderable":0},{"_id":"source/images/restore-db/master-master.png","path":"images/restore-db/master-master.png","modified":0,"renderable":0},{"_id":"source/images/restore-db/master-slave.png","path":"images/restore-db/master-slave.png","modified":0,"renderable":0},{"_id":"source/images/technology/gen-id.png","path":"images/technology/gen-id.png","modified":0,"renderable":0},{"_id":"source/images/technology/gen-id2.png","path":"images/technology/gen-id2.png","modified":0,"renderable":0},{"_id":"source/images/technology/gen-id3.png","path":"images/technology/gen-id3.png","modified":0,"renderable":0},{"_id":"source/images/technology/master-slave.png","path":"images/technology/master-slave.png","modified":0,"renderable":0},{"_id":"source/images/technology/snowflake-64bit.jpg","path":"images/technology/snowflake-64bit.jpg","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"source/images/plan/1.png","path":"images/plan/1.png","modified":0,"renderable":0},{"_id":"source/images/plan/6.png","path":"images/plan/6.png","modified":0,"renderable":0},{"_id":"source/images/plan/5.png","path":"images/plan/5.png","modified":0,"renderable":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"source/images/plan/3.png","path":"images/plan/3.png","modified":0,"renderable":0},{"_id":"source/images/plan/2.png","path":"images/plan/2.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"source/images/plan/8.png","path":"images/plan/8.png","modified":0,"renderable":0},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"source/images/plan/4.png","path":"images/plan/4.png","modified":0,"renderable":0},{"_id":"source/images/plan/7.png","path":"images/plan/7.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"3e33456a5ccd6eca11f2d0b6a2faa8c94a0b5671","modified":1497275605000},{"_id":"source/404.html","hash":"310fc37341c13586d09c4d1d82ca51ed082d6481","modified":1497275605000},{"_id":"source/favicon.ico","hash":"fa56159e4ee431ee701cdd1f5ff6528740d47d6e","modified":1497275605000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1497276104000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1497276104000},{"_id":"themes/next/.gitignore","hash":"32ea93f21d8693d5d8fa4eef1c51a21ad0670047","modified":1497276104000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1497276104000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1497276104000},{"_id":"themes/next/.javascript_ignore","hash":"f9ea3c5395f8feb225a24e2c32baa79afda30c16","modified":1497276104000},{"_id":"themes/next/.travis.yml","hash":"c42d9608c8c7fe90de7b1581a8dc3886e90c179e","modified":1497276104000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1497276104000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1497276104000},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1497276104000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1497276104000},{"_id":"themes/next/bower.json","hash":"be0a430362cb73a7e3cf9ecf51a67edf8214b637","modified":1497276104000},{"_id":"themes/next/_config.yml.bak","hash":"7a9d9b4f5ec47d1857746f6cb6bd19f6b1bd0a6c","modified":1497276104000},{"_id":"themes/next/_config.yml","hash":"5777832c6583cfcf829f911e52265835de5ecb29","modified":1497869397000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1497276104000},{"_id":"themes/next/README.en.md","hash":"4ece25ee5f64447cd522e54cb0fffd9a375f0bd4","modified":1497276104000},{"_id":"themes/next/package.json","hash":"7e87b2621104b39a30488654c2a8a0c6a563574b","modified":1497276104000},{"_id":"source/_drafts/xiaoshuoke.md","hash":"25591011671e06009c7479ff9e8ae90024946b0a","modified":1497275605000},{"_id":"source/_drafts/linklist.md","hash":"404463784a4ed50262f1f149c566792eb899b0cb","modified":1541599935730},{"_id":"source/about/index.md","hash":"49ad8db348b831b650e27208ad18f22dbabbf16f","modified":1559747957721},{"_id":"source/categories/index.md","hash":"52ab12c7f649b9bf60aed71ae90af55d58bbba06","modified":1497275605000},{"_id":"source/images/avatar.jpg","hash":"983cc8f79020c07e6e58039e67e6fd495ea882e5","modified":1497275605000},{"_id":"source/images/mongo-cluster.jpg","hash":"d87f64a507292c29d243aa8cf3e6691c7aafb126","modified":1497275605000},{"_id":"source/images/replica.jpg","hash":"bbbcab06acdb0f8d8ed58871c91ea6d9ade3ac2f","modified":1497275605000},{"_id":"source/images/wechat-reward-image.png","hash":"55e55cc3d5f7b4f5928fa19c82f6ba9efb6571fa","modified":1497275605000},{"_id":"source/images/wechat.jpg","hash":"5014693062839204352b9d81a939033d791a7a5b","modified":1497275605000},{"_id":"source/tags/index.md","hash":"3cccd01549bc72a968725f7fbcd3b4e5f12b09a2","modified":1497275605000},{"_id":"source/schedule/index.md","hash":"63922c49f3a1587c0107f93846a963102718871a","modified":1497275605000},{"_id":"source/images/alipay-reward-image.jpg","hash":"797eedec4f7d9ede1e95140d01f8085d66cedc84","modified":1497275605000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1497276104000},{"_id":"themes/next/.git/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1497276104000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1497275893000},{"_id":"themes/next/.git/packed-refs","hash":"6705dec1efe015bd8f76d53b3711ff40f89dbda7","modified":1497276104000},{"_id":"themes/next/.git/index","hash":"13540f51e2de6cd148e527371e2484b5a2c9c4d9","modified":1497703308000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1497276104000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"fdd63b77472612337309eb93ec415a059b90756b","modified":1497276104000},{"_id":"themes/next/scripts/merge-configs.js","hash":"13c8b3a2d9fce06c2488820d9248d190c8100e0a","modified":1497276104000},{"_id":"themes/next/languages/de.yml","hash":"306db8c865630f32c6b6260ade9d3209fbec8011","modified":1497276104000},{"_id":"themes/next/languages/default.yml","hash":"4cc6aeb1ac09a58330e494c8771773758ab354af","modified":1497276104000},{"_id":"themes/next/languages/en.yml","hash":"e7def07a709ef55684490b700a06998c67f35f39","modified":1497276104000},{"_id":"themes/next/languages/fr-FR.yml","hash":"24180322c83587a153cea110e74e96eacc3355ad","modified":1497276104000},{"_id":"themes/next/languages/ja.yml","hash":"1c3a05ab80a6f8be63268b66da6f19da7aa2c638","modified":1497276104000},{"_id":"themes/next/languages/pt-BR.yml","hash":"958e49571818a34fdf4af3232a07a024050f8f4e","modified":1497276104000},{"_id":"themes/next/languages/pt.yml","hash":"36c8f60dacbe5d27d84d0e0d6974d7679f928da0","modified":1497276104000},{"_id":"themes/next/languages/ru.yml","hash":"1549a7c2fe23caa7cbedcd0aa2b77c46e57caf27","modified":1497276104000},{"_id":"themes/next/languages/id.yml","hash":"2835ea80dadf093fcf47edd957680973f1fb6b85","modified":1497276104000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"3c0c7dfd0256457ee24df9e9879226c58cb084b5","modified":1497276104000},{"_id":"themes/next/languages/zh-tw.yml","hash":"0b2c18aa76570364003c8d1cd429fa158ae89022","modified":1497276104000},{"_id":"themes/next/languages/zh-hk.yml","hash":"1c917997413bf566cb79e0975789f3c9c9128ccd","modified":1497276104000},{"_id":"themes/next/layout/_layout.swig","hash":"98910163f4bb2856692fdbb55d6e82233fb0c24e","modified":1497276104000},{"_id":"themes/next/languages/ko.yml","hash":"be150543379150f78329815af427bf152c0e9431","modified":1497276104000},{"_id":"themes/next/layout/archive.swig","hash":"5de4dca06b05d99e4f6bad617a4b8f4f3592fb01","modified":1497276104000},{"_id":"themes/next/layout/category.swig","hash":"82e7bc278559b4335ad974659104eaaf04863032","modified":1497276104000},{"_id":"themes/next/layout/index.swig","hash":"03e8a2cda03bad42ac0cb827025eb81f95d496a2","modified":1497276104000},{"_id":"themes/next/layout/page.swig","hash":"baa667bc801349d5c4984c0f172973d3780400df","modified":1497276104000},{"_id":"themes/next/layout/post.swig","hash":"2d5f8d7f0a96b611e2d5a5e4d111fc17726a990f","modified":1497276104000},{"_id":"themes/next/layout/schedule.swig","hash":"f93c53f6fd5c712584f6efba6f770c30fa8a3e80","modified":1497276104000},{"_id":"themes/next/layout/tag.swig","hash":"2e73ee478e981092ea9a5d10dd472a9461db395b","modified":1497276104000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1497276104000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1497276104000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1497276104000},{"_id":"source/_posts/2014/atom-tutorial.md","hash":"45767a14d9fd64d5cfc8a652dfe3b9e5a621571b","modified":1497275605000},{"_id":"source/_posts/2014/fast-learning-way.md","hash":"dddcdb85a21126efbb9216df56ea0841f07b9205","modified":1497275605000},{"_id":"source/_posts/2014/git-cheatsheet.md","hash":"aabe3285370aedd758001c41a7fe77dca0ebf977","modified":1497275605000},{"_id":"source/_posts/2014/hexo-tutorial.md","hash":"41d6851e3b4938ef9af2c84eefdacf7c99ca2943","modified":1497275605000},{"_id":"source/_posts/2014/https.md","hash":"6cdc4124ae2c7d2b1da14f069dfce0709dcf3dbc","modified":1497275605000},{"_id":"source/_posts/2014/http.md","hash":"ff5f0c4fce46f09f653f13d21b50817d02e8bbe6","modified":1497275605000},{"_id":"source/_posts/2014/learn-if-alive.md","hash":"11300642ad8f40019c413608e421ecdfd7ead22d","modified":1497275605000},{"_id":"source/_posts/2015/command-pattern.md","hash":"c18e9ce69b49e8d60fa1a06883a305dcf3056473","modified":1497275605000},{"_id":"source/_posts/2014/learn-english.md","hash":"7c8bffae10435c6c986b12967f0e4246c1d9efcc","modified":1541648784632},{"_id":"source/_posts/2014/linux-aliases.md","hash":"ef18138bc6c8e93c1f2848a307200f46a2624994","modified":1497275605000},{"_id":"source/_posts/2014/zh-cn-to-pinyin.md","hash":"fd26d77260afc172e89eb212ca9ca80f14bb150c","modified":1497275605000},{"_id":"source/_posts/2015/critical-thinking.md","hash":"a62223d0c1aee323e4a83f9366e2dcd6998db211","modified":1497275605000},{"_id":"source/_posts/2015/dependency-injection-pattern.md","hash":"fae89a331db0e861db1899ad89b583eb37fff917","modified":1497275605000},{"_id":"source/_posts/2015/facade-pattern.md","hash":"abd82c9ad832f891a72e26c8c3eb1c273eeb8c49","modified":1497275605000},{"_id":"source/_posts/2015/factory-pattern.md","hash":"7a5ee83b32a8c11241ef6d6f39062228bc7180c7","modified":1497275605000},{"_id":"source/_posts/2015/gen-id-way.md","hash":"eff8c4227ba097a01177b97cf35f231490779733","modified":1497275605000},{"_id":"source/_posts/2015/grown-up.md","hash":"b72716ff4ed220309d73348afd9e00666ad0e974","modified":1497275605000},{"_id":"source/_posts/2015/gulp-tutorial.md","hash":"d8e584ff7089a2c4478abd1aeb887a70ab7e5895","modified":1497275605000},{"_id":"source/_posts/2015/how-to-happy-work.md","hash":"c472c8a2b536c15ac605b813e61cefa7b70e0d6e","modified":1497275605000},{"_id":"source/_posts/2015/hui-lai-shi.md","hash":"1bbdadbf53d7d722461e0f18676f58b1082e8723","modified":1497275605000},{"_id":"source/_posts/2015/markdown.md","hash":"6421d85e31bb0e3f205a744147967bf28f57ebbd","modified":1497275605000},{"_id":"source/_posts/2015/mac-web.md","hash":"ff2e0411ff620077c54f974698378f5bb48a0187","modified":1561796723600},{"_id":"source/_posts/2015/observer-pattern.md","hash":"dbdfe3663a2e723bbaf7b7b0c6efbd98db2c229b","modified":1497275605000},{"_id":"source/_posts/2015/proxy-pattern.md","hash":"2b6b5dccdca3a41b8787ef01ec402f5c79b60d77","modified":1497275605000},{"_id":"source/_posts/2015/nodejs.md","hash":"ec31221389f0291bf343b1f6f3e2a77ded4e36f3","modified":1497275605000},{"_id":"source/_posts/2015/singleton-pattern.md","hash":"8fc5b67563beedff0847620f26f57302253c429d","modified":1497275605000},{"_id":"source/_posts/2015/yc-create-note.md","hash":"a1a119d6d4911acf57b744eea02f901ad7c80293","modified":1497275605000},{"_id":"source/_posts/2016/Inverted-index.md","hash":"971ab5a081dbc9feef200a006feeda3f55b5fd17","modified":1497275605000},{"_id":"source/_posts/2016/MangoDB-cheatsheet.md","hash":"49bcd13248dfaf1bc091cf29d2c249981e132454","modified":1497275605000},{"_id":"source/_posts/2016/beyond-feeling.md","hash":"f2cfe967d4fc02528ab9b69f4a117f8da41b25f9","modified":1497275605000},{"_id":"source/_posts/2016/design-mysql.md","hash":"271425bbc3e2a89ef27e43ac326bafe1697c17c4","modified":1497275605000},{"_id":"source/_posts/2016/big-data-time.md","hash":"0c95bfa859a90c035ffa3abbe570c6edf051cdae","modified":1497275605000},{"_id":"source/_posts/2016/flex.md","hash":"0a71307759ad5afd5b1ee3f49888677d79b10b5d","modified":1497275605000},{"_id":"source/_posts/2016/ganji-design-msyql-rule.md","hash":"157dd855b416e76ae8190a7a4071733f34a44f1d","modified":1497275605000},{"_id":"source/_posts/2016/growth-hack.md","hash":"3d093fc7487462726ea0895d66558a1620594188","modified":1497275605000},{"_id":"source/_posts/2016/mysql-bit.md","hash":"021d2c662eaeaee28f9c67e359d5f26b8fbd7790","modified":1497275605000},{"_id":"source/_posts/2016/influence.md","hash":"fb0ebc81c9eaa7fb6176b218bc122779d90f58c0","modified":1497275605000},{"_id":"source/_posts/2016/mysql-cheatsheet.md","hash":"d15ddc74e55752450dd60b32c59c08cda883ff0a","modified":1497275605000},{"_id":"source/_posts/2016/npm-script.md","hash":"59d78364579255c8aaee70a975e5d819b3942be2","modified":1497275605000},{"_id":"source/_posts/2016/php-faker.md","hash":"2884cc92ea2b949234e61c1706cdaa09749736cb","modified":1497275605000},{"_id":"source/_posts/2016/plan.md","hash":"f73b5832991dca8807654fc1accc3c9d8b355bd9","modified":1497275605000},{"_id":"source/_posts/2016/restore-db.md","hash":"39ffaddb6724b7f7c82629037042daff4b4c8a18","modified":1497275605000},{"_id":"source/_posts/2016/running.md","hash":"1d8cad723fc5a343b8e8fb9147c82f54643b76d9","modified":1497275605000},{"_id":"source/_posts/2016/principles.md","hash":"cfb59315b6a5a71d2186e8949eb70615b0da5a91","modified":1497275605000},{"_id":"source/_posts/2016/seckill-sys.md","hash":"dac9f535a72e92435f1b07f846c5cce5b091a777","modified":1497275605000},{"_id":"source/_posts/2016/shell.md","hash":"ae036528c200e6b44d745dba984588eca9aae2e0","modified":1497275605000},{"_id":"source/_posts/2016/vagrant.md","hash":"f2de5a8a9664ab9351bf7637d3b0e905a67e832a","modified":1497275605000},{"_id":"source/_posts/2016/yaml.md","hash":"1ff4b5c1e4ca0c96c08929c0c6e2dbd1296e600a","modified":1497275605000},{"_id":"source/_posts/2017/awk.md","hash":"c58cc15fad58e4cf3b818311b6d311188c48df93","modified":1497275605000},{"_id":"source/_posts/2017/docker-tutorial.md","hash":"4b90d30fefc0b00a135750718d08ada9a999c615","modified":1504352264000},{"_id":"source/_posts/2017/JavaScript-Standard-Style.md","hash":"dc2b8f0d5418281c48f53d8038b0261907834177","modified":1504352264000},{"_id":"source/_posts/2017/js-now-exec-func.md","hash":"6651a5de94a313fd669875551be7c31c3b15eaad","modified":1497275605000},{"_id":"source/_posts/2017/login-more.md","hash":"3c1ebe274432700f8f2bc2d9afe4d567fd76dbeb","modified":1497275605000},{"_id":"source/_posts/2017/mrg_myisam.md","hash":"9530524861feedd62d88903379f2dc87dae061f9","modified":1497275605000},{"_id":"source/_posts/2017/daohuo.md","hash":"f9127ed0438e8216b3bdf533cc6a42ec09a3fac1","modified":1504352289000},{"_id":"source/_posts/2017/one2more-db-separation.md","hash":"cda955f9965c53029604cea564ea2950feb2689e","modified":1504352264000},{"_id":"source/_posts/2017/yii-girdview.md","hash":"713d75f2b80f10ce656de27802655fa7ff48537e","modified":1504352264000},{"_id":"source/_posts/2017/redis-snapshots-bug.md","hash":"d456ecc467d6429d6313d2060d27e0c1af9fdad2","modified":1498632263000},{"_id":"source/_posts/2020/go-concurrency.md","hash":"4f897d8b8b29e7790d74a1c8aa41fb621facb79c","modified":1588404070136},{"_id":"source/_posts/2020/go-cheatsheet.md","hash":"39163596b2c4dee8689e8d4fd76e49967e350a57","modified":1588404064911},{"_id":"source/_posts/2020/go-install.md","hash":"5c5b6ab70effd9c89c6bb8bccfe146db2d4d03ed","modified":1588404073837},{"_id":"source/_posts/2020/google-use-skill.md","hash":"9ed50c9c8a1d031e424d2b4fd0c8df4e523aa182","modified":1588404080961},{"_id":"source/_posts/2021/k8s.md","hash":"81a553a47a9b3d2edf96c26fdbf4b6a56fc0a9d3","modified":1632708412291},{"_id":"source/_posts/2020/mysql57-json.md","hash":"495a79c94febbbb4b18595f266700d2ebd4e6e2d","modified":1588404084909},{"_id":"source/_posts/2020/yaf.md","hash":"f453808d3db4af7f51bd894af8c0c27694003850","modified":1589116675485},{"_id":"source/_posts/2019/distributed-transaction.md","hash":"c965ad87a7e115d64089c43cc93640ec007201ec","modified":1548836993573},{"_id":"source/_posts/2019/elasticSearch.md","hash":"fdbf3e50df12ace5546ac989a75b386ba1a79d07","modified":1548838068104},{"_id":"source/images/figure05.png","hash":"e73bee42983ea05c9176c99e55f69ac0350455a8","modified":1497275605000},{"_id":"source/images/restore-db/delay_bak.png","hash":"6bb3695d19bfeb83bfcfacd21e4b61a0529cc10c","modified":1497275605000},{"_id":"source/images/restore-db/inc_bak.png","hash":"f8cf69db576931c76a8fcb1e51cb4da9cfa374c5","modified":1497275605000},{"_id":"source/images/restore-db/all_bak.png","hash":"1193a8ad9cf0b99027ef88553696a67d0f4fffc7","modified":1497275605000},{"_id":"source/images/restore-db/master-master.png","hash":"deacf1a4a31ce34c160674c27ade212e93ba744e","modified":1497275605000},{"_id":"source/images/restore-db/master-slave.png","hash":"7ed438af6bcad83ee7fd967dc6323a0aaa858944","modified":1497275605000},{"_id":"source/images/technology/gen-id.png","hash":"679ecaeeb8a6aeca9311baeeb5434c87444106a2","modified":1497275605000},{"_id":"source/images/technology/gen-id2.png","hash":"33c002da5cb8c27fd7c5fb34f947cf521870688d","modified":1497275605000},{"_id":"source/images/technology/gen-id3.png","hash":"4eeeef8f5680377ff9d954c3e8744666ba02bc89","modified":1497275605000},{"_id":"source/images/technology/master-slave.png","hash":"ce1a8e33ab7c07c3416ea2f12d4ddfb8a2ea0f8a","modified":1497275605000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1497276104000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"source/images/technology/snowflake-64bit.jpg","hash":"5c7fca2061e94dba847dfc8072555599c76b1bc7","modified":1497275605000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1497275893000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1497275893000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1497275893000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1497275893000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1497275893000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1497275893000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1497275893000},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1497275893000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1497275893000},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1497275893000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1497275893000},{"_id":"themes/next/.git/logs/HEAD","hash":"9b691ee9ccaeea7181402f08af2a5acf4107ac73","modified":1497276104000},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1497276104000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1497276104000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1497276104000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1497276104000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1497276104000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1497276104000},{"_id":"themes/next/scripts/tags/note.js","hash":"21b102db8a01c7b15ae2c0ea3ef3d4cf807ec6ed","modified":1497276104000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1497276104000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1497276104000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1497276104000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"b16fcbf0efd20c018d7545257a8533c497ea7647","modified":1497276104000},{"_id":"themes/next/layout/_macro/post.swig","hash":"9481f43ed356e00df7b519e92ad0becebc9e1505","modified":1497276104000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"37e5b7c42ec17b9b6b786c5512bcc481a21c974e","modified":1497276104000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"a2b213c1a7c37cd6e4749f2018371f4c1f4f0d23","modified":1497276104000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"14e785adeb0e671ba0ff9a553e6f0d8def6c670c","modified":1497276104000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"1c7d3c975e499b9aa3119d6724b030b7b00fc87e","modified":1497276104000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"7172c6053118b7c291a56a7860128a652ae66b83","modified":1497276104000},{"_id":"themes/next/layout/_partials/head.swig","hash":"6a7eb93d8aa7d4baa472890bd666b921f449d8af","modified":1497276104000},{"_id":"themes/next/layout/_partials/header.swig","hash":"a1ffbb691dfad3eaf2832a11766e58a179003b8b","modified":1497276104000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1497276104000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1497276104000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1497276104000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1497276104000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1497276104000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1497276104000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1497276104000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1497276104000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1497276104000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1497276104000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1497276104000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1497276104000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1497276104000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"90035272fa31a3f65b3c0e2cb8a633876ef457dc","modified":1497276104000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1497276104000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1497276104000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1497276104000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1497276104000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1497276104000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1497276104000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1497276104000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1497276104000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1497276104000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1497276104000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1497276104000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1497276104000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1497276104000},{"_id":"source/images/plan/1.png","hash":"9d3293ea31e3836b89af95bb97f49f4cbd73d263","modified":1497275605000},{"_id":"source/images/plan/6.png","hash":"66498494987b306e5e4789f360171a6295015839","modified":1497275605000},{"_id":"source/images/plan/5.png","hash":"94692f8f1aa6398bedf1623ca24db3eec6c5471b","modified":1497275605000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1497276104000},{"_id":"themes/next/.git/refs/heads/master","hash":"5adf12fc29bb4176af9fd5ef350a9238dd08497d","modified":1497276104000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1497276104000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1497276104000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1497276104000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1497276104000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1497276104000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1497276104000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1497276104000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1497276104000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1497276104000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1497276104000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"394d008e5e94575280407ad8a1607a028026cbc3","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"3358d11b9a26185a2d36c96049e4340e701646e4","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"92dc60821307fc9769bea9b2d60adaeb798342af","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1497276104000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/gentie.swig","hash":"03592d1d731592103a41ebb87437fe4b0a4c78ca","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"abb92620197a16ed2c0775edf18a0f044a82256e","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"1d0d01aaeb7bcde3671263d736718f8837c20182","modified":1497276104000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"af9dd8a4aed7d06cf47b363eebff48850888566c","modified":1497276104000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1497276104000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"1f349aa30dd1f7022f7d07a1f085eea5ace3f26d","modified":1497276104000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1497276104000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1497276104000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"715d5b40dc52f319fe4bff0325beb874774d9bd9","modified":1497276104000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"78a83c38f69a8747bb74e420e6c9eeef1ea76525","modified":1497276104000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1497276104000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"06f432f328a5b8a9ef0dbd5301b002aba600b4ce","modified":1497276104000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"d6a793bcada68d4b6c58392546bc48a482e4a7d3","modified":1497276104000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1497276104000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1497276104000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1497276104000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"aab7be0a6e2724b3faa9338db93c19556c559625","modified":1497276104000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1497276104000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1497276104000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1497276104000},{"_id":"themes/next/source/js/src/post-details.js","hash":"af7a417dd1cb02465a7b98211653e7c6192e6d55","modified":1497276104000},{"_id":"themes/next/source/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1497276104000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1497276104000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1497276104000},{"_id":"themes/next/source/js/src/utils.js","hash":"b2ea56de27fddc6d9118051da384f781cd93951d","modified":1497276104000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1497276104000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1497276104000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"3587602ad777b031628bb5944864d1a4fcfea4ac","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1497276104000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1497276104000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1497276104000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1497276104000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1497276104000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1497276104000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1497276104000},{"_id":"source/images/plan/3.png","hash":"01057a0a31d8b9512cc666b282fb876b3e9161ca","modified":1497275605000},{"_id":"source/images/plan/2.png","hash":"490e4354ec96efcf5fc68cfdc88466ad81f4bff1","modified":1497275605000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1497276104000},{"_id":"source/images/plan/8.png","hash":"c7fff33e7c61eed7001e14636f1481f06ae29bed","modified":1497275605000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"9b691ee9ccaeea7181402f08af2a5acf4107ac73","modified":1497276104000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1497276104000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1497276104000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"59ad08bcc6fe9793594869ac2b4c525021453e78","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ef089a407c90e58eca10c49bc47ec978f96e03ba","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1497276104000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1497276104000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"7804e31c44717c9a9ddf0f8482b9b9c1a0f74538","modified":1497276104000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1497276104000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1497276104000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"013619c472c7e4b08311c464fcbe9fcf5edde603","modified":1497276104000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fda14bc35be2e1b332809b55b3d07155a833dbf4","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"e3e23751d4ad24e8714b425d768cf68e37de7ded","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1497276104000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1497276104000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1497276104000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1497276104000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1497276104000},{"_id":"source/images/plan/4.png","hash":"ff7f8fe3464c10509a233021c97babbe0f554f87","modified":1497275605000},{"_id":"source/images/plan/7.png","hash":"e42263fb161e67c09bcf19ad9170bb09a2c88d3c","modified":1497275605000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"d9c0b3dc9158e717fde36f554709e6c3a22b5f85","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"38e48f275ad00daa9dcdcb8d9b44e576acda4707","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1497276104000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"9b691ee9ccaeea7181402f08af2a5acf4107ac73","modified":1497276104000},{"_id":"themes/next/.git/objects/pack/pack-8401d00879023bb208b26da4d29e292c81cf364f.idx","hash":"16550282d4e212b032a2e0a6f68beffdd741be94","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"7778920dd105fa4de3a7ab206eeba30b1a7bac45","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"88c7d75646b66b168213190ee4cd874609afd5e3","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"ed88c8b51d0517759c777e71a6bfbe2907bcd994","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"e792c8dc41561c96d128e9b421187f1c3dc978a0","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"963105a531403d7aad6d9e5e23e3bfabb8ec065a","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"08a500b2984f109b751f3697ca33172d1340591a","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post-wordcount.styl","hash":"4fda5d38c6c8d910e3bf5c74a48a8d4a3f3dc73d","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"468bc734f47209096588ef1a8e55e60a3b12aa63","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"2e7ec9aaa3293941106b1bdd09055246aa3c3dc6","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"5f6ea57aabfa30a437059bf8352f1ad829dbd4ff","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a2ec22ef4a6817bbb2abe8660fcd99fe4ca0cc5e","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"234facd038f144bd0fe09a31ed1357c5d74c517f","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"dfc86d37f5b580977d82af6ef835082d09a0c499","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"dd310c2d999185e881db007360176ee2f811df10","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/gentie.styl","hash":"586a3ec0f1015e7207cd6a2474362e068c341744","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1497276104000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"bb3be8374c31c372ed0995bd8030d2b920d581de","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1497276104000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1497276104000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1497276104000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1497276104000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1497276104000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1497276104000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1497276104000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1497276104000},{"_id":"themes/next/.git/objects/pack/pack-8401d00879023bb208b26da4d29e292c81cf364f.pack","hash":"70ab6489271d52c1b70c1bfa8bdb3b41fb693445","modified":1497276104000},{"_id":"source/_posts/2021/go-dockerfile.md","hash":"2db7f0a4b7f9aaa588aab9705088dd2564051c91","modified":1632709722082},{"_id":"public/404.html","hash":"0a3fde718caa247ad8a7d0890043460fdd5df75e","modified":1632709744728},{"_id":"public/about/index.html","hash":"4a26d41136c81656f2b6686bf863e0ed1f021281","modified":1632709744728},{"_id":"public/tags/index.html","hash":"2fd385cbf17c4fd64d3161793322a8bb881c2f27","modified":1632709744728},{"_id":"public/schedule/index.html","hash":"27b915f9d187da5148d8235df758e763d4705140","modified":1632709744728},{"_id":"public/categories/index.html","hash":"87ec1f1dacef0e6aafbe9866073bb1b147129de1","modified":1632709744728},{"_id":"public/2017/01/25/redis-snapshots-bug/index.html","hash":"50a4a299fe8d16dd2d07eac2aab65571d8889b46","modified":1632709744729},{"_id":"public/2015/06/22/critical-thinking/index.html","hash":"0f2e12e26ccfb827422a421be6046015ca276e2d","modified":1632709744729},{"_id":"public/2014/08/08/learn-if-alive/index.html","hash":"01daac9fd39428cd19e74a9e8a6df00815bda4a5","modified":1632709744729},{"_id":"public/categories//index.html","hash":"05bb1d2210dd4cc31e5f26d086709ce196f79cea","modified":1632709744729},{"_id":"public/tags//index.html","hash":"c3bcfffebc5c06fe1048b5cb140667af4992fe30","modified":1632709744729},{"_id":"public/tags/git/index.html","hash":"916f5449ee528c79af39e141cc9b07f62fc26ad9","modified":1632709744729},{"_id":"public/tags/hexo/index.html","hash":"4569ed5265555a9f2c35e2fc500ef926e3170a8c","modified":1632709744729},{"_id":"public/tags/next/index.html","hash":"022bdacfb17e3d1a924b553a9c43d4435116fe4d","modified":1632709744729},{"_id":"public/tags/learn/index.html","hash":"dd17d2652bb7dc42068249a40c5e72152e4fbe64","modified":1632709744729},{"_id":"public/tags/english/index.html","hash":"ad79156e7505255ecab8f465f20c5a8b7e6aea8e","modified":1632709744729},{"_id":"public/tags/design-pattern/index.html","hash":"09efd4765bcc62f9537333bd6bd4923d64b28efc","modified":1632709744729},{"_id":"public/tags/mysql/index.html","hash":"fd8bef6a6e6ca335cab6cbfdd96b34ac3202df65","modified":1632709744729},{"_id":"public/tags//index.html","hash":"16a10f62f4eee8fa6498511803434edb09bd918e","modified":1632709744729},{"_id":"public/tags/work/index.html","hash":"f61d064f8142068820eca72e5557cb48bfba0021","modified":1632709744729},{"_id":"public/tags/tools/index.html","hash":"8ab8f7e82a0c026f7dc6a33b6322ed4b3a96e00a","modified":1632709744729},{"_id":"public/tags//index.html","hash":"64040bcb7dcb5b375ca3f30664592acb4cd1cd76","modified":1632709744730},{"_id":"public/tags//index.html","hash":"8df5485a84014a75f2bd669203a32c8fdf21e6e8","modified":1632709744730},{"_id":"public/tags/db/index.html","hash":"77b338e091e9b9766cc0d90a3dedb5d4f0b0fe10","modified":1632709744730},{"_id":"public/tags//index.html","hash":"8a59107063e34c5adb71c44d79061865e115284c","modified":1632709744730},{"_id":"public/tags//index.html","hash":"2a34b8490b972c73ab585fec5f2fd6a3cc692f60","modified":1632709744730},{"_id":"public/tags/js/index.html","hash":"46c2f4fb23f46b0894e2442cd3b947fcf8bbf014","modified":1632709744730},{"_id":"public/tags/php/index.html","hash":"790df1b3e848ad28dc10fd57b5157d7fd55a7d87","modified":1632709744730},{"_id":"public/tags//index.html","hash":"ed76fa838499a514a24538b448c8ab58cf20c86a","modified":1632709744732},{"_id":"public/tags/Go/index.html","hash":"a9bb2012444663e463b2fa85895703e1581627bd","modified":1632709744732},{"_id":"public/tags/google/index.html","hash":"be3bbda3b6a5f1f44a849a97535a4b4c750b9ccf","modified":1632709744732},{"_id":"public/tags/yaf/index.html","hash":"e2746308bfee43c46973f599884516789dfda3e7","modified":1632709744733},{"_id":"public/tags/rewrite/index.html","hash":"61edc6085dcd23a295eea3c917e69d02a6ad6cbd","modified":1632709744733},{"_id":"public/archives/page/7/index.html","hash":"20c3b69bc532f3a52ada3c2c17841a5f5dc72e3b","modified":1632709744733},{"_id":"public/archives/2014/08/index.html","hash":"c54a8502e1d5d5a3379353af5b1e16f4cdfc6b6e","modified":1632709744733},{"_id":"public/archives/2014/11/index.html","hash":"7cae0082ff7347a590a88f55ed3e68ceed702ccf","modified":1632709744733},{"_id":"public/archives/2014/12/index.html","hash":"e488d511a905b45b9e89842cac949fe027377f47","modified":1632709744733},{"_id":"public/archives/2014/09/index.html","hash":"1f8386fa83537364c043eeb0817a8d6fbeac200e","modified":1632709744733},{"_id":"public/archives/2015/page/2/index.html","hash":"b2e6b5306bf9f75ce37142eec1cbc39df2e678bd","modified":1632709744733},{"_id":"public/archives/2015/03/index.html","hash":"513d9a91692ed2a77457c5d17c32ae3c7372039c","modified":1632709744734},{"_id":"public/archives/2015/06/index.html","hash":"2b74f0831913c92b404c49632eafe8734eeac015","modified":1632709744734},{"_id":"public/archives/2015/07/index.html","hash":"683957b0e271e2e11988d3168b9699884d720da4","modified":1632709744734},{"_id":"public/archives/2015/09/index.html","hash":"a9585da7cc68336d7525286aca7bc4da24f4cf0c","modified":1632709744734},{"_id":"public/archives/2015/10/index.html","hash":"114eff424338873c964eaf35b9d3e8e66500e4ce","modified":1632709744734},{"_id":"public/archives/2015/11/index.html","hash":"a33a020f4df25c1184884869f0593d020ea1d86e","modified":1632709744734},{"_id":"public/archives/2015/12/index.html","hash":"09a148691f648b1ac3459e2b25057cab7b670cee","modified":1632709744734},{"_id":"public/archives/2016/page/3/index.html","hash":"c6800767dc5dc2b3c40b3be3263aa8bd6a29581c","modified":1632709744734},{"_id":"public/archives/2016/01/index.html","hash":"87fe83ea00cc0296b9ecbaf10f84c40223f9074a","modified":1632709744734},{"_id":"public/archives/2016/06/index.html","hash":"2f6e53c232b9164a10e4bde7802afa8fa7dc7a81","modified":1632709744734},{"_id":"public/archives/2016/07/index.html","hash":"0a0e4ff9d36360afbc516e6687147d314fae6395","modified":1632709744734},{"_id":"public/archives/2016/08/index.html","hash":"f03d3582a55c12dc006839ec4a3f577ccde86997","modified":1632709744734},{"_id":"public/archives/2016/10/index.html","hash":"cad0ab494dd9a1971180d435b44636e005681774","modified":1632709744734},{"_id":"public/archives/2016/11/index.html","hash":"21da235e2fd8adb2c482e75f09678511afe2ca03","modified":1632709744734},{"_id":"public/archives/2016/12/index.html","hash":"5688b2bada64e4f40a098607e56f40fea2263e75","modified":1632709744734},{"_id":"public/archives/2017/01/index.html","hash":"4d36e276f4030fc282d7b44e866c0e88db7d78e9","modified":1632709744735},{"_id":"public/archives/2017/03/index.html","hash":"53442d0fc2a1464c824498ae4bb998f5a7f4e8b9","modified":1632709744735},{"_id":"public/archives/2017/07/index.html","hash":"f333b7f150adf07846a317dc1ba72bc39a4600e4","modified":1632709744735},{"_id":"public/archives/2017/09/index.html","hash":"46866999c4a055fa3485cdfb2dfadef049960346","modified":1632709744735},{"_id":"public/archives/2019/index.html","hash":"a0c96942cbff24aba6bf000305a146442e60151b","modified":1632709744735},{"_id":"public/archives/2019/01/index.html","hash":"e76b1044a518bf3e9fed68b34919e55878c613e8","modified":1632709744735},{"_id":"public/archives/2020/index.html","hash":"2661eea7e3c0b2419d9d7d71e25877be333f5688","modified":1632709744735},{"_id":"public/archives/2020/05/index.html","hash":"05ef63b997ebd8be77e2b60ccae3c76617c9dfbe","modified":1632709744735},{"_id":"public/archives/2021/index.html","hash":"cb2ba18a8fed8b36fe2f44bc6117c91403d536dc","modified":1632709744735},{"_id":"public/archives/2021/09/index.html","hash":"00a139cf11167f0a633fd5e0328dcaf454515de9","modified":1632709744735},{"_id":"public/2021/09/27/go-dockerfile/index.html","hash":"4c566df0179c87e4bf538ec8aea5f35c260c8234","modified":1632709744735},{"_id":"public/2020/05/10/yaf/index.html","hash":"dd8d02878762112a1abb069ee18f51e9e77a6a4e","modified":1632709744735},{"_id":"public/2020/05/02/go-concurrency/index.html","hash":"34cda4be7febe2476838dab59daf7352291ec4ca","modified":1632709744735},{"_id":"public/2020/05/02/go-cheatsheet/index.html","hash":"8c0f5b8a8cee89ca4e0b1d1d68c84e2815b63746","modified":1632709744735},{"_id":"public/2020/05/02/mysql57-json/index.html","hash":"21bfd853dacfa3258c0b9c58e85adeaae054b104","modified":1632709744735},{"_id":"public/2020/05/02/google-use-skill/index.html","hash":"c45f1f747c4eea6eda614018110af312f8ec3787","modified":1632709744736},{"_id":"public/2020/05/02/go-install/index.html","hash":"be2f9e35bce8a47c0e7c0bd3e3bcdc085be95741","modified":1632709744736},{"_id":"public/2019/01/30/elasticSearch/index.html","hash":"acec776a8b69f61e9478f17d065bc4c5c0643348","modified":1632709744736},{"_id":"public/2017/09/02/daohuo/index.html","hash":"d84c98e8348328271a76c57bf4fbbf947727d962","modified":1632709744736},{"_id":"public/2017/07/31/docker-tutorial/index.html","hash":"e8a75d18b8fd5f73c5b8fdbb19f07245a3563b5d","modified":1632709744736},{"_id":"public/2017/07/11/one2more-db-separation/index.html","hash":"75f9e8295a41386d50ae712e817eac6ad3b741d8","modified":1632709744736},{"_id":"public/2017/07/11/JavaScript-Standard-Style/index.html","hash":"0051a472a617ef52f15328ce23ea688a53de7208","modified":1632709744737},{"_id":"public/2017/03/15/login-more/index.html","hash":"ec0d66f81e52b5ce1b303889ebc18b7d6983f9d2","modified":1632709744737},{"_id":"public/2017/01/25/awk/index.html","hash":"ae96083a9dc2c100044c4dc9e0281f8357489138","modified":1632709744738},{"_id":"public/2017/01/25/js-now-exec-func/index.html","hash":"458afabe8cdc690b31315d83e631233301d155d4","modified":1632709744738},{"_id":"public/2017/01/25/mrg_myisam/index.html","hash":"572f2da89dbb8d138b978bdf2781974315793bef","modified":1632709744738},{"_id":"public/2017/01/25/yii-girdview/index.html","hash":"b466d23344fcb552298d709d756fb64919f4358e","modified":1632709744738},{"_id":"public/2016/12/23/mysql-bit/index.html","hash":"78b51fcc6fdd52a0c88d1e73731cb6b46a894ac7","modified":1632709744738},{"_id":"public/2016/12/01/seckill-sys/index.html","hash":"8485336a1571f26b62649c4d21cb11088c3ca035","modified":1632709744738},{"_id":"public/2016/11/30/flex/index.html","hash":"065fb74bed7a49d43ce1b14c069c38d4f3e297b9","modified":1632709744738},{"_id":"public/2016/11/23/restore-db/index.html","hash":"b79c4d90766b9ca16a02ee2675cf4eff72139667","modified":1632709744739},{"_id":"public/2016/11/23/yaml/index.html","hash":"fa217984a5518694200e6bb49693c6306748dfc5","modified":1632709744739},{"_id":"public/2016/11/23/npm-script/index.html","hash":"28194ca042ab61cc9eb00fc808f2f723887b5a37","modified":1632709744739},{"_id":"public/2016/11/10/vagrant/index.html","hash":"72afa37219b649766a9cc3834c9de7912c08a422","modified":1632709744739},{"_id":"public/2016/11/09/shell/index.html","hash":"0314c8cedc78a3da4a653b93eafbea7a2772b360","modified":1632709744739},{"_id":"public/2016/11/02/MangoDB-cheatsheet/index.html","hash":"d64059919128f18470681a6c030b5b9307cb3992","modified":1632709744739},{"_id":"public/2016/11/02/mysql-cheatsheet/index.html","hash":"7f08f254ef183f8b21f4e446b0eea1bc496ad1a3","modified":1632709744739},{"_id":"public/2016/10/16/big-data-time/index.html","hash":"e06c07541585608bc8f19e5c0db8b1850cb8bde1","modified":1632709744739},{"_id":"public/2016/10/12/influence/index.html","hash":"967ecb97989faedca7245ccb17082c659b0ccb30","modified":1632709744739},{"_id":"public/2016/08/19/php-faker/index.html","hash":"1b5e1544f3d1276626549fa55de233274226acd1","modified":1632709744740},{"_id":"public/2016/08/11/Inverted-index/index.html","hash":"fdcbf2cd00b2ed4e7ea65b33bb46c597714229df","modified":1632709744740},{"_id":"public/2016/07/30/beyond-feeling/index.html","hash":"32f9e745828f3bb2041c62fe39678165ebfde309","modified":1632709744740},{"_id":"public/2016/07/22/plan/index.html","hash":"81b117e3f30632c0380953febe0c0c3539966082","modified":1632709744740},{"_id":"public/2016/07/15/gulp-tutorial/index.html","hash":"63548ff96be161efc1fb37579bc18e77c850df30","modified":1632709744741},{"_id":"public/2016/06/23/growth-hack/index.html","hash":"568b08c382a52a290b77d4b41ff998122e4dfca5","modified":1632709744741},{"_id":"public/2016/06/20/running/index.html","hash":"8fe748491f3260a67ffe9de93dc751e57192c942","modified":1632709744741},{"_id":"public/2016/06/15/principles/index.html","hash":"3e3a0c99df31a9520584cfe6cec468513e3b4ef2","modified":1632709744741},{"_id":"public/2016/01/28/design-mysql/index.html","hash":"6e3060193944505fefbd80b8802aaf45610f4f72","modified":1632709744741},{"_id":"public/2016/01/28/ganji-design-msyql-rule/index.html","hash":"737864bff29fd4bdacbc82f497137f17f8dac696","modified":1632709744741},{"_id":"public/2015/12/04/gen-id-way/index.html","hash":"789f7e9207bc609d5d8272fa5d9f7d1f5acee693","modified":1632709744741},{"_id":"public/2015/11/14/nodejs/index.html","hash":"545a2e9efb20f598b8d5d37e52e162a69b229834","modified":1632709744741},{"_id":"public/2015/10/15/how-to-happy-work/index.html","hash":"bbf3c3c432d5cba158301eb376afffcacc5afef3","modified":1632709744741},{"_id":"public/2015/09/29/command-pattern/index.html","hash":"c6aadcd50acd78e0abd0864da660508b0565500b","modified":1632709744741},{"_id":"public/2015/09/29/proxy-pattern/index.html","hash":"0ba9d8ac5db8fbb88bb28983f9159f80c0b2a598","modified":1632709744742},{"_id":"public/2015/09/28/dependency-injection-pattern/index.html","hash":"a48d5f7c8f5c501863c5e431f08f917db85e5c22","modified":1632709744742},{"_id":"public/2015/09/27/factory-pattern/index.html","hash":"cbf78e37a82753ad82de7c6cedee79fc22ab021d","modified":1632709744742},{"_id":"public/2015/09/23/singleton-pattern/index.html","hash":"fd9ef31cc17862c92a0660206a7dca645323dfae","modified":1632709744742},{"_id":"public/2015/09/22/facade-pattern/index.html","hash":"3bfa8278834e0a74151c25210efe3ce305af575a","modified":1632709744742},{"_id":"public/2015/09/22/observer-pattern/index.html","hash":"c0f8a85eda85b5b421eb203b2131c04badbb0961","modified":1632709744742},{"_id":"public/2015/07/29/mac-web/index.html","hash":"a29491c799e9dd60937abcf1ea76d384e5bdd6c4","modified":1632709744742},{"_id":"public/2015/06/22/grown-up/index.html","hash":"931853f7d816f66f95e44ce23a887c98aac71462","modified":1632709744742},{"_id":"public/2015/06/21/hui-lai-shi/index.html","hash":"b0f3ff91def2ba6126abfa26a9cd8d50aafda7d9","modified":1632709744742},{"_id":"public/2015/06/20/yc-create-note/index.html","hash":"49aef78616da58e63e85ada26e3ad7ec26df25b1","modified":1632709744742},{"_id":"public/2015/03/15/markdown/index.html","hash":"5779ecbb7fb2d4bd4c34b42d2965a99d1b3cc6a8","modified":1632709744742},{"_id":"public/2014/12/22/linux-aliases/index.html","hash":"d3c95d55649d2fcbb33ce6898de8bb771e06bf6b","modified":1632709744743},{"_id":"public/2014/12/15/learn-english/index.html","hash":"88f508e875eb238f6289094059036ca180d76ba9","modified":1632709744743},{"_id":"public/2014/12/14/fast-learning-way/index.html","hash":"ed3692ca9e4cac755195ca58b4246d6e74a24c76","modified":1632709744743},{"_id":"public/2014/11/23/https/index.html","hash":"6438feb192268395cf55bb83d6e3e4fc312a88bf","modified":1632709744743},{"_id":"public/2014/11/23/http/index.html","hash":"57666c8d94de54f812cdaac85987833c11e8b14b","modified":1632709744743},{"_id":"public/2014/09/02/git-cheatsheet/index.html","hash":"fdfc2d8e04660ef5e9cd915de8dbb625a14c0cb3","modified":1632709744743},{"_id":"public/2014/08/29/zh-cn-to-pinyin/index.html","hash":"98871432182cbfae53dba590569d64e09e4f84c0","modified":1632709744743},{"_id":"public/2014/08/27/atom-tutorial/index.html","hash":"fe78ef24342abb886b60be1ca63c4bb53de2b8aa","modified":1632709744743},{"_id":"public/2014/08/17/hexo-tutorial/index.html","hash":"612f6b50fb9be513f0011a23e68c41efe1f06dbd","modified":1632709744743},{"_id":"public/index.html","hash":"bdece04e5f5ad7bb8b0b696d0e731eb19dcc9b1f","modified":1632709744743},{"_id":"public/page/2/index.html","hash":"ea4ea15c81c7355ae5b59631bd6563ac93c86495","modified":1632709744743},{"_id":"public/page/3/index.html","hash":"d4d6c8e873a5cb1a26c3f7f6da4e0e1916f854f9","modified":1632709744743},{"_id":"public/page/4/index.html","hash":"5f094492717b68b5dd2dbcffaf7c513ced462d76","modified":1632709744744},{"_id":"public/page/5/index.html","hash":"54498547d69f74fe8197b00b565fa24f9020f283","modified":1632709744744},{"_id":"public/page/6/index.html","hash":"b935565b36d7d48334110cb1383f2b1841c3b19b","modified":1632709744744},{"_id":"public/page/7/index.html","hash":"ad09414b8ce2e4b49e787d171a5c9418bf266734","modified":1632709744744},{"_id":"public/archives/index.html","hash":"c24d6ec345b113e00b52724d371f9ba84efd22da","modified":1632709744744},{"_id":"public/archives/page/2/index.html","hash":"264a47ff20303937edefe31707467734d4992c5f","modified":1632709744744},{"_id":"public/archives/page/3/index.html","hash":"d78b939dbfbc048c8daee546af239506dd2b0f6d","modified":1632709744744},{"_id":"public/archives/page/4/index.html","hash":"c769f7abab68681a6d490c2e671a32af04859555","modified":1632709744744},{"_id":"public/archives/page/5/index.html","hash":"2b93e1182f2eb22520ab2f13a35ac74b9c568880","modified":1632709744744},{"_id":"public/archives/page/6/index.html","hash":"2df4749516459683f08ca17ca4df012e68307304","modified":1632709744744},{"_id":"public/archives/2014/index.html","hash":"f42faecbc771769ffb055486a50dbcd99e7ae11b","modified":1632709744745},{"_id":"public/2019/01/30/distributed-transaction/index.html","hash":"6d7ca12b9e737c016eb2c6e04b3710859da83f57","modified":1632709744745},{"_id":"public/archives/2015/index.html","hash":"a3e1a188d041a3f39ddddce62ad9ef9eeb4d945d","modified":1632709744745},{"_id":"public/archives/2016/index.html","hash":"7ae9d6c023d27f5562988a0e339dbd82242b7c0f","modified":1632709744745},{"_id":"public/archives/2016/page/2/index.html","hash":"ea496755a75318c60e6ef47745c3bbcbc51b3b26","modified":1632709744745},{"_id":"public/archives/2017/index.html","hash":"b8ae2177085bc1d2d44f707d7ac6cf0f66a3fe7d","modified":1632709744745},{"_id":"public/favicon.ico","hash":"fa56159e4ee431ee701cdd1f5ff6528740d47d6e","modified":1632709744772},{"_id":"public/images/avatar.jpg","hash":"983cc8f79020c07e6e58039e67e6fd495ea882e5","modified":1632709744772},{"_id":"public/images/replica.jpg","hash":"bbbcab06acdb0f8d8ed58871c91ea6d9ade3ac2f","modified":1632709744772},{"_id":"public/images/mongo-cluster.jpg","hash":"d87f64a507292c29d243aa8cf3e6691c7aafb126","modified":1632709744772},{"_id":"public/images/wechat.jpg","hash":"5014693062839204352b9d81a939033d791a7a5b","modified":1632709744773},{"_id":"public/images/restore-db/delay_bak.png","hash":"6bb3695d19bfeb83bfcfacd21e4b61a0529cc10c","modified":1632709744773},{"_id":"public/images/wechat-reward-image.png","hash":"55e55cc3d5f7b4f5928fa19c82f6ba9efb6571fa","modified":1632709744773},{"_id":"public/images/restore-db/all_bak.png","hash":"1193a8ad9cf0b99027ef88553696a67d0f4fffc7","modified":1632709744773},{"_id":"public/images/restore-db/inc_bak.png","hash":"f8cf69db576931c76a8fcb1e51cb4da9cfa374c5","modified":1632709744773},{"_id":"public/images/restore-db/master-master.png","hash":"deacf1a4a31ce34c160674c27ade212e93ba744e","modified":1632709744773},{"_id":"public/images/restore-db/master-slave.png","hash":"7ed438af6bcad83ee7fd967dc6323a0aaa858944","modified":1632709744774},{"_id":"public/images/technology/gen-id3.png","hash":"4eeeef8f5680377ff9d954c3e8744666ba02bc89","modified":1632709744774},{"_id":"public/images/technology/gen-id.png","hash":"679ecaeeb8a6aeca9311baeeb5434c87444106a2","modified":1632709744774},{"_id":"public/images/technology/gen-id2.png","hash":"33c002da5cb8c27fd7c5fb34f947cf521870688d","modified":1632709744774},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1632709744774},{"_id":"public/images/technology/master-slave.png","hash":"ce1a8e33ab7c07c3416ea2f12d4ddfb8a2ea0f8a","modified":1632709744774},{"_id":"public/images/algolia_logo.svg","hash":"90035272fa31a3f65b3c0e2cb8a633876ef457dc","modified":1632709744774},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1632709744774},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1632709744774},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1632709744774},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1632709744774},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1632709744774},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1632709744774},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1632709744774},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1632709744775},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1632709744775},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1632709744775},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1632709744775},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1632709744775},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1632709744775},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1632709744776},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1632709744776},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1632709744776},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1632709744776},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1632709744776},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1632709744776},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1632709744776},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1632709744776},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1632709744776},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1632709744776},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1632709744776},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1632709744777},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1632709744777},{"_id":"public/images/alipay-reward-image.jpg","hash":"797eedec4f7d9ede1e95140d01f8085d66cedc84","modified":1632709745497},{"_id":"public/images/technology/snowflake-64bit.jpg","hash":"5c7fca2061e94dba847dfc8072555599c76b1bc7","modified":1632709745501},{"_id":"public/images/plan/1.png","hash":"9d3293ea31e3836b89af95bb97f49f4cbd73d263","modified":1632709745514},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1632709745515},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1632709745515},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1632709745533},{"_id":"public/js/src/bootstrap.js","hash":"aab7be0a6e2724b3faa9338db93c19556c559625","modified":1632709745533},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1632709745533},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1632709745533},{"_id":"public/js/src/post-details.js","hash":"af7a417dd1cb02465a7b98211653e7c6192e6d55","modified":1632709745533},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1632709745533},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1632709745533},{"_id":"public/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1632709745533},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1632709745533},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1632709745533},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1632709745533},{"_id":"public/js/src/utils.js","hash":"b2ea56de27fddc6d9118051da384f781cd93951d","modified":1632709745533},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1632709745533},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1632709745533},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"3587602ad777b031628bb5944864d1a4fcfea4ac","modified":1632709745534},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1632709745534},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1632709745534},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1632709745534},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1632709745534},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1632709745534},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1632709745534},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1632709745534},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1632709745535},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1632709745535},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1632709745535},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1632709745535},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1632709745535},{"_id":"public/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1632709745535},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1632709745535},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1632709745535},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1632709745535},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1632709745535},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1632709745535},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1632709745535},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1632709745535},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1632709745536},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1632709745536},{"_id":"public/css/main.css","hash":"8b708875a666acfb6246852edfe95e2c509bd09b","modified":1632709745536},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1632709745536},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1632709745536},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1632709745536},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1632709745536},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1632709745536},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1632709745536},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1632709745536},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1632709745536},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1632709745536},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1632709745537},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1632709745537},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1632709745537},{"_id":"public/lib/Han/dist/han.min.css","hash":"d9c0b3dc9158e717fde36f554709e6c3a22b5f85","modified":1632709745537},{"_id":"public/lib/Han/dist/han.css","hash":"38e48f275ad00daa9dcdcb8d9b44e576acda4707","modified":1632709745537},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1632709745538},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1632709745538},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1632709745538},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1632709745538},{"_id":"public/images/figure05.png","hash":"e73bee42983ea05c9176c99e55f69ac0350455a8","modified":1632709745539},{"_id":"public/images/plan/6.png","hash":"66498494987b306e5e4789f360171a6295015839","modified":1632709745539},{"_id":"public/images/plan/2.png","hash":"490e4354ec96efcf5fc68cfdc88466ad81f4bff1","modified":1632709745539},{"_id":"public/images/plan/5.png","hash":"94692f8f1aa6398bedf1623ca24db3eec6c5471b","modified":1632709745539},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1632709745539},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1632709745539},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1632709745540},{"_id":"public/images/plan/3.png","hash":"01057a0a31d8b9512cc666b282fb876b3e9161ca","modified":1632709745644},{"_id":"public/images/plan/8.png","hash":"c7fff33e7c61eed7001e14636f1481f06ae29bed","modified":1632709745644},{"_id":"public/images/plan/4.png","hash":"ff7f8fe3464c10509a233021c97babbe0f554f87","modified":1632709745644},{"_id":"public/images/plan/7.png","hash":"e42263fb161e67c09bcf19ad9170bb09a2c88d3c","modified":1632709745670},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1632709745912}],"Category":[{"name":"","_id":"cku21387h0005hpwfkxry8voe"}],"Data":[],"Page":[{"_content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\"\n        charset=\"utf-8\" homePageUrl=\"your site url \"\n        homePageName=\"\">\n</script>\n\n</body>\n</html>\n","source":"404.html","raw":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\"\n        charset=\"utf-8\" homePageUrl=\"your site url \"\n        homePageName=\"\">\n</script>\n\n</body>\n</html>\n","date":"2017-06-12T13:53:25.000Z","updated":"2017-06-12T13:53:25.000Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cku21384d0000hpwfp1f16jjq","content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"\">\n</script>\n\n</body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"\">\n</script>\n\n</body>\n</html>\n"},{"title":"ABOUT","date":"2016-06-14T11:28:53.000Z","_content":"<!-- ## ABOUT ME -->\n\n## CONTACT\nEMAIL<a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a>\n<!-- ![](/images/wechat.jpg) -->\nWeChat ID <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\" />\n","source":"about/index.md","raw":"---\ntitle: ABOUT\ndate: 2016-06-14 19:28:53\n---\n<!-- ## ABOUT ME -->\n\n## CONTACT\nEMAIL<a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a>\n<!-- ![](/images/wechat.jpg) -->\nWeChat ID <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\" />\n","updated":"2019-06-05T15:19:17.721Z","path":"about/index.html","comments":1,"layout":"page","_id":"cku21387c0002hpwfo6o3961s","content":"<!-- ## ABOUT ME -->\n<h2 id=\"CONTACT\"><a href=\"#CONTACT\" class=\"headerlink\" title=\"CONTACT\"></a>CONTACT</h2><p>EMAIL<a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a><br><!-- ![](/images/wechat.jpg) --><br>WeChat ID <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\"></p>\n","site":{"data":{}},"excerpt":"","more":"<!-- ## ABOUT ME -->\n<h2 id=\"CONTACT\"><a href=\"#CONTACT\" class=\"headerlink\" title=\"CONTACT\"></a>CONTACT</h2><p>EMAIL<a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a><br><!-- ![](/images/wechat.jpg) --><br>WeChat ID <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\"></p>\n"},{"title":"categories","date":"2016-06-14T11:28:21.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2016-06-14 19:28:21\ntype: \"categories\"\n---\n","updated":"2017-06-12T13:53:25.000Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cku21387f0004hpwf7fj5mxmf","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2016-06-14T11:26:40.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-06-14 19:26:40\ntype: \"tags\"\n---\n","updated":"2017-06-12T13:53:25.000Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cku21388t000bhpwf54gimurm","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"schedule","date":"2016-11-02T09:01:59.000Z","updated":"2016-11-02T09:01:59.000Z","type":"schedule","_content":"","source":"schedule/index.md","raw":"---\ntitle: schedule\ndate: 2016-11-02 17:01:59\nupdated: 2016-11-02 17:01:59\ntype: \"schedule\"\n---\n","path":"schedule/index.html","comments":1,"layout":"page","_id":"cku21388u000chpwf2m24ml5z","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"","date":"2016-06-14T16:40:26.000Z","_content":"","source":"_drafts/xiaoshuoke.md","raw":"---\ntitle: \ndate: 2016-06-15 00:40:26\ntags:\ncategories:\n---\n","slug":"xiaoshuoke","published":0,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138780001hpwfike1w916","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"","date":"2018-11-07T14:04:26.000Z","updated":"2018-11-07T14:04:26.000Z","_content":"\n# \n\n |  \n---|---\n[learnAnything](https://learn-anything.xyz/) | \n\n# ","source":"_drafts/linklist.md","raw":"---\ntitle: \ndate: 2018-11-07 22:04:26\nupdated: 2018-11-07 22:04:26\ntags:\n    - docker \n    - link\ncategories: \n---\n\n# \n\n |  \n---|---\n[learnAnything](https://learn-anything.xyz/) | \n\n# ","slug":"linklist","published":0,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku21387d0003hpwfglr3nwjv","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th> </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://learn-anything.xyz/\" target=\"_blank\" rel=\"noopener\">learnAnything</a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th> </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://learn-anything.xyz/\" target=\"_blank\" rel=\"noopener\">learnAnything</a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1>"},{"title":"atom tutorial","date":"2014-08-27T07:58:41.000Z","updated":"2014-08-27T07:58:41.000Z","_content":"\n## how to use atom\n\n[atom-flight-manual](http://flight-manual.atom.io/using-atom/sections/atom-packages/)\n\n`Command Palette`  `init script` `Fuzy matching`,  s  `Application: Open Your Init Script` ......  `init script` \n<!-- more -->\n```coffeescript\n # move cursor across the ending symbols...\n EndingSymbolRegex = /\\s*[)}>\\]/'\";:=-]/\n atom.commands.add 'atom-text-editor', 'custom:jump-over-symbol': (event) ->\n   editor = atom.workspace.getActiveTextEditor()\n   cursorMoved = false\n   for cursor in editor.getCursors()\n     range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)\n     unless range.isEmpty()\n       cursor.setBufferPosition(range.end)\n       cursorMoved = true\n   event.abortKeyBinding() unless cursorMoved\n```\n\n  `Command Palette` `keymap``Application: Open Your keymap`   ......  Keymap \n\n```\n\"enter\": \"custom:jump-over-symbol\"\n```\n\n Command Palette reload `Window: Reload`,\n\n\n## atom Snippets\n snippets \nsetting->install  snippets  packages\n\n\n```\n// apmatom\napm install atom-yii2 //yii2snippetslaravelphp\n```\natomgithub\n\n[1]: https://atom.io/packages/snippets\n[2]: https://scotch.io/bar-talk/best-of-atom-features-plugins-acting-like-sublime-text\n\n\n\n## atom packages\nGOOGLE \n> favorite atom packages\n> most popular atom packages\n> must have packages for developer\n","source":"_posts/2014/atom-tutorial.md","raw":"---\ntitle: atom tutorial\ndate: 2014-08-27T15:58:41.000Z\nupdated: 2014-08-27T15:58:41.000Z\ntags: null\ncategories: null\n---\n\n## how to use atom\n\n[atom-flight-manual](http://flight-manual.atom.io/using-atom/sections/atom-packages/)\n\n`Command Palette`  `init script` `Fuzy matching`,  s  `Application: Open Your Init Script` ......  `init script` \n<!-- more -->\n```coffeescript\n # move cursor across the ending symbols...\n EndingSymbolRegex = /\\s*[)}>\\]/'\";:=-]/\n atom.commands.add 'atom-text-editor', 'custom:jump-over-symbol': (event) ->\n   editor = atom.workspace.getActiveTextEditor()\n   cursorMoved = false\n   for cursor in editor.getCursors()\n     range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)\n     unless range.isEmpty()\n       cursor.setBufferPosition(range.end)\n       cursorMoved = true\n   event.abortKeyBinding() unless cursorMoved\n```\n\n  `Command Palette` `keymap``Application: Open Your keymap`   ......  Keymap \n\n```\n\"enter\": \"custom:jump-over-symbol\"\n```\n\n Command Palette reload `Window: Reload`,\n\n\n## atom Snippets\n snippets \nsetting->install  snippets  packages\n\n\n```\n// apmatom\napm install atom-yii2 //yii2snippetslaravelphp\n```\natomgithub\n\n[1]: https://atom.io/packages/snippets\n[2]: https://scotch.io/bar-talk/best-of-atom-features-plugins-acting-like-sublime-text\n\n\n\n## atom packages\nGOOGLE \n> favorite atom packages\n> most popular atom packages\n> must have packages for developer\n","slug":"atom-tutorial","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138dq000dhpwfdh9kfeoo","content":"<h2 id=\"how-to-use-atom\"><a href=\"#how-to-use-atom\" class=\"headerlink\" title=\"how to use atom\"></a>how to use atom</h2><p><a href=\"http://flight-manual.atom.io/using-atom/sections/atom-packages/\" target=\"_blank\" rel=\"noopener\">atom-flight-manual</a></p>\n<p><code>Command Palette</code>  <code>init script</code> <code>Fuzy matching</code>,  s  <code>Application: Open Your Init Script</code>   <code>init script</code> <br><a id=\"more\"></a><br><figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># move cursor across the ending symbols...</span></span><br><span class=\"line\">EndingSymbolRegex = <span class=\"regexp\">/\\s*[)&#125;&gt;\\]/</span><span class=\"string\">'\";:=-]/</span></span><br><span class=\"line\"><span class=\"string\">atom.commands.add '</span>atom-text-editor<span class=\"string\">', '</span>custom:jump-over-symbol<span class=\"string\">': (event) -&gt;</span></span><br><span class=\"line\"><span class=\"string\">  editor = atom.workspace.getActiveTextEditor()</span></span><br><span class=\"line\"><span class=\"string\">  cursorMoved = false</span></span><br><span class=\"line\"><span class=\"string\">  for cursor in editor.getCursors()</span></span><br><span class=\"line\"><span class=\"string\">    range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)</span></span><br><span class=\"line\"><span class=\"string\">    unless range.isEmpty()</span></span><br><span class=\"line\"><span class=\"string\">      cursor.setBufferPosition(range.end)</span></span><br><span class=\"line\"><span class=\"string\">      cursorMoved = true</span></span><br><span class=\"line\"><span class=\"string\">  event.abortKeyBinding() unless cursorMoved</span></span><br></pre></td></tr></table></figure></p>\n<p>  <code>Command Palette</code> <code>keymap</code><code>Application: Open Your keymap</code>     Keymap </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;enter&quot;: &quot;custom:jump-over-symbol&quot;</span><br></pre></td></tr></table></figure>\n<p> Command Palette reload <code>Window: Reload</code>,</p>\n<h2 id=\"atom-Snippets\"><a href=\"#atom-Snippets\" class=\"headerlink\" title=\"atom Snippets\"></a>atom Snippets</h2><p> snippets <br>setting-&gt;install  snippets  packages<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// apmatom</span><br><span class=\"line\">apm install atom-yii2 //yii2snippetslaravelphp</span><br></pre></td></tr></table></figure>\n<p>atomgithub</p>\n<h2 id=\"atom-packages\"><a href=\"#atom-packages\" class=\"headerlink\" title=\"atom packages\"></a>atom packages</h2><p>GOOGLE </p>\n<blockquote>\n<p>favorite atom packages<br>most popular atom packages<br>must have packages for developer</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h2 id=\"how-to-use-atom\"><a href=\"#how-to-use-atom\" class=\"headerlink\" title=\"how to use atom\"></a>how to use atom</h2><p><a href=\"http://flight-manual.atom.io/using-atom/sections/atom-packages/\" target=\"_blank\" rel=\"noopener\">atom-flight-manual</a></p>\n<p><code>Command Palette</code>  <code>init script</code> <code>Fuzy matching</code>,  s  <code>Application: Open Your Init Script</code>   <code>init script</code> <br>","more":"<br><figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># move cursor across the ending symbols...</span></span><br><span class=\"line\">EndingSymbolRegex = <span class=\"regexp\">/\\s*[)&#125;&gt;\\]/</span><span class=\"string\">'\";:=-]/</span></span><br><span class=\"line\"><span class=\"string\">atom.commands.add '</span>atom-text-editor<span class=\"string\">', '</span>custom:jump-over-symbol<span class=\"string\">': (event) -&gt;</span></span><br><span class=\"line\"><span class=\"string\">  editor = atom.workspace.getActiveTextEditor()</span></span><br><span class=\"line\"><span class=\"string\">  cursorMoved = false</span></span><br><span class=\"line\"><span class=\"string\">  for cursor in editor.getCursors()</span></span><br><span class=\"line\"><span class=\"string\">    range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)</span></span><br><span class=\"line\"><span class=\"string\">    unless range.isEmpty()</span></span><br><span class=\"line\"><span class=\"string\">      cursor.setBufferPosition(range.end)</span></span><br><span class=\"line\"><span class=\"string\">      cursorMoved = true</span></span><br><span class=\"line\"><span class=\"string\">  event.abortKeyBinding() unless cursorMoved</span></span><br></pre></td></tr></table></figure></p>\n<p>  <code>Command Palette</code> <code>keymap</code><code>Application: Open Your keymap</code>     Keymap </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;enter&quot;: &quot;custom:jump-over-symbol&quot;</span><br></pre></td></tr></table></figure>\n<p> Command Palette reload <code>Window: Reload</code>,</p>\n<h2 id=\"atom-Snippets\"><a href=\"#atom-Snippets\" class=\"headerlink\" title=\"atom Snippets\"></a>atom Snippets</h2><p> snippets <br>setting-&gt;install  snippets  packages<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// apmatom</span><br><span class=\"line\">apm install atom-yii2 //yii2snippetslaravelphp</span><br></pre></td></tr></table></figure>\n<p>atomgithub</p>\n<h2 id=\"atom-packages\"><a href=\"#atom-packages\" class=\"headerlink\" title=\"atom packages\"></a>atom packages</h2><p>GOOGLE </p>\n<blockquote>\n<p>favorite atom packages<br>most popular atom packages<br>must have packages for developer</p>\n</blockquote>"},{"title":"","date":"2014-12-14T15:49:37.000Z","_content":"\n# \n\n## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> 20\n\n <!-- more -->\n\n# 10\n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n8. \n9. \n10. \n\n> [TED](http://www.bilibili.com/video/av1911047/)\n","source":"_posts/2014/fast-learning-way.md","raw":"---\ntitle: \ntags:\n  - \ndate: 2014-12-14T23:49:37.000Z\ncategories: \n---\n\n# \n\n## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> 20\n\n <!-- more -->\n\n# 10\n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n8. \n9. \n10. \n\n> [TED](http://www.bilibili.com/video/av1911047/)\n","slug":"fast-learning-way","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138dt000ehpwfqv4jab4i","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p>20</p>\n</blockquote>\n<p> <a id=\"more\"></a></p>\n<h1 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h1><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p><a href=\"http://www.bilibili.com/video/av1911047/\" target=\"_blank\" rel=\"noopener\">TED</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></blockquote>\n<blockquote>\n<p>20</p>\n</blockquote>\n<p>","more":"</p>\n<h1 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h1><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p><a href=\"http://www.bilibili.com/video/av1911047/\" target=\"_blank\" rel=\"noopener\">TED</a></p>\n</blockquote>"},{"title":"git-cheatsheet","date":"2014-09-02T03:49:51.000Z","updated":"2014-09-02T03:49:51.000Z","_content":"\n![GIT](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png)\n- Workspace\n- Index / Stage\n- Repository\n- Remote\n<!-- more -->\n\n### \n```bash\n# Git\n$ git init\n\n# Git\n$ git init [project-name]\n\n# \n$ git clone [url]\n```\n\n### \nGit.gitconfig\n```bash\n# Git\n$ git config --list\n\n# Git\n$ git config -e [--global]\n\n# \n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n```\n### /\n```bash\n# \n$ git add [file1] [file2] ...\n\n# \n$ git add [dir]\n\n# \n$ git add .\n\n# \n# \n$ git add -p\n\n# \n$ git rm [file1] [file2] ...\n\n# \n$ git rm --cached [file]\n\n# \n$ git mv [file-original] [file-renamed]\n```\n### \n```\n# \n$ git commit -m [message]\n\n# \n$ git commit [file1] [file2] ... -m [message]\n\n# commit\n$ git commit -a\n\n# diff\n$ git commit -v\n\n# commit\n# commit\n$ git commit --amend -m [message]\n\n# commit\n$ git commit --amend [file1] [file2] ...\n```\n\n### \n```\n# \n$ git branch\n\n# \n$ git branch -r\n\n# \n$ git branch -a\n\n# \n$ git branch [branch-name]\n\n# \n$ git checkout -b [branch]\n\n# commit\n$ git branch [branch] [commit]\n\n# \n$ git branch --track [branch] [remote-branch]\n\n# \n$ git checkout [branch-name]\n\n# \n$ git checkout -\n\n# \n$ git branch --set-upstream [branch] [remote-branch]\n\n# \n$ git merge [branch]\n\n# commit\n$ git cherry-pick [commit]\n\n# \n$ git branch -d [branch-name]\n\n# \n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n```\n\n### \n```\n# tag\n$ git tag\n\n# tagcommit\n$ git tag [tag]\n\n# tagcommit\n$ git tag [tag] [commit]\n\n# tag\n$ git tag -d [tag]\n\n# tag\n$ git push origin :refs/tags/[tagName]\n\n# tag\n$ git show [tag]\n\n# tag\n$ git push [remote] [tag]\n\n# tag\n$ git push [remote] --tags\n\n# tag\n$ git checkout -b [branch] [tag]\n```\n### \n\n```\n\t\n# \n$ git status\n\n# \n$ git log\n\n# commitcommit\n$ git log --stat\n\n# \n$ git log -S [keyword]\n\n# commitcommit\n$ git log [tag] HEAD --pretty=format:%s\n\n# commit\"\"\n$ git log [tag] HEAD --grep feature\n\n# \n$ git log --follow [file]\n$ git whatchanged [file]\n\n# diff\n$ git log -p [file]\n\n# 5\n$ git log -5 --pretty --oneline\n\n# \n$ git shortlog -sn\n\n# \n$ git blame [file]\n\n# \n$ git diff\n\n# commit\n$ git diff --cached [file]\n\n# commit\n$ git diff HEAD\n\n# \n$ git diff [first-branch]...[second-branch]\n\n# \n$ git diff --shortstat \"@{0 day ago}\"\n\n# \n$ git show [commit]\n\n# \n$ git show --name-only [commit]\n\n# \n$ git show [commit]:[filename]\n\n# \n$ git reflog\n```\n\n### \n```\n# \n$ git fetch [remote]\n\n# \n$ git remote -v\n\n# \n$ git remote show [remote]\n\n# \n$ git remote add [shortname] [url]\n\n# \n$ git pull [remote] [branch]\n\n# \n$ git push [remote] [branch]\n\n# \n$ git push [remote] --force\n\n# \n$ git push [remote] --all\n\n```\n### \n\n```\n# \n$ git checkout [file]\n\n# commit\n$ git checkout [commit] [file]\n\n# \n$ git checkout .\n\n# php\ngit checkout *.php\n\n# commit\n$ git reset [file]\n\n# commit\n$ git reset --hard\n\n# commit\n$ git reset [commit]\n\n# HEADcommitcommit\n$ git reset --hard [commit]\n\n# HEADcommit\n$ git reset --keep [commit]\n\n# commitcommit\n# \n$ git revert [commit]\n\n# \n$ git stash\n$ git stash pop\n```\n\n### \n```\n#\ngit archive\n\n```\n\n---\n\n### Git Basics\n- git init Initialize a repository\n- git status Show status of working tree\n- git add file.txt Start tracking file.txt\n- git add main.txt Stage modified file main.txt\n- git diff Show what's changed but not yet staged\n- git commit Commit changes\n- git commit -a Stage files and commit\n- git mv main.txt file.txt Rename main.txt to file.txt\n- git fetch develop Pull data from remote 'develop' without merging\n- git pull origin develop Fetch and merge branch 'develop' from origin\n- git clone url Create local copy of remote repository at 'url'\n\n### Branching\n- git branch Show current branches\n- git push origin master Push master branch to origin server\n- git branch -v Show last commit on all branches\n- git checkout master Switch to branch 'master'\n- git branch feature1 Create new branch called 'feature1'\n- git checkout -b feature2 Create branch 'feature2' and switch to it\n- git branch -d mybranch Delete branch 'mybranch'\n- git branch --merged Show branches already merged into current branch\n- git branch --no-merged Show branches not yet merged into current branch\n- git branch -D fix Force delete branch 'fix' that is not yet merged\n- git push origin feature1 Push local branch 'feature1' to origin\n- git push staging develop:master Push develop branch to remote staging master\n- git checkout -b fix1 origin/fix1 Create local branch 'fix1' based off origin branch\n- git checkout --track origin/fix2 Create tracking branch 'fix2' based off origin\n- git push origin :fix2 Delete remote branch 'fix2' from origin\n\n```\n### Merging / Rebasing\n- git mergetool Use graphical merge tool\n- git commit Finalize merge after resolving conflicts\n- git merge feature1 Merge branch 'feature1' with current branch\n- git add file.txt Mark file.txt as resolved after merge\n- git rebase develop Rebase changes made on current branch over develop\n- git rebase master develop Rebase master onto develop without checking it out\n- git rebase --onto master 1a 1b Rebase master onto branch 1b made from branch 1a\n### Remotes\n- git remote Show remote servers you have configured\n- git remote -v Show remote servers with URL displayed\n- git remote add myurl url Add remote server 'url' with shortname 'myurl'\n- git remote rename server1 server2 Rename remote 'server1' to 'server2'\n- git remote rm server1 Remove remote 'server1'\n- git remote show origin Show info about remote origin\n### Commit Logs\n- git log Show commit logs\n- git log -p -2 Show last two commits with diffs\n- git log --stat Show commit logs with stats\n- git log --pretty=oneline Show commit logs one per line\n- git log --graph Show commit logs with ascii graph\n- git log --since=1.week Show commit log for the last week\n- git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb\n### Undo / Change History\n- git rm --cached main.txt Remove main.txt from staging but keep in working\n- git commit --amend Replace last commit with whats in staging\n- git checkout -- file.txt Discard changes to file.txt\n- git reset HEAD file.txt Unstage file.txt\n- git commit --amend Modify last commit message\n- git rebase -i HEAD~3 Make changes to the last 3 commits\n### Using Tags\n- git tag Show available tags\n- git tag -a v3.0 Create annotated tag 'v3.0'\n- git show v3.0 Show info for tag v3.0\n- git tag -s v3.0 Create signed tag v3.0\n- git tag v2.1-lw Create lightweight tag v2.1\n- git tag -v v3.0 Verify signed tag v3.0\n- git tag -a v2.2 8feb Tag previous commit '8feb' as v2.2\n- git push origin v2.2 Push tag v2.2 to origin\n- git push origin --tags Push all local tags to origin\n### Using Stashes\n- git stash Stash changes without committing\n- git stash list Show stores stashes\n- git stash apply Reapply most recent stash\n- git stash apply stash@2 Reapply stash 2\n- git stash apply --index Reapply stashed changes along with staged changes\n- git stash drop stash@{2} Drop stash 2\n- git stash pop Apply most recent stash and drop from stack\n- git stash branch mybranch Create branch 'mybranch' from stash\n- git stash clear Delete all stashes\n- git diff --staged Show what's staged but not yet committed\n- git diff --check Check for whitespace errors before committing\n\n### Using Bisect\n- git bisect start Start binary search of commits to find bad commit\n- git bisect bad Mark current commit as broken during bisect\n- git bisect good v2.2 Mark v2.2 as last known good commit during bisect\n- git bisect good Mark current commit as good during bisect\n- git bisect reset Reset HEAD when finished with bisect\n- git bisect run test.sh Run 'test.sh' on each commit during bisect\n\n[](http://www.ruanyifeng.com/blog/2015/12/git-workflow.html)\n[](https://www.shortcutfoo.com/app/dojos/git/cheatsheet)","source":"_posts/2014/git-cheatsheet.md","raw":"---\ntitle: git-cheatsheet\ndate: 2014-09-02 11:49:51\nupdated: 2014-09-02 11:49:51\ntags:\n- git\ncategories:\n---\n\n![GIT](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png)\n- Workspace\n- Index / Stage\n- Repository\n- Remote\n<!-- more -->\n\n### \n```bash\n# Git\n$ git init\n\n# Git\n$ git init [project-name]\n\n# \n$ git clone [url]\n```\n\n### \nGit.gitconfig\n```bash\n# Git\n$ git config --list\n\n# Git\n$ git config -e [--global]\n\n# \n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n```\n### /\n```bash\n# \n$ git add [file1] [file2] ...\n\n# \n$ git add [dir]\n\n# \n$ git add .\n\n# \n# \n$ git add -p\n\n# \n$ git rm [file1] [file2] ...\n\n# \n$ git rm --cached [file]\n\n# \n$ git mv [file-original] [file-renamed]\n```\n### \n```\n# \n$ git commit -m [message]\n\n# \n$ git commit [file1] [file2] ... -m [message]\n\n# commit\n$ git commit -a\n\n# diff\n$ git commit -v\n\n# commit\n# commit\n$ git commit --amend -m [message]\n\n# commit\n$ git commit --amend [file1] [file2] ...\n```\n\n### \n```\n# \n$ git branch\n\n# \n$ git branch -r\n\n# \n$ git branch -a\n\n# \n$ git branch [branch-name]\n\n# \n$ git checkout -b [branch]\n\n# commit\n$ git branch [branch] [commit]\n\n# \n$ git branch --track [branch] [remote-branch]\n\n# \n$ git checkout [branch-name]\n\n# \n$ git checkout -\n\n# \n$ git branch --set-upstream [branch] [remote-branch]\n\n# \n$ git merge [branch]\n\n# commit\n$ git cherry-pick [commit]\n\n# \n$ git branch -d [branch-name]\n\n# \n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n```\n\n### \n```\n# tag\n$ git tag\n\n# tagcommit\n$ git tag [tag]\n\n# tagcommit\n$ git tag [tag] [commit]\n\n# tag\n$ git tag -d [tag]\n\n# tag\n$ git push origin :refs/tags/[tagName]\n\n# tag\n$ git show [tag]\n\n# tag\n$ git push [remote] [tag]\n\n# tag\n$ git push [remote] --tags\n\n# tag\n$ git checkout -b [branch] [tag]\n```\n### \n\n```\n\t\n# \n$ git status\n\n# \n$ git log\n\n# commitcommit\n$ git log --stat\n\n# \n$ git log -S [keyword]\n\n# commitcommit\n$ git log [tag] HEAD --pretty=format:%s\n\n# commit\"\"\n$ git log [tag] HEAD --grep feature\n\n# \n$ git log --follow [file]\n$ git whatchanged [file]\n\n# diff\n$ git log -p [file]\n\n# 5\n$ git log -5 --pretty --oneline\n\n# \n$ git shortlog -sn\n\n# \n$ git blame [file]\n\n# \n$ git diff\n\n# commit\n$ git diff --cached [file]\n\n# commit\n$ git diff HEAD\n\n# \n$ git diff [first-branch]...[second-branch]\n\n# \n$ git diff --shortstat \"@{0 day ago}\"\n\n# \n$ git show [commit]\n\n# \n$ git show --name-only [commit]\n\n# \n$ git show [commit]:[filename]\n\n# \n$ git reflog\n```\n\n### \n```\n# \n$ git fetch [remote]\n\n# \n$ git remote -v\n\n# \n$ git remote show [remote]\n\n# \n$ git remote add [shortname] [url]\n\n# \n$ git pull [remote] [branch]\n\n# \n$ git push [remote] [branch]\n\n# \n$ git push [remote] --force\n\n# \n$ git push [remote] --all\n\n```\n### \n\n```\n# \n$ git checkout [file]\n\n# commit\n$ git checkout [commit] [file]\n\n# \n$ git checkout .\n\n# php\ngit checkout *.php\n\n# commit\n$ git reset [file]\n\n# commit\n$ git reset --hard\n\n# commit\n$ git reset [commit]\n\n# HEADcommitcommit\n$ git reset --hard [commit]\n\n# HEADcommit\n$ git reset --keep [commit]\n\n# commitcommit\n# \n$ git revert [commit]\n\n# \n$ git stash\n$ git stash pop\n```\n\n### \n```\n#\ngit archive\n\n```\n\n---\n\n### Git Basics\n- git init Initialize a repository\n- git status Show status of working tree\n- git add file.txt Start tracking file.txt\n- git add main.txt Stage modified file main.txt\n- git diff Show what's changed but not yet staged\n- git commit Commit changes\n- git commit -a Stage files and commit\n- git mv main.txt file.txt Rename main.txt to file.txt\n- git fetch develop Pull data from remote 'develop' without merging\n- git pull origin develop Fetch and merge branch 'develop' from origin\n- git clone url Create local copy of remote repository at 'url'\n\n### Branching\n- git branch Show current branches\n- git push origin master Push master branch to origin server\n- git branch -v Show last commit on all branches\n- git checkout master Switch to branch 'master'\n- git branch feature1 Create new branch called 'feature1'\n- git checkout -b feature2 Create branch 'feature2' and switch to it\n- git branch -d mybranch Delete branch 'mybranch'\n- git branch --merged Show branches already merged into current branch\n- git branch --no-merged Show branches not yet merged into current branch\n- git branch -D fix Force delete branch 'fix' that is not yet merged\n- git push origin feature1 Push local branch 'feature1' to origin\n- git push staging develop:master Push develop branch to remote staging master\n- git checkout -b fix1 origin/fix1 Create local branch 'fix1' based off origin branch\n- git checkout --track origin/fix2 Create tracking branch 'fix2' based off origin\n- git push origin :fix2 Delete remote branch 'fix2' from origin\n\n```\n### Merging / Rebasing\n- git mergetool Use graphical merge tool\n- git commit Finalize merge after resolving conflicts\n- git merge feature1 Merge branch 'feature1' with current branch\n- git add file.txt Mark file.txt as resolved after merge\n- git rebase develop Rebase changes made on current branch over develop\n- git rebase master develop Rebase master onto develop without checking it out\n- git rebase --onto master 1a 1b Rebase master onto branch 1b made from branch 1a\n### Remotes\n- git remote Show remote servers you have configured\n- git remote -v Show remote servers with URL displayed\n- git remote add myurl url Add remote server 'url' with shortname 'myurl'\n- git remote rename server1 server2 Rename remote 'server1' to 'server2'\n- git remote rm server1 Remove remote 'server1'\n- git remote show origin Show info about remote origin\n### Commit Logs\n- git log Show commit logs\n- git log -p -2 Show last two commits with diffs\n- git log --stat Show commit logs with stats\n- git log --pretty=oneline Show commit logs one per line\n- git log --graph Show commit logs with ascii graph\n- git log --since=1.week Show commit log for the last week\n- git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb\n### Undo / Change History\n- git rm --cached main.txt Remove main.txt from staging but keep in working\n- git commit --amend Replace last commit with whats in staging\n- git checkout -- file.txt Discard changes to file.txt\n- git reset HEAD file.txt Unstage file.txt\n- git commit --amend Modify last commit message\n- git rebase -i HEAD~3 Make changes to the last 3 commits\n### Using Tags\n- git tag Show available tags\n- git tag -a v3.0 Create annotated tag 'v3.0'\n- git show v3.0 Show info for tag v3.0\n- git tag -s v3.0 Create signed tag v3.0\n- git tag v2.1-lw Create lightweight tag v2.1\n- git tag -v v3.0 Verify signed tag v3.0\n- git tag -a v2.2 8feb Tag previous commit '8feb' as v2.2\n- git push origin v2.2 Push tag v2.2 to origin\n- git push origin --tags Push all local tags to origin\n### Using Stashes\n- git stash Stash changes without committing\n- git stash list Show stores stashes\n- git stash apply Reapply most recent stash\n- git stash apply stash@2 Reapply stash 2\n- git stash apply --index Reapply stashed changes along with staged changes\n- git stash drop stash@{2} Drop stash 2\n- git stash pop Apply most recent stash and drop from stack\n- git stash branch mybranch Create branch 'mybranch' from stash\n- git stash clear Delete all stashes\n- git diff --staged Show what's staged but not yet committed\n- git diff --check Check for whitespace errors before committing\n\n### Using Bisect\n- git bisect start Start binary search of commits to find bad commit\n- git bisect bad Mark current commit as broken during bisect\n- git bisect good v2.2 Mark v2.2 as last known good commit during bisect\n- git bisect good Mark current commit as good during bisect\n- git bisect reset Reset HEAD when finished with bisect\n- git bisect run test.sh Run 'test.sh' on each commit during bisect\n\n[](http://www.ruanyifeng.com/blog/2015/12/git-workflow.html)\n[](https://www.shortcutfoo.com/app/dojos/git/cheatsheet)","slug":"git-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138dv000fhpwflpjjik77","content":"<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png\" alt=\"GIT\"></p>\n<ul>\n<li>Workspace</li>\n<li>Index / Stage</li>\n<li>Repository</li>\n<li>Remote<a id=\"more\"></a>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git <span class=\"built_in\">clone</span> [url]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Git.gitconfig<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config -e [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git config [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git config [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git branch</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -r</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -a</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -b [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git branch [branch] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --track [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git merge [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git cherry-pick [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -d [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push origin --delete [branch-name]</span><br><span class=\"line\">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag -d [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git show [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log --stat</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log [tag] HEAD --pretty=format:%s</span><br><span class=\"line\"></span><br><span class=\"line\"># commit&quot;&quot;</span><br><span class=\"line\">$ git log [tag] HEAD --grep feature</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log --follow [file]</span><br><span class=\"line\">$ git whatchanged [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git log -p [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">$ git log -5 --pretty --oneline</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git blame [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff [first-branch]...[second-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show --name-only [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git checkout [commit] [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># php</span><br><span class=\"line\">git checkout *.php</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset --hard</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommitcommit</span><br><span class=\"line\">$ git reset --hard [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommit</span><br><span class=\"line\">$ git reset --keep [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git revert [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#</span><br><span class=\"line\">git archive</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Git-Basics\"><a href=\"#Git-Basics\" class=\"headerlink\" title=\"Git Basics\"></a>Git Basics</h3><ul>\n<li>git init Initialize a repository</li>\n<li>git status Show status of working tree</li>\n<li>git add file.txt Start tracking file.txt</li>\n<li>git add main.txt Stage modified file main.txt</li>\n<li>git diff Show whats changed but not yet staged</li>\n<li>git commit Commit changes</li>\n<li>git commit -a Stage files and commit</li>\n<li>git mv main.txt file.txt Rename main.txt to file.txt</li>\n<li>git fetch develop Pull data from remote develop without merging</li>\n<li>git pull origin develop Fetch and merge branch develop from origin</li>\n<li>git clone url Create local copy of remote repository at url</li>\n</ul>\n<h3 id=\"Branching\"><a href=\"#Branching\" class=\"headerlink\" title=\"Branching\"></a>Branching</h3><ul>\n<li>git branch Show current branches</li>\n<li>git push origin master Push master branch to origin server</li>\n<li>git branch -v Show last commit on all branches</li>\n<li>git checkout master Switch to branch master</li>\n<li>git branch feature1 Create new branch called feature1</li>\n<li>git checkout -b feature2 Create branch feature2 and switch to it</li>\n<li>git branch -d mybranch Delete branch mybranch</li>\n<li>git branch merged Show branches already merged into current branch</li>\n<li>git branch no-merged Show branches not yet merged into current branch</li>\n<li>git branch -D fix Force delete branch fix that is not yet merged</li>\n<li>git push origin feature1 Push local branch feature1 to origin</li>\n<li>git push staging develop:master Push develop branch to remote staging master</li>\n<li>git checkout -b fix1 origin/fix1 Create local branch fix1 based off origin branch</li>\n<li>git checkout track origin/fix2 Create tracking branch fix2 based off origin</li>\n<li>git push origin :fix2 Delete remote branch fix2 from origin</li>\n</ul>\n<p><code>`</code></p>\n<h3 id=\"Merging-Rebasing\"><a href=\"#Merging-Rebasing\" class=\"headerlink\" title=\"Merging / Rebasing\"></a>Merging / Rebasing</h3><ul>\n<li>git mergetool Use graphical merge tool</li>\n<li>git commit Finalize merge after resolving conflicts</li>\n<li>git merge feature1 Merge branch feature1 with current branch</li>\n<li>git add file.txt Mark file.txt as resolved after merge</li>\n<li>git rebase develop Rebase changes made on current branch over develop</li>\n<li>git rebase master develop Rebase master onto develop without checking it out</li>\n<li>git rebase onto master 1a 1b Rebase master onto branch 1b made from branch 1a<h3 id=\"Remotes\"><a href=\"#Remotes\" class=\"headerlink\" title=\"Remotes\"></a>Remotes</h3></li>\n<li>git remote Show remote servers you have configured</li>\n<li>git remote -v Show remote servers with URL displayed</li>\n<li>git remote add myurl url Add remote server url with shortname myurl</li>\n<li>git remote rename server1 server2 Rename remote server1 to server2</li>\n<li>git remote rm server1 Remove remote server1</li>\n<li>git remote show origin Show info about remote origin<h3 id=\"Commit-Logs\"><a href=\"#Commit-Logs\" class=\"headerlink\" title=\"Commit Logs\"></a>Commit Logs</h3></li>\n<li>git log Show commit logs</li>\n<li>git log -p -2 Show last two commits with diffs</li>\n<li>git log stat Show commit logs with stats</li>\n<li>git log pretty=oneline Show commit logs one per line</li>\n<li>git log graph Show commit logs with ascii graph</li>\n<li>git log since=1.week Show commit log for the last week</li>\n<li>git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb<h3 id=\"Undo-Change-History\"><a href=\"#Undo-Change-History\" class=\"headerlink\" title=\"Undo / Change History\"></a>Undo / Change History</h3></li>\n<li>git rm cached main.txt Remove main.txt from staging but keep in working</li>\n<li>git commit amend Replace last commit with whats in staging</li>\n<li>git checkout  file.txt Discard changes to file.txt</li>\n<li>git reset HEAD file.txt Unstage file.txt</li>\n<li>git commit amend Modify last commit message</li>\n<li>git rebase -i HEAD~3 Make changes to the last 3 commits<h3 id=\"Using-Tags\"><a href=\"#Using-Tags\" class=\"headerlink\" title=\"Using Tags\"></a>Using Tags</h3></li>\n<li>git tag Show available tags</li>\n<li>git tag -a v3.0 Create annotated tag v3.0</li>\n<li>git show v3.0 Show info for tag v3.0</li>\n<li>git tag -s v3.0 Create signed tag v3.0</li>\n<li>git tag v2.1-lw Create lightweight tag v2.1</li>\n<li>git tag -v v3.0 Verify signed tag v3.0</li>\n<li>git tag -a v2.2 8feb Tag previous commit 8feb as v2.2</li>\n<li>git push origin v2.2 Push tag v2.2 to origin</li>\n<li>git push origin tags Push all local tags to origin<h3 id=\"Using-Stashes\"><a href=\"#Using-Stashes\" class=\"headerlink\" title=\"Using Stashes\"></a>Using Stashes</h3></li>\n<li>git stash Stash changes without committing</li>\n<li>git stash list Show stores stashes</li>\n<li>git stash apply Reapply most recent stash</li>\n<li>git stash apply stash@2 Reapply stash 2</li>\n<li>git stash apply index Reapply stashed changes along with staged changes</li>\n<li>git stash drop stash@{2} Drop stash 2</li>\n<li>git stash pop Apply most recent stash and drop from stack</li>\n<li>git stash branch mybranch Create branch mybranch from stash</li>\n<li>git stash clear Delete all stashes</li>\n<li>git diff staged Show whats staged but not yet committed</li>\n<li>git diff check Check for whitespace errors before committing</li>\n</ul>\n<h3 id=\"Using-Bisect\"><a href=\"#Using-Bisect\" class=\"headerlink\" title=\"Using Bisect\"></a>Using Bisect</h3><ul>\n<li>git bisect start Start binary search of commits to find bad commit</li>\n<li>git bisect bad Mark current commit as broken during bisect</li>\n<li>git bisect good v2.2 Mark v2.2 as last known good commit during bisect</li>\n<li>git bisect good Mark current commit as good during bisect</li>\n<li>git bisect reset Reset HEAD when finished with bisect</li>\n<li>git bisect run test.sh Run test.sh on each commit during bisect</li>\n</ul>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/12/git-workflow.html\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://www.shortcutfoo.com/app/dojos/git/cheatsheet\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png\" alt=\"GIT\"></p>\n<ul>\n<li>Workspace</li>\n<li>Index / Stage</li>\n<li>Repository</li>\n<li>Remote","more":"</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git <span class=\"built_in\">clone</span> [url]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Git.gitconfig<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config -e [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git config [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git config [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git branch</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -r</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -a</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -b [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git branch [branch] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --track [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git merge [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git cherry-pick [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -d [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push origin --delete [branch-name]</span><br><span class=\"line\">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag -d [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git show [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log --stat</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log [tag] HEAD --pretty=format:%s</span><br><span class=\"line\"></span><br><span class=\"line\"># commit&quot;&quot;</span><br><span class=\"line\">$ git log [tag] HEAD --grep feature</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log --follow [file]</span><br><span class=\"line\">$ git whatchanged [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git log -p [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">$ git log -5 --pretty --oneline</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git blame [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff [first-branch]...[second-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show --name-only [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git checkout [commit] [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># php</span><br><span class=\"line\">git checkout *.php</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset --hard</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommitcommit</span><br><span class=\"line\">$ git reset --hard [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommit</span><br><span class=\"line\">$ git reset --keep [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git revert [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#</span><br><span class=\"line\">git archive</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Git-Basics\"><a href=\"#Git-Basics\" class=\"headerlink\" title=\"Git Basics\"></a>Git Basics</h3><ul>\n<li>git init Initialize a repository</li>\n<li>git status Show status of working tree</li>\n<li>git add file.txt Start tracking file.txt</li>\n<li>git add main.txt Stage modified file main.txt</li>\n<li>git diff Show whats changed but not yet staged</li>\n<li>git commit Commit changes</li>\n<li>git commit -a Stage files and commit</li>\n<li>git mv main.txt file.txt Rename main.txt to file.txt</li>\n<li>git fetch develop Pull data from remote develop without merging</li>\n<li>git pull origin develop Fetch and merge branch develop from origin</li>\n<li>git clone url Create local copy of remote repository at url</li>\n</ul>\n<h3 id=\"Branching\"><a href=\"#Branching\" class=\"headerlink\" title=\"Branching\"></a>Branching</h3><ul>\n<li>git branch Show current branches</li>\n<li>git push origin master Push master branch to origin server</li>\n<li>git branch -v Show last commit on all branches</li>\n<li>git checkout master Switch to branch master</li>\n<li>git branch feature1 Create new branch called feature1</li>\n<li>git checkout -b feature2 Create branch feature2 and switch to it</li>\n<li>git branch -d mybranch Delete branch mybranch</li>\n<li>git branch merged Show branches already merged into current branch</li>\n<li>git branch no-merged Show branches not yet merged into current branch</li>\n<li>git branch -D fix Force delete branch fix that is not yet merged</li>\n<li>git push origin feature1 Push local branch feature1 to origin</li>\n<li>git push staging develop:master Push develop branch to remote staging master</li>\n<li>git checkout -b fix1 origin/fix1 Create local branch fix1 based off origin branch</li>\n<li>git checkout track origin/fix2 Create tracking branch fix2 based off origin</li>\n<li>git push origin :fix2 Delete remote branch fix2 from origin</li>\n</ul>\n<p><code>`</code></p>\n<h3 id=\"Merging-Rebasing\"><a href=\"#Merging-Rebasing\" class=\"headerlink\" title=\"Merging / Rebasing\"></a>Merging / Rebasing</h3><ul>\n<li>git mergetool Use graphical merge tool</li>\n<li>git commit Finalize merge after resolving conflicts</li>\n<li>git merge feature1 Merge branch feature1 with current branch</li>\n<li>git add file.txt Mark file.txt as resolved after merge</li>\n<li>git rebase develop Rebase changes made on current branch over develop</li>\n<li>git rebase master develop Rebase master onto develop without checking it out</li>\n<li>git rebase onto master 1a 1b Rebase master onto branch 1b made from branch 1a<h3 id=\"Remotes\"><a href=\"#Remotes\" class=\"headerlink\" title=\"Remotes\"></a>Remotes</h3></li>\n<li>git remote Show remote servers you have configured</li>\n<li>git remote -v Show remote servers with URL displayed</li>\n<li>git remote add myurl url Add remote server url with shortname myurl</li>\n<li>git remote rename server1 server2 Rename remote server1 to server2</li>\n<li>git remote rm server1 Remove remote server1</li>\n<li>git remote show origin Show info about remote origin<h3 id=\"Commit-Logs\"><a href=\"#Commit-Logs\" class=\"headerlink\" title=\"Commit Logs\"></a>Commit Logs</h3></li>\n<li>git log Show commit logs</li>\n<li>git log -p -2 Show last two commits with diffs</li>\n<li>git log stat Show commit logs with stats</li>\n<li>git log pretty=oneline Show commit logs one per line</li>\n<li>git log graph Show commit logs with ascii graph</li>\n<li>git log since=1.week Show commit log for the last week</li>\n<li>git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb<h3 id=\"Undo-Change-History\"><a href=\"#Undo-Change-History\" class=\"headerlink\" title=\"Undo / Change History\"></a>Undo / Change History</h3></li>\n<li>git rm cached main.txt Remove main.txt from staging but keep in working</li>\n<li>git commit amend Replace last commit with whats in staging</li>\n<li>git checkout  file.txt Discard changes to file.txt</li>\n<li>git reset HEAD file.txt Unstage file.txt</li>\n<li>git commit amend Modify last commit message</li>\n<li>git rebase -i HEAD~3 Make changes to the last 3 commits<h3 id=\"Using-Tags\"><a href=\"#Using-Tags\" class=\"headerlink\" title=\"Using Tags\"></a>Using Tags</h3></li>\n<li>git tag Show available tags</li>\n<li>git tag -a v3.0 Create annotated tag v3.0</li>\n<li>git show v3.0 Show info for tag v3.0</li>\n<li>git tag -s v3.0 Create signed tag v3.0</li>\n<li>git tag v2.1-lw Create lightweight tag v2.1</li>\n<li>git tag -v v3.0 Verify signed tag v3.0</li>\n<li>git tag -a v2.2 8feb Tag previous commit 8feb as v2.2</li>\n<li>git push origin v2.2 Push tag v2.2 to origin</li>\n<li>git push origin tags Push all local tags to origin<h3 id=\"Using-Stashes\"><a href=\"#Using-Stashes\" class=\"headerlink\" title=\"Using Stashes\"></a>Using Stashes</h3></li>\n<li>git stash Stash changes without committing</li>\n<li>git stash list Show stores stashes</li>\n<li>git stash apply Reapply most recent stash</li>\n<li>git stash apply stash@2 Reapply stash 2</li>\n<li>git stash apply index Reapply stashed changes along with staged changes</li>\n<li>git stash drop stash@{2} Drop stash 2</li>\n<li>git stash pop Apply most recent stash and drop from stack</li>\n<li>git stash branch mybranch Create branch mybranch from stash</li>\n<li>git stash clear Delete all stashes</li>\n<li>git diff staged Show whats staged but not yet committed</li>\n<li>git diff check Check for whitespace errors before committing</li>\n</ul>\n<h3 id=\"Using-Bisect\"><a href=\"#Using-Bisect\" class=\"headerlink\" title=\"Using Bisect\"></a>Using Bisect</h3><ul>\n<li>git bisect start Start binary search of commits to find bad commit</li>\n<li>git bisect bad Mark current commit as broken during bisect</li>\n<li>git bisect good v2.2 Mark v2.2 as last known good commit during bisect</li>\n<li>git bisect good Mark current commit as good during bisect</li>\n<li>git bisect reset Reset HEAD when finished with bisect</li>\n<li>git bisect run test.sh Run test.sh on each commit during bisect</li>\n</ul>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/12/git-workflow.html\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://www.shortcutfoo.com/app/dojos/git/cheatsheet\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"hexo tutorial","date":"2014-08-17T11:08:34.000Z","_content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n# Quick Start\n\n## Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n$ hexo new article\n$ hexo new page tags\n$ hexo new page tags\n```\n<!-- more -->\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n## Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n## Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n## Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n# \n\n## \n\n```bash\n    //nvm,nvmnodejs\n    curl https://raw.github.com/creationix/nvm/master/install.sh | sh\n    //nodejs 44.4.5npm\n    nvm install 4\n\n    //hexo\n    npm install -g hexo-cli\n    //npm\n    npm install -g cnpm --registry=https://registry.npm.taobao.org\n    //,cnpm \n    cnpm install -g hexo-cli\n```\n\n## \n\n```bash\n    hexo new \"postName\" #\n    hexo new page \"pageName\" #\n    hexo new draft \"postname\" #\n     hexo generate #public\n    hexo server #4000'ctrl + c'server\n    hexo deploy #.deployGitHub\n    hexo help  # \n    hexo version  #Hexo\n    hexo publish [layout] postname # \n\n    //git\n    npm install hexo-deployer-git --save\n\n    hexo deploy -g  #\n    hexo server -g  #\n```\n\n## Layout\n\nLayout | Path\n------ | -------------\npost   | source/_posts\npage   | source\ndraft  | source/_draft\n\n## Scaffolds()\n\n> scaffolds\n\nPlaceholder | Description\n----------- | -----------------\nlayout      | Layout\ntitle       | Title\ndate        | File created date\n\n## \n\n```bash\n    hexo clean\n    hexo generate\n    hexo deploy\n```\n\n\n\n```bash\n    deploy:\n    type: git\n    repository: git@github.com:changyuan/changyuan.github.io.git\n    branch: master\n```\n\n> ==ssh-keygen -t rsa -C \"admin@example.com\"== ==Settings->Deploy keys==\n\n## \n\n```bash\n    hexo g #\n    hexo s #\n    #\n    hexo s -g\n```\n\n## \n\n```bash\n    hexo n == hexo new\n    hexo g == hexo generate\n    hexo s == hexo server\n    hexo d == hexo deploy\n```\n\n> webgithubgh-pagesgh-pagesgithubweb\n\n## Tag Plugins \n\n### Block Quote\n\n{% blockquote ,  %} Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  {% endblockquote %}\n\n--------------------------------------------------------------------------------\n\n{% blockquote Seth Godin <http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html> Welcome to Island Marketing %} Every interaction is both precious and an opportunity to delight. {% endblockquote %}\n\n### Code Block\n\n{% codeblock %} alert {% endcodeblock %}\n\n{% codeblock lang:objc %} [rectangle setX: 10 y: 10 width: 20 height: 20]; {% endcodeblock %}\n\n{% codeblock Array.map %} array.map(callback[, thisArg]) {% endcodeblock %}\n\n{% codeblock _.compact <http://underscorejs.org/#compact> Underscore.js %}_ .compact([0, 1, false, 2, '', 3]); => [1, 2, 3] {% endcodeblock %}\n\n- [1](http://blog.fens.me/hexo-blog-github/)\n- [2](https://hexo.io/docs/writing.html)\n","source":"_posts/2014/hexo-tutorial.md","raw":"---\ntitle: hexo tutorial\ndate: 2014-08-17T19:08:34.000Z\ntags:\n  - hexo\n  - next\ncategories: \n---\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n# Quick Start\n\n## Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n$ hexo new article\n$ hexo new page tags\n$ hexo new page tags\n```\n<!-- more -->\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n## Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n## Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n## Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n# \n\n## \n\n```bash\n    //nvm,nvmnodejs\n    curl https://raw.github.com/creationix/nvm/master/install.sh | sh\n    //nodejs 44.4.5npm\n    nvm install 4\n\n    //hexo\n    npm install -g hexo-cli\n    //npm\n    npm install -g cnpm --registry=https://registry.npm.taobao.org\n    //,cnpm \n    cnpm install -g hexo-cli\n```\n\n## \n\n```bash\n    hexo new \"postName\" #\n    hexo new page \"pageName\" #\n    hexo new draft \"postname\" #\n     hexo generate #public\n    hexo server #4000'ctrl + c'server\n    hexo deploy #.deployGitHub\n    hexo help  # \n    hexo version  #Hexo\n    hexo publish [layout] postname # \n\n    //git\n    npm install hexo-deployer-git --save\n\n    hexo deploy -g  #\n    hexo server -g  #\n```\n\n## Layout\n\nLayout | Path\n------ | -------------\npost   | source/_posts\npage   | source\ndraft  | source/_draft\n\n## Scaffolds()\n\n> scaffolds\n\nPlaceholder | Description\n----------- | -----------------\nlayout      | Layout\ntitle       | Title\ndate        | File created date\n\n## \n\n```bash\n    hexo clean\n    hexo generate\n    hexo deploy\n```\n\n\n\n```bash\n    deploy:\n    type: git\n    repository: git@github.com:changyuan/changyuan.github.io.git\n    branch: master\n```\n\n> ==ssh-keygen -t rsa -C \"admin@example.com\"== ==Settings->Deploy keys==\n\n## \n\n```bash\n    hexo g #\n    hexo s #\n    #\n    hexo s -g\n```\n\n## \n\n```bash\n    hexo n == hexo new\n    hexo g == hexo generate\n    hexo s == hexo server\n    hexo d == hexo deploy\n```\n\n> webgithubgh-pagesgh-pagesgithubweb\n\n## Tag Plugins \n\n### Block Quote\n\n{% blockquote ,  %} Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  {% endblockquote %}\n\n--------------------------------------------------------------------------------\n\n{% blockquote Seth Godin <http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html> Welcome to Island Marketing %} Every interaction is both precious and an opportunity to delight. {% endblockquote %}\n\n### Code Block\n\n{% codeblock %} alert {% endcodeblock %}\n\n{% codeblock lang:objc %} [rectangle setX: 10 y: 10 width: 20 height: 20]; {% endcodeblock %}\n\n{% codeblock Array.map %} array.map(callback[, thisArg]) {% endcodeblock %}\n\n{% codeblock _.compact <http://underscorejs.org/#compact> Underscore.js %}_ .compact([0, 1, false, 2, '', 3]); => [1, 2, 3] {% endcodeblock %}\n\n- [1](http://blog.fens.me/hexo-blog-github/)\n- [2](https://hexo.io/docs/writing.html)\n","slug":"hexo-tutorial","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e0000hhpwfmyf9518f","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h1 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h1><h2 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new article</span><br><span class=\"line\">$ hexo new page tags</span><br><span class=\"line\">$ hexo new page tags</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h2 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h2 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h2 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//nvm,nvmnodejs</span><br><span class=\"line\">curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class=\"line\">//nodejs 44.4.5npm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\"></span><br><span class=\"line\">//hexo</span><br><span class=\"line\">npm install -g hexo-cli</span><br><span class=\"line\">//npm</span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">//,cnpm </span><br><span class=\"line\">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new page <span class=\"string\">\"pageName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new draft <span class=\"string\">\"postname\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\"> hexo generate <span class=\"comment\">#public</span></span><br><span class=\"line\">hexo server <span class=\"comment\">#4000'ctrl + c'server</span></span><br><span class=\"line\">hexo deploy <span class=\"comment\">#.deployGitHub</span></span><br><span class=\"line\">hexo <span class=\"built_in\">help</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">hexo version  <span class=\"comment\">#Hexo</span></span><br><span class=\"line\">hexo publish [layout] postname <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">//git</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\"></span><br><span class=\"line\">hexo deploy -g  <span class=\"comment\">#</span></span><br><span class=\"line\">hexo server -g  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Layout\"><a href=\"#Layout\" class=\"headerlink\" title=\"Layout\"></a>Layout</h2><table>\n<thead>\n<tr>\n<th>Layout</th>\n<th>Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>post</td>\n<td>source/_posts</td>\n</tr>\n<tr>\n<td>page</td>\n<td>source</td>\n</tr>\n<tr>\n<td>draft</td>\n<td>source/_draft</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Scaffolds--\"><a href=\"#Scaffolds--\" class=\"headerlink\" title=\"Scaffolds()\"></a>Scaffolds()</h2><blockquote>\n<p>scaffolds</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Placeholder</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>layout</td>\n<td>Layout</td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title</td>\n</tr>\n<tr>\n<td>date</td>\n<td>File created date</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\"><span class=\"built_in\">type</span>: git</span><br><span class=\"line\">repository: git@github.com:changyuan/changyuan.github.io.git</span><br><span class=\"line\">branch: master</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==ssh-keygen -t rsa -C <a href=\"mailto:admin@example.com\" target=\"_blank\" rel=\"noopener\">admin@example.com</a>== ==Settings-&gt;Deploy keys==</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g <span class=\"comment\">#</span></span><br><span class=\"line\">hexo s <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n == hexo new</span><br><span class=\"line\">hexo g == hexo generate</span><br><span class=\"line\">hexo s == hexo server</span><br><span class=\"line\">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>webgithubgh-pagesgh-pagesgithubweb</p>\n</blockquote>\n<h2 id=\"Tag-Plugins-\"><a href=\"#Tag-Plugins-\" class=\"headerlink\" title=\"Tag Plugins \"></a>Tag Plugins </h2><h3 id=\"Block-Quote\"><a href=\"#Block-Quote\" class=\"headerlink\" title=\"Block Quote\"></a>Block Quote</h3><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  </p>\n<footer><strong></strong><cite></cite></footer></blockquote>\n\n--------------------------------------------------------------------------------\n\n<blockquote><p>Every interaction is both precious and an opportunity to delight. </p>\n<footer><strong>Seth Godin <http: 2009=\"\" sethgodin.typepad.com=\"\" seths_blog=\"\" 07=\"\" welcome-to-island-marketing.html=\"\"> Welcome to Island Marketing</http:></strong></footer></blockquote>\n<h3 id=\"Code-Block\"><a href=\"#Code-Block\" class=\"headerlink\" title=\"Code Block\"></a>Code Block</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[rectangle setX: <span class=\"number\">10</span> y: <span class=\"number\">10</span> width: <span class=\"number\">20</span> height: <span class=\"number\">20</span>]; </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>Array.map</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array.map(callback[, thisArg]) </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>_.compact <http: underscorejs.org=\"\" #compact=\"\"> Underscore.js</http:></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">_ .compact([0, 1, false, 2, &apos;&apos;, 3]); =&gt; [1, 2, 3] </span><br></pre></td></tr></table></figure>\n<ul>\n<li><a href=\"http://blog.fens.me/hexo-blog-github/\" target=\"_blank\" rel=\"noopener\">1</a></li>\n<li><a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">2</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h1 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h1><h2 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new article</span><br><span class=\"line\">$ hexo new page tags</span><br><span class=\"line\">$ hexo new page tags</span><br></pre></td></tr></table></figure>","more":"<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h2 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h2 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h2 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//nvm,nvmnodejs</span><br><span class=\"line\">curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class=\"line\">//nodejs 44.4.5npm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\"></span><br><span class=\"line\">//hexo</span><br><span class=\"line\">npm install -g hexo-cli</span><br><span class=\"line\">//npm</span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">//,cnpm </span><br><span class=\"line\">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new page <span class=\"string\">\"pageName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new draft <span class=\"string\">\"postname\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\"> hexo generate <span class=\"comment\">#public</span></span><br><span class=\"line\">hexo server <span class=\"comment\">#4000'ctrl + c'server</span></span><br><span class=\"line\">hexo deploy <span class=\"comment\">#.deployGitHub</span></span><br><span class=\"line\">hexo <span class=\"built_in\">help</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">hexo version  <span class=\"comment\">#Hexo</span></span><br><span class=\"line\">hexo publish [layout] postname <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">//git</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\"></span><br><span class=\"line\">hexo deploy -g  <span class=\"comment\">#</span></span><br><span class=\"line\">hexo server -g  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Layout\"><a href=\"#Layout\" class=\"headerlink\" title=\"Layout\"></a>Layout</h2><table>\n<thead>\n<tr>\n<th>Layout</th>\n<th>Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>post</td>\n<td>source/_posts</td>\n</tr>\n<tr>\n<td>page</td>\n<td>source</td>\n</tr>\n<tr>\n<td>draft</td>\n<td>source/_draft</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Scaffolds--\"><a href=\"#Scaffolds--\" class=\"headerlink\" title=\"Scaffolds()\"></a>Scaffolds()</h2><blockquote>\n<p>scaffolds</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Placeholder</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>layout</td>\n<td>Layout</td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title</td>\n</tr>\n<tr>\n<td>date</td>\n<td>File created date</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\"><span class=\"built_in\">type</span>: git</span><br><span class=\"line\">repository: git@github.com:changyuan/changyuan.github.io.git</span><br><span class=\"line\">branch: master</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==ssh-keygen -t rsa -C <a href=\"mailto:admin@example.com\" target=\"_blank\" rel=\"noopener\">admin@example.com</a>== ==Settings-&gt;Deploy keys==</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g <span class=\"comment\">#</span></span><br><span class=\"line\">hexo s <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n == hexo new</span><br><span class=\"line\">hexo g == hexo generate</span><br><span class=\"line\">hexo s == hexo server</span><br><span class=\"line\">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>webgithubgh-pagesgh-pagesgithubweb</p>\n</blockquote>\n<h2 id=\"Tag-Plugins-\"><a href=\"#Tag-Plugins-\" class=\"headerlink\" title=\"Tag Plugins \"></a>Tag Plugins </h2><h3 id=\"Block-Quote\"><a href=\"#Block-Quote\" class=\"headerlink\" title=\"Block Quote\"></a>Block Quote</h3><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  </p>\n<footer><strong></strong><cite></cite></footer></blockquote>\n\n--------------------------------------------------------------------------------\n\n<blockquote><p>Every interaction is both precious and an opportunity to delight. </p>\n<footer><strong>Seth Godin <http: 2009=\"\" sethgodin.typepad.com=\"\" seths_blog=\"\" 07=\"\" welcome-to-island-marketing.html=\"\"> Welcome to Island Marketing</http:></strong></footer></blockquote>\n<h3 id=\"Code-Block\"><a href=\"#Code-Block\" class=\"headerlink\" title=\"Code Block\"></a>Code Block</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[rectangle setX: <span class=\"number\">10</span> y: <span class=\"number\">10</span> width: <span class=\"number\">20</span> height: <span class=\"number\">20</span>]; </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>Array.map</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array.map(callback[, thisArg]) </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>_.compact <http: underscorejs.org=\"\" #compact=\"\"> Underscore.js</http:></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">_ .compact([0, 1, false, 2, &apos;&apos;, 3]); =&gt; [1, 2, 3] </span><br></pre></td></tr></table></figure>\n<ul>\n<li><a href=\"http://blog.fens.me/hexo-blog-github/\" target=\"_blank\" rel=\"noopener\">1</a></li>\n<li><a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">2</a></li>\n</ul>"},{"title":"HTTPS ","date":"2014-11-23T08:44:59.000Z","updated":"2014-11-23T08:44:59.000Z","_content":"\n [HTTP/2 ](http://www.ruanyifeng.com/blog/2016/08/http.html)  HTTPS \n\n HTTP/2  HTTPS HTTPS  TLS \n\n> - [HTTPS ](http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)\n- [ HTTPS ](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)\n-  [HTTPS ](http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html)\n- [HTTPS ](http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html)\n\n<!-- more -->\n HTTP  HTTPS \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png)\n\n## \n\nHTTPS\n\n\n \n> - [GoGetSSL](https://www.gogetssl.com/)\n- [SSLs.com](https://www.ssls.com/)\n- [SSLmate.com](https://sslmate.com/)\n\n\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png)\n\n> - ****Domain Validation\n- ****Company Validation\n- ****Extended Validation\n\n\n\n> - ****`foo.com``www.foo.com`\n- ****`*.foo.com``foo.com``www.foo.com`\n- ****`foo.com``bar.com`\n\n\n\nHTTPSEFF [Lets Encrypt](https://letsencrypt.org/)[](https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials)[](https://certbot.eff.org/)\n\n[SSL Certificate Check](https://tools.keycdn.com/ssl)\n\n## \n\n`/etc/ssl`Linux Web\n\n> - [](https://mozilla.github.io/server-side-tls/ssl-config-generator/)by Mozilla\n- [](https://github.com/SSLMate/tlsconfigguide/tree/master/templates)by SSLMate\n\n Lets Encrypt [Certbot](https://certbot.eff.org/)\n\n [SSL Labs Server Test](https://www.ssllabs.com/ssltest/analyze.html) \n\n\n## \n\n HTTP  HTTPS \n\n```html\n<script src=\"http://foo.com/jquery.js\"></script>\n```\n\n\n\n```html\n<!--  -->\n<script src=\"https://foo.com/jquery.js\"></script>\n\n<!--  -->\n<script src=\"//foo.com/jquery.js\"></script>\n```\n\n\n\n`rel=\"canonical\"`HTTPS\n\n```html\n<link rel=\"canonical\" href=\"https://foo.com/bar.html\" />\n```\n\n## 301\n\n Web  301  HTTP  HTTPS \n\n[Nginx ](https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom)\n\n```http\nserver {\n  listen 80;\n  server_name domain.com www.domain.com;\n  return 301 https://domain.com$request_uri;\n}\n```\n\n[Apache ](https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost)`.htaccess`\n\n```bash\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n```\n\n## \n\n\n\n### 5.1 HTTP Strict Transport Security (HSTS)\n\n`https://`3xxHTTPHTTPSHTTP\n\n\n\nHTTP HSTSHTTPS\n\n[](https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8)\n\n```http\nStrict-Transport-Security: max-age=31536000; includeSubDomains\n```\n\n\n\n> 131536000`example.com`HTTPHTTPS`http://www.example.com/``http``https``https://www.example.com/`\n> \n> 2`example.com`\n\nHSTS  SSL `HTTPS``HTTP`\n\nHTTPHSTS\n\n### 5.2 Cookie\n\n HTTPS Cookie\n\n`Set-Cookie``Secure`\n\n```http\nSet-Cookie: LSID=DQAAAKEaem_vYg; Secure\n```\n\n## \n\n- [How To Migrate To HTTPS](https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#), by Chris Palmer\n- [Complete Guide  How to Migrate from HTTP to HTTPS](https://www.keycdn.com/blog/http-to-https/), by KeyCDN\n- [What You Need to Know About Changing From Http to Https](http://smallbiztrends.com/2015/04/changing-from-http-to-https.html), by Matt Mansfield\n\n","source":"_posts/2014/https.md","raw":"---\ntitle: HTTPS \ndate: 2014-11-23 16:44:59\nupdated: 2014-11-23 16:44:59\ntags:\ncategories:\n---\n\n [HTTP/2 ](http://www.ruanyifeng.com/blog/2016/08/http.html)  HTTPS \n\n HTTP/2  HTTPS HTTPS  TLS \n\n> - [HTTPS ](http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)\n- [ HTTPS ](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)\n-  [HTTPS ](http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html)\n- [HTTPS ](http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html)\n\n<!-- more -->\n HTTP  HTTPS \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png)\n\n## \n\nHTTPS\n\n\n \n> - [GoGetSSL](https://www.gogetssl.com/)\n- [SSLs.com](https://www.ssls.com/)\n- [SSLmate.com](https://sslmate.com/)\n\n\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png)\n\n> - ****Domain Validation\n- ****Company Validation\n- ****Extended Validation\n\n\n\n> - ****`foo.com``www.foo.com`\n- ****`*.foo.com``foo.com``www.foo.com`\n- ****`foo.com``bar.com`\n\n\n\nHTTPSEFF [Lets Encrypt](https://letsencrypt.org/)[](https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials)[](https://certbot.eff.org/)\n\n[SSL Certificate Check](https://tools.keycdn.com/ssl)\n\n## \n\n`/etc/ssl`Linux Web\n\n> - [](https://mozilla.github.io/server-side-tls/ssl-config-generator/)by Mozilla\n- [](https://github.com/SSLMate/tlsconfigguide/tree/master/templates)by SSLMate\n\n Lets Encrypt [Certbot](https://certbot.eff.org/)\n\n [SSL Labs Server Test](https://www.ssllabs.com/ssltest/analyze.html) \n\n\n## \n\n HTTP  HTTPS \n\n```html\n<script src=\"http://foo.com/jquery.js\"></script>\n```\n\n\n\n```html\n<!--  -->\n<script src=\"https://foo.com/jquery.js\"></script>\n\n<!--  -->\n<script src=\"//foo.com/jquery.js\"></script>\n```\n\n\n\n`rel=\"canonical\"`HTTPS\n\n```html\n<link rel=\"canonical\" href=\"https://foo.com/bar.html\" />\n```\n\n## 301\n\n Web  301  HTTP  HTTPS \n\n[Nginx ](https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom)\n\n```http\nserver {\n  listen 80;\n  server_name domain.com www.domain.com;\n  return 301 https://domain.com$request_uri;\n}\n```\n\n[Apache ](https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost)`.htaccess`\n\n```bash\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n```\n\n## \n\n\n\n### 5.1 HTTP Strict Transport Security (HSTS)\n\n`https://`3xxHTTPHTTPSHTTP\n\n\n\nHTTP HSTSHTTPS\n\n[](https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8)\n\n```http\nStrict-Transport-Security: max-age=31536000; includeSubDomains\n```\n\n\n\n> 131536000`example.com`HTTPHTTPS`http://www.example.com/``http``https``https://www.example.com/`\n> \n> 2`example.com`\n\nHSTS  SSL `HTTPS``HTTP`\n\nHTTPHSTS\n\n### 5.2 Cookie\n\n HTTPS Cookie\n\n`Set-Cookie``Secure`\n\n```http\nSet-Cookie: LSID=DQAAAKEaem_vYg; Secure\n```\n\n## \n\n- [How To Migrate To HTTPS](https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#), by Chris Palmer\n- [Complete Guide  How to Migrate from HTTP to HTTPS](https://www.keycdn.com/blog/http-to-https/), by KeyCDN\n- [What You Need to Know About Changing From Http to Https](http://smallbiztrends.com/2015/04/changing-from-http-to-https.html), by Matt Mansfield\n\n","slug":"https","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e2000ihpwf3i2kulha","content":"<p> <a href=\"http://www.ruanyifeng.com/blog/2016/08/http.html\" target=\"_blank\" rel=\"noopener\">HTTP/2 </a>  HTTPS </p>\n<p> HTTP/2  HTTPS HTTPS  TLS </p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html\" target=\"_blank\" rel=\"noopener\"> HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n</ul>\n</blockquote>\n<a id=\"more\"></a>\n<p> HTTP  HTTPS </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTPS</p>\n<p></p>\n<blockquote>\n<ul>\n<li><a href=\"https://www.gogetssl.com/\" target=\"_blank\" rel=\"noopener\">GoGetSSL</a></li>\n<li><a href=\"https://www.ssls.com/\" target=\"_blank\" rel=\"noopener\">SSLs.com</a></li>\n<li><a href=\"https://sslmate.com/\" target=\"_blank\" rel=\"noopener\">SSLmate.com</a></li>\n</ul>\n</blockquote>\n<p></p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png\" alt=\"\"></p>\n<blockquote>\n<ul>\n<li><strong></strong>Domain Validation</li>\n<li><strong></strong>Company Validation</li>\n<li><strong></strong>Extended Validation</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<ul>\n<li><strong></strong><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>*.foo.com</code><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>foo.com</code><code>bar.com</code></li>\n</ul>\n</blockquote>\n<p></p>\n<p>HTTPSEFF <a href=\"https://letsencrypt.org/\" target=\"_blank\" rel=\"noopener\">Lets Encrypt</a><a href=\"https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"https://tools.keycdn.com/ssl\" target=\"_blank\" rel=\"noopener\">SSL Certificate Check</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/ssl</code>Linux Web</p>\n<blockquote>\n<ul>\n<li><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\" target=\"_blank\" rel=\"noopener\"></a>by Mozilla</li>\n<li><a href=\"https://github.com/SSLMate/tlsconfigguide/tree/master/templates\" target=\"_blank\" rel=\"noopener\"></a>by SSLMate</li>\n</ul>\n</blockquote>\n<p> Lets Encrypt <a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"noopener\">Certbot</a></p>\n<p> <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" target=\"_blank\" rel=\"noopener\">SSL Labs Server Test</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> HTTP  HTTPS </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>rel=&quot;canonical&quot;</code>HTTPS</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"canonical\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://foo.com/bar.html\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"301\"><a href=\"#301\" class=\"headerlink\" title=\"301\"></a>301</h2><p> Web  301  HTTP  HTTPS </p>\n<p><a href=\"https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom\" target=\"_blank\" rel=\"noopener\">Nginx </a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 80;</span><br><span class=\"line\">  server_name domain.com www.domain.com;</span><br><span class=\"line\">  return 301 https://domain.com$request_uri;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost\" target=\"_blank\" rel=\"noopener\">Apache </a><code>.htaccess</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RewriteEngine On</span><br><span class=\"line\">RewriteCond %&#123;HTTPS&#125; off</span><br><span class=\"line\">RewriteRule (.*) https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125; [R=301,L]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"5-1-HTTP-Strict-Transport-Security-HSTS\"><a href=\"#5-1-HTTP-Strict-Transport-Security-HSTS\" class=\"headerlink\" title=\"5.1 HTTP Strict Transport Security (HSTS)\"></a>5.1 HTTP Strict Transport Security (HSTS)</h3><p><code>https://</code>3xxHTTPHTTPSHTTP</p>\n<p></p>\n<p>HTTP HSTSHTTPS</p>\n<p><a href=\"https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8\" target=\"_blank\" rel=\"noopener\"></a></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Strict-Transport-Security</span>: max-age=31536000; includeSubDomains</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>131536000<code>example.com</code>HTTPHTTPS<code>http://www.example.com/</code><code>http</code><code>https</code><code>https://www.example.com/</code></p>\n<p>2<code>example.com</code></p>\n</blockquote>\n<p>HSTS  SSL <code>HTTPS</code><code>HTTP</code></p>\n<p>HTTPHSTS</p>\n<h3 id=\"5-2-Cookie\"><a href=\"#5-2-Cookie\" class=\"headerlink\" title=\"5.2 Cookie\"></a>5.2 Cookie</h3><p> HTTPS Cookie</p>\n<p><code>Set-Cookie</code><code>Secure</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Set-Cookie</span>: LSID=DQAAAKEaem_vYg; Secure</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#\" target=\"_blank\" rel=\"noopener\">How To Migrate To HTTPS</a>, by Chris Palmer</li>\n<li><a href=\"https://www.keycdn.com/blog/http-to-https/\" target=\"_blank\" rel=\"noopener\">Complete Guide  How to Migrate from HTTP to HTTPS</a>, by KeyCDN</li>\n<li><a href=\"http://smallbiztrends.com/2015/04/changing-from-http-to-https.html\" target=\"_blank\" rel=\"noopener\">What You Need to Know About Changing From Http to Https</a>, by Matt Mansfield</li>\n</ul>\n<p></p>\n","site":{"data":{}},"excerpt":"<p> <a href=\"http://www.ruanyifeng.com/blog/2016/08/http.html\" target=\"_blank\" rel=\"noopener\">HTTP/2 </a>  HTTPS </p>\n<p> HTTP/2  HTTPS HTTPS  TLS </p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html\" target=\"_blank\" rel=\"noopener\"> HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html\" target=\"_blank\" rel=\"noopener\">HTTPS </a></li>\n</ul>\n</blockquote>","more":"<p> HTTP  HTTPS </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTPS</p>\n<p></p>\n<blockquote>\n<ul>\n<li><a href=\"https://www.gogetssl.com/\" target=\"_blank\" rel=\"noopener\">GoGetSSL</a></li>\n<li><a href=\"https://www.ssls.com/\" target=\"_blank\" rel=\"noopener\">SSLs.com</a></li>\n<li><a href=\"https://sslmate.com/\" target=\"_blank\" rel=\"noopener\">SSLmate.com</a></li>\n</ul>\n</blockquote>\n<p></p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png\" alt=\"\"></p>\n<blockquote>\n<ul>\n<li><strong></strong>Domain Validation</li>\n<li><strong></strong>Company Validation</li>\n<li><strong></strong>Extended Validation</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<ul>\n<li><strong></strong><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>*.foo.com</code><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>foo.com</code><code>bar.com</code></li>\n</ul>\n</blockquote>\n<p></p>\n<p>HTTPSEFF <a href=\"https://letsencrypt.org/\" target=\"_blank\" rel=\"noopener\">Lets Encrypt</a><a href=\"https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"https://tools.keycdn.com/ssl\" target=\"_blank\" rel=\"noopener\">SSL Certificate Check</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/ssl</code>Linux Web</p>\n<blockquote>\n<ul>\n<li><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\" target=\"_blank\" rel=\"noopener\"></a>by Mozilla</li>\n<li><a href=\"https://github.com/SSLMate/tlsconfigguide/tree/master/templates\" target=\"_blank\" rel=\"noopener\"></a>by SSLMate</li>\n</ul>\n</blockquote>\n<p> Lets Encrypt <a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"noopener\">Certbot</a></p>\n<p> <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" target=\"_blank\" rel=\"noopener\">SSL Labs Server Test</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> HTTP  HTTPS </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>rel=&quot;canonical&quot;</code>HTTPS</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"canonical\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://foo.com/bar.html\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"301\"><a href=\"#301\" class=\"headerlink\" title=\"301\"></a>301</h2><p> Web  301  HTTP  HTTPS </p>\n<p><a href=\"https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom\" target=\"_blank\" rel=\"noopener\">Nginx </a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 80;</span><br><span class=\"line\">  server_name domain.com www.domain.com;</span><br><span class=\"line\">  return 301 https://domain.com$request_uri;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost\" target=\"_blank\" rel=\"noopener\">Apache </a><code>.htaccess</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RewriteEngine On</span><br><span class=\"line\">RewriteCond %&#123;HTTPS&#125; off</span><br><span class=\"line\">RewriteRule (.*) https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125; [R=301,L]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"5-1-HTTP-Strict-Transport-Security-HSTS\"><a href=\"#5-1-HTTP-Strict-Transport-Security-HSTS\" class=\"headerlink\" title=\"5.1 HTTP Strict Transport Security (HSTS)\"></a>5.1 HTTP Strict Transport Security (HSTS)</h3><p><code>https://</code>3xxHTTPHTTPSHTTP</p>\n<p></p>\n<p>HTTP HSTSHTTPS</p>\n<p><a href=\"https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8\" target=\"_blank\" rel=\"noopener\"></a></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Strict-Transport-Security</span>: max-age=31536000; includeSubDomains</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>131536000<code>example.com</code>HTTPHTTPS<code>http://www.example.com/</code><code>http</code><code>https</code><code>https://www.example.com/</code></p>\n<p>2<code>example.com</code></p>\n</blockquote>\n<p>HSTS  SSL <code>HTTPS</code><code>HTTP</code></p>\n<p>HTTPHSTS</p>\n<h3 id=\"5-2-Cookie\"><a href=\"#5-2-Cookie\" class=\"headerlink\" title=\"5.2 Cookie\"></a>5.2 Cookie</h3><p> HTTPS Cookie</p>\n<p><code>Set-Cookie</code><code>Secure</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Set-Cookie</span>: LSID=DQAAAKEaem_vYg; Secure</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#\" target=\"_blank\" rel=\"noopener\">How To Migrate To HTTPS</a>, by Chris Palmer</li>\n<li><a href=\"https://www.keycdn.com/blog/http-to-https/\" target=\"_blank\" rel=\"noopener\">Complete Guide  How to Migrate from HTTP to HTTPS</a>, by KeyCDN</li>\n<li><a href=\"http://smallbiztrends.com/2015/04/changing-from-http-to-https.html\" target=\"_blank\" rel=\"noopener\">What You Need to Know About Changing From Http to Https</a>, by Matt Mansfield</li>\n</ul>\n<p></p>"},{"title":"HTTP ","date":"2014-11-23T08:43:07.000Z","updated":"2014-11-23T08:43:07.000Z","_content":"HTTP HTTP/2 \n\nHTTP\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg)\n<!-- more -->\n## HTTP/0.9\n\nHTTP TCP/IP [****](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)packet80\n\n19910.9`GET`\n\n```http\nGET /index.html\n```\n\nTCPconnectionrequest`index.html`\n\nHTML\n\n```html\n<html>\n  <body>Hello World</body>\n</html>\n```\n\nTCP\n\n## HTTP/1.0\n\n### 2.1 \n\n19965HTTP/1.0 \n\n\n\n`GET``POST``HEAD`\n\nHTTPHTTP header\n\nstatus codemulti-part typeauthorizationcachecontent encoding\n\n### 2.2 \n\n1.0HTTP\n\n```http\nGET / HTTP/1.0\nHost: kamranahmed.info\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAccept: */*\n```\n\n0.9\n\n`HTTP/1.0`\n\n### 2.3 \n\n\n\n```http\nHTTP/1.0 200 OK \nContent-Type: text/plain\nContent-Length: 137582\nExpires: Thu, 05 Dec 1997 16:00:00 GMT\nLast-Modified: Wed, 5 August 1996 15:55:28 GMT\nServer: Apache 0.84\n\n<html>\n  <body>Hello World</body>\n</html>\n```\n\n` + `\\r\\n` + `` + status code + `\n\n### 2.4 Content-Type \n\n1.0 ASCII `Content-Type`\n\n`Content-Type`\n\n> - text/plain\n- text/html\n- text/css\n- image/jpeg\n- image/png\n- image/svg+xml\n- audio/mp4\n- video/mp4\n- application/javascript\n- application/pdf\n- application/zip\n- application/atom+xml\n\n`MIME type`\n\n\n\n```http\napplication/vnd.debian.binary-package\n```\n\nDebian\n\n`MIME type`\n\n```http\nContent-Type: text/html; charset=utf-8\n```\n\nUTF-8\n\n`MIME type`HTTPHTML\n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<!--  -->\n<meta charset=\"utf-8\" /> \n```\n\n### 2.5 Content-Encoding \n\n`Content-Encoding`\n\n```http\nContent-Encoding: gzip\nContent-Encoding: compress\nContent-Encoding: deflate\n```\n\n`Accept-Encoding`\n\n```http\nAccept-Encoding: gzip, deflate\n```\n\n### 2.6 \n\nHTTP/1.0 TCP\n\nTCPslow startHTTP 1.0\n\n`Connection`\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n## HTTP/1.1\n\n19971HTTP/1.1  1.0  HTTP 20\n\n### 3.1 \n\n1.1 persistent connectionTCP`Connection: keep-alive`\n\n`Connection: close`TCP\n\n```http\nConnection: close\n```\n\n6\n\n### 3.2 \n\n1.1 pipeliningTCPHTTP\n\nTCPABABAB\n\n### 3.3 Content-Length \n\nTCP`Content-length`\n\n```http\nContent-Length: 3495\n```\n\n3495\n\n1.0`Content-Length`TCP\n\n### 3.4 \n\n`Content-Length`\n\nstreambuffer\n\n1.1`Content-Length`[](https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81)chunked transfer encoding`Transfer-Encoding`\n\n```http\nTransfer-Encoding: chunked\n```\n\n160\n\n```http\nHTTP/1.1 200 OK\nContent-Type: text/plain\nTransfer-Encoding: chunked\n\n25\nThis is the data in the first chunk\n\n1C\nand this is the second one\n\n3\ncon\n\n8\nsequence\n\n0\n\n```\n\n### 3.5 \n\n1.1`PUT``PATCH``HEAD` `OPTIONS``DELETE`\n\n`Host`\n\n```http\nHost: www.example.com\n```\n\n`Host`\n\n### 3.6 \n\n1.1TCPTCP[](https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E)Head-of-line blocking\n\nCSSdomain shardingHTTP\n\n## SPDY \n\n2009 SPDY  HTTP/1.1  \n\nChrome HTTP/2  HTTP/2 \n\n## HTTP/2\n\n2015HTTP/2  HTTP/2.0 HTTP/3\n\n### 5.1 \n\nHTTP/1.1 ASCIIHTTP/2 frame\n\nHTTP/2 \n\n### 5.2 \n\nHTTP/2 TCP\n\nTCPABAA BA\n\nMultiplexing\n\n### 5.3 \n\n HTTP/2 \n\nHTTP/2 streamIDIDID\n\n`RST_STREAM`1.1TCPHTTP/2 TCP\n\n\n\n### 5.4 \n\nHTTP `Cookie``User Agent`\n\nHTTP/2 header compression`gzip``compress`\n\n### 5.5 \n\nHTTP/2 server push\n\nHTML\n\n### \n\n- [Journey to HTTP/2](http://kamranahmed.info/blog/2016/08/13/http-in-depth/), by Kamran Ahmed\n- [HTTP](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol), by Wikipedia\n- [HTTP/2 Specification](https://http2.github.io/http2-spec/)","source":"_posts/2014/http.md","raw":"---\ntitle: HTTP  \ndate: 2014-11-23 16:43:07\nupdated: 2014-11-23 16:43:07\ntags:\ncategories:\n---\nHTTP HTTP/2 \n\nHTTP\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg)\n<!-- more -->\n## HTTP/0.9\n\nHTTP TCP/IP [****](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)packet80\n\n19910.9`GET`\n\n```http\nGET /index.html\n```\n\nTCPconnectionrequest`index.html`\n\nHTML\n\n```html\n<html>\n  <body>Hello World</body>\n</html>\n```\n\nTCP\n\n## HTTP/1.0\n\n### 2.1 \n\n19965HTTP/1.0 \n\n\n\n`GET``POST``HEAD`\n\nHTTPHTTP header\n\nstatus codemulti-part typeauthorizationcachecontent encoding\n\n### 2.2 \n\n1.0HTTP\n\n```http\nGET / HTTP/1.0\nHost: kamranahmed.info\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAccept: */*\n```\n\n0.9\n\n`HTTP/1.0`\n\n### 2.3 \n\n\n\n```http\nHTTP/1.0 200 OK \nContent-Type: text/plain\nContent-Length: 137582\nExpires: Thu, 05 Dec 1997 16:00:00 GMT\nLast-Modified: Wed, 5 August 1996 15:55:28 GMT\nServer: Apache 0.84\n\n<html>\n  <body>Hello World</body>\n</html>\n```\n\n` + `\\r\\n` + `` + status code + `\n\n### 2.4 Content-Type \n\n1.0 ASCII `Content-Type`\n\n`Content-Type`\n\n> - text/plain\n- text/html\n- text/css\n- image/jpeg\n- image/png\n- image/svg+xml\n- audio/mp4\n- video/mp4\n- application/javascript\n- application/pdf\n- application/zip\n- application/atom+xml\n\n`MIME type`\n\n\n\n```http\napplication/vnd.debian.binary-package\n```\n\nDebian\n\n`MIME type`\n\n```http\nContent-Type: text/html; charset=utf-8\n```\n\nUTF-8\n\n`MIME type`HTTPHTML\n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<!--  -->\n<meta charset=\"utf-8\" /> \n```\n\n### 2.5 Content-Encoding \n\n`Content-Encoding`\n\n```http\nContent-Encoding: gzip\nContent-Encoding: compress\nContent-Encoding: deflate\n```\n\n`Accept-Encoding`\n\n```http\nAccept-Encoding: gzip, deflate\n```\n\n### 2.6 \n\nHTTP/1.0 TCP\n\nTCPslow startHTTP 1.0\n\n`Connection`\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n## HTTP/1.1\n\n19971HTTP/1.1  1.0  HTTP 20\n\n### 3.1 \n\n1.1 persistent connectionTCP`Connection: keep-alive`\n\n`Connection: close`TCP\n\n```http\nConnection: close\n```\n\n6\n\n### 3.2 \n\n1.1 pipeliningTCPHTTP\n\nTCPABABAB\n\n### 3.3 Content-Length \n\nTCP`Content-length`\n\n```http\nContent-Length: 3495\n```\n\n3495\n\n1.0`Content-Length`TCP\n\n### 3.4 \n\n`Content-Length`\n\nstreambuffer\n\n1.1`Content-Length`[](https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81)chunked transfer encoding`Transfer-Encoding`\n\n```http\nTransfer-Encoding: chunked\n```\n\n160\n\n```http\nHTTP/1.1 200 OK\nContent-Type: text/plain\nTransfer-Encoding: chunked\n\n25\nThis is the data in the first chunk\n\n1C\nand this is the second one\n\n3\ncon\n\n8\nsequence\n\n0\n\n```\n\n### 3.5 \n\n1.1`PUT``PATCH``HEAD` `OPTIONS``DELETE`\n\n`Host`\n\n```http\nHost: www.example.com\n```\n\n`Host`\n\n### 3.6 \n\n1.1TCPTCP[](https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E)Head-of-line blocking\n\nCSSdomain shardingHTTP\n\n## SPDY \n\n2009 SPDY  HTTP/1.1  \n\nChrome HTTP/2  HTTP/2 \n\n## HTTP/2\n\n2015HTTP/2  HTTP/2.0 HTTP/3\n\n### 5.1 \n\nHTTP/1.1 ASCIIHTTP/2 frame\n\nHTTP/2 \n\n### 5.2 \n\nHTTP/2 TCP\n\nTCPABAA BA\n\nMultiplexing\n\n### 5.3 \n\n HTTP/2 \n\nHTTP/2 streamIDIDID\n\n`RST_STREAM`1.1TCPHTTP/2 TCP\n\n\n\n### 5.4 \n\nHTTP `Cookie``User Agent`\n\nHTTP/2 header compression`gzip``compress`\n\n### 5.5 \n\nHTTP/2 server push\n\nHTML\n\n### \n\n- [Journey to HTTP/2](http://kamranahmed.info/blog/2016/08/13/http-in-depth/), by Kamran Ahmed\n- [HTTP](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol), by Wikipedia\n- [HTTP/2 Specification](https://http2.github.io/http2-spec/)","slug":"http","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e4000jhpwfqy0gsz3c","content":"<p>HTTP HTTP/2 </p>\n<p>HTTP</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg\" alt=\"\"><br><a id=\"more\"></a></p>\n<h2 id=\"HTTP-0-9\"><a href=\"#HTTP-0-9\" class=\"headerlink\" title=\"HTTP/0.9\"></a>HTTP/0.9</h2><p>HTTP TCP/IP <a href=\"http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html\" target=\"_blank\" rel=\"noopener\"><strong></strong></a>packet80</p>\n<p>19910.9<code>GET</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index.html</span><br></pre></td></tr></table></figure>\n<p>TCPconnectionrequest<code>index.html</code></p>\n<p>HTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-0\"><a href=\"#HTTP-1-0\" class=\"headerlink\" title=\"HTTP/1.0\"></a>HTTP/1.0</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>19965HTTP/1.0 </p>\n<p></p>\n<p><code>GET</code><code>POST</code><code>HEAD</code></p>\n<p>HTTPHTTP header</p>\n<p>status codemulti-part typeauthorizationcachecontent encoding</p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>1.0HTTP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">GET</span> <span class=\"string\">/</span> HTTP/1.0</span><br><span class=\"line\"><span class=\"attribute\">Host</span>: kamranahmed.info</span><br><span class=\"line\"><span class=\"attribute\">User-Agent</span>: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</span><br><span class=\"line\"><span class=\"attribute\">Accept</span>: */*</span><br></pre></td></tr></table></figure>\n<p>0.9</p>\n<p><code>HTTP/1.0</code></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><p></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.0 <span class=\"number\">200</span> OK </span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 137582</span><br><span class=\"line\"><span class=\"attribute\">Expires</span>: Thu, 05 Dec 1997 16:00:00 GMT</span><br><span class=\"line\"><span class=\"attribute\">Last-Modified</span>: Wed, 5 August 1996 15:55:28 GMT</span><br><span class=\"line\"><span class=\"attribute\">Server</span>: Apache 0.84</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;body&gt;Hello World&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p><code> + </code>\\r\\n<code> + </code><code> + status code + </code></p>\n<h3 id=\"2-4-Content-Type-\"><a href=\"#2-4-Content-Type-\" class=\"headerlink\" title=\"2.4 Content-Type \"></a>2.4 Content-Type </h3><p>1.0 ASCII <code>Content-Type</code></p>\n<p><code>Content-Type</code></p>\n<blockquote>\n<ul>\n<li>text/plain</li>\n<li>text/html</li>\n<li>text/css</li>\n<li>image/jpeg</li>\n<li>image/png</li>\n<li>image/svg+xml</li>\n<li>audio/mp4</li>\n<li>video/mp4</li>\n<li>application/javascript</li>\n<li>application/pdf</li>\n<li>application/zip</li>\n<li>application/atom+xml</li>\n</ul>\n</blockquote>\n<p><code>MIME type</code></p>\n<p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">application/vnd.debian.binary-package</span></span><br></pre></td></tr></table></figure>\n<p>Debian</p>\n<p><code>MIME type</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/html; charset=utf-8</span><br></pre></td></tr></table></figure>\n<p>UTF-8</p>\n<p><code>MIME type</code>HTTPHTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-5-Content-Encoding-\"><a href=\"#2-5-Content-Encoding-\" class=\"headerlink\" title=\"2.5 Content-Encoding \"></a>2.5 Content-Encoding </h3><p><code>Content-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: gzip</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: compress</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: deflate</span><br></pre></td></tr></table></figure>\n<p><code>Accept-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Accept-Encoding</span>: gzip, deflate</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-6-\"><a href=\"#2-6-\" class=\"headerlink\" title=\"2.6 \"></a>2.6 </h3><p>HTTP/1.0 TCP</p>\n<p>TCPslow startHTTP 1.0</p>\n<p><code>Connection</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-1\"><a href=\"#HTTP-1-1\" class=\"headerlink\" title=\"HTTP/1.1\"></a>HTTP/1.1</h2><p>19971HTTP/1.1  1.0  HTTP 20</p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>1.1 persistent connectionTCP<code>Connection: keep-alive</code></p>\n<p><code>Connection: close</code>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: close</span><br></pre></td></tr></table></figure>\n<p>6</p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>1.1 pipeliningTCPHTTP</p>\n<p>TCPABABAB</p>\n<h3 id=\"3-3-Content-Length-\"><a href=\"#3-3-Content-Length-\" class=\"headerlink\" title=\"3.3 Content-Length \"></a>3.3 Content-Length </h3><p>TCP<code>Content-length</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 3495</span><br></pre></td></tr></table></figure>\n<p>3495</p>\n<p>1.0<code>Content-Length</code>TCP</p>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p><code>Content-Length</code></p>\n<p>streambuffer</p>\n<p>1.1<code>Content-Length</code><a href=\"https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81\" target=\"_blank\" rel=\"noopener\"></a>chunked transfer encoding<code>Transfer-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br></pre></td></tr></table></figure>\n<p>160</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 <span class=\"number\">200</span> OK</span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">25</span></span><br><span class=\"line\">This is the data in the first chunk</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">1C</span></span><br><span class=\"line\">and this is the second one</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">3</span></span><br><span class=\"line\"><span class=\"attribute\">con</span></span><br><span class=\"line\"><span class=\"attribute\"></span></span><br><span class=\"line\"><span class=\"attribute\">8</span></span><br><span class=\"line\"><span class=\"attribute\">sequence</span></span><br><span class=\"line\"><span class=\"attribute\"></span></span><br><span class=\"line\"><span class=\"attribute\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h3><p>1.1<code>PUT</code><code>PATCH</code><code>HEAD</code> <code>OPTIONS</code><code>DELETE</code></p>\n<p><code>Host</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Host</span>: www.example.com</span><br></pre></td></tr></table></figure>\n<p><code>Host</code></p>\n<h3 id=\"3-6-\"><a href=\"#3-6-\" class=\"headerlink\" title=\"3.6 \"></a>3.6 </h3><p>1.1TCPTCP<a href=\"https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E\" target=\"_blank\" rel=\"noopener\"></a>Head-of-line blocking</p>\n<p>CSSdomain shardingHTTP</p>\n<h2 id=\"SPDY-\"><a href=\"#SPDY-\" class=\"headerlink\" title=\"SPDY \"></a>SPDY </h2><p>2009 SPDY  HTTP/1.1  </p>\n<p>Chrome HTTP/2  HTTP/2 </p>\n<h2 id=\"HTTP-2\"><a href=\"#HTTP-2\" class=\"headerlink\" title=\"HTTP/2\"></a>HTTP/2</h2><p>2015HTTP/2  HTTP/2.0 HTTP/3</p>\n<h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p>HTTP/1.1 ASCIIHTTP/2 frame</p>\n<p>HTTP/2 </p>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>HTTP/2 TCP</p>\n<p>TCPABAA BA</p>\n<p>Multiplexing</p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><p> HTTP/2 </p>\n<p>HTTP/2 streamIDIDID</p>\n<p><code>RST_STREAM</code>1.1TCPHTTP/2 TCP</p>\n<p></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>HTTP <code>Cookie</code><code>User Agent</code></p>\n<p>HTTP/2 header compression<code>gzip</code><code>compress</code></p>\n<h3 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h3><p>HTTP/2 server push</p>\n<p>HTML</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"http://kamranahmed.info/blog/2016/08/13/http-in-depth/\" target=\"_blank\" rel=\"noopener\">Journey to HTTP/2</a>, by Kamran Ahmed</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP</a>, by Wikipedia</li>\n<li><a href=\"https://http2.github.io/http2-spec/\" target=\"_blank\" rel=\"noopener\">HTTP/2 Specification</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>HTTP HTTP/2 </p>\n<p>HTTP</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg\" alt=\"\"><br>","more":"</p>\n<h2 id=\"HTTP-0-9\"><a href=\"#HTTP-0-9\" class=\"headerlink\" title=\"HTTP/0.9\"></a>HTTP/0.9</h2><p>HTTP TCP/IP <a href=\"http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html\" target=\"_blank\" rel=\"noopener\"><strong></strong></a>packet80</p>\n<p>19910.9<code>GET</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index.html</span><br></pre></td></tr></table></figure>\n<p>TCPconnectionrequest<code>index.html</code></p>\n<p>HTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-0\"><a href=\"#HTTP-1-0\" class=\"headerlink\" title=\"HTTP/1.0\"></a>HTTP/1.0</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>19965HTTP/1.0 </p>\n<p></p>\n<p><code>GET</code><code>POST</code><code>HEAD</code></p>\n<p>HTTPHTTP header</p>\n<p>status codemulti-part typeauthorizationcachecontent encoding</p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>1.0HTTP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">GET</span> <span class=\"string\">/</span> HTTP/1.0</span><br><span class=\"line\"><span class=\"attribute\">Host</span>: kamranahmed.info</span><br><span class=\"line\"><span class=\"attribute\">User-Agent</span>: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</span><br><span class=\"line\"><span class=\"attribute\">Accept</span>: */*</span><br></pre></td></tr></table></figure>\n<p>0.9</p>\n<p><code>HTTP/1.0</code></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><p></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.0 <span class=\"number\">200</span> OK </span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 137582</span><br><span class=\"line\"><span class=\"attribute\">Expires</span>: Thu, 05 Dec 1997 16:00:00 GMT</span><br><span class=\"line\"><span class=\"attribute\">Last-Modified</span>: Wed, 5 August 1996 15:55:28 GMT</span><br><span class=\"line\"><span class=\"attribute\">Server</span>: Apache 0.84</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;body&gt;Hello World&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p><code> + </code>\\r\\n<code> + </code><code> + status code + </code></p>\n<h3 id=\"2-4-Content-Type-\"><a href=\"#2-4-Content-Type-\" class=\"headerlink\" title=\"2.4 Content-Type \"></a>2.4 Content-Type </h3><p>1.0 ASCII <code>Content-Type</code></p>\n<p><code>Content-Type</code></p>\n<blockquote>\n<ul>\n<li>text/plain</li>\n<li>text/html</li>\n<li>text/css</li>\n<li>image/jpeg</li>\n<li>image/png</li>\n<li>image/svg+xml</li>\n<li>audio/mp4</li>\n<li>video/mp4</li>\n<li>application/javascript</li>\n<li>application/pdf</li>\n<li>application/zip</li>\n<li>application/atom+xml</li>\n</ul>\n</blockquote>\n<p><code>MIME type</code></p>\n<p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">application/vnd.debian.binary-package</span></span><br></pre></td></tr></table></figure>\n<p>Debian</p>\n<p><code>MIME type</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/html; charset=utf-8</span><br></pre></td></tr></table></figure>\n<p>UTF-8</p>\n<p><code>MIME type</code>HTTPHTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-5-Content-Encoding-\"><a href=\"#2-5-Content-Encoding-\" class=\"headerlink\" title=\"2.5 Content-Encoding \"></a>2.5 Content-Encoding </h3><p><code>Content-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: gzip</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: compress</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: deflate</span><br></pre></td></tr></table></figure>\n<p><code>Accept-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Accept-Encoding</span>: gzip, deflate</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-6-\"><a href=\"#2-6-\" class=\"headerlink\" title=\"2.6 \"></a>2.6 </h3><p>HTTP/1.0 TCP</p>\n<p>TCPslow startHTTP 1.0</p>\n<p><code>Connection</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-1\"><a href=\"#HTTP-1-1\" class=\"headerlink\" title=\"HTTP/1.1\"></a>HTTP/1.1</h2><p>19971HTTP/1.1  1.0  HTTP 20</p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>1.1 persistent connectionTCP<code>Connection: keep-alive</code></p>\n<p><code>Connection: close</code>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: close</span><br></pre></td></tr></table></figure>\n<p>6</p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>1.1 pipeliningTCPHTTP</p>\n<p>TCPABABAB</p>\n<h3 id=\"3-3-Content-Length-\"><a href=\"#3-3-Content-Length-\" class=\"headerlink\" title=\"3.3 Content-Length \"></a>3.3 Content-Length </h3><p>TCP<code>Content-length</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 3495</span><br></pre></td></tr></table></figure>\n<p>3495</p>\n<p>1.0<code>Content-Length</code>TCP</p>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p><code>Content-Length</code></p>\n<p>streambuffer</p>\n<p>1.1<code>Content-Length</code><a href=\"https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81\" target=\"_blank\" rel=\"noopener\"></a>chunked transfer encoding<code>Transfer-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br></pre></td></tr></table></figure>\n<p>160</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 <span class=\"number\">200</span> OK</span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">25</span></span><br><span class=\"line\">This is the data in the first chunk</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">1C</span></span><br><span class=\"line\">and this is the second one</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">3</span></span><br><span class=\"line\"><span class=\"attribute\">con</span></span><br><span class=\"line\"><span class=\"attribute\"></span></span><br><span class=\"line\"><span class=\"attribute\">8</span></span><br><span class=\"line\"><span class=\"attribute\">sequence</span></span><br><span class=\"line\"><span class=\"attribute\"></span></span><br><span class=\"line\"><span class=\"attribute\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h3><p>1.1<code>PUT</code><code>PATCH</code><code>HEAD</code> <code>OPTIONS</code><code>DELETE</code></p>\n<p><code>Host</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Host</span>: www.example.com</span><br></pre></td></tr></table></figure>\n<p><code>Host</code></p>\n<h3 id=\"3-6-\"><a href=\"#3-6-\" class=\"headerlink\" title=\"3.6 \"></a>3.6 </h3><p>1.1TCPTCP<a href=\"https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E\" target=\"_blank\" rel=\"noopener\"></a>Head-of-line blocking</p>\n<p>CSSdomain shardingHTTP</p>\n<h2 id=\"SPDY-\"><a href=\"#SPDY-\" class=\"headerlink\" title=\"SPDY \"></a>SPDY </h2><p>2009 SPDY  HTTP/1.1  </p>\n<p>Chrome HTTP/2  HTTP/2 </p>\n<h2 id=\"HTTP-2\"><a href=\"#HTTP-2\" class=\"headerlink\" title=\"HTTP/2\"></a>HTTP/2</h2><p>2015HTTP/2  HTTP/2.0 HTTP/3</p>\n<h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p>HTTP/1.1 ASCIIHTTP/2 frame</p>\n<p>HTTP/2 </p>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>HTTP/2 TCP</p>\n<p>TCPABAA BA</p>\n<p>Multiplexing</p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><p> HTTP/2 </p>\n<p>HTTP/2 streamIDIDID</p>\n<p><code>RST_STREAM</code>1.1TCPHTTP/2 TCP</p>\n<p></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>HTTP <code>Cookie</code><code>User Agent</code></p>\n<p>HTTP/2 header compression<code>gzip</code><code>compress</code></p>\n<h3 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h3><p>HTTP/2 server push</p>\n<p>HTML</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"http://kamranahmed.info/blog/2016/08/13/http-in-depth/\" target=\"_blank\" rel=\"noopener\">Journey to HTTP/2</a>, by Kamran Ahmed</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP</a>, by Wikipedia</li>\n<li><a href=\"https://http2.github.io/http2-spec/\" target=\"_blank\" rel=\"noopener\">HTTP/2 Specification</a></li>\n</ul>"},{"title":"learning","date":"2014-08-08T11:08:34.000Z","_content":"\n****\"\"\n\n```code\n    while (alive) {\n        learn;\n    }\n```\n","source":"_posts/2014/learn-if-alive.md","raw":"---\ntitle: learning\ndate: 2014-08-08T19:08:34.000Z\ntags:\n  - learn\ncategories: \n---\n\n****\"\"\n\n```code\n    while (alive) {\n        learn;\n    }\n```\n","slug":"learn-if-alive","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e5000mhpwfcwvas69n","content":"<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">while (alive) &#123;</span><br><span class=\"line\">    learn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">while (alive) &#123;</span><br><span class=\"line\">    learn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"","date":"2014-12-14T16:40:51.000Z","_content":"\n# \n\n__ \n\n- \n- \n- Reorganizing......\n<!-- more -->\n\n> \"\" ![](/images/figure05.png)\n\n \"\"----.\"\"\"\"[Rosetta Stone](http://www.rosettastone.com/)\n\n- \n- \n- \n\n\"\"Self-fulfilling prophecy\n\n> \n\n\n\n> ......\n\n\"\"\"\"\"\" **** \n\n\n\n\"\"\"\"......\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n\"\"\"\" \"\"\"\"100TOEFL\n\n## \n\n\n\n> ...... \n\n### \n\n\n\n### ,\"\"\n\n### \"\"\n\n:\n\n> Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.\n\n\"\"\n\n> One of the reasons why many parents want to send their children to separate school is that they are worried about .\n\n\"undernutrition\"\"under\"\n\n> ......underground ......undernutritionunderage drinking......\n\n\"underage drinking\"\"\"\"\"\"\"\"underage sexual behaviors\"......\n\nOne of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.\n\n### \n\n\"\"......\n\n>  \n\n\"\"\"\"\n\n# \n\n\"\"----\n\n\"\"\"Photoshop\"\n\n- Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern\n- Thinking and Deciding, 4th edition, by Jonathan Baron\n- Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)\n- Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams\n- Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style\n\n- A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<http://www.plainlanguage.gov>)\n\n- On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)\n- Building Great Sentences\n\n# -- \n\n\"\"ETSTOEFL\"\"\"\" TOEFL ----\"\"\n\n# pattern recognition) \n\n\n\n## \n1. \n2. \n3. \n4. \n[cnn radio](http://edition.cnn.com/audio/radio/radio.html)\n\n","source":"_posts/2014/learn-english.md","raw":"---\ntitle: \ndate: 2014-12-15T00:40:51.000Z\ntags:\n  - english\ncategories: null\n---\n\n# \n\n__ \n\n- \n- \n- Reorganizing......\n<!-- more -->\n\n> \"\" ![](/images/figure05.png)\n\n \"\"----.\"\"\"\"[Rosetta Stone](http://www.rosettastone.com/)\n\n- \n- \n- \n\n\"\"Self-fulfilling prophecy\n\n> \n\n\n\n> ......\n\n\"\"\"\"\"\" **** \n\n\n\n\"\"\"\"......\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n\"\"\"\" \"\"\"\"100TOEFL\n\n## \n\n\n\n> ...... \n\n### \n\n\n\n### ,\"\"\n\n### \"\"\n\n:\n\n> Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.\n\n\"\"\n\n> One of the reasons why many parents want to send their children to separate school is that they are worried about .\n\n\"undernutrition\"\"under\"\n\n> ......underground ......undernutritionunderage drinking......\n\n\"underage drinking\"\"\"\"\"\"\"\"underage sexual behaviors\"......\n\nOne of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.\n\n### \n\n\"\"......\n\n>  \n\n\"\"\"\"\n\n# \n\n\"\"----\n\n\"\"\"Photoshop\"\n\n- Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern\n- Thinking and Deciding, 4th edition, by Jonathan Baron\n- Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)\n- Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams\n- Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style\n\n- A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<http://www.plainlanguage.gov>)\n\n- On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)\n- Building Great Sentences\n\n# -- \n\n\"\"ETSTOEFL\"\"\"\" TOEFL ----\"\"\n\n# pattern recognition) \n\n\n\n## \n1. \n2. \n3. \n4. \n[cnn radio](http://edition.cnn.com/audio/radio/radio.html)\n\n","slug":"learn-english","published":1,"updated":"2018-11-08T03:46:24.632Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e6000ohpwf0jvnsm52","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em></em> </p>\n<ul>\n<li></li>\n<li></li>\n<li>Reorganizing<a id=\"more\"></a>\n</li>\n</ul>\n<blockquote>\n<p> <img src=\"/images/figure05.png\" alt=\"\"></p>\n</blockquote>\n<p> -.<a href=\"http://www.rosettastone.com/\" target=\"_blank\" rel=\"noopener\">Rosetta Stone</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Self-fulfilling prophecy</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <strong></strong> </p>\n<p></p>\n<p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 100TOEFL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:</p>\n<blockquote>\n<p>Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about .</p>\n</blockquote>\n<p>undernutritionunder</p>\n<blockquote>\n<p>underground undernutritionunderage drinking</p>\n</blockquote>\n<p>underage drinkingunderage sexual behaviors</p>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>-</p>\n<p>Photoshop</p>\n<ul>\n<li>Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern</li>\n<li>Thinking and Deciding, 4th edition, by Jonathan Baron</li>\n<li>Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)</li>\n<li>Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams</li>\n<li><p>Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style</p>\n</li>\n<li><p>A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<a href=\"http://www.plainlanguage.gov\" target=\"_blank\" rel=\"noopener\">http://www.plainlanguage.gov</a>)</p>\n</li>\n<li><p>On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)</p>\n</li>\n<li>Building Great Sentences</li>\n</ul>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h1><p>ETSTOEFL TOEFL -</p>\n<h1 id=\"pattern-recognition-\"><a href=\"#pattern-recognition-\" class=\"headerlink\" title=\"pattern recognition) \"></a>pattern recognition) </h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"http://edition.cnn.com/audio/radio/radio.html\" target=\"_blank\" rel=\"noopener\">cnn radio</a><br></li>\n</ol>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em></em> </p>\n<ul>\n<li></li>\n<li></li>\n<li>Reorganizing","more":"</li>\n</ul>\n<blockquote>\n<p> <img src=\"/images/figure05.png\" alt=\"\"></p>\n</blockquote>\n<p> -.<a href=\"http://www.rosettastone.com/\" target=\"_blank\" rel=\"noopener\">Rosetta Stone</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Self-fulfilling prophecy</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <strong></strong> </p>\n<p></p>\n<p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 100TOEFL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:</p>\n<blockquote>\n<p>Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about .</p>\n</blockquote>\n<p>undernutritionunder</p>\n<blockquote>\n<p>underground undernutritionunderage drinking</p>\n</blockquote>\n<p>underage drinkingunderage sexual behaviors</p>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>-</p>\n<p>Photoshop</p>\n<ul>\n<li>Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern</li>\n<li>Thinking and Deciding, 4th edition, by Jonathan Baron</li>\n<li>Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)</li>\n<li>Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams</li>\n<li><p>Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style</p>\n</li>\n<li><p>A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<a href=\"http://www.plainlanguage.gov\" target=\"_blank\" rel=\"noopener\">http://www.plainlanguage.gov</a>)</p>\n</li>\n<li><p>On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)</p>\n</li>\n<li>Building Great Sentences</li>\n</ul>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h1><p>ETSTOEFL TOEFL -</p>\n<h1 id=\"pattern-recognition-\"><a href=\"#pattern-recognition-\" class=\"headerlink\" title=\"pattern recognition) \"></a>pattern recognition) </h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"http://edition.cnn.com/audio/radio/radio.html\" target=\"_blank\" rel=\"noopener\">cnn radio</a><br></li>\n</ol>"},{"title":"(command pattern)","date":"2015-09-28T16:00:00.000Z","_content":"****\n\n\n## CommandInterface.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * CommandInterface\n */\ninterface CommandInterface\n{\n    /**\n     * ,\n     * Receiver.\n     */\n    public function execute();\n}\n```\n## HelloCommand.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Receiverprint\n * execute\n */\nclass HelloCommand implements CommandInterface\n{\n    /**\n     * @var Receiver\n     */\n    protected $output;\n\n    /**\n     * Receiver\n     * Receiver\n     *\n     * @param Receiver $console\n     */\n    public function __construct(Receiver $console)\n    {\n        $this->output = $console;\n    }\n\n    /**\n     *  \"Hello World\"\n     */\n    public function execute()\n    {\n        // Receiver\n        $this->output->write('Hello World');\n    }\n}\n```\n\n## Receiver.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Receiver\n */\nclass Receiver\n{\n    /**\n     * @param string $str\n     */\n    public function write($str)\n    {\n        echo $str;\n    }\n}\n```\n## Invoker.php\n\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Invoker\n */\nclass Invoker\n{\n    /**\n     * @var CommandInterface\n     */\n    protected $command;\n\n    /**\n     * \n     *\n     * @param CommandInterface $cmd\n     */\n    public function setCommand(CommandInterface $cmd)\n    {\n        $this->command = $cmd;\n    }\n\n    /**\n     * \n     */\n    public function run()\n    {\n        $this->command->execute();\n    }\n}\n```\n\n##   Tests/CommandTest.php\n\n```\n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command\\Tests;\n\nuse DesignPatterns\\Behavioral\\Command\\Invoker;\nuse DesignPatterns\\Behavioral\\Command\\Receiver;\nuse DesignPatterns\\Behavioral\\Command\\HelloCommand;\n\n/**\n * CommandTest\n */\nclass CommandTest extends \\PHPUnit_Framework_TestCase\n{\n\n    /**\n     * @var Invoker\n     */\n    protected $invoker;\n\n    /**\n     * @var Receiver\n     */\n    protected $receiver;\n\n    protected function setUp()\n    {\n        $this->invoker = new Invoker();\n        $this->receiver = new Receiver();\n    }\n\n    public function testInvocation()\n    {\n        $this->invoker->setCommand(new HelloCommand($this->receiver));\n        $this->expectOutputString('Hello World');\n        $this->invoker->run();\n    }\n}\n\n```","source":"_posts/2015/command-pattern.md","raw":"---\ntitle: (command pattern)\ndate: 2015-09-29\ntags: \n- design pattern\n---\n****\n\n\n## CommandInterface.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * CommandInterface\n */\ninterface CommandInterface\n{\n    /**\n     * ,\n     * Receiver.\n     */\n    public function execute();\n}\n```\n## HelloCommand.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Receiverprint\n * execute\n */\nclass HelloCommand implements CommandInterface\n{\n    /**\n     * @var Receiver\n     */\n    protected $output;\n\n    /**\n     * Receiver\n     * Receiver\n     *\n     * @param Receiver $console\n     */\n    public function __construct(Receiver $console)\n    {\n        $this->output = $console;\n    }\n\n    /**\n     *  \"Hello World\"\n     */\n    public function execute()\n    {\n        // Receiver\n        $this->output->write('Hello World');\n    }\n}\n```\n\n## Receiver.php\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Receiver\n */\nclass Receiver\n{\n    /**\n     * @param string $str\n     */\n    public function write($str)\n    {\n        echo $str;\n    }\n}\n```\n## Invoker.php\n\n```php\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command;\n\n/**\n * Invoker\n */\nclass Invoker\n{\n    /**\n     * @var CommandInterface\n     */\n    protected $command;\n\n    /**\n     * \n     *\n     * @param CommandInterface $cmd\n     */\n    public function setCommand(CommandInterface $cmd)\n    {\n        $this->command = $cmd;\n    }\n\n    /**\n     * \n     */\n    public function run()\n    {\n        $this->command->execute();\n    }\n}\n```\n\n##   Tests/CommandTest.php\n\n```\n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Command\\Tests;\n\nuse DesignPatterns\\Behavioral\\Command\\Invoker;\nuse DesignPatterns\\Behavioral\\Command\\Receiver;\nuse DesignPatterns\\Behavioral\\Command\\HelloCommand;\n\n/**\n * CommandTest\n */\nclass CommandTest extends \\PHPUnit_Framework_TestCase\n{\n\n    /**\n     * @var Invoker\n     */\n    protected $invoker;\n\n    /**\n     * @var Receiver\n     */\n    protected $receiver;\n\n    protected function setUp()\n    {\n        $this->invoker = new Invoker();\n        $this->receiver = new Receiver();\n    }\n\n    public function testInvocation()\n    {\n        $this->invoker->setCommand(new HelloCommand($this->receiver));\n        $this->expectOutputString('Hello World');\n        $this->invoker->run();\n    }\n}\n\n```","slug":"command-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e8000qhpwfdp9fbuj9","content":"<p><strong></strong></p>\n<h2 id=\"CommandInterface-php\"><a href=\"#CommandInterface-php\" class=\"headerlink\" title=\"CommandInterface.php\"></a>CommandInterface.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * CommandInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CommandInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ,</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"HelloCommand-php\"><a href=\"#HelloCommand-php\" class=\"headerlink\" title=\"HelloCommand.php\"></a>HelloCommand.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Receiverprint</span></span><br><span class=\"line\"><span class=\"comment\"> * execute</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloCommand</span> <span class=\"keyword\">implements</span> <span class=\"title\">CommandInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $output;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> Receiver $console</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Receiver $console)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;output = $console;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  \"Hello World\"</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Receiver</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;output-&gt;write(<span class=\"string\">'Hello World'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Receiver-php\"><a href=\"#Receiver-php\" class=\"headerlink\" title=\"Receiver.php\"></a>Receiver.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Receiver</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Receiver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $str</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">write</span><span class=\"params\">($str)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> $str;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Invoker-php\"><a href=\"#Invoker-php\" class=\"headerlink\" title=\"Invoker.php\"></a>Invoker.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Invoker</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Invoker</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> CommandInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $command;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> CommandInterface $cmd</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setCommand</span><span class=\"params\">(CommandInterface $cmd)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;command = $cmd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;command-&gt;execute();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-Tests-CommandTest-php\"><a href=\"#-Tests-CommandTest-php\" class=\"headerlink\" title=\"  Tests/CommandTest.php\"></a>  Tests/CommandTest.php</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"></span><br><span class=\"line\">namespace DesignPatterns\\Behavioral\\Command\\Tests;</span><br><span class=\"line\"></span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\Invoker;</span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\Receiver;</span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\HelloCommand;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * CommandTest</span><br><span class=\"line\"> */</span><br><span class=\"line\">class CommandTest extends \\PHPUnit_Framework_TestCase</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @var Invoker</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected $invoker;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @var Receiver</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected $receiver;</span><br><span class=\"line\"></span><br><span class=\"line\">    protected function setUp()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;invoker = new Invoker();</span><br><span class=\"line\">        $this-&gt;receiver = new Receiver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function testInvocation()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;invoker-&gt;setCommand(new HelloCommand($this-&gt;receiver));</span><br><span class=\"line\">        $this-&gt;expectOutputString(&apos;Hello World&apos;);</span><br><span class=\"line\">        $this-&gt;invoker-&gt;run();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><strong></strong></p>\n<h2 id=\"CommandInterface-php\"><a href=\"#CommandInterface-php\" class=\"headerlink\" title=\"CommandInterface.php\"></a>CommandInterface.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * CommandInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CommandInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ,</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"HelloCommand-php\"><a href=\"#HelloCommand-php\" class=\"headerlink\" title=\"HelloCommand.php\"></a>HelloCommand.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Receiverprint</span></span><br><span class=\"line\"><span class=\"comment\"> * execute</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloCommand</span> <span class=\"keyword\">implements</span> <span class=\"title\">CommandInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $output;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     * Receiver</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> Receiver $console</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Receiver $console)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;output = $console;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  \"Hello World\"</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Receiver</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;output-&gt;write(<span class=\"string\">'Hello World'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Receiver-php\"><a href=\"#Receiver-php\" class=\"headerlink\" title=\"Receiver.php\"></a>Receiver.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Receiver</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Receiver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $str</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">write</span><span class=\"params\">($str)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> $str;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Invoker-php\"><a href=\"#Invoker-php\" class=\"headerlink\" title=\"Invoker.php\"></a>Invoker.php</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Command</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Invoker</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Invoker</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> CommandInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $command;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> CommandInterface $cmd</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setCommand</span><span class=\"params\">(CommandInterface $cmd)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;command = $cmd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;command-&gt;execute();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-Tests-CommandTest-php\"><a href=\"#-Tests-CommandTest-php\" class=\"headerlink\" title=\"  Tests/CommandTest.php\"></a>  Tests/CommandTest.php</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"></span><br><span class=\"line\">namespace DesignPatterns\\Behavioral\\Command\\Tests;</span><br><span class=\"line\"></span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\Invoker;</span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\Receiver;</span><br><span class=\"line\">use DesignPatterns\\Behavioral\\Command\\HelloCommand;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * CommandTest</span><br><span class=\"line\"> */</span><br><span class=\"line\">class CommandTest extends \\PHPUnit_Framework_TestCase</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @var Invoker</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected $invoker;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @var Receiver</span><br><span class=\"line\">     */</span><br><span class=\"line\">    protected $receiver;</span><br><span class=\"line\"></span><br><span class=\"line\">    protected function setUp()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;invoker = new Invoker();</span><br><span class=\"line\">        $this-&gt;receiver = new Receiver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function testInvocation()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;invoker-&gt;setCommand(new HelloCommand($this-&gt;receiver));</span><br><span class=\"line\">        $this-&gt;expectOutputString(&apos;Hello World&apos;);</span><br><span class=\"line\">        $this-&gt;invoker-&gt;run();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"mysql","date":"2014-08-29T02:52:19.000Z","updated":"2016-08-29T02:52:19.000Z","_content":"\n### mysql\n<!-- more -->\n``` mysql\n\nCREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk\nBEGIN\n    DECLARE mycode INT;\n    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;\n    DECLARE lcode INT;\n    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;\n    DECLARE rcode INT;\n    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT '';\n    DECLARE lp INT;\n    SET mycode = 0;\n    SET lp = 1;\n    SET NAME = HEX(NAME);\n    WHILE lp < LENGTH(NAME) DO\n        SET tmp_lcode = SUBSTRING(NAME, lp, 2);\n        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); \n        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);\n        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); \n        IF lcode > 128 THEN\n            SET mycode =65536 - lcode * 256 - rcode ;\n            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` >= ABS(mycode) ORDER BY `code` ASC LIMIT 1;\n            SET lp = lp + 4;\n        ELSE\n            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));\n            SET lp = lp + 2;\n        END IF;\n    END WHILE;\n    RETURN LOWER(mypy);\nEND\n```\n\n\n### ascii\n\n``` mysql\n\nCREATE TABLE `pinyin` (\n  `code` int(11) NOT NULL,\n  `py` varchar(10) CHARACTER SET gbk NOT NULL,\n  PRIMARY KEY (`code`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `pinyin` VALUES ('10254', 'zuo');\nINSERT INTO `pinyin` VALUES ('10256', 'zun');\nINSERT INTO `pinyin` VALUES ('10260', 'zui');\nINSERT INTO `pinyin` VALUES ('10262', 'zuan');\nINSERT INTO `pinyin` VALUES ('10270', 'zu');\nINSERT INTO `pinyin` VALUES ('10274', 'zou');\nINSERT INTO `pinyin` VALUES ('10281', 'zong');\nINSERT INTO `pinyin` VALUES ('10296', 'zi');\nINSERT INTO `pinyin` VALUES ('10307', 'zhuo');\nINSERT INTO `pinyin` VALUES ('10309', 'zhun');\nINSERT INTO `pinyin` VALUES ('10315', 'zhui');\nINSERT INTO `pinyin` VALUES ('10322', 'zhuang');\nINSERT INTO `pinyin` VALUES ('10328', 'zhuan');\nINSERT INTO `pinyin` VALUES ('10329', 'zhuai');\nINSERT INTO `pinyin` VALUES ('10331', 'zhua');\nINSERT INTO `pinyin` VALUES ('10519', 'zhu');\nINSERT INTO `pinyin` VALUES ('10533', 'zhou');\nINSERT INTO `pinyin` VALUES ('10544', 'zhong');\nINSERT INTO `pinyin` VALUES ('10587', 'zhi');\nINSERT INTO `pinyin` VALUES ('10764', 'zheng');\nINSERT INTO `pinyin` VALUES ('10780', 'zhen');\nINSERT INTO `pinyin` VALUES ('10790', 'zhe');\nINSERT INTO `pinyin` VALUES ('10800', 'zhao');\nINSERT INTO `pinyin` VALUES ('10815', 'zhang');\nINSERT INTO `pinyin` VALUES ('10832', 'zhan');\nINSERT INTO `pinyin` VALUES ('10838', 'zhai');\nINSERT INTO `pinyin` VALUES ('11014', 'zha');\nINSERT INTO `pinyin` VALUES ('11018', 'zeng');\nINSERT INTO `pinyin` VALUES ('11019', 'zen');\nINSERT INTO `pinyin` VALUES ('11020', 'zei');\nINSERT INTO `pinyin` VALUES ('11024', 'ze');\nINSERT INTO `pinyin` VALUES ('11038', 'zao');\nINSERT INTO `pinyin` VALUES ('11041', 'zang');\nINSERT INTO `pinyin` VALUES ('11045', 'zan');\nINSERT INTO `pinyin` VALUES ('11052', 'zai');\nINSERT INTO `pinyin` VALUES ('11055', 'za');\nINSERT INTO `pinyin` VALUES ('11067', 'yun');\nINSERT INTO `pinyin` VALUES ('11077', 'yue');\nINSERT INTO `pinyin` VALUES ('11097', 'yuan');\nINSERT INTO `pinyin` VALUES ('11303', 'yu');\nINSERT INTO `pinyin` VALUES ('11324', 'you');\nINSERT INTO `pinyin` VALUES ('11339', 'yong');\nINSERT INTO `pinyin` VALUES ('11340', 'yo');\nINSERT INTO `pinyin` VALUES ('11358', 'ying');\nINSERT INTO `pinyin` VALUES ('11536', 'yin');\nINSERT INTO `pinyin` VALUES ('11589', 'yi');\nINSERT INTO `pinyin` VALUES ('11604', 'ye');\nINSERT INTO `pinyin` VALUES ('11781', 'yao');\nINSERT INTO `pinyin` VALUES ('11798', 'yang');\nINSERT INTO `pinyin` VALUES ('11831', 'yan');\nINSERT INTO `pinyin` VALUES ('11847', 'ya');\nINSERT INTO `pinyin` VALUES ('11861', 'xun');\nINSERT INTO `pinyin` VALUES ('11867', 'xue');\nINSERT INTO `pinyin` VALUES ('12039', 'xuan');\nINSERT INTO `pinyin` VALUES ('12058', 'xu');\nINSERT INTO `pinyin` VALUES ('12067', 'xiu');\nINSERT INTO `pinyin` VALUES ('12074', 'xiong');\nINSERT INTO `pinyin` VALUES ('12089', 'xing');\nINSERT INTO `pinyin` VALUES ('12099', 'xin');\nINSERT INTO `pinyin` VALUES ('12120', 'xie');\nINSERT INTO `pinyin` VALUES ('12300', 'xiao');\nINSERT INTO `pinyin` VALUES ('12320', 'xiang');\nINSERT INTO `pinyin` VALUES ('12346', 'xian');\nINSERT INTO `pinyin` VALUES ('12359', 'xia');\nINSERT INTO `pinyin` VALUES ('12556', 'xi');\nINSERT INTO `pinyin` VALUES ('12585', 'wu');\nINSERT INTO `pinyin` VALUES ('12594', 'wo');\nINSERT INTO `pinyin` VALUES ('12597', 'weng');\nINSERT INTO `pinyin` VALUES ('12607', 'wen');\nINSERT INTO `pinyin` VALUES ('12802', 'wei');\nINSERT INTO `pinyin` VALUES ('12812', 'wang');\nINSERT INTO `pinyin` VALUES ('12829', 'wan');\nINSERT INTO `pinyin` VALUES ('12831', 'wai');\nINSERT INTO `pinyin` VALUES ('12838', 'wa');\nINSERT INTO `pinyin` VALUES ('12849', 'tuo');\nINSERT INTO `pinyin` VALUES ('12852', 'tun');\nINSERT INTO `pinyin` VALUES ('12858', 'tui');\nINSERT INTO `pinyin` VALUES ('12860', 'tuan');\nINSERT INTO `pinyin` VALUES ('12871', 'tu');\nINSERT INTO `pinyin` VALUES ('12875', 'tou');\nINSERT INTO `pinyin` VALUES ('12888', 'tong');\nINSERT INTO `pinyin` VALUES ('13060', 'ting');\nINSERT INTO `pinyin` VALUES ('13063', 'tie');\nINSERT INTO `pinyin` VALUES ('13068', 'tiao');\nINSERT INTO `pinyin` VALUES ('13076', 'tian');\nINSERT INTO `pinyin` VALUES ('13091', 'ti');\nINSERT INTO `pinyin` VALUES ('13095', 'teng');\nINSERT INTO `pinyin` VALUES ('13096', 'te');\nINSERT INTO `pinyin` VALUES ('13107', 'tao');\nINSERT INTO `pinyin` VALUES ('13120', 'tang');\nINSERT INTO `pinyin` VALUES ('13138', 'tan');\nINSERT INTO `pinyin` VALUES ('13147', 'tai');\nINSERT INTO `pinyin` VALUES ('13318', 'ta');\nINSERT INTO `pinyin` VALUES ('13326', 'suo');\nINSERT INTO `pinyin` VALUES ('13329', 'sun');\nINSERT INTO `pinyin` VALUES ('13340', 'sui');\nINSERT INTO `pinyin` VALUES ('13343', 'suan');\nINSERT INTO `pinyin` VALUES ('13356', 'su');\nINSERT INTO `pinyin` VALUES ('13359', 'sou');\nINSERT INTO `pinyin` VALUES ('13367', 'song');\nINSERT INTO `pinyin` VALUES ('13383', 'si');\nINSERT INTO `pinyin` VALUES ('13387', 'shuo');\nINSERT INTO `pinyin` VALUES ('13391', 'shun');\nINSERT INTO `pinyin` VALUES ('13395', 'shui');\nINSERT INTO `pinyin` VALUES ('13398', 'shuang');\nINSERT INTO `pinyin` VALUES ('13400', 'shuan');\nINSERT INTO `pinyin` VALUES ('13404', 'shuai');\nINSERT INTO `pinyin` VALUES ('13406', 'shua');\nINSERT INTO `pinyin` VALUES ('13601', 'shu');\nINSERT INTO `pinyin` VALUES ('13611', 'shou');\nINSERT INTO `pinyin` VALUES ('13658', 'shi');\nINSERT INTO `pinyin` VALUES ('13831', 'sheng');\nINSERT INTO `pinyin` VALUES ('13847', 'shen');\nINSERT INTO `pinyin` VALUES ('13859', 'she');\nINSERT INTO `pinyin` VALUES ('13870', 'shao');\nINSERT INTO `pinyin` VALUES ('13878', 'shang');\nINSERT INTO `pinyin` VALUES ('13894', 'shan');\nINSERT INTO `pinyin` VALUES ('13896', 'shai');\nINSERT INTO `pinyin` VALUES ('13905', 'sha');\nINSERT INTO `pinyin` VALUES ('13906', 'seng');\nINSERT INTO `pinyin` VALUES ('13907', 'sen');\nINSERT INTO `pinyin` VALUES ('13910', 'se');\nINSERT INTO `pinyin` VALUES ('13914', 'sao');\nINSERT INTO `pinyin` VALUES ('13917', 'sang');\nINSERT INTO `pinyin` VALUES ('14083', 'san');\nINSERT INTO `pinyin` VALUES ('14087', 'sai');\nINSERT INTO `pinyin` VALUES ('14090', 'sa');\nINSERT INTO `pinyin` VALUES ('14092', 'ruo');\nINSERT INTO `pinyin` VALUES ('14094', 'run');\nINSERT INTO `pinyin` VALUES ('14097', 'rui');\nINSERT INTO `pinyin` VALUES ('14099', 'ruan');\nINSERT INTO `pinyin` VALUES ('14109', 'ru');\nINSERT INTO `pinyin` VALUES ('14112', 'rou');\nINSERT INTO `pinyin` VALUES ('14122', 'rong');\nINSERT INTO `pinyin` VALUES ('14123', 'ri');\nINSERT INTO `pinyin` VALUES ('14125', 'reng');\nINSERT INTO `pinyin` VALUES ('14135', 'ren');\nINSERT INTO `pinyin` VALUES ('14137', 're');\nINSERT INTO `pinyin` VALUES ('14140', 'rao');\nINSERT INTO `pinyin` VALUES ('14145', 'rang');\nINSERT INTO `pinyin` VALUES ('14149', 'ran');\nINSERT INTO `pinyin` VALUES ('14151', 'qun');\nINSERT INTO `pinyin` VALUES ('14159', 'que');\nINSERT INTO `pinyin` VALUES ('14170', 'quan');\nINSERT INTO `pinyin` VALUES ('14345', 'qu');\nINSERT INTO `pinyin` VALUES ('14353', 'qiu');\nINSERT INTO `pinyin` VALUES ('14355', 'qiong');\nINSERT INTO `pinyin` VALUES ('14368', 'qing');\nINSERT INTO `pinyin` VALUES ('14379', 'qin');\nINSERT INTO `pinyin` VALUES ('14384', 'qie');\nINSERT INTO `pinyin` VALUES ('14399', 'qiao');\nINSERT INTO `pinyin` VALUES ('14407', 'qiang');\nINSERT INTO `pinyin` VALUES ('14429', 'qian');\nINSERT INTO `pinyin` VALUES ('14594', 'qia');\nINSERT INTO `pinyin` VALUES ('14630', 'qi');\nINSERT INTO `pinyin` VALUES ('14645', 'pu');\nINSERT INTO `pinyin` VALUES ('14654', 'po');\nINSERT INTO `pinyin` VALUES ('14663', 'ping');\nINSERT INTO `pinyin` VALUES ('14668', 'pin');\nINSERT INTO `pinyin` VALUES ('14670', 'pie');\nINSERT INTO `pinyin` VALUES ('14674', 'piao');\nINSERT INTO `pinyin` VALUES ('14678', 'pian');\nINSERT INTO `pinyin` VALUES ('14857', 'pi');\nINSERT INTO `pinyin` VALUES ('14871', 'peng');\nINSERT INTO `pinyin` VALUES ('14873', 'pen');\nINSERT INTO `pinyin` VALUES ('14882', 'pei');\nINSERT INTO `pinyin` VALUES ('14889', 'pao');\nINSERT INTO `pinyin` VALUES ('14894', 'pang');\nINSERT INTO `pinyin` VALUES ('14902', 'pan');\nINSERT INTO `pinyin` VALUES ('14908', 'pai');\nINSERT INTO `pinyin` VALUES ('14914', 'pa');\nINSERT INTO `pinyin` VALUES ('14921', 'ou');\nINSERT INTO `pinyin` VALUES ('14922', 'o');\nINSERT INTO `pinyin` VALUES ('14926', 'nuo');\nINSERT INTO `pinyin` VALUES ('14928', 'nue');\nINSERT INTO `pinyin` VALUES ('14929', 'nuan');\nINSERT INTO `pinyin` VALUES ('14930', 'nv');\nINSERT INTO `pinyin` VALUES ('14933', 'nu');\nINSERT INTO `pinyin` VALUES ('14937', 'nong');\nINSERT INTO `pinyin` VALUES ('14941', 'niu');\nINSERT INTO `pinyin` VALUES ('15109', 'ning');\nINSERT INTO `pinyin` VALUES ('15110', 'nin');\nINSERT INTO `pinyin` VALUES ('15117', 'nie');\nINSERT INTO `pinyin` VALUES ('15119', 'niao');\nINSERT INTO `pinyin` VALUES ('15121', 'niang');\nINSERT INTO `pinyin` VALUES ('15128', 'nian');\nINSERT INTO `pinyin` VALUES ('15139', 'ni');\nINSERT INTO `pinyin` VALUES ('15140', 'neng');\nINSERT INTO `pinyin` VALUES ('15141', 'nen');\nINSERT INTO `pinyin` VALUES ('15143', 'nei');\nINSERT INTO `pinyin` VALUES ('15144', 'ne');\nINSERT INTO `pinyin` VALUES ('15149', 'nao');\nINSERT INTO `pinyin` VALUES ('15150', 'nang');\nINSERT INTO `pinyin` VALUES ('15153', 'nan');\nINSERT INTO `pinyin` VALUES ('15158', 'nai');\nINSERT INTO `pinyin` VALUES ('15165', 'na');\nINSERT INTO `pinyin` VALUES ('15180', 'mu');\nINSERT INTO `pinyin` VALUES ('15183', 'mou');\nINSERT INTO `pinyin` VALUES ('15362', 'mo');\nINSERT INTO `pinyin` VALUES ('15363', 'miu');\nINSERT INTO `pinyin` VALUES ('15369', 'ming');\nINSERT INTO `pinyin` VALUES ('15375', 'min');\nINSERT INTO `pinyin` VALUES ('15377', 'mie');\nINSERT INTO `pinyin` VALUES ('15385', 'miao');\nINSERT INTO `pinyin` VALUES ('15394', 'mian');\nINSERT INTO `pinyin` VALUES ('15408', 'mi');\nINSERT INTO `pinyin` VALUES ('15416', 'meng');\nINSERT INTO `pinyin` VALUES ('15419', 'men');\nINSERT INTO `pinyin` VALUES ('15435', 'mei');\nINSERT INTO `pinyin` VALUES ('15436', 'me');\nINSERT INTO `pinyin` VALUES ('15448', 'mao');\nINSERT INTO `pinyin` VALUES ('15454', 'mang');\nINSERT INTO `pinyin` VALUES ('15625', 'man');\nINSERT INTO `pinyin` VALUES ('15631', 'mai');\nINSERT INTO `pinyin` VALUES ('15640', 'ma');\nINSERT INTO `pinyin` VALUES ('15652', 'luo');\nINSERT INTO `pinyin` VALUES ('15659', 'lun');\nINSERT INTO `pinyin` VALUES ('15661', 'lue');\nINSERT INTO `pinyin` VALUES ('15667', 'luan');\nINSERT INTO `pinyin` VALUES ('15681', 'lv');\nINSERT INTO `pinyin` VALUES ('15701', 'lu');\nINSERT INTO `pinyin` VALUES ('15707', 'lou');\nINSERT INTO `pinyin` VALUES ('15878', 'long');\nINSERT INTO `pinyin` VALUES ('15889', 'liu');\nINSERT INTO `pinyin` VALUES ('15903', 'ling');\nINSERT INTO `pinyin` VALUES ('15915', 'lin');\nINSERT INTO `pinyin` VALUES ('15920', 'lie');\nINSERT INTO `pinyin` VALUES ('15933', 'liao');\nINSERT INTO `pinyin` VALUES ('15944', 'liang');\nINSERT INTO `pinyin` VALUES ('15958', 'lian');\nINSERT INTO `pinyin` VALUES ('15959', 'lia');\nINSERT INTO `pinyin` VALUES ('16155', 'li');\nINSERT INTO `pinyin` VALUES ('16158', 'leng');\nINSERT INTO `pinyin` VALUES ('16169', 'lei');\nINSERT INTO `pinyin` VALUES ('16171', 'le');\nINSERT INTO `pinyin` VALUES ('16180', 'lao');\nINSERT INTO `pinyin` VALUES ('16187', 'lang');\nINSERT INTO `pinyin` VALUES ('16202', 'lan');\nINSERT INTO `pinyin` VALUES ('16205', 'lai');\nINSERT INTO `pinyin` VALUES ('16212', 'la');\nINSERT INTO `pinyin` VALUES ('16216', 'kuo');\nINSERT INTO `pinyin` VALUES ('16220', 'kun');\nINSERT INTO `pinyin` VALUES ('16393', 'kui');\nINSERT INTO `pinyin` VALUES ('16401', 'kuang');\nINSERT INTO `pinyin` VALUES ('16403', 'kuan');\nINSERT INTO `pinyin` VALUES ('16407', 'kuai');\nINSERT INTO `pinyin` VALUES ('16412', 'kua');\nINSERT INTO `pinyin` VALUES ('16419', 'ku');\nINSERT INTO `pinyin` VALUES ('16423', 'kou');\nINSERT INTO `pinyin` VALUES ('16427', 'kong');\nINSERT INTO `pinyin` VALUES ('16429', 'keng');\nINSERT INTO `pinyin` VALUES ('16433', 'ken');\nINSERT INTO `pinyin` VALUES ('16448', 'ke');\nINSERT INTO `pinyin` VALUES ('16452', 'kao');\nINSERT INTO `pinyin` VALUES ('16459', 'kang');\nINSERT INTO `pinyin` VALUES ('16465', 'kan');\nINSERT INTO `pinyin` VALUES ('16470', 'kai');\nINSERT INTO `pinyin` VALUES ('16474', 'ka');\nINSERT INTO `pinyin` VALUES ('16647', 'jun');\nINSERT INTO `pinyin` VALUES ('16657', 'jue');\nINSERT INTO `pinyin` VALUES ('16664', 'juan');\nINSERT INTO `pinyin` VALUES ('16689', 'ju');\nINSERT INTO `pinyin` VALUES ('16706', 'jiu');\nINSERT INTO `pinyin` VALUES ('16708', 'jiong');\nINSERT INTO `pinyin` VALUES ('16733', 'jing');\nINSERT INTO `pinyin` VALUES ('16915', 'jin');\nINSERT INTO `pinyin` VALUES ('16942', 'jie');\nINSERT INTO `pinyin` VALUES ('16970', 'jiao');\nINSERT INTO `pinyin` VALUES ('16983', 'jiang');\nINSERT INTO `pinyin` VALUES ('17185', 'jian');\nINSERT INTO `pinyin` VALUES ('17202', 'jia');\nINSERT INTO `pinyin` VALUES ('17417', 'ji');\nINSERT INTO `pinyin` VALUES ('17427', 'huo');\nINSERT INTO `pinyin` VALUES ('17433', 'hun');\nINSERT INTO `pinyin` VALUES ('17454', 'hui');\nINSERT INTO `pinyin` VALUES ('17468', 'huang');\nINSERT INTO `pinyin` VALUES ('17482', 'huan');\nINSERT INTO `pinyin` VALUES ('17487', 'huai');\nINSERT INTO `pinyin` VALUES ('17496', 'hua');\nINSERT INTO `pinyin` VALUES ('17676', 'hu');\nINSERT INTO `pinyin` VALUES ('17683', 'hou');\nINSERT INTO `pinyin` VALUES ('17692', 'hong');\nINSERT INTO `pinyin` VALUES ('17697', 'heng');\nINSERT INTO `pinyin` VALUES ('17701', 'hen');\nINSERT INTO `pinyin` VALUES ('17703', 'hei');\nINSERT INTO `pinyin` VALUES ('17721', 'he');\nINSERT INTO `pinyin` VALUES ('17730', 'hao');\nINSERT INTO `pinyin` VALUES ('17733', 'hang');\nINSERT INTO `pinyin` VALUES ('17752', 'han');\nINSERT INTO `pinyin` VALUES ('17759', 'hai');\nINSERT INTO `pinyin` VALUES ('17922', 'ha');\nINSERT INTO `pinyin` VALUES ('17928', 'guo');\nINSERT INTO `pinyin` VALUES ('17931', 'gun');\nINSERT INTO `pinyin` VALUES ('17947', 'gui');\nINSERT INTO `pinyin` VALUES ('17950', 'guang');\nINSERT INTO `pinyin` VALUES ('17961', 'guan');\nINSERT INTO `pinyin` VALUES ('17964', 'guai');\nINSERT INTO `pinyin` VALUES ('17970', 'gua');\nINSERT INTO `pinyin` VALUES ('17988', 'gu');\nINSERT INTO `pinyin` VALUES ('17997', 'gou');\nINSERT INTO `pinyin` VALUES ('18012', 'gong');\nINSERT INTO `pinyin` VALUES ('18181', 'geng');\nINSERT INTO `pinyin` VALUES ('18183', 'gen');\nINSERT INTO `pinyin` VALUES ('18184', 'gei');\nINSERT INTO `pinyin` VALUES ('18201', 'ge');\nINSERT INTO `pinyin` VALUES ('18211', 'gao');\nINSERT INTO `pinyin` VALUES ('18220', 'gang');\nINSERT INTO `pinyin` VALUES ('18231', 'gan');\nINSERT INTO `pinyin` VALUES ('18237', 'gai');\nINSERT INTO `pinyin` VALUES ('18239', 'ga');\nINSERT INTO `pinyin` VALUES ('18446', 'fu');\nINSERT INTO `pinyin` VALUES ('18447', 'fou');\nINSERT INTO `pinyin` VALUES ('18448', 'fo');\nINSERT INTO `pinyin` VALUES ('18463', 'feng');\nINSERT INTO `pinyin` VALUES ('18478', 'fen');\nINSERT INTO `pinyin` VALUES ('18490', 'fei');\nINSERT INTO `pinyin` VALUES ('18501', 'fang');\nINSERT INTO `pinyin` VALUES ('18518', 'fan');\nINSERT INTO `pinyin` VALUES ('18526', 'fa');\nINSERT INTO `pinyin` VALUES ('18696', 'er');\nINSERT INTO `pinyin` VALUES ('18697', 'en');\nINSERT INTO `pinyin` VALUES ('18710', 'e');\nINSERT INTO `pinyin` VALUES ('18722', 'duo');\nINSERT INTO `pinyin` VALUES ('18731', 'dun');\nINSERT INTO `pinyin` VALUES ('18735', 'dui');\nINSERT INTO `pinyin` VALUES ('18741', 'duan');\nINSERT INTO `pinyin` VALUES ('18756', 'du');\nINSERT INTO `pinyin` VALUES ('18763', 'dou');\nINSERT INTO `pinyin` VALUES ('18773', 'dong');\nINSERT INTO `pinyin` VALUES ('18774', 'diu');\nINSERT INTO `pinyin` VALUES ('18783', 'ding');\nINSERT INTO `pinyin` VALUES ('18952', 'die');\nINSERT INTO `pinyin` VALUES ('18961', 'diao');\nINSERT INTO `pinyin` VALUES ('18977', 'dian');\nINSERT INTO `pinyin` VALUES ('18996', 'di');\nINSERT INTO `pinyin` VALUES ('19003', 'deng');\nINSERT INTO `pinyin` VALUES ('19006', 'de');\nINSERT INTO `pinyin` VALUES ('19018', 'dao');\nINSERT INTO `pinyin` VALUES ('19023', 'dang');\nINSERT INTO `pinyin` VALUES ('19038', 'dan');\nINSERT INTO `pinyin` VALUES ('19212', 'dai');\nINSERT INTO `pinyin` VALUES ('19218', 'da');\nINSERT INTO `pinyin` VALUES ('19224', 'cuo');\nINSERT INTO `pinyin` VALUES ('19227', 'cun');\nINSERT INTO `pinyin` VALUES ('19235', 'cui');\nINSERT INTO `pinyin` VALUES ('19238', 'cuan');\nINSERT INTO `pinyin` VALUES ('19242', 'cu');\nINSERT INTO `pinyin` VALUES ('19243', 'cou');\nINSERT INTO `pinyin` VALUES ('19249', 'cong');\nINSERT INTO `pinyin` VALUES ('19261', 'ci');\nINSERT INTO `pinyin` VALUES ('19263', 'chuo');\nINSERT INTO `pinyin` VALUES ('19270', 'chun');\nINSERT INTO `pinyin` VALUES ('19275', 'chui');\nINSERT INTO `pinyin` VALUES ('19281', 'chuang');\nINSERT INTO `pinyin` VALUES ('19288', 'chuan');\nINSERT INTO `pinyin` VALUES ('19289', 'chuai');\nINSERT INTO `pinyin` VALUES ('19467', 'chu');\nINSERT INTO `pinyin` VALUES ('19479', 'chou');\nINSERT INTO `pinyin` VALUES ('19484', 'chong');\nINSERT INTO `pinyin` VALUES ('19500', 'chi');\nINSERT INTO `pinyin` VALUES ('19515', 'cheng');\nINSERT INTO `pinyin` VALUES ('19525', 'chen');\nINSERT INTO `pinyin` VALUES ('19531', 'che');\nINSERT INTO `pinyin` VALUES ('19540', 'chao');\nINSERT INTO `pinyin` VALUES ('19715', 'chang');\nINSERT INTO `pinyin` VALUES ('19725', 'chan');\nINSERT INTO `pinyin` VALUES ('19728', 'chai');\nINSERT INTO `pinyin` VALUES ('19739', 'cha');\nINSERT INTO `pinyin` VALUES ('19741', 'ceng');\nINSERT INTO `pinyin` VALUES ('19746', 'ce');\nINSERT INTO `pinyin` VALUES ('19751', 'cao');\nINSERT INTO `pinyin` VALUES ('19756', 'cang');\nINSERT INTO `pinyin` VALUES ('19763', 'can');\nINSERT INTO `pinyin` VALUES ('19774', 'cai');\nINSERT INTO `pinyin` VALUES ('19775', 'ca');\nINSERT INTO `pinyin` VALUES ('19784', 'bu');\nINSERT INTO `pinyin` VALUES ('19805', 'bo');\nINSERT INTO `pinyin` VALUES ('19976', 'bing');\nINSERT INTO `pinyin` VALUES ('19982', 'bin');\nINSERT INTO `pinyin` VALUES ('19986', 'bie');\nINSERT INTO `pinyin` VALUES ('19990', 'biao');\nINSERT INTO `pinyin` VALUES ('20002', 'bian');\nINSERT INTO `pinyin` VALUES ('20026', 'bi');\nINSERT INTO `pinyin` VALUES ('20032', 'beng');\nINSERT INTO `pinyin` VALUES ('20036', 'ben');\nINSERT INTO `pinyin` VALUES ('20051', 'bei');\nINSERT INTO `pinyin` VALUES ('20230', 'bao');\nINSERT INTO `pinyin` VALUES ('20242', 'bang');\nINSERT INTO `pinyin` VALUES ('20257', 'ban');\nINSERT INTO `pinyin` VALUES ('20265', 'bai');\nINSERT INTO `pinyin` VALUES ('20283', 'ba');\nINSERT INTO `pinyin` VALUES ('20292', 'ao');\nINSERT INTO `pinyin` VALUES ('20295', 'ang');\nINSERT INTO `pinyin` VALUES ('20304', 'an');\nINSERT INTO `pinyin` VALUES ('20317', 'ai');\nINSERT INTO `pinyin` VALUES ('20319', 'a');\n```\n\n\n### \n\n``` mysql\nselect f_to_pinyin(\"\");\n```\n","source":"_posts/2014/zh-cn-to-pinyin.md","raw":"---\ntitle: mysql\ndate: 2014-08-29 10:52:19\nupdated: 2016-08-29 10:52:19\ntags:\n- mysql\ncategories:\n---\n\n### mysql\n<!-- more -->\n``` mysql\n\nCREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk\nBEGIN\n    DECLARE mycode INT;\n    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;\n    DECLARE lcode INT;\n    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;\n    DECLARE rcode INT;\n    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT '';\n    DECLARE lp INT;\n    SET mycode = 0;\n    SET lp = 1;\n    SET NAME = HEX(NAME);\n    WHILE lp < LENGTH(NAME) DO\n        SET tmp_lcode = SUBSTRING(NAME, lp, 2);\n        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); \n        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);\n        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); \n        IF lcode > 128 THEN\n            SET mycode =65536 - lcode * 256 - rcode ;\n            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` >= ABS(mycode) ORDER BY `code` ASC LIMIT 1;\n            SET lp = lp + 4;\n        ELSE\n            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));\n            SET lp = lp + 2;\n        END IF;\n    END WHILE;\n    RETURN LOWER(mypy);\nEND\n```\n\n\n### ascii\n\n``` mysql\n\nCREATE TABLE `pinyin` (\n  `code` int(11) NOT NULL,\n  `py` varchar(10) CHARACTER SET gbk NOT NULL,\n  PRIMARY KEY (`code`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `pinyin` VALUES ('10254', 'zuo');\nINSERT INTO `pinyin` VALUES ('10256', 'zun');\nINSERT INTO `pinyin` VALUES ('10260', 'zui');\nINSERT INTO `pinyin` VALUES ('10262', 'zuan');\nINSERT INTO `pinyin` VALUES ('10270', 'zu');\nINSERT INTO `pinyin` VALUES ('10274', 'zou');\nINSERT INTO `pinyin` VALUES ('10281', 'zong');\nINSERT INTO `pinyin` VALUES ('10296', 'zi');\nINSERT INTO `pinyin` VALUES ('10307', 'zhuo');\nINSERT INTO `pinyin` VALUES ('10309', 'zhun');\nINSERT INTO `pinyin` VALUES ('10315', 'zhui');\nINSERT INTO `pinyin` VALUES ('10322', 'zhuang');\nINSERT INTO `pinyin` VALUES ('10328', 'zhuan');\nINSERT INTO `pinyin` VALUES ('10329', 'zhuai');\nINSERT INTO `pinyin` VALUES ('10331', 'zhua');\nINSERT INTO `pinyin` VALUES ('10519', 'zhu');\nINSERT INTO `pinyin` VALUES ('10533', 'zhou');\nINSERT INTO `pinyin` VALUES ('10544', 'zhong');\nINSERT INTO `pinyin` VALUES ('10587', 'zhi');\nINSERT INTO `pinyin` VALUES ('10764', 'zheng');\nINSERT INTO `pinyin` VALUES ('10780', 'zhen');\nINSERT INTO `pinyin` VALUES ('10790', 'zhe');\nINSERT INTO `pinyin` VALUES ('10800', 'zhao');\nINSERT INTO `pinyin` VALUES ('10815', 'zhang');\nINSERT INTO `pinyin` VALUES ('10832', 'zhan');\nINSERT INTO `pinyin` VALUES ('10838', 'zhai');\nINSERT INTO `pinyin` VALUES ('11014', 'zha');\nINSERT INTO `pinyin` VALUES ('11018', 'zeng');\nINSERT INTO `pinyin` VALUES ('11019', 'zen');\nINSERT INTO `pinyin` VALUES ('11020', 'zei');\nINSERT INTO `pinyin` VALUES ('11024', 'ze');\nINSERT INTO `pinyin` VALUES ('11038', 'zao');\nINSERT INTO `pinyin` VALUES ('11041', 'zang');\nINSERT INTO `pinyin` VALUES ('11045', 'zan');\nINSERT INTO `pinyin` VALUES ('11052', 'zai');\nINSERT INTO `pinyin` VALUES ('11055', 'za');\nINSERT INTO `pinyin` VALUES ('11067', 'yun');\nINSERT INTO `pinyin` VALUES ('11077', 'yue');\nINSERT INTO `pinyin` VALUES ('11097', 'yuan');\nINSERT INTO `pinyin` VALUES ('11303', 'yu');\nINSERT INTO `pinyin` VALUES ('11324', 'you');\nINSERT INTO `pinyin` VALUES ('11339', 'yong');\nINSERT INTO `pinyin` VALUES ('11340', 'yo');\nINSERT INTO `pinyin` VALUES ('11358', 'ying');\nINSERT INTO `pinyin` VALUES ('11536', 'yin');\nINSERT INTO `pinyin` VALUES ('11589', 'yi');\nINSERT INTO `pinyin` VALUES ('11604', 'ye');\nINSERT INTO `pinyin` VALUES ('11781', 'yao');\nINSERT INTO `pinyin` VALUES ('11798', 'yang');\nINSERT INTO `pinyin` VALUES ('11831', 'yan');\nINSERT INTO `pinyin` VALUES ('11847', 'ya');\nINSERT INTO `pinyin` VALUES ('11861', 'xun');\nINSERT INTO `pinyin` VALUES ('11867', 'xue');\nINSERT INTO `pinyin` VALUES ('12039', 'xuan');\nINSERT INTO `pinyin` VALUES ('12058', 'xu');\nINSERT INTO `pinyin` VALUES ('12067', 'xiu');\nINSERT INTO `pinyin` VALUES ('12074', 'xiong');\nINSERT INTO `pinyin` VALUES ('12089', 'xing');\nINSERT INTO `pinyin` VALUES ('12099', 'xin');\nINSERT INTO `pinyin` VALUES ('12120', 'xie');\nINSERT INTO `pinyin` VALUES ('12300', 'xiao');\nINSERT INTO `pinyin` VALUES ('12320', 'xiang');\nINSERT INTO `pinyin` VALUES ('12346', 'xian');\nINSERT INTO `pinyin` VALUES ('12359', 'xia');\nINSERT INTO `pinyin` VALUES ('12556', 'xi');\nINSERT INTO `pinyin` VALUES ('12585', 'wu');\nINSERT INTO `pinyin` VALUES ('12594', 'wo');\nINSERT INTO `pinyin` VALUES ('12597', 'weng');\nINSERT INTO `pinyin` VALUES ('12607', 'wen');\nINSERT INTO `pinyin` VALUES ('12802', 'wei');\nINSERT INTO `pinyin` VALUES ('12812', 'wang');\nINSERT INTO `pinyin` VALUES ('12829', 'wan');\nINSERT INTO `pinyin` VALUES ('12831', 'wai');\nINSERT INTO `pinyin` VALUES ('12838', 'wa');\nINSERT INTO `pinyin` VALUES ('12849', 'tuo');\nINSERT INTO `pinyin` VALUES ('12852', 'tun');\nINSERT INTO `pinyin` VALUES ('12858', 'tui');\nINSERT INTO `pinyin` VALUES ('12860', 'tuan');\nINSERT INTO `pinyin` VALUES ('12871', 'tu');\nINSERT INTO `pinyin` VALUES ('12875', 'tou');\nINSERT INTO `pinyin` VALUES ('12888', 'tong');\nINSERT INTO `pinyin` VALUES ('13060', 'ting');\nINSERT INTO `pinyin` VALUES ('13063', 'tie');\nINSERT INTO `pinyin` VALUES ('13068', 'tiao');\nINSERT INTO `pinyin` VALUES ('13076', 'tian');\nINSERT INTO `pinyin` VALUES ('13091', 'ti');\nINSERT INTO `pinyin` VALUES ('13095', 'teng');\nINSERT INTO `pinyin` VALUES ('13096', 'te');\nINSERT INTO `pinyin` VALUES ('13107', 'tao');\nINSERT INTO `pinyin` VALUES ('13120', 'tang');\nINSERT INTO `pinyin` VALUES ('13138', 'tan');\nINSERT INTO `pinyin` VALUES ('13147', 'tai');\nINSERT INTO `pinyin` VALUES ('13318', 'ta');\nINSERT INTO `pinyin` VALUES ('13326', 'suo');\nINSERT INTO `pinyin` VALUES ('13329', 'sun');\nINSERT INTO `pinyin` VALUES ('13340', 'sui');\nINSERT INTO `pinyin` VALUES ('13343', 'suan');\nINSERT INTO `pinyin` VALUES ('13356', 'su');\nINSERT INTO `pinyin` VALUES ('13359', 'sou');\nINSERT INTO `pinyin` VALUES ('13367', 'song');\nINSERT INTO `pinyin` VALUES ('13383', 'si');\nINSERT INTO `pinyin` VALUES ('13387', 'shuo');\nINSERT INTO `pinyin` VALUES ('13391', 'shun');\nINSERT INTO `pinyin` VALUES ('13395', 'shui');\nINSERT INTO `pinyin` VALUES ('13398', 'shuang');\nINSERT INTO `pinyin` VALUES ('13400', 'shuan');\nINSERT INTO `pinyin` VALUES ('13404', 'shuai');\nINSERT INTO `pinyin` VALUES ('13406', 'shua');\nINSERT INTO `pinyin` VALUES ('13601', 'shu');\nINSERT INTO `pinyin` VALUES ('13611', 'shou');\nINSERT INTO `pinyin` VALUES ('13658', 'shi');\nINSERT INTO `pinyin` VALUES ('13831', 'sheng');\nINSERT INTO `pinyin` VALUES ('13847', 'shen');\nINSERT INTO `pinyin` VALUES ('13859', 'she');\nINSERT INTO `pinyin` VALUES ('13870', 'shao');\nINSERT INTO `pinyin` VALUES ('13878', 'shang');\nINSERT INTO `pinyin` VALUES ('13894', 'shan');\nINSERT INTO `pinyin` VALUES ('13896', 'shai');\nINSERT INTO `pinyin` VALUES ('13905', 'sha');\nINSERT INTO `pinyin` VALUES ('13906', 'seng');\nINSERT INTO `pinyin` VALUES ('13907', 'sen');\nINSERT INTO `pinyin` VALUES ('13910', 'se');\nINSERT INTO `pinyin` VALUES ('13914', 'sao');\nINSERT INTO `pinyin` VALUES ('13917', 'sang');\nINSERT INTO `pinyin` VALUES ('14083', 'san');\nINSERT INTO `pinyin` VALUES ('14087', 'sai');\nINSERT INTO `pinyin` VALUES ('14090', 'sa');\nINSERT INTO `pinyin` VALUES ('14092', 'ruo');\nINSERT INTO `pinyin` VALUES ('14094', 'run');\nINSERT INTO `pinyin` VALUES ('14097', 'rui');\nINSERT INTO `pinyin` VALUES ('14099', 'ruan');\nINSERT INTO `pinyin` VALUES ('14109', 'ru');\nINSERT INTO `pinyin` VALUES ('14112', 'rou');\nINSERT INTO `pinyin` VALUES ('14122', 'rong');\nINSERT INTO `pinyin` VALUES ('14123', 'ri');\nINSERT INTO `pinyin` VALUES ('14125', 'reng');\nINSERT INTO `pinyin` VALUES ('14135', 'ren');\nINSERT INTO `pinyin` VALUES ('14137', 're');\nINSERT INTO `pinyin` VALUES ('14140', 'rao');\nINSERT INTO `pinyin` VALUES ('14145', 'rang');\nINSERT INTO `pinyin` VALUES ('14149', 'ran');\nINSERT INTO `pinyin` VALUES ('14151', 'qun');\nINSERT INTO `pinyin` VALUES ('14159', 'que');\nINSERT INTO `pinyin` VALUES ('14170', 'quan');\nINSERT INTO `pinyin` VALUES ('14345', 'qu');\nINSERT INTO `pinyin` VALUES ('14353', 'qiu');\nINSERT INTO `pinyin` VALUES ('14355', 'qiong');\nINSERT INTO `pinyin` VALUES ('14368', 'qing');\nINSERT INTO `pinyin` VALUES ('14379', 'qin');\nINSERT INTO `pinyin` VALUES ('14384', 'qie');\nINSERT INTO `pinyin` VALUES ('14399', 'qiao');\nINSERT INTO `pinyin` VALUES ('14407', 'qiang');\nINSERT INTO `pinyin` VALUES ('14429', 'qian');\nINSERT INTO `pinyin` VALUES ('14594', 'qia');\nINSERT INTO `pinyin` VALUES ('14630', 'qi');\nINSERT INTO `pinyin` VALUES ('14645', 'pu');\nINSERT INTO `pinyin` VALUES ('14654', 'po');\nINSERT INTO `pinyin` VALUES ('14663', 'ping');\nINSERT INTO `pinyin` VALUES ('14668', 'pin');\nINSERT INTO `pinyin` VALUES ('14670', 'pie');\nINSERT INTO `pinyin` VALUES ('14674', 'piao');\nINSERT INTO `pinyin` VALUES ('14678', 'pian');\nINSERT INTO `pinyin` VALUES ('14857', 'pi');\nINSERT INTO `pinyin` VALUES ('14871', 'peng');\nINSERT INTO `pinyin` VALUES ('14873', 'pen');\nINSERT INTO `pinyin` VALUES ('14882', 'pei');\nINSERT INTO `pinyin` VALUES ('14889', 'pao');\nINSERT INTO `pinyin` VALUES ('14894', 'pang');\nINSERT INTO `pinyin` VALUES ('14902', 'pan');\nINSERT INTO `pinyin` VALUES ('14908', 'pai');\nINSERT INTO `pinyin` VALUES ('14914', 'pa');\nINSERT INTO `pinyin` VALUES ('14921', 'ou');\nINSERT INTO `pinyin` VALUES ('14922', 'o');\nINSERT INTO `pinyin` VALUES ('14926', 'nuo');\nINSERT INTO `pinyin` VALUES ('14928', 'nue');\nINSERT INTO `pinyin` VALUES ('14929', 'nuan');\nINSERT INTO `pinyin` VALUES ('14930', 'nv');\nINSERT INTO `pinyin` VALUES ('14933', 'nu');\nINSERT INTO `pinyin` VALUES ('14937', 'nong');\nINSERT INTO `pinyin` VALUES ('14941', 'niu');\nINSERT INTO `pinyin` VALUES ('15109', 'ning');\nINSERT INTO `pinyin` VALUES ('15110', 'nin');\nINSERT INTO `pinyin` VALUES ('15117', 'nie');\nINSERT INTO `pinyin` VALUES ('15119', 'niao');\nINSERT INTO `pinyin` VALUES ('15121', 'niang');\nINSERT INTO `pinyin` VALUES ('15128', 'nian');\nINSERT INTO `pinyin` VALUES ('15139', 'ni');\nINSERT INTO `pinyin` VALUES ('15140', 'neng');\nINSERT INTO `pinyin` VALUES ('15141', 'nen');\nINSERT INTO `pinyin` VALUES ('15143', 'nei');\nINSERT INTO `pinyin` VALUES ('15144', 'ne');\nINSERT INTO `pinyin` VALUES ('15149', 'nao');\nINSERT INTO `pinyin` VALUES ('15150', 'nang');\nINSERT INTO `pinyin` VALUES ('15153', 'nan');\nINSERT INTO `pinyin` VALUES ('15158', 'nai');\nINSERT INTO `pinyin` VALUES ('15165', 'na');\nINSERT INTO `pinyin` VALUES ('15180', 'mu');\nINSERT INTO `pinyin` VALUES ('15183', 'mou');\nINSERT INTO `pinyin` VALUES ('15362', 'mo');\nINSERT INTO `pinyin` VALUES ('15363', 'miu');\nINSERT INTO `pinyin` VALUES ('15369', 'ming');\nINSERT INTO `pinyin` VALUES ('15375', 'min');\nINSERT INTO `pinyin` VALUES ('15377', 'mie');\nINSERT INTO `pinyin` VALUES ('15385', 'miao');\nINSERT INTO `pinyin` VALUES ('15394', 'mian');\nINSERT INTO `pinyin` VALUES ('15408', 'mi');\nINSERT INTO `pinyin` VALUES ('15416', 'meng');\nINSERT INTO `pinyin` VALUES ('15419', 'men');\nINSERT INTO `pinyin` VALUES ('15435', 'mei');\nINSERT INTO `pinyin` VALUES ('15436', 'me');\nINSERT INTO `pinyin` VALUES ('15448', 'mao');\nINSERT INTO `pinyin` VALUES ('15454', 'mang');\nINSERT INTO `pinyin` VALUES ('15625', 'man');\nINSERT INTO `pinyin` VALUES ('15631', 'mai');\nINSERT INTO `pinyin` VALUES ('15640', 'ma');\nINSERT INTO `pinyin` VALUES ('15652', 'luo');\nINSERT INTO `pinyin` VALUES ('15659', 'lun');\nINSERT INTO `pinyin` VALUES ('15661', 'lue');\nINSERT INTO `pinyin` VALUES ('15667', 'luan');\nINSERT INTO `pinyin` VALUES ('15681', 'lv');\nINSERT INTO `pinyin` VALUES ('15701', 'lu');\nINSERT INTO `pinyin` VALUES ('15707', 'lou');\nINSERT INTO `pinyin` VALUES ('15878', 'long');\nINSERT INTO `pinyin` VALUES ('15889', 'liu');\nINSERT INTO `pinyin` VALUES ('15903', 'ling');\nINSERT INTO `pinyin` VALUES ('15915', 'lin');\nINSERT INTO `pinyin` VALUES ('15920', 'lie');\nINSERT INTO `pinyin` VALUES ('15933', 'liao');\nINSERT INTO `pinyin` VALUES ('15944', 'liang');\nINSERT INTO `pinyin` VALUES ('15958', 'lian');\nINSERT INTO `pinyin` VALUES ('15959', 'lia');\nINSERT INTO `pinyin` VALUES ('16155', 'li');\nINSERT INTO `pinyin` VALUES ('16158', 'leng');\nINSERT INTO `pinyin` VALUES ('16169', 'lei');\nINSERT INTO `pinyin` VALUES ('16171', 'le');\nINSERT INTO `pinyin` VALUES ('16180', 'lao');\nINSERT INTO `pinyin` VALUES ('16187', 'lang');\nINSERT INTO `pinyin` VALUES ('16202', 'lan');\nINSERT INTO `pinyin` VALUES ('16205', 'lai');\nINSERT INTO `pinyin` VALUES ('16212', 'la');\nINSERT INTO `pinyin` VALUES ('16216', 'kuo');\nINSERT INTO `pinyin` VALUES ('16220', 'kun');\nINSERT INTO `pinyin` VALUES ('16393', 'kui');\nINSERT INTO `pinyin` VALUES ('16401', 'kuang');\nINSERT INTO `pinyin` VALUES ('16403', 'kuan');\nINSERT INTO `pinyin` VALUES ('16407', 'kuai');\nINSERT INTO `pinyin` VALUES ('16412', 'kua');\nINSERT INTO `pinyin` VALUES ('16419', 'ku');\nINSERT INTO `pinyin` VALUES ('16423', 'kou');\nINSERT INTO `pinyin` VALUES ('16427', 'kong');\nINSERT INTO `pinyin` VALUES ('16429', 'keng');\nINSERT INTO `pinyin` VALUES ('16433', 'ken');\nINSERT INTO `pinyin` VALUES ('16448', 'ke');\nINSERT INTO `pinyin` VALUES ('16452', 'kao');\nINSERT INTO `pinyin` VALUES ('16459', 'kang');\nINSERT INTO `pinyin` VALUES ('16465', 'kan');\nINSERT INTO `pinyin` VALUES ('16470', 'kai');\nINSERT INTO `pinyin` VALUES ('16474', 'ka');\nINSERT INTO `pinyin` VALUES ('16647', 'jun');\nINSERT INTO `pinyin` VALUES ('16657', 'jue');\nINSERT INTO `pinyin` VALUES ('16664', 'juan');\nINSERT INTO `pinyin` VALUES ('16689', 'ju');\nINSERT INTO `pinyin` VALUES ('16706', 'jiu');\nINSERT INTO `pinyin` VALUES ('16708', 'jiong');\nINSERT INTO `pinyin` VALUES ('16733', 'jing');\nINSERT INTO `pinyin` VALUES ('16915', 'jin');\nINSERT INTO `pinyin` VALUES ('16942', 'jie');\nINSERT INTO `pinyin` VALUES ('16970', 'jiao');\nINSERT INTO `pinyin` VALUES ('16983', 'jiang');\nINSERT INTO `pinyin` VALUES ('17185', 'jian');\nINSERT INTO `pinyin` VALUES ('17202', 'jia');\nINSERT INTO `pinyin` VALUES ('17417', 'ji');\nINSERT INTO `pinyin` VALUES ('17427', 'huo');\nINSERT INTO `pinyin` VALUES ('17433', 'hun');\nINSERT INTO `pinyin` VALUES ('17454', 'hui');\nINSERT INTO `pinyin` VALUES ('17468', 'huang');\nINSERT INTO `pinyin` VALUES ('17482', 'huan');\nINSERT INTO `pinyin` VALUES ('17487', 'huai');\nINSERT INTO `pinyin` VALUES ('17496', 'hua');\nINSERT INTO `pinyin` VALUES ('17676', 'hu');\nINSERT INTO `pinyin` VALUES ('17683', 'hou');\nINSERT INTO `pinyin` VALUES ('17692', 'hong');\nINSERT INTO `pinyin` VALUES ('17697', 'heng');\nINSERT INTO `pinyin` VALUES ('17701', 'hen');\nINSERT INTO `pinyin` VALUES ('17703', 'hei');\nINSERT INTO `pinyin` VALUES ('17721', 'he');\nINSERT INTO `pinyin` VALUES ('17730', 'hao');\nINSERT INTO `pinyin` VALUES ('17733', 'hang');\nINSERT INTO `pinyin` VALUES ('17752', 'han');\nINSERT INTO `pinyin` VALUES ('17759', 'hai');\nINSERT INTO `pinyin` VALUES ('17922', 'ha');\nINSERT INTO `pinyin` VALUES ('17928', 'guo');\nINSERT INTO `pinyin` VALUES ('17931', 'gun');\nINSERT INTO `pinyin` VALUES ('17947', 'gui');\nINSERT INTO `pinyin` VALUES ('17950', 'guang');\nINSERT INTO `pinyin` VALUES ('17961', 'guan');\nINSERT INTO `pinyin` VALUES ('17964', 'guai');\nINSERT INTO `pinyin` VALUES ('17970', 'gua');\nINSERT INTO `pinyin` VALUES ('17988', 'gu');\nINSERT INTO `pinyin` VALUES ('17997', 'gou');\nINSERT INTO `pinyin` VALUES ('18012', 'gong');\nINSERT INTO `pinyin` VALUES ('18181', 'geng');\nINSERT INTO `pinyin` VALUES ('18183', 'gen');\nINSERT INTO `pinyin` VALUES ('18184', 'gei');\nINSERT INTO `pinyin` VALUES ('18201', 'ge');\nINSERT INTO `pinyin` VALUES ('18211', 'gao');\nINSERT INTO `pinyin` VALUES ('18220', 'gang');\nINSERT INTO `pinyin` VALUES ('18231', 'gan');\nINSERT INTO `pinyin` VALUES ('18237', 'gai');\nINSERT INTO `pinyin` VALUES ('18239', 'ga');\nINSERT INTO `pinyin` VALUES ('18446', 'fu');\nINSERT INTO `pinyin` VALUES ('18447', 'fou');\nINSERT INTO `pinyin` VALUES ('18448', 'fo');\nINSERT INTO `pinyin` VALUES ('18463', 'feng');\nINSERT INTO `pinyin` VALUES ('18478', 'fen');\nINSERT INTO `pinyin` VALUES ('18490', 'fei');\nINSERT INTO `pinyin` VALUES ('18501', 'fang');\nINSERT INTO `pinyin` VALUES ('18518', 'fan');\nINSERT INTO `pinyin` VALUES ('18526', 'fa');\nINSERT INTO `pinyin` VALUES ('18696', 'er');\nINSERT INTO `pinyin` VALUES ('18697', 'en');\nINSERT INTO `pinyin` VALUES ('18710', 'e');\nINSERT INTO `pinyin` VALUES ('18722', 'duo');\nINSERT INTO `pinyin` VALUES ('18731', 'dun');\nINSERT INTO `pinyin` VALUES ('18735', 'dui');\nINSERT INTO `pinyin` VALUES ('18741', 'duan');\nINSERT INTO `pinyin` VALUES ('18756', 'du');\nINSERT INTO `pinyin` VALUES ('18763', 'dou');\nINSERT INTO `pinyin` VALUES ('18773', 'dong');\nINSERT INTO `pinyin` VALUES ('18774', 'diu');\nINSERT INTO `pinyin` VALUES ('18783', 'ding');\nINSERT INTO `pinyin` VALUES ('18952', 'die');\nINSERT INTO `pinyin` VALUES ('18961', 'diao');\nINSERT INTO `pinyin` VALUES ('18977', 'dian');\nINSERT INTO `pinyin` VALUES ('18996', 'di');\nINSERT INTO `pinyin` VALUES ('19003', 'deng');\nINSERT INTO `pinyin` VALUES ('19006', 'de');\nINSERT INTO `pinyin` VALUES ('19018', 'dao');\nINSERT INTO `pinyin` VALUES ('19023', 'dang');\nINSERT INTO `pinyin` VALUES ('19038', 'dan');\nINSERT INTO `pinyin` VALUES ('19212', 'dai');\nINSERT INTO `pinyin` VALUES ('19218', 'da');\nINSERT INTO `pinyin` VALUES ('19224', 'cuo');\nINSERT INTO `pinyin` VALUES ('19227', 'cun');\nINSERT INTO `pinyin` VALUES ('19235', 'cui');\nINSERT INTO `pinyin` VALUES ('19238', 'cuan');\nINSERT INTO `pinyin` VALUES ('19242', 'cu');\nINSERT INTO `pinyin` VALUES ('19243', 'cou');\nINSERT INTO `pinyin` VALUES ('19249', 'cong');\nINSERT INTO `pinyin` VALUES ('19261', 'ci');\nINSERT INTO `pinyin` VALUES ('19263', 'chuo');\nINSERT INTO `pinyin` VALUES ('19270', 'chun');\nINSERT INTO `pinyin` VALUES ('19275', 'chui');\nINSERT INTO `pinyin` VALUES ('19281', 'chuang');\nINSERT INTO `pinyin` VALUES ('19288', 'chuan');\nINSERT INTO `pinyin` VALUES ('19289', 'chuai');\nINSERT INTO `pinyin` VALUES ('19467', 'chu');\nINSERT INTO `pinyin` VALUES ('19479', 'chou');\nINSERT INTO `pinyin` VALUES ('19484', 'chong');\nINSERT INTO `pinyin` VALUES ('19500', 'chi');\nINSERT INTO `pinyin` VALUES ('19515', 'cheng');\nINSERT INTO `pinyin` VALUES ('19525', 'chen');\nINSERT INTO `pinyin` VALUES ('19531', 'che');\nINSERT INTO `pinyin` VALUES ('19540', 'chao');\nINSERT INTO `pinyin` VALUES ('19715', 'chang');\nINSERT INTO `pinyin` VALUES ('19725', 'chan');\nINSERT INTO `pinyin` VALUES ('19728', 'chai');\nINSERT INTO `pinyin` VALUES ('19739', 'cha');\nINSERT INTO `pinyin` VALUES ('19741', 'ceng');\nINSERT INTO `pinyin` VALUES ('19746', 'ce');\nINSERT INTO `pinyin` VALUES ('19751', 'cao');\nINSERT INTO `pinyin` VALUES ('19756', 'cang');\nINSERT INTO `pinyin` VALUES ('19763', 'can');\nINSERT INTO `pinyin` VALUES ('19774', 'cai');\nINSERT INTO `pinyin` VALUES ('19775', 'ca');\nINSERT INTO `pinyin` VALUES ('19784', 'bu');\nINSERT INTO `pinyin` VALUES ('19805', 'bo');\nINSERT INTO `pinyin` VALUES ('19976', 'bing');\nINSERT INTO `pinyin` VALUES ('19982', 'bin');\nINSERT INTO `pinyin` VALUES ('19986', 'bie');\nINSERT INTO `pinyin` VALUES ('19990', 'biao');\nINSERT INTO `pinyin` VALUES ('20002', 'bian');\nINSERT INTO `pinyin` VALUES ('20026', 'bi');\nINSERT INTO `pinyin` VALUES ('20032', 'beng');\nINSERT INTO `pinyin` VALUES ('20036', 'ben');\nINSERT INTO `pinyin` VALUES ('20051', 'bei');\nINSERT INTO `pinyin` VALUES ('20230', 'bao');\nINSERT INTO `pinyin` VALUES ('20242', 'bang');\nINSERT INTO `pinyin` VALUES ('20257', 'ban');\nINSERT INTO `pinyin` VALUES ('20265', 'bai');\nINSERT INTO `pinyin` VALUES ('20283', 'ba');\nINSERT INTO `pinyin` VALUES ('20292', 'ao');\nINSERT INTO `pinyin` VALUES ('20295', 'ang');\nINSERT INTO `pinyin` VALUES ('20304', 'an');\nINSERT INTO `pinyin` VALUES ('20317', 'ai');\nINSERT INTO `pinyin` VALUES ('20319', 'a');\n```\n\n\n### \n\n``` mysql\nselect f_to_pinyin(\"\");\n```\n","slug":"zh-cn-to-pinyin","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138e9000shpwf2agv0wjd","content":"<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk</span><br><span class=\"line\">BEGIN</span><br><span class=\"line\">    DECLARE mycode INT;</span><br><span class=\"line\">    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE lcode INT;</span><br><span class=\"line\">    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE rcode INT;</span><br><span class=\"line\">    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT &apos;&apos;;</span><br><span class=\"line\">    DECLARE lp INT;</span><br><span class=\"line\">    SET mycode = 0;</span><br><span class=\"line\">    SET lp = 1;</span><br><span class=\"line\">    SET NAME = HEX(NAME);</span><br><span class=\"line\">    WHILE lp &lt; LENGTH(NAME) DO</span><br><span class=\"line\">        SET tmp_lcode = SUBSTRING(NAME, lp, 2);</span><br><span class=\"line\">        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); </span><br><span class=\"line\">        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);</span><br><span class=\"line\">        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); </span><br><span class=\"line\">        IF lcode &gt; 128 THEN</span><br><span class=\"line\">            SET mycode =65536 - lcode * 256 - rcode ;</span><br><span class=\"line\">            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` &gt;= ABS(mycode) ORDER BY `code` ASC LIMIT 1;</span><br><span class=\"line\">            SET lp = lp + 4;</span><br><span class=\"line\">        ELSE</span><br><span class=\"line\">            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));</span><br><span class=\"line\">            SET lp = lp + 2;</span><br><span class=\"line\">        END IF;</span><br><span class=\"line\">    END WHILE;</span><br><span class=\"line\">    RETURN LOWER(mypy);</span><br><span class=\"line\">END</span><br></pre></td></tr></table></figure>\n<h3 id=\"ascii\"><a href=\"#ascii\" class=\"headerlink\" title=\"ascii\"></a>ascii</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE `pinyin` (</span><br><span class=\"line\">  `code` int(11) NOT NULL,</span><br><span class=\"line\">  `py` varchar(10) CHARACTER SET gbk NOT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`code`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10254&apos;, &apos;zuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10256&apos;, &apos;zun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10260&apos;, &apos;zui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10262&apos;, &apos;zuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10270&apos;, &apos;zu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10274&apos;, &apos;zou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10281&apos;, &apos;zong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10296&apos;, &apos;zi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10307&apos;, &apos;zhuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10309&apos;, &apos;zhun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10315&apos;, &apos;zhui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10322&apos;, &apos;zhuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10328&apos;, &apos;zhuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10329&apos;, &apos;zhuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10331&apos;, &apos;zhua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10519&apos;, &apos;zhu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10533&apos;, &apos;zhou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10544&apos;, &apos;zhong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10587&apos;, &apos;zhi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10764&apos;, &apos;zheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10780&apos;, &apos;zhen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10790&apos;, &apos;zhe&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10800&apos;, &apos;zhao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10815&apos;, &apos;zhang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10832&apos;, &apos;zhan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10838&apos;, &apos;zhai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11014&apos;, &apos;zha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11018&apos;, &apos;zeng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11019&apos;, &apos;zen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11020&apos;, &apos;zei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11024&apos;, &apos;ze&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11038&apos;, &apos;zao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11041&apos;, &apos;zang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11045&apos;, &apos;zan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11052&apos;, &apos;zai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11055&apos;, &apos;za&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11067&apos;, &apos;yun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11077&apos;, &apos;yue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11097&apos;, &apos;yuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11303&apos;, &apos;yu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11324&apos;, &apos;you&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11339&apos;, &apos;yong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11340&apos;, &apos;yo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11358&apos;, &apos;ying&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11536&apos;, &apos;yin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11589&apos;, &apos;yi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11604&apos;, &apos;ye&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11781&apos;, &apos;yao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11798&apos;, &apos;yang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11831&apos;, &apos;yan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11847&apos;, &apos;ya&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11861&apos;, &apos;xun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11867&apos;, &apos;xue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12039&apos;, &apos;xuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12058&apos;, &apos;xu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12067&apos;, &apos;xiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12074&apos;, &apos;xiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12089&apos;, &apos;xing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12099&apos;, &apos;xin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12120&apos;, &apos;xie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12300&apos;, &apos;xiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12320&apos;, &apos;xiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12346&apos;, &apos;xian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12359&apos;, &apos;xia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12556&apos;, &apos;xi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12585&apos;, &apos;wu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12594&apos;, &apos;wo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12597&apos;, &apos;weng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12607&apos;, &apos;wen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12802&apos;, &apos;wei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12812&apos;, &apos;wang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12829&apos;, &apos;wan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12831&apos;, &apos;wai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12838&apos;, &apos;wa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12849&apos;, &apos;tuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12852&apos;, &apos;tun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12858&apos;, &apos;tui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12860&apos;, &apos;tuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12871&apos;, &apos;tu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12875&apos;, &apos;tou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12888&apos;, &apos;tong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13060&apos;, &apos;ting&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13063&apos;, &apos;tie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13068&apos;, &apos;tiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13076&apos;, &apos;tian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13091&apos;, &apos;ti&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13095&apos;, &apos;teng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13096&apos;, &apos;te&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13107&apos;, &apos;tao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13120&apos;, &apos;tang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13138&apos;, &apos;tan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13147&apos;, &apos;tai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13318&apos;, &apos;ta&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13326&apos;, &apos;suo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13329&apos;, &apos;sun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13340&apos;, &apos;sui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13343&apos;, &apos;suan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13356&apos;, &apos;su&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13359&apos;, &apos;sou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13367&apos;, &apos;song&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13383&apos;, &apos;si&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13387&apos;, &apos;shuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13391&apos;, &apos;shun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13395&apos;, &apos;shui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13398&apos;, &apos;shuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13400&apos;, &apos;shuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13404&apos;, &apos;shuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13406&apos;, &apos;shua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13601&apos;, &apos;shu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13611&apos;, &apos;shou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13658&apos;, &apos;shi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13831&apos;, &apos;sheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13847&apos;, &apos;shen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13859&apos;, &apos;she&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13870&apos;, &apos;shao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13878&apos;, &apos;shang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13894&apos;, &apos;shan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13896&apos;, &apos;shai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13905&apos;, &apos;sha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13906&apos;, &apos;seng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13907&apos;, &apos;sen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13910&apos;, &apos;se&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13914&apos;, &apos;sao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13917&apos;, &apos;sang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14083&apos;, &apos;san&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14087&apos;, &apos;sai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14090&apos;, &apos;sa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14092&apos;, &apos;ruo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14094&apos;, &apos;run&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14097&apos;, &apos;rui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14099&apos;, &apos;ruan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14109&apos;, &apos;ru&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14112&apos;, &apos;rou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14122&apos;, &apos;rong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14123&apos;, &apos;ri&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14125&apos;, &apos;reng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14135&apos;, &apos;ren&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14137&apos;, &apos;re&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14140&apos;, &apos;rao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14145&apos;, &apos;rang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14149&apos;, &apos;ran&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14151&apos;, &apos;qun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14159&apos;, &apos;que&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14170&apos;, &apos;quan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14345&apos;, &apos;qu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14353&apos;, &apos;qiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14355&apos;, &apos;qiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14368&apos;, &apos;qing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14379&apos;, &apos;qin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14384&apos;, &apos;qie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14399&apos;, &apos;qiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14407&apos;, &apos;qiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14429&apos;, &apos;qian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14594&apos;, &apos;qia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14630&apos;, &apos;qi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14645&apos;, &apos;pu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14654&apos;, &apos;po&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14663&apos;, &apos;ping&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14668&apos;, &apos;pin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14670&apos;, &apos;pie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14674&apos;, &apos;piao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14678&apos;, &apos;pian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14857&apos;, &apos;pi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14871&apos;, &apos;peng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14873&apos;, &apos;pen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14882&apos;, &apos;pei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14889&apos;, &apos;pao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14894&apos;, &apos;pang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14902&apos;, &apos;pan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14908&apos;, &apos;pai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14914&apos;, &apos;pa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14921&apos;, &apos;ou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14922&apos;, &apos;o&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14926&apos;, &apos;nuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14928&apos;, &apos;nue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14929&apos;, &apos;nuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14930&apos;, &apos;nv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14933&apos;, &apos;nu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14937&apos;, &apos;nong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14941&apos;, &apos;niu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15109&apos;, &apos;ning&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15110&apos;, &apos;nin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15117&apos;, &apos;nie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15119&apos;, &apos;niao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15121&apos;, &apos;niang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15128&apos;, &apos;nian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15139&apos;, &apos;ni&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15140&apos;, &apos;neng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15141&apos;, &apos;nen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15143&apos;, &apos;nei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15144&apos;, &apos;ne&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15149&apos;, &apos;nao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15150&apos;, &apos;nang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15153&apos;, &apos;nan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15158&apos;, &apos;nai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15165&apos;, &apos;na&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15180&apos;, &apos;mu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15183&apos;, &apos;mou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15362&apos;, &apos;mo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15363&apos;, &apos;miu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15369&apos;, &apos;ming&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15375&apos;, &apos;min&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15377&apos;, &apos;mie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15385&apos;, &apos;miao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15394&apos;, &apos;mian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15408&apos;, &apos;mi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15416&apos;, &apos;meng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15419&apos;, &apos;men&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15435&apos;, &apos;mei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15436&apos;, &apos;me&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15448&apos;, &apos;mao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15454&apos;, &apos;mang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15625&apos;, &apos;man&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15631&apos;, &apos;mai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15640&apos;, &apos;ma&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15652&apos;, &apos;luo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15659&apos;, &apos;lun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15661&apos;, &apos;lue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15667&apos;, &apos;luan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15681&apos;, &apos;lv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15701&apos;, &apos;lu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15707&apos;, &apos;lou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15878&apos;, &apos;long&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15889&apos;, &apos;liu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15903&apos;, &apos;ling&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15915&apos;, &apos;lin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15920&apos;, &apos;lie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15933&apos;, &apos;liao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15944&apos;, &apos;liang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15958&apos;, &apos;lian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15959&apos;, &apos;lia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16155&apos;, &apos;li&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16158&apos;, &apos;leng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16169&apos;, &apos;lei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16171&apos;, &apos;le&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16180&apos;, &apos;lao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16187&apos;, &apos;lang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16202&apos;, &apos;lan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16205&apos;, &apos;lai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16212&apos;, &apos;la&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16216&apos;, &apos;kuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16220&apos;, &apos;kun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16393&apos;, &apos;kui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16401&apos;, &apos;kuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16403&apos;, &apos;kuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16407&apos;, &apos;kuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16412&apos;, &apos;kua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16419&apos;, &apos;ku&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16423&apos;, &apos;kou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16427&apos;, &apos;kong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16429&apos;, &apos;keng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16433&apos;, &apos;ken&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16448&apos;, &apos;ke&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16452&apos;, &apos;kao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16459&apos;, &apos;kang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16465&apos;, &apos;kan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16470&apos;, &apos;kai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16474&apos;, &apos;ka&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16647&apos;, &apos;jun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16657&apos;, &apos;jue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16664&apos;, &apos;juan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16689&apos;, &apos;ju&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16706&apos;, &apos;jiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16708&apos;, &apos;jiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16733&apos;, &apos;jing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16915&apos;, &apos;jin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16942&apos;, &apos;jie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16970&apos;, &apos;jiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16983&apos;, &apos;jiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17185&apos;, &apos;jian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17202&apos;, &apos;jia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17417&apos;, &apos;ji&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17427&apos;, &apos;huo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17433&apos;, &apos;hun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17454&apos;, &apos;hui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17468&apos;, &apos;huang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17482&apos;, &apos;huan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17487&apos;, &apos;huai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17496&apos;, &apos;hua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17676&apos;, &apos;hu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17683&apos;, &apos;hou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17692&apos;, &apos;hong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17697&apos;, &apos;heng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17701&apos;, &apos;hen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17703&apos;, &apos;hei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17721&apos;, &apos;he&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17730&apos;, &apos;hao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17733&apos;, &apos;hang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17752&apos;, &apos;han&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17759&apos;, &apos;hai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17922&apos;, &apos;ha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17928&apos;, &apos;guo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17931&apos;, &apos;gun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17947&apos;, &apos;gui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17950&apos;, &apos;guang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17961&apos;, &apos;guan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17964&apos;, &apos;guai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17970&apos;, &apos;gua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17988&apos;, &apos;gu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17997&apos;, &apos;gou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18012&apos;, &apos;gong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18181&apos;, &apos;geng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18183&apos;, &apos;gen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18184&apos;, &apos;gei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18201&apos;, &apos;ge&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18211&apos;, &apos;gao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18220&apos;, &apos;gang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18231&apos;, &apos;gan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18237&apos;, &apos;gai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18239&apos;, &apos;ga&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18446&apos;, &apos;fu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18447&apos;, &apos;fou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18448&apos;, &apos;fo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18463&apos;, &apos;feng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18478&apos;, &apos;fen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18490&apos;, &apos;fei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18501&apos;, &apos;fang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18518&apos;, &apos;fan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18526&apos;, &apos;fa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18696&apos;, &apos;er&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18697&apos;, &apos;en&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18710&apos;, &apos;e&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18722&apos;, &apos;duo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18731&apos;, &apos;dun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18735&apos;, &apos;dui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18741&apos;, &apos;duan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18756&apos;, &apos;du&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18763&apos;, &apos;dou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18773&apos;, &apos;dong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18774&apos;, &apos;diu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18783&apos;, &apos;ding&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18952&apos;, &apos;die&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18961&apos;, &apos;diao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18977&apos;, &apos;dian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18996&apos;, &apos;di&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19003&apos;, &apos;deng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19006&apos;, &apos;de&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19018&apos;, &apos;dao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19023&apos;, &apos;dang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19038&apos;, &apos;dan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19212&apos;, &apos;dai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19218&apos;, &apos;da&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19224&apos;, &apos;cuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19227&apos;, &apos;cun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19235&apos;, &apos;cui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19238&apos;, &apos;cuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19242&apos;, &apos;cu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19243&apos;, &apos;cou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19249&apos;, &apos;cong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19261&apos;, &apos;ci&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19263&apos;, &apos;chuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19270&apos;, &apos;chun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19275&apos;, &apos;chui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19281&apos;, &apos;chuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19288&apos;, &apos;chuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19289&apos;, &apos;chuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19467&apos;, &apos;chu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19479&apos;, &apos;chou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19484&apos;, &apos;chong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19500&apos;, &apos;chi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19515&apos;, &apos;cheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19525&apos;, &apos;chen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19531&apos;, &apos;che&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19540&apos;, &apos;chao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19715&apos;, &apos;chang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19725&apos;, &apos;chan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19728&apos;, &apos;chai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19739&apos;, &apos;cha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19741&apos;, &apos;ceng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19746&apos;, &apos;ce&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19751&apos;, &apos;cao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19756&apos;, &apos;cang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19763&apos;, &apos;can&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19774&apos;, &apos;cai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19775&apos;, &apos;ca&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19784&apos;, &apos;bu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19805&apos;, &apos;bo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19976&apos;, &apos;bing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19982&apos;, &apos;bin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19986&apos;, &apos;bie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19990&apos;, &apos;biao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20002&apos;, &apos;bian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20026&apos;, &apos;bi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20032&apos;, &apos;beng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20036&apos;, &apos;ben&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20051&apos;, &apos;bei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20230&apos;, &apos;bao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20242&apos;, &apos;bang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20257&apos;, &apos;ban&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20265&apos;, &apos;bai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20283&apos;, &apos;ba&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20292&apos;, &apos;ao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20295&apos;, &apos;ang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20304&apos;, &apos;an&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20317&apos;, &apos;ai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20319&apos;, &apos;a&apos;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select f_to_pinyin(&quot;&quot;);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk</span><br><span class=\"line\">BEGIN</span><br><span class=\"line\">    DECLARE mycode INT;</span><br><span class=\"line\">    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE lcode INT;</span><br><span class=\"line\">    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE rcode INT;</span><br><span class=\"line\">    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT &apos;&apos;;</span><br><span class=\"line\">    DECLARE lp INT;</span><br><span class=\"line\">    SET mycode = 0;</span><br><span class=\"line\">    SET lp = 1;</span><br><span class=\"line\">    SET NAME = HEX(NAME);</span><br><span class=\"line\">    WHILE lp &lt; LENGTH(NAME) DO</span><br><span class=\"line\">        SET tmp_lcode = SUBSTRING(NAME, lp, 2);</span><br><span class=\"line\">        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); </span><br><span class=\"line\">        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);</span><br><span class=\"line\">        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); </span><br><span class=\"line\">        IF lcode &gt; 128 THEN</span><br><span class=\"line\">            SET mycode =65536 - lcode * 256 - rcode ;</span><br><span class=\"line\">            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` &gt;= ABS(mycode) ORDER BY `code` ASC LIMIT 1;</span><br><span class=\"line\">            SET lp = lp + 4;</span><br><span class=\"line\">        ELSE</span><br><span class=\"line\">            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));</span><br><span class=\"line\">            SET lp = lp + 2;</span><br><span class=\"line\">        END IF;</span><br><span class=\"line\">    END WHILE;</span><br><span class=\"line\">    RETURN LOWER(mypy);</span><br><span class=\"line\">END</span><br></pre></td></tr></table></figure>\n<h3 id=\"ascii\"><a href=\"#ascii\" class=\"headerlink\" title=\"ascii\"></a>ascii</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE `pinyin` (</span><br><span class=\"line\">  `code` int(11) NOT NULL,</span><br><span class=\"line\">  `py` varchar(10) CHARACTER SET gbk NOT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`code`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10254&apos;, &apos;zuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10256&apos;, &apos;zun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10260&apos;, &apos;zui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10262&apos;, &apos;zuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10270&apos;, &apos;zu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10274&apos;, &apos;zou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10281&apos;, &apos;zong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10296&apos;, &apos;zi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10307&apos;, &apos;zhuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10309&apos;, &apos;zhun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10315&apos;, &apos;zhui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10322&apos;, &apos;zhuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10328&apos;, &apos;zhuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10329&apos;, &apos;zhuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10331&apos;, &apos;zhua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10519&apos;, &apos;zhu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10533&apos;, &apos;zhou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10544&apos;, &apos;zhong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10587&apos;, &apos;zhi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10764&apos;, &apos;zheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10780&apos;, &apos;zhen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10790&apos;, &apos;zhe&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10800&apos;, &apos;zhao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10815&apos;, &apos;zhang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10832&apos;, &apos;zhan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10838&apos;, &apos;zhai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11014&apos;, &apos;zha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11018&apos;, &apos;zeng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11019&apos;, &apos;zen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11020&apos;, &apos;zei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11024&apos;, &apos;ze&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11038&apos;, &apos;zao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11041&apos;, &apos;zang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11045&apos;, &apos;zan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11052&apos;, &apos;zai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11055&apos;, &apos;za&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11067&apos;, &apos;yun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11077&apos;, &apos;yue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11097&apos;, &apos;yuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11303&apos;, &apos;yu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11324&apos;, &apos;you&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11339&apos;, &apos;yong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11340&apos;, &apos;yo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11358&apos;, &apos;ying&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11536&apos;, &apos;yin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11589&apos;, &apos;yi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11604&apos;, &apos;ye&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11781&apos;, &apos;yao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11798&apos;, &apos;yang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11831&apos;, &apos;yan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11847&apos;, &apos;ya&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11861&apos;, &apos;xun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11867&apos;, &apos;xue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12039&apos;, &apos;xuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12058&apos;, &apos;xu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12067&apos;, &apos;xiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12074&apos;, &apos;xiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12089&apos;, &apos;xing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12099&apos;, &apos;xin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12120&apos;, &apos;xie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12300&apos;, &apos;xiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12320&apos;, &apos;xiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12346&apos;, &apos;xian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12359&apos;, &apos;xia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12556&apos;, &apos;xi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12585&apos;, &apos;wu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12594&apos;, &apos;wo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12597&apos;, &apos;weng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12607&apos;, &apos;wen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12802&apos;, &apos;wei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12812&apos;, &apos;wang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12829&apos;, &apos;wan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12831&apos;, &apos;wai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12838&apos;, &apos;wa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12849&apos;, &apos;tuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12852&apos;, &apos;tun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12858&apos;, &apos;tui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12860&apos;, &apos;tuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12871&apos;, &apos;tu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12875&apos;, &apos;tou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12888&apos;, &apos;tong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13060&apos;, &apos;ting&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13063&apos;, &apos;tie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13068&apos;, &apos;tiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13076&apos;, &apos;tian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13091&apos;, &apos;ti&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13095&apos;, &apos;teng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13096&apos;, &apos;te&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13107&apos;, &apos;tao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13120&apos;, &apos;tang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13138&apos;, &apos;tan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13147&apos;, &apos;tai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13318&apos;, &apos;ta&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13326&apos;, &apos;suo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13329&apos;, &apos;sun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13340&apos;, &apos;sui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13343&apos;, &apos;suan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13356&apos;, &apos;su&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13359&apos;, &apos;sou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13367&apos;, &apos;song&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13383&apos;, &apos;si&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13387&apos;, &apos;shuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13391&apos;, &apos;shun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13395&apos;, &apos;shui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13398&apos;, &apos;shuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13400&apos;, &apos;shuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13404&apos;, &apos;shuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13406&apos;, &apos;shua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13601&apos;, &apos;shu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13611&apos;, &apos;shou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13658&apos;, &apos;shi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13831&apos;, &apos;sheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13847&apos;, &apos;shen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13859&apos;, &apos;she&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13870&apos;, &apos;shao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13878&apos;, &apos;shang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13894&apos;, &apos;shan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13896&apos;, &apos;shai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13905&apos;, &apos;sha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13906&apos;, &apos;seng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13907&apos;, &apos;sen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13910&apos;, &apos;se&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13914&apos;, &apos;sao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13917&apos;, &apos;sang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14083&apos;, &apos;san&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14087&apos;, &apos;sai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14090&apos;, &apos;sa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14092&apos;, &apos;ruo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14094&apos;, &apos;run&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14097&apos;, &apos;rui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14099&apos;, &apos;ruan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14109&apos;, &apos;ru&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14112&apos;, &apos;rou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14122&apos;, &apos;rong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14123&apos;, &apos;ri&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14125&apos;, &apos;reng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14135&apos;, &apos;ren&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14137&apos;, &apos;re&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14140&apos;, &apos;rao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14145&apos;, &apos;rang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14149&apos;, &apos;ran&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14151&apos;, &apos;qun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14159&apos;, &apos;que&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14170&apos;, &apos;quan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14345&apos;, &apos;qu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14353&apos;, &apos;qiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14355&apos;, &apos;qiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14368&apos;, &apos;qing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14379&apos;, &apos;qin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14384&apos;, &apos;qie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14399&apos;, &apos;qiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14407&apos;, &apos;qiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14429&apos;, &apos;qian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14594&apos;, &apos;qia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14630&apos;, &apos;qi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14645&apos;, &apos;pu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14654&apos;, &apos;po&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14663&apos;, &apos;ping&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14668&apos;, &apos;pin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14670&apos;, &apos;pie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14674&apos;, &apos;piao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14678&apos;, &apos;pian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14857&apos;, &apos;pi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14871&apos;, &apos;peng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14873&apos;, &apos;pen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14882&apos;, &apos;pei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14889&apos;, &apos;pao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14894&apos;, &apos;pang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14902&apos;, &apos;pan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14908&apos;, &apos;pai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14914&apos;, &apos;pa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14921&apos;, &apos;ou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14922&apos;, &apos;o&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14926&apos;, &apos;nuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14928&apos;, &apos;nue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14929&apos;, &apos;nuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14930&apos;, &apos;nv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14933&apos;, &apos;nu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14937&apos;, &apos;nong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14941&apos;, &apos;niu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15109&apos;, &apos;ning&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15110&apos;, &apos;nin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15117&apos;, &apos;nie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15119&apos;, &apos;niao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15121&apos;, &apos;niang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15128&apos;, &apos;nian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15139&apos;, &apos;ni&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15140&apos;, &apos;neng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15141&apos;, &apos;nen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15143&apos;, &apos;nei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15144&apos;, &apos;ne&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15149&apos;, &apos;nao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15150&apos;, &apos;nang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15153&apos;, &apos;nan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15158&apos;, &apos;nai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15165&apos;, &apos;na&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15180&apos;, &apos;mu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15183&apos;, &apos;mou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15362&apos;, &apos;mo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15363&apos;, &apos;miu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15369&apos;, &apos;ming&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15375&apos;, &apos;min&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15377&apos;, &apos;mie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15385&apos;, &apos;miao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15394&apos;, &apos;mian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15408&apos;, &apos;mi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15416&apos;, &apos;meng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15419&apos;, &apos;men&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15435&apos;, &apos;mei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15436&apos;, &apos;me&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15448&apos;, &apos;mao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15454&apos;, &apos;mang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15625&apos;, &apos;man&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15631&apos;, &apos;mai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15640&apos;, &apos;ma&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15652&apos;, &apos;luo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15659&apos;, &apos;lun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15661&apos;, &apos;lue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15667&apos;, &apos;luan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15681&apos;, &apos;lv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15701&apos;, &apos;lu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15707&apos;, &apos;lou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15878&apos;, &apos;long&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15889&apos;, &apos;liu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15903&apos;, &apos;ling&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15915&apos;, &apos;lin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15920&apos;, &apos;lie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15933&apos;, &apos;liao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15944&apos;, &apos;liang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15958&apos;, &apos;lian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15959&apos;, &apos;lia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16155&apos;, &apos;li&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16158&apos;, &apos;leng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16169&apos;, &apos;lei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16171&apos;, &apos;le&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16180&apos;, &apos;lao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16187&apos;, &apos;lang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16202&apos;, &apos;lan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16205&apos;, &apos;lai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16212&apos;, &apos;la&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16216&apos;, &apos;kuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16220&apos;, &apos;kun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16393&apos;, &apos;kui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16401&apos;, &apos;kuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16403&apos;, &apos;kuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16407&apos;, &apos;kuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16412&apos;, &apos;kua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16419&apos;, &apos;ku&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16423&apos;, &apos;kou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16427&apos;, &apos;kong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16429&apos;, &apos;keng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16433&apos;, &apos;ken&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16448&apos;, &apos;ke&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16452&apos;, &apos;kao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16459&apos;, &apos;kang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16465&apos;, &apos;kan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16470&apos;, &apos;kai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16474&apos;, &apos;ka&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16647&apos;, &apos;jun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16657&apos;, &apos;jue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16664&apos;, &apos;juan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16689&apos;, &apos;ju&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16706&apos;, &apos;jiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16708&apos;, &apos;jiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16733&apos;, &apos;jing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16915&apos;, &apos;jin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16942&apos;, &apos;jie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16970&apos;, &apos;jiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16983&apos;, &apos;jiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17185&apos;, &apos;jian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17202&apos;, &apos;jia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17417&apos;, &apos;ji&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17427&apos;, &apos;huo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17433&apos;, &apos;hun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17454&apos;, &apos;hui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17468&apos;, &apos;huang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17482&apos;, &apos;huan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17487&apos;, &apos;huai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17496&apos;, &apos;hua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17676&apos;, &apos;hu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17683&apos;, &apos;hou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17692&apos;, &apos;hong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17697&apos;, &apos;heng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17701&apos;, &apos;hen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17703&apos;, &apos;hei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17721&apos;, &apos;he&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17730&apos;, &apos;hao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17733&apos;, &apos;hang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17752&apos;, &apos;han&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17759&apos;, &apos;hai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17922&apos;, &apos;ha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17928&apos;, &apos;guo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17931&apos;, &apos;gun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17947&apos;, &apos;gui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17950&apos;, &apos;guang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17961&apos;, &apos;guan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17964&apos;, &apos;guai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17970&apos;, &apos;gua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17988&apos;, &apos;gu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17997&apos;, &apos;gou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18012&apos;, &apos;gong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18181&apos;, &apos;geng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18183&apos;, &apos;gen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18184&apos;, &apos;gei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18201&apos;, &apos;ge&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18211&apos;, &apos;gao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18220&apos;, &apos;gang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18231&apos;, &apos;gan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18237&apos;, &apos;gai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18239&apos;, &apos;ga&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18446&apos;, &apos;fu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18447&apos;, &apos;fou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18448&apos;, &apos;fo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18463&apos;, &apos;feng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18478&apos;, &apos;fen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18490&apos;, &apos;fei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18501&apos;, &apos;fang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18518&apos;, &apos;fan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18526&apos;, &apos;fa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18696&apos;, &apos;er&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18697&apos;, &apos;en&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18710&apos;, &apos;e&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18722&apos;, &apos;duo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18731&apos;, &apos;dun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18735&apos;, &apos;dui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18741&apos;, &apos;duan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18756&apos;, &apos;du&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18763&apos;, &apos;dou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18773&apos;, &apos;dong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18774&apos;, &apos;diu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18783&apos;, &apos;ding&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18952&apos;, &apos;die&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18961&apos;, &apos;diao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18977&apos;, &apos;dian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18996&apos;, &apos;di&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19003&apos;, &apos;deng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19006&apos;, &apos;de&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19018&apos;, &apos;dao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19023&apos;, &apos;dang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19038&apos;, &apos;dan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19212&apos;, &apos;dai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19218&apos;, &apos;da&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19224&apos;, &apos;cuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19227&apos;, &apos;cun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19235&apos;, &apos;cui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19238&apos;, &apos;cuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19242&apos;, &apos;cu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19243&apos;, &apos;cou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19249&apos;, &apos;cong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19261&apos;, &apos;ci&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19263&apos;, &apos;chuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19270&apos;, &apos;chun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19275&apos;, &apos;chui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19281&apos;, &apos;chuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19288&apos;, &apos;chuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19289&apos;, &apos;chuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19467&apos;, &apos;chu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19479&apos;, &apos;chou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19484&apos;, &apos;chong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19500&apos;, &apos;chi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19515&apos;, &apos;cheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19525&apos;, &apos;chen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19531&apos;, &apos;che&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19540&apos;, &apos;chao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19715&apos;, &apos;chang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19725&apos;, &apos;chan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19728&apos;, &apos;chai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19739&apos;, &apos;cha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19741&apos;, &apos;ceng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19746&apos;, &apos;ce&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19751&apos;, &apos;cao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19756&apos;, &apos;cang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19763&apos;, &apos;can&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19774&apos;, &apos;cai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19775&apos;, &apos;ca&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19784&apos;, &apos;bu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19805&apos;, &apos;bo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19976&apos;, &apos;bing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19982&apos;, &apos;bin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19986&apos;, &apos;bie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19990&apos;, &apos;biao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20002&apos;, &apos;bian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20026&apos;, &apos;bi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20032&apos;, &apos;beng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20036&apos;, &apos;ben&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20051&apos;, &apos;bei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20230&apos;, &apos;bao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20242&apos;, &apos;bang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20257&apos;, &apos;ban&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20265&apos;, &apos;bai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20283&apos;, &apos;ba&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20292&apos;, &apos;ao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20295&apos;, &apos;ang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20304&apos;, &apos;an&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20317&apos;, &apos;ai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20319&apos;, &apos;a&apos;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select f_to_pinyin(&quot;&quot;);</span><br></pre></td></tr></table></figure>"},{"title":"linux-aliases","date":"2014-12-22T05:22:37.000Z","_content":"\n#### linux\n\nTerminal  `alias` \n\n<!-- more -->\n```bash\n\talias d='date' #\n\tunalias d  #\n\n\talias ..=\"cd ..\"\n\talias ...=\"cd ../..\"  \n\talias ....=\"cd ../../..\"\n\talias .....=\"cd ../../../..\"\n\talias ~=\"cd ~\" # `cd` is probably faster to type though\n\talias -- -=\"cd -\"\n\n\talias d=\"cd ~/Documents/Dropbox\"\n\talias dl=\"cd ~/Downloads\"\n\talias dt=\"cd ~/Desktop\"\n\talias p=\"cd ~/projects\"\n\talias g=\"git\"\n\talias h=\"history\"\n\talias j=\"jobs\"\n\t\n```\n\n\n\n\n#### Mac OS \n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n3. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n4. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n5. source .bash_profile\n[](https://github.com/donnemartin/dev-setup)\n\n#### linux  `vim ~/.bashrc` \n\n```bash\n\tif [ -f ~/.aliases ]; then\n    \t. ~/.aliases\n\tfi\n```\n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n3. source .bashrc\n\n##### ubuntu  `.bash_aliases` \n\n```bash\n\tif [ -f ~/.bash_aliases ]; then\n\t    . ~/.bash_aliases\n\tfi\n```\n `.bash_aliases` \n","source":"_posts/2014/linux-aliases.md","raw":"---\ntitle: linux-aliases\ndate: 2014-12-22 13:22:37\ntags:\ncategories:\n---\n\n#### linux\n\nTerminal  `alias` \n\n<!-- more -->\n```bash\n\talias d='date' #\n\tunalias d  #\n\n\talias ..=\"cd ..\"\n\talias ...=\"cd ../..\"  \n\talias ....=\"cd ../../..\"\n\talias .....=\"cd ../../../..\"\n\talias ~=\"cd ~\" # `cd` is probably faster to type though\n\talias -- -=\"cd -\"\n\n\talias d=\"cd ~/Documents/Dropbox\"\n\talias dl=\"cd ~/Downloads\"\n\talias dt=\"cd ~/Desktop\"\n\talias p=\"cd ~/projects\"\n\talias g=\"git\"\n\talias h=\"history\"\n\talias j=\"jobs\"\n\t\n```\n\n\n\n\n#### Mac OS \n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n3. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n4. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n5. source .bash_profile\n[](https://github.com/donnemartin/dev-setup)\n\n#### linux  `vim ~/.bashrc` \n\n```bash\n\tif [ -f ~/.aliases ]; then\n    \t. ~/.aliases\n\tfi\n```\n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n3. source .bashrc\n\n##### ubuntu  `.bash_aliases` \n\n```bash\n\tif [ -f ~/.bash_aliases ]; then\n\t    . ~/.bash_aliases\n\tfi\n```\n `.bash_aliases` \n","slug":"linux-aliases","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ea000vhpwflo5487g8","content":"<h4 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h4><p>Terminal  <code>alias</code> </p>\n<p><a id=\"more\"></a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">'date'</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unalias</span> d  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ..=<span class=\"string\">\"cd ..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ...=<span class=\"string\">\"cd ../..\"</span>  </span><br><span class=\"line\"><span class=\"built_in\">alias</span> ....=<span class=\"string\">\"cd ../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> .....=<span class=\"string\">\"cd ../../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ~=<span class=\"string\">\"cd ~\"</span> <span class=\"comment\"># `cd` is probably faster to type though</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> -- -=<span class=\"string\">\"cd -\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">\"cd ~/Documents/Dropbox\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dl=<span class=\"string\">\"cd ~/Downloads\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dt=<span class=\"string\">\"cd ~/Desktop\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> p=<span class=\"string\">\"cd ~/projects\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> g=<span class=\"string\">\"git\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> h=<span class=\"string\">\"history\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> j=<span class=\"string\">\"jobs\"</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"Mac-OS-\"><a href=\"#Mac-OS-\" class=\"headerlink\" title=\"Mac OS \"></a>Mac OS </h4><ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bash_profile<br><a href=\"https://github.com/donnemartin/dev-setup\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ol>\n<h4 id=\"linux--vim-bashrc-\"><a href=\"#linux--vim-bashrc-\" class=\"headerlink\" title=\"linux  vim ~/.bashrc \"></a>linux  <code>vim ~/.bashrc</code> </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f ~/.aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">   \t. ~/.aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bashrc</li>\n</ol>\n<h5 id=\"ubuntu--bash-aliases-\"><a href=\"#ubuntu--bash-aliases-\" class=\"headerlink\" title=\"ubuntu  .bash_aliases \"></a>ubuntu  <code>.bash_aliases</code> </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f ~/.bash_aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    . ~/.bash_aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p> <code>.bash_aliases</code> </p>\n","site":{"data":{}},"excerpt":"<h4 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h4><p>Terminal  <code>alias</code> </p>\n<p>","more":"<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">'date'</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unalias</span> d  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ..=<span class=\"string\">\"cd ..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ...=<span class=\"string\">\"cd ../..\"</span>  </span><br><span class=\"line\"><span class=\"built_in\">alias</span> ....=<span class=\"string\">\"cd ../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> .....=<span class=\"string\">\"cd ../../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ~=<span class=\"string\">\"cd ~\"</span> <span class=\"comment\"># `cd` is probably faster to type though</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> -- -=<span class=\"string\">\"cd -\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">\"cd ~/Documents/Dropbox\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dl=<span class=\"string\">\"cd ~/Downloads\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dt=<span class=\"string\">\"cd ~/Desktop\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> p=<span class=\"string\">\"cd ~/projects\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> g=<span class=\"string\">\"git\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> h=<span class=\"string\">\"history\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> j=<span class=\"string\">\"jobs\"</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"Mac-OS-\"><a href=\"#Mac-OS-\" class=\"headerlink\" title=\"Mac OS \"></a>Mac OS </h4><ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bash_profile<br><a href=\"https://github.com/donnemartin/dev-setup\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ol>\n<h4 id=\"linux--vim-bashrc-\"><a href=\"#linux--vim-bashrc-\" class=\"headerlink\" title=\"linux  vim ~/.bashrc \"></a>linux  <code>vim ~/.bashrc</code> </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f ~/.aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">   \t. ~/.aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"noopener\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bashrc</li>\n</ol>\n<h5 id=\"ubuntu--bash-aliases-\"><a href=\"#ubuntu--bash-aliases-\" class=\"headerlink\" title=\"ubuntu  .bash_aliases \"></a>ubuntu  <code>.bash_aliases</code> </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f ~/.bash_aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    . ~/.bash_aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p> <code>.bash_aliases</code> </p>"},{"title":"(critical thinking)","date":"2015-06-22T06:07:53.000Z","_content":"\n[](http://www.criticalthinking.org/)\n[critical thinking](https://book.douban.com/subject/2591434/)","source":"_posts/2015/critical-thinking.md","raw":"---\ntitle: (critical thinking)\ndate: 2015-06-22T14:07:53.000Z\ntags: null\ncategories: null\n---\n\n[](http://www.criticalthinking.org/)\n[critical thinking](https://book.douban.com/subject/2591434/)","slug":"critical-thinking","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ec000whpwf9ypj1nvy","content":"<p><a href=\"http://www.criticalthinking.org/\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://book.douban.com/subject/2591434/\" target=\"_blank\" rel=\"noopener\">critical thinking</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"http://www.criticalthinking.org/\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://book.douban.com/subject/2591434/\" target=\"_blank\" rel=\"noopener\">critical thinking</a></p>\n"},{"title":"(dependency injection pattern)","date":"2015-09-27T16:00:00.000Z","_content":"\n Laravel \n\n[](https://en.wikipedia.org/wiki/Dependency_injection)\n1. \n2. setter\n3. \n\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n```\n\n## \n```php\n\nclass DependencyInjection\n{\n    public $shape;\n\n    public function __construct(Shape $shape)\n    {\n        $this->shape = $shape;\n    }\n}\n\n\n// \n\n$rectangle = new Rectangle(4, 2);\n$r_di = new DependencyInjection($rectangle);\necho $r_di->shape->getCircum();\necho $r_di->shape->getArea();\n\n$circle = new Circle(3);\n$c_di = new DependencyInjection($circle);\necho $c_di->shape->getCircum();\necho $c_di->shape->getArea();\n```\n\n## setter \n\n```php\n\nclass DependencyInjectionSetter\n{\n\n    public $shape;\n\n    public function setter(Shape $shape)\n    {\n\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$rectangle = new Rectangle(4, 2);\n$setter_di = new DependencyInjectionSetter();\n$setter_di->setter($rectangle);\necho $setter_di->shape->getCircum();\n\n```\n\n## interface \n\n```php\ninterface ServiceSetter\n{\n    public function setService(Shape $shape);\n}\n\nclass ServiceClient implements ServiceSetter\n{\n\n    public $shape;\n\n    public function setService(Shape $shape)\n    {\n        // TODO: Implement setService() method.\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$sc = new ServiceClient();\n$sc->setService($rectangle);\necho $sc->shape->getArea();\n```","source":"_posts/2015/dependency-injection-pattern.md","raw":"---\ntitle: (dependency injection pattern)\ndate: 2015-09-28\ntags: \n- design pattern\n---\n\n Laravel \n\n[](https://en.wikipedia.org/wiki/Dependency_injection)\n1. \n2. setter\n3. \n\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n```\n\n## \n```php\n\nclass DependencyInjection\n{\n    public $shape;\n\n    public function __construct(Shape $shape)\n    {\n        $this->shape = $shape;\n    }\n}\n\n\n// \n\n$rectangle = new Rectangle(4, 2);\n$r_di = new DependencyInjection($rectangle);\necho $r_di->shape->getCircum();\necho $r_di->shape->getArea();\n\n$circle = new Circle(3);\n$c_di = new DependencyInjection($circle);\necho $c_di->shape->getCircum();\necho $c_di->shape->getArea();\n```\n\n## setter \n\n```php\n\nclass DependencyInjectionSetter\n{\n\n    public $shape;\n\n    public function setter(Shape $shape)\n    {\n\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$rectangle = new Rectangle(4, 2);\n$setter_di = new DependencyInjectionSetter();\n$setter_di->setter($rectangle);\necho $setter_di->shape->getCircum();\n\n```\n\n## interface \n\n```php\ninterface ServiceSetter\n{\n    public function setService(Shape $shape);\n}\n\nclass ServiceClient implements ServiceSetter\n{\n\n    public $shape;\n\n    public function setService(Shape $shape)\n    {\n        // TODO: Implement setService() method.\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$sc = new ServiceClient();\n$sc->setService($rectangle);\necho $sc->shape->getArea();\n```","slug":"dependency-injection-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ed000yhpwf8wsyicvr","content":"<p> Laravel </p>\n<p><a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" target=\"_blank\" rel=\"noopener\"></a></p>\n<ol>\n<li></li>\n<li>setter</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjection</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$r_di = <span class=\"keyword\">new</span> DependencyInjection($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getArea();</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = <span class=\"keyword\">new</span> Circle(<span class=\"number\">3</span>);</span><br><span class=\"line\">$c_di = <span class=\"keyword\">new</span> DependencyInjection($circle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>\n<h2 id=\"setter-\"><a href=\"#setter-\" class=\"headerlink\" title=\"setter \"></a>setter </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjectionSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setter</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$setter_di = <span class=\"keyword\">new</span> DependencyInjectionSetter();</span><br><span class=\"line\">$setter_di-&gt;setter($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $setter_di-&gt;shape-&gt;getCircum();</span><br></pre></td></tr></table></figure>\n<h2 id=\"interface-\"><a href=\"#interface-\" class=\"headerlink\" title=\"interface \"></a>interface </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ServiceSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ServiceClient</span> <span class=\"keyword\">implements</span> <span class=\"title\">ServiceSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement setService() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$sc = <span class=\"keyword\">new</span> ServiceClient();</span><br><span class=\"line\">$sc-&gt;setService($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $sc-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p> Laravel </p>\n<p><a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" target=\"_blank\" rel=\"noopener\"></a></p>\n<ol>\n<li></li>\n<li>setter</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjection</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$r_di = <span class=\"keyword\">new</span> DependencyInjection($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getArea();</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = <span class=\"keyword\">new</span> Circle(<span class=\"number\">3</span>);</span><br><span class=\"line\">$c_di = <span class=\"keyword\">new</span> DependencyInjection($circle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>\n<h2 id=\"setter-\"><a href=\"#setter-\" class=\"headerlink\" title=\"setter \"></a>setter </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjectionSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setter</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$setter_di = <span class=\"keyword\">new</span> DependencyInjectionSetter();</span><br><span class=\"line\">$setter_di-&gt;setter($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $setter_di-&gt;shape-&gt;getCircum();</span><br></pre></td></tr></table></figure>\n<h2 id=\"interface-\"><a href=\"#interface-\" class=\"headerlink\" title=\"interface \"></a>interface </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ServiceSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ServiceClient</span> <span class=\"keyword\">implements</span> <span class=\"title\">ServiceSetter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement setService() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$sc = <span class=\"keyword\">new</span> ServiceClient();</span><br><span class=\"line\">$sc-&gt;setService($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $sc-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>"},{"title":"(facade pattern)","date":"2015-09-21T16:00:00.000Z","_content":"\nFacade ,**Laravel ****()\n\n\n```php\n// OsInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * OsInterface\n */\ninterface OsInterface\n{\n    /**\n     * halt the OS\n     */\n    public function halt();\n}\n\n\n// BiosInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * BiosInterface\n */\ninterface BiosInterface\n{\n    /**\n     * execute the BIOS\n     */\n    public function execute();\n\n    /**\n     * wait for halt\n     */\n    public function waitForKeyPress();\n\n    /**\n     * launches the OS\n     *\n     * @param OsInterface $os\n     */\n    public function launch(OsInterface $os);\n\n    /**\n     * power down BIOS\n     */\n    public function powerDown();\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * \n */\nclass Facade\n{\n    /**\n     * @var OsInterface\n     */\n    protected $os;\n\n    /**\n     * @var BiosInterface\n     */\n    protected $bios;\n\n    /**\n     * This is the perfect time to use a dependency injection container\n     * to create an instance of this class\n     *\n     * @param BiosInterface $bios\n     * @param OsInterface   $os\n     */\n    public function __construct(BiosInterface $bios, OsInterface $os)\n    {\n        $this->bios = $bios;\n        $this->os = $os;\n    }\n\n    /**\n     * turn on the system\n     */\n    public function turnOn()\n    {\n        $this->bios->execute();\n        $this->bios->waitForKeyPress();\n        $this->bios->launch($this->os);\n    }\n\n    /**\n     * turn off the system\n     */\n    public function turnOff()\n    {\n        $this->os->halt();\n        $this->bios->powerDown();\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Structural\\Facade\\Tests;\n\nuse DesignPatterns\\Structural\\Facade\\Facade as Computer;\nuse DesignPatterns\\Structural\\Facade\\OsInterface;\n\n/**\n * FacadeTest\n */\nclass FacadeTest extends \\PHPUnit_Framework_TestCase\n{\n\n    public function getComputer()\n    {\n        $bios = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\BiosInterface')\n                ->setMethods(array('launch', 'execute', 'waitForKeyPress'))\n                ->disableAutoload()\n                ->getMock();\n        $os = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\OsInterface')\n                ->setMethods(array('getName'))\n                ->disableAutoload()\n                ->getMock();\n        $bios->expects($this->once())\n                ->method('launch')\n                ->with($os);\n        $os->expects($this->once())\n                ->method('getName')\n                ->will($this->returnValue('Linux'));\n\n        $facade = new Computer($bios, $os);\n        return array(array($facade, $os));\n    }\n\n    /**\n     * @dataProvider getComputer\n     */\n    public function testComputerOn(Computer $facade, OsInterface $os)\n    {\n        // interface is simpler :\n        $facade->turnOn();\n        // but I can access to lower component\n        $this->assertEquals('Linux', $os->getName());\n    }\n}\n```\n","source":"_posts/2015/facade-pattern.md","raw":"---\ntitle: (facade pattern)\ndate: 2015-09-22\ntags: \n- design pattern\n---\n\nFacade ,**Laravel ****()\n\n\n```php\n// OsInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * OsInterface\n */\ninterface OsInterface\n{\n    /**\n     * halt the OS\n     */\n    public function halt();\n}\n\n\n// BiosInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * BiosInterface\n */\ninterface BiosInterface\n{\n    /**\n     * execute the BIOS\n     */\n    public function execute();\n\n    /**\n     * wait for halt\n     */\n    public function waitForKeyPress();\n\n    /**\n     * launches the OS\n     *\n     * @param OsInterface $os\n     */\n    public function launch(OsInterface $os);\n\n    /**\n     * power down BIOS\n     */\n    public function powerDown();\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * \n */\nclass Facade\n{\n    /**\n     * @var OsInterface\n     */\n    protected $os;\n\n    /**\n     * @var BiosInterface\n     */\n    protected $bios;\n\n    /**\n     * This is the perfect time to use a dependency injection container\n     * to create an instance of this class\n     *\n     * @param BiosInterface $bios\n     * @param OsInterface   $os\n     */\n    public function __construct(BiosInterface $bios, OsInterface $os)\n    {\n        $this->bios = $bios;\n        $this->os = $os;\n    }\n\n    /**\n     * turn on the system\n     */\n    public function turnOn()\n    {\n        $this->bios->execute();\n        $this->bios->waitForKeyPress();\n        $this->bios->launch($this->os);\n    }\n\n    /**\n     * turn off the system\n     */\n    public function turnOff()\n    {\n        $this->os->halt();\n        $this->bios->powerDown();\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Structural\\Facade\\Tests;\n\nuse DesignPatterns\\Structural\\Facade\\Facade as Computer;\nuse DesignPatterns\\Structural\\Facade\\OsInterface;\n\n/**\n * FacadeTest\n */\nclass FacadeTest extends \\PHPUnit_Framework_TestCase\n{\n\n    public function getComputer()\n    {\n        $bios = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\BiosInterface')\n                ->setMethods(array('launch', 'execute', 'waitForKeyPress'))\n                ->disableAutoload()\n                ->getMock();\n        $os = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\OsInterface')\n                ->setMethods(array('getName'))\n                ->disableAutoload()\n                ->getMock();\n        $bios->expects($this->once())\n                ->method('launch')\n                ->with($os);\n        $os->expects($this->once())\n                ->method('getName')\n                ->will($this->returnValue('Linux'));\n\n        $facade = new Computer($bios, $os);\n        return array(array($facade, $os));\n    }\n\n    /**\n     * @dataProvider getComputer\n     */\n    public function testComputerOn(Computer $facade, OsInterface $os)\n    {\n        // interface is simpler :\n        $facade->turnOn();\n        // but I can access to lower component\n        $this->assertEquals('Linux', $os->getName());\n    }\n}\n```\n","slug":"facade-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ee0010hpwfu5jeaah1","content":"<p>Facade ,<em></em>Laravel <strong></strong>()</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// OsInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * OsInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">OsInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * halt the OS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">halt</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BiosInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * BiosInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">BiosInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * execute the BIOS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * wait for halt</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">waitForKeyPress</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * launches the OS</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> OsInterface $os</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">launch</span><span class=\"params\">(OsInterface $os)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * power down BIOS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">powerDown</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Facade</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> OsInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $os;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> BiosInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $bios;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * This is the perfect time to use a dependency injection container</span></span><br><span class=\"line\"><span class=\"comment\">     * to create an instance of this class</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> BiosInterface $bios</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> OsInterface   $os</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(BiosInterface $bios, OsInterface $os)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios = $bios;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os = $os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * turn on the system</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOn</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;execute();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;waitForKeyPress();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;launch(<span class=\"keyword\">$this</span>-&gt;os);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * turn off the system</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOff</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os-&gt;halt();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;powerDown();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Facade</span> <span class=\"title\">as</span> <span class=\"title\">Computer</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">OsInterface</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * FacadeTest</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FacadeTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getComputer</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $bios = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\BiosInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'launch'</span>, <span class=\"string\">'execute'</span>, <span class=\"string\">'waitForKeyPress'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $os = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\OsInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'getName'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $bios-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'launch'</span>)</span><br><span class=\"line\">                -&gt;with($os);</span><br><span class=\"line\">        $os-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'getName'</span>)</span><br><span class=\"line\">                -&gt;will(<span class=\"keyword\">$this</span>-&gt;returnValue(<span class=\"string\">'Linux'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        $facade = <span class=\"keyword\">new</span> Computer($bios, $os);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">array</span>(<span class=\"keyword\">array</span>($facade, $os));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@dataProvider</span> getComputer</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testComputerOn</span><span class=\"params\">(Computer $facade, OsInterface $os)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// interface is simpler :</span></span><br><span class=\"line\">        $facade-&gt;turnOn();</span><br><span class=\"line\">        <span class=\"comment\">// but I can access to lower component</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertEquals(<span class=\"string\">'Linux'</span>, $os-&gt;getName());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>Facade ,<em></em>Laravel <strong></strong>()</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// OsInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * OsInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">OsInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * halt the OS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">halt</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BiosInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * BiosInterface</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">BiosInterface</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * execute the BIOS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * wait for halt</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">waitForKeyPress</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * launches the OS</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> OsInterface $os</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">launch</span><span class=\"params\">(OsInterface $os)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * power down BIOS</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">powerDown</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Facade</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> OsInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $os;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> BiosInterface</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $bios;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * This is the perfect time to use a dependency injection container</span></span><br><span class=\"line\"><span class=\"comment\">     * to create an instance of this class</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> BiosInterface $bios</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> OsInterface   $os</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(BiosInterface $bios, OsInterface $os)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios = $bios;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os = $os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * turn on the system</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOn</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;execute();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;waitForKeyPress();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;launch(<span class=\"keyword\">$this</span>-&gt;os);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * turn off the system</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOff</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os-&gt;halt();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;powerDown();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Facade</span> <span class=\"title\">as</span> <span class=\"title\">Computer</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">OsInterface</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * FacadeTest</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FacadeTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getComputer</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $bios = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\BiosInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'launch'</span>, <span class=\"string\">'execute'</span>, <span class=\"string\">'waitForKeyPress'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $os = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\OsInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'getName'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $bios-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'launch'</span>)</span><br><span class=\"line\">                -&gt;with($os);</span><br><span class=\"line\">        $os-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'getName'</span>)</span><br><span class=\"line\">                -&gt;will(<span class=\"keyword\">$this</span>-&gt;returnValue(<span class=\"string\">'Linux'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        $facade = <span class=\"keyword\">new</span> Computer($bios, $os);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">array</span>(<span class=\"keyword\">array</span>($facade, $os));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@dataProvider</span> getComputer</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testComputerOn</span><span class=\"params\">(Computer $facade, OsInterface $os)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// interface is simpler :</span></span><br><span class=\"line\">        $facade-&gt;turnOn();</span><br><span class=\"line\">        <span class=\"comment\">// but I can access to lower component</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertEquals(<span class=\"string\">'Linux'</span>, $os-&gt;getName());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"(factory pattern)","date":"2015-09-26T16:00:00.000Z","_content":"\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n\n\n// \nclass Factory\n{\n\n    public static function create()\n    {\n        //\n        switch (func_num_args()) {\n            case 1:\n                return new Circle(func_get_arg(0));\n                break;\n            case 2:\n                return new Rectangle(func_get_arg(0), func_get_arg(1));\n                break;\n        }\n\n    }\n}\n\n\n$rectangle = Factory::create(4,2);\necho $rectangle->getCircum().\" \";\necho $rectangle->getArea().\" \";\n\n$circle = Factory::create(3);\necho $circle->getCircum().\" \";\necho $circle->getArea();\n```","source":"_posts/2015/factory-pattern.md","raw":"---\ntitle: (factory pattern)\ndate: 2015-09-27\ntags: \n- design pattern\n---\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n\n\n// \nclass Factory\n{\n\n    public static function create()\n    {\n        //\n        switch (func_num_args()) {\n            case 1:\n                return new Circle(func_get_arg(0));\n                break;\n            case 2:\n                return new Rectangle(func_get_arg(0), func_get_arg(1));\n                break;\n        }\n\n    }\n}\n\n\n$rectangle = Factory::create(4,2);\necho $rectangle->getCircum().\" \";\necho $rectangle->getArea().\" \";\n\n$circle = Factory::create(3);\necho $circle->getCircum().\" \";\necho $circle->getArea();\n```","slug":"factory-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ef0012hpwfut57xsi6","content":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Factory</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">create</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (func_num_args()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Circle(func_get_arg(<span class=\"number\">0</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Rectangle(func_get_arg(<span class=\"number\">0</span>), func_get_arg(<span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = Factory::create(<span class=\"number\">4</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getArea().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = Factory::create(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getArea();</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Factory</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">create</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (func_num_args()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Circle(func_get_arg(<span class=\"number\">0</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Rectangle(func_get_arg(<span class=\"number\">0</span>), func_get_arg(<span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = Factory::create(<span class=\"number\">4</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getArea().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = Factory::create(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getArea();</span><br></pre></td></tr></table></figure>"},{"title":"ID","date":"2015-12-04T05:57:12.000Z","updated":"2015-12-04T05:57:12.000Z","_content":"\n# \n1. message-id\n2. order-id\n3. tiezi-id\n\n`cluster index`\n\n<!-- more -->\n\n- selectmessage-id/ order by time/ limit 100\n- selectorder-id/ order by time/ limit 100\n- selecttiezi-id/ order by time/ limit 100\ntimetimenon-cluster index\n \ntime\n`select message-id/ (order by message-id)/limit 100`\nmessage-id\n \n\n1. \n2. \n \n\n## \n### 1. auto_increment\n#### \n1. \n1. \n1. \n1. \n\n#### \n\n1. +ID\n1. ID\n\n#### ****\n\n1. \n2. ID\n\n![pic](/images/technology/gen-id.png)\n\n13auto_incrementID00,3,6,911,4,7,1022,5,8,11, \n\n****\n1. ID00,311ID\n2. ID\n\n \n### ID\n\nID\n\n![pic](/images/technology/gen-id2.png)\n\nmasterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6\n#### \n1. ID\n1. ID\n\n#### \n1. \n1. ID0,1,2,3,4,5max-id53645\n1. ID\n\n#### ****\n** ** 1\n\n![pic](/images/technology/gen-id3.png)\nvip+keepalived\n \n### uuid\nIDIDApplicationID\n\nuuid`string ID = GenUUID();`\n#### \n1. ID\n1. \n\n```php\n// com_create_guid()\nfunction guid(){\n    if (function_exists('com_create_guid')){\n        return com_create_guid();\n    }else{\n        mt_srand((double)microtime()*10000);//optional for php 4.2.0 and up.\n        $charid = strtoupper(md5(uniqid(rand(), true)));\n        $hyphen = chr(45);// \"-\"\n        $uuid = chr(123)// \"{\"\n                .substr($charid, 0, 8).$hyphen\n                .substr($charid, 8, 4).$hyphen\n                .substr($charid,12, 4).$hyphen\n                .substr($charid,16, 4).$hyphen\n                .substr($charid,20,12)\n                .chr(125);// \"}\"\n        return $uuid;\n    }\n}\necho guid();\n```\n#### \n1. \n1. uuiduint64\n \n### \nuuidID\n`uint64 ID = GenTimeMS();`\n\n#### \n1. ID\n1. ID\n1. ID\n\n#### \n11000ID, 1000000ID\n \n### snowflake [snowflake](https://github.com/twitter/snowflake)\nsnowflaketwitterID.\n\n0---0000000000 0000000000 0000000000 0000000000 0 --- 00000 ---00000 ---000000000000\n\n![pic](/images/technology/snowflake-64bit.jpg)\n\n\"41bit()\", (1L << 41) / (3600L * 24 * 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471\n\"10bitid{0}\", (1L << 10) - 1   1023\n\"12bitid{0}\", (1L << 12) - 1 4095\n\nlongID`41bit``10bit``12bit`****`1000 * (2^12-1)  1000 * ((1 << 12)- 1)`4096000ID\n\n\nsnowflakeID\n\nID\n1. 1W510W\n1. 254\n1. 100\n1. 5ID10\n\n\n1. 201611ID10 `10*365*24*3600*1000=320*10^9`39bit\n1. 10W1007bit\n1. 542bit\n1. 1007bit\n1. 104bit\n\n#### \n64bit\n1. ID\n1. ID\n1. ID\n1. ID\n\n#### \n1IDID\n\nID`message-id/ order-id/ tiezi-id`IDID**ID**ID\n0**0IDID****009**\n\n```java\nclass Snowflake\n{\n\n    //idbit5bitworkerid5bitdatacenterid\n    const int WorkerIdBits = 5;\n    const int DatacenterIdBits = 5;\n    //bit\n    const int SequenceBits = 12;\n    //\n    const long MaxWorkerId = -1L ^ (-1L << WorkerIdBits);\n    const long MaxDatacenterId = -1L ^ (-1L << DatacenterIdBits);\n    private const long SequenceMask = -1L ^ (-1L << SequenceBits);\n    //\n    public const int WorkerIdShift = SequenceBits;\n    public const int DatacenterIdShift = SequenceBits + WorkerIdBits;\n    public const int TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;\n\n    //\n    private long _sequence = 0L;\n    //\n    private long _lastTimestamp = -1L;\n\n\n    public long WorkerId { get; protected set; }\n    public long DatacenterId { get; protected set; }\n\n    public Snowflake(long workerId, long datacenterId, long sequence = 0L) \n    {\n        WorkerId = workerId;\n        DatacenterId = datacenterId;\n        _sequence = sequence;\n    \n        // sanity check for workerId\n        if (workerId > MaxWorkerId || workerId < 0) \n        {\n            throw new ArgumentException( String.Format(\"worker Id can't be greater than {0} or less than 0\", MaxWorkerId) );\n        }\n\n        if (datacenterId > MaxDatacenterId || datacenterId < 0)\n        {\n            throw new ArgumentException( String.Format(\"datacenter Id can't be greater than {0} or less than 0\", MaxDatacenterId));\n        }\n\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    /// <returns></returns>\n    public long TimeGen()\n    {\n        DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);//\n        return (long)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n    }\n\n    readonly object _lock = new Object();\n\n    public virtual long NextId()\n    {\n        lock (_lock)\n        {\n            var timestamp = TimeGen();\n\n            if (timestamp < _lastTimestamp)\n            {\n                throw new InvalidSystemClock(String.Format(\n                    \"{0}\", _lastTimestamp - timestamp));\n            }\n\n            if (_lastTimestamp == timestamp)\n            {\n                _sequence = (_sequence + 1) & SequenceMask;\n                if (_sequence == 0)\n                {\n                    //\n                    timestamp = TilNextMillis(_lastTimestamp);\n                }\n            }\n            else\n            {\n                _sequence = 0;\n            }\n\n            _lastTimestamp = timestamp;\n            //snowflake\n            var id = (timestamp << TimestampLeftShift) |\n                     (DatacenterId << DatacenterIdShift) |\n                     (WorkerId << WorkerIdShift) | _sequence;\n\n            return id;\n        }\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    protected virtual long TilNextMillis(long lastTimestamp)\n    {\n        var timestamp = TimeGen();\n        while (timestamp <= lastTimestamp)\n        {\n            //\n            timestamp = TimeGen();\n        }\n        return timestamp;\n    }\n}\n```","source":"_posts/2015/gen-id-way.md","raw":"---\ntitle: ID\ndate: 2015-12-04 13:57:12\nupdated: 2015-12-04 13:57:12\ntags:\ncategories:\n---\n\n# \n1. message-id\n2. order-id\n3. tiezi-id\n\n`cluster index`\n\n<!-- more -->\n\n- selectmessage-id/ order by time/ limit 100\n- selectorder-id/ order by time/ limit 100\n- selecttiezi-id/ order by time/ limit 100\ntimetimenon-cluster index\n \ntime\n`select message-id/ (order by message-id)/limit 100`\nmessage-id\n \n\n1. \n2. \n \n\n## \n### 1. auto_increment\n#### \n1. \n1. \n1. \n1. \n\n#### \n\n1. +ID\n1. ID\n\n#### ****\n\n1. \n2. ID\n\n![pic](/images/technology/gen-id.png)\n\n13auto_incrementID00,3,6,911,4,7,1022,5,8,11, \n\n****\n1. ID00,311ID\n2. ID\n\n \n### ID\n\nID\n\n![pic](/images/technology/gen-id2.png)\n\nmasterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6\n#### \n1. ID\n1. ID\n\n#### \n1. \n1. ID0,1,2,3,4,5max-id53645\n1. ID\n\n#### ****\n** ** 1\n\n![pic](/images/technology/gen-id3.png)\nvip+keepalived\n \n### uuid\nIDIDApplicationID\n\nuuid`string ID = GenUUID();`\n#### \n1. ID\n1. \n\n```php\n// com_create_guid()\nfunction guid(){\n    if (function_exists('com_create_guid')){\n        return com_create_guid();\n    }else{\n        mt_srand((double)microtime()*10000);//optional for php 4.2.0 and up.\n        $charid = strtoupper(md5(uniqid(rand(), true)));\n        $hyphen = chr(45);// \"-\"\n        $uuid = chr(123)// \"{\"\n                .substr($charid, 0, 8).$hyphen\n                .substr($charid, 8, 4).$hyphen\n                .substr($charid,12, 4).$hyphen\n                .substr($charid,16, 4).$hyphen\n                .substr($charid,20,12)\n                .chr(125);// \"}\"\n        return $uuid;\n    }\n}\necho guid();\n```\n#### \n1. \n1. uuiduint64\n \n### \nuuidID\n`uint64 ID = GenTimeMS();`\n\n#### \n1. ID\n1. ID\n1. ID\n\n#### \n11000ID, 1000000ID\n \n### snowflake [snowflake](https://github.com/twitter/snowflake)\nsnowflaketwitterID.\n\n0---0000000000 0000000000 0000000000 0000000000 0 --- 00000 ---00000 ---000000000000\n\n![pic](/images/technology/snowflake-64bit.jpg)\n\n\"41bit()\", (1L << 41) / (3600L * 24 * 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471\n\"10bitid{0}\", (1L << 10) - 1   1023\n\"12bitid{0}\", (1L << 12) - 1 4095\n\nlongID`41bit``10bit``12bit`****`1000 * (2^12-1)  1000 * ((1 << 12)- 1)`4096000ID\n\n\nsnowflakeID\n\nID\n1. 1W510W\n1. 254\n1. 100\n1. 5ID10\n\n\n1. 201611ID10 `10*365*24*3600*1000=320*10^9`39bit\n1. 10W1007bit\n1. 542bit\n1. 1007bit\n1. 104bit\n\n#### \n64bit\n1. ID\n1. ID\n1. ID\n1. ID\n\n#### \n1IDID\n\nID`message-id/ order-id/ tiezi-id`IDID**ID**ID\n0**0IDID****009**\n\n```java\nclass Snowflake\n{\n\n    //idbit5bitworkerid5bitdatacenterid\n    const int WorkerIdBits = 5;\n    const int DatacenterIdBits = 5;\n    //bit\n    const int SequenceBits = 12;\n    //\n    const long MaxWorkerId = -1L ^ (-1L << WorkerIdBits);\n    const long MaxDatacenterId = -1L ^ (-1L << DatacenterIdBits);\n    private const long SequenceMask = -1L ^ (-1L << SequenceBits);\n    //\n    public const int WorkerIdShift = SequenceBits;\n    public const int DatacenterIdShift = SequenceBits + WorkerIdBits;\n    public const int TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;\n\n    //\n    private long _sequence = 0L;\n    //\n    private long _lastTimestamp = -1L;\n\n\n    public long WorkerId { get; protected set; }\n    public long DatacenterId { get; protected set; }\n\n    public Snowflake(long workerId, long datacenterId, long sequence = 0L) \n    {\n        WorkerId = workerId;\n        DatacenterId = datacenterId;\n        _sequence = sequence;\n    \n        // sanity check for workerId\n        if (workerId > MaxWorkerId || workerId < 0) \n        {\n            throw new ArgumentException( String.Format(\"worker Id can't be greater than {0} or less than 0\", MaxWorkerId) );\n        }\n\n        if (datacenterId > MaxDatacenterId || datacenterId < 0)\n        {\n            throw new ArgumentException( String.Format(\"datacenter Id can't be greater than {0} or less than 0\", MaxDatacenterId));\n        }\n\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    /// <returns></returns>\n    public long TimeGen()\n    {\n        DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);//\n        return (long)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n    }\n\n    readonly object _lock = new Object();\n\n    public virtual long NextId()\n    {\n        lock (_lock)\n        {\n            var timestamp = TimeGen();\n\n            if (timestamp < _lastTimestamp)\n            {\n                throw new InvalidSystemClock(String.Format(\n                    \"{0}\", _lastTimestamp - timestamp));\n            }\n\n            if (_lastTimestamp == timestamp)\n            {\n                _sequence = (_sequence + 1) & SequenceMask;\n                if (_sequence == 0)\n                {\n                    //\n                    timestamp = TilNextMillis(_lastTimestamp);\n                }\n            }\n            else\n            {\n                _sequence = 0;\n            }\n\n            _lastTimestamp = timestamp;\n            //snowflake\n            var id = (timestamp << TimestampLeftShift) |\n                     (DatacenterId << DatacenterIdShift) |\n                     (WorkerId << WorkerIdShift) | _sequence;\n\n            return id;\n        }\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    protected virtual long TilNextMillis(long lastTimestamp)\n    {\n        var timestamp = TimeGen();\n        while (timestamp <= lastTimestamp)\n        {\n            //\n            timestamp = TimeGen();\n        }\n        return timestamp;\n    }\n}\n```","slug":"gen-id-way","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138eh0015hpwfi4y3mlh3","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>message-id</li>\n<li>order-id</li>\n<li>tiezi-id</li>\n</ol>\n<p><code>cluster index</code></p>\n<a id=\"more\"></a>\n<p></p>\n<ul>\n<li>selectmessage-id/ order by time/ limit 100</li>\n<li>selectorder-id/ order by time/ limit 100</li>\n<li>selecttiezi-id/ order by time/ limit 100<br>timetimenon-cluster index</li>\n</ul>\n<p>time<br><code>select message-id/ (order by message-id)/limit 100</code><br>message-id</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1--auto-increment\"><a href=\"#1--auto-increment\" class=\"headerlink\" title=\"1. auto_increment\"></a>1. auto_increment</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>+ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><ol>\n<li></li>\n<li>ID</li>\n</ol>\n<p><img src=\"/images/technology/gen-id.png\" alt=\"pic\"></p>\n<p>13auto_incrementID00,3,6,911,4,7,1022,5,8,11, </p>\n<p><strong></strong></p>\n<ol>\n<li>ID00,311ID</li>\n<li>ID<br></li>\n</ol>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>ID</p>\n<p><img src=\"/images/technology/gen-id2.png\" alt=\"pic\"></p>\n<p>masterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6</p>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>ID0,1,2,3,4,5max-id53645</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><p><strong> </strong> 1</p>\n<p><img src=\"/images/technology/gen-id3.png\" alt=\"pic\"><br>vip+keepalived</p>\n<h3 id=\"uuid\"><a href=\"#uuid\" class=\"headerlink\" title=\"uuid\"></a>uuid</h3><p>IDIDApplicationID</p>\n<p>uuid<code>string ID = GenUUID();</code></p>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// com_create_guid()</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">guid</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (function_exists(<span class=\"string\">'com_create_guid'</span>))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> com_create_guid();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        mt_srand((double)microtime()*<span class=\"number\">10000</span>);<span class=\"comment\">//optional for php 4.2.0 and up.</span></span><br><span class=\"line\">        $charid = strtoupper(md5(uniqid(rand(), <span class=\"keyword\">true</span>)));</span><br><span class=\"line\">        $hyphen = chr(<span class=\"number\">45</span>);<span class=\"comment\">// \"-\"</span></span><br><span class=\"line\">        $uuid = chr(<span class=\"number\">123</span>)<span class=\"comment\">// \"&#123;\"</span></span><br><span class=\"line\">                .substr($charid, <span class=\"number\">0</span>, <span class=\"number\">8</span>).$hyphen</span><br><span class=\"line\">                .substr($charid, <span class=\"number\">8</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">12</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">16</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">20</span>,<span class=\"number\">12</span>)</span><br><span class=\"line\">                .chr(<span class=\"number\">125</span>);<span class=\"comment\">// \"&#125;\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> $uuid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> guid();</span><br></pre></td></tr></table></figure>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>uuiduint64</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>uuidID<br><code>uint64 ID = GenTimeMS();</code></p>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><p>11000ID, 1000000ID</p>\n<h3 id=\"snowflake-snowflake\"><a href=\"#snowflake-snowflake\" class=\"headerlink\" title=\"snowflake snowflake\"></a>snowflake <a href=\"https://github.com/twitter/snowflake\" target=\"_blank\" rel=\"noopener\">snowflake</a></h3><p>snowflaketwitterID.</p>\n<p>00000000000 0000000000 0000000000 0000000000 0  00000 00000 000000000000</p>\n<p><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"pic\"></p>\n<p>41bit(), (1L &lt;&lt; 41) / (3600L <em> 24 </em> 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471<br>10bitid{0}, (1L &lt;&lt; 10) - 1   1023<br>12bitid{0}, (1L &lt;&lt; 12) - 1 4095</p>\n<p>longID<code>41bit</code><code>10bit</code><code>12bit</code><strong></strong><code>1000 * (2^12-1)  1000 * ((1 &lt;&lt; 12)- 1)</code>4096000ID</p>\n<p>snowflakeID</p>\n<p>ID</p>\n<ol>\n<li>1W510W</li>\n<li>254</li>\n<li>100</li>\n<li>5ID10</li>\n</ol>\n<p></p>\n<ol>\n<li>201611ID10 <code>10*365*24*3600*1000=320*10^9</code>39bit</li>\n<li>10W1007bit</li>\n<li>542bit</li>\n<li>1007bit</li>\n<li>104bit</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>64bit</p>\n<ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>1IDID<br><br>ID<code>message-id/ order-id/ tiezi-id</code>IDID<strong>ID</strong>ID<br>0<strong>0IDID</strong><strong>009</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Snowflake</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//idbit5bitworkerid5bitdatacenterid</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"comment\">//bit</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> SequenceBits = <span class=\"number\">12</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxWorkerId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; WorkerIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxDatacenterId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; DatacenterIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> SequenceMask = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; SequenceBits);</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdShift = SequenceBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdShift = SequenceBits + WorkerIdBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _sequence = <span class=\"number\">0L</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _lastTimestamp = -<span class=\"number\">1L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> WorkerId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> DatacenterId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Snowflake</span><span class=\"params\">(<span class=\"keyword\">long</span> workerId, <span class=\"keyword\">long</span> datacenterId, <span class=\"keyword\">long</span> sequence = <span class=\"number\">0</span>L)</span> </span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        WorkerId = workerId;</span><br><span class=\"line\">        DatacenterId = datacenterId;</span><br><span class=\"line\">        _sequence = sequence;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// sanity check for workerId</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (workerId &gt; MaxWorkerId || workerId &lt; <span class=\"number\">0</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"worker Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxWorkerId) );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (datacenterId &gt; MaxDatacenterId || datacenterId &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"datacenter Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxDatacenterId));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;returns&gt;&lt;/returns&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">TimeGen</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        DateTime Jan1st1970 = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, DateTimeKind.Utc);<span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">long</span>)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    readonly object _lock = <span class=\"keyword\">new</span> Object();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">NextId</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        lock (_lock)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            var timestamp = TimeGen();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (timestamp &lt; _lastTimestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidSystemClock(String.Format(</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;0&#125;\"</span>, _lastTimestamp - timestamp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (_lastTimestamp == timestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = (_sequence + <span class=\"number\">1</span>) &amp; SequenceMask;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (_sequence == <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    timestamp = TilNextMillis(_lastTimestamp);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            _lastTimestamp = timestamp;</span><br><span class=\"line\">            <span class=\"comment\">//snowflake</span></span><br><span class=\"line\">            var id = (timestamp &lt;&lt; TimestampLeftShift) |</span><br><span class=\"line\">                     (DatacenterId &lt;&lt; DatacenterIdShift) |</span><br><span class=\"line\">                     (WorkerId &lt;&lt; WorkerIdShift) | _sequence;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">TilNextMillis</span><span class=\"params\">(<span class=\"keyword\">long</span> lastTimestamp)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        var timestamp = TimeGen();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (timestamp &lt;= lastTimestamp)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            timestamp = TimeGen();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> timestamp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>message-id</li>\n<li>order-id</li>\n<li>tiezi-id</li>\n</ol>\n<p><code>cluster index</code></p>","more":"<p></p>\n<ul>\n<li>selectmessage-id/ order by time/ limit 100</li>\n<li>selectorder-id/ order by time/ limit 100</li>\n<li>selecttiezi-id/ order by time/ limit 100<br>timetimenon-cluster index</li>\n</ul>\n<p>time<br><code>select message-id/ (order by message-id)/limit 100</code><br>message-id</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1--auto-increment\"><a href=\"#1--auto-increment\" class=\"headerlink\" title=\"1. auto_increment\"></a>1. auto_increment</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>+ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><ol>\n<li></li>\n<li>ID</li>\n</ol>\n<p><img src=\"/images/technology/gen-id.png\" alt=\"pic\"></p>\n<p>13auto_incrementID00,3,6,911,4,7,1022,5,8,11, </p>\n<p><strong></strong></p>\n<ol>\n<li>ID00,311ID</li>\n<li>ID<br></li>\n</ol>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>ID</p>\n<p><img src=\"/images/technology/gen-id2.png\" alt=\"pic\"></p>\n<p>masterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6</p>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>ID0,1,2,3,4,5max-id53645</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><p><strong> </strong> 1</p>\n<p><img src=\"/images/technology/gen-id3.png\" alt=\"pic\"><br>vip+keepalived</p>\n<h3 id=\"uuid\"><a href=\"#uuid\" class=\"headerlink\" title=\"uuid\"></a>uuid</h3><p>IDIDApplicationID</p>\n<p>uuid<code>string ID = GenUUID();</code></p>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// com_create_guid()</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">guid</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (function_exists(<span class=\"string\">'com_create_guid'</span>))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> com_create_guid();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        mt_srand((double)microtime()*<span class=\"number\">10000</span>);<span class=\"comment\">//optional for php 4.2.0 and up.</span></span><br><span class=\"line\">        $charid = strtoupper(md5(uniqid(rand(), <span class=\"keyword\">true</span>)));</span><br><span class=\"line\">        $hyphen = chr(<span class=\"number\">45</span>);<span class=\"comment\">// \"-\"</span></span><br><span class=\"line\">        $uuid = chr(<span class=\"number\">123</span>)<span class=\"comment\">// \"&#123;\"</span></span><br><span class=\"line\">                .substr($charid, <span class=\"number\">0</span>, <span class=\"number\">8</span>).$hyphen</span><br><span class=\"line\">                .substr($charid, <span class=\"number\">8</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">12</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">16</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">20</span>,<span class=\"number\">12</span>)</span><br><span class=\"line\">                .chr(<span class=\"number\">125</span>);<span class=\"comment\">// \"&#125;\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> $uuid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> guid();</span><br></pre></td></tr></table></figure>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>uuiduint64</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>uuidID<br><code>uint64 ID = GenTimeMS();</code></p>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><p>11000ID, 1000000ID</p>\n<h3 id=\"snowflake-snowflake\"><a href=\"#snowflake-snowflake\" class=\"headerlink\" title=\"snowflake snowflake\"></a>snowflake <a href=\"https://github.com/twitter/snowflake\" target=\"_blank\" rel=\"noopener\">snowflake</a></h3><p>snowflaketwitterID.</p>\n<p>00000000000 0000000000 0000000000 0000000000 0  00000 00000 000000000000</p>\n<p><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"pic\"></p>\n<p>41bit(), (1L &lt;&lt; 41) / (3600L <em> 24 </em> 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471<br>10bitid{0}, (1L &lt;&lt; 10) - 1   1023<br>12bitid{0}, (1L &lt;&lt; 12) - 1 4095</p>\n<p>longID<code>41bit</code><code>10bit</code><code>12bit</code><strong></strong><code>1000 * (2^12-1)  1000 * ((1 &lt;&lt; 12)- 1)</code>4096000ID</p>\n<p>snowflakeID</p>\n<p>ID</p>\n<ol>\n<li>1W510W</li>\n<li>254</li>\n<li>100</li>\n<li>5ID10</li>\n</ol>\n<p></p>\n<ol>\n<li>201611ID10 <code>10*365*24*3600*1000=320*10^9</code>39bit</li>\n<li>10W1007bit</li>\n<li>542bit</li>\n<li>1007bit</li>\n<li>104bit</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>64bit</p>\n<ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>1IDID<br><br>ID<code>message-id/ order-id/ tiezi-id</code>IDID<strong>ID</strong>ID<br>0<strong>0IDID</strong><strong>009</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Snowflake</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//idbit5bitworkerid5bitdatacenterid</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"comment\">//bit</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> SequenceBits = <span class=\"number\">12</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxWorkerId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; WorkerIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxDatacenterId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; DatacenterIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> SequenceMask = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; SequenceBits);</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdShift = SequenceBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdShift = SequenceBits + WorkerIdBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _sequence = <span class=\"number\">0L</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _lastTimestamp = -<span class=\"number\">1L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> WorkerId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> DatacenterId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Snowflake</span><span class=\"params\">(<span class=\"keyword\">long</span> workerId, <span class=\"keyword\">long</span> datacenterId, <span class=\"keyword\">long</span> sequence = <span class=\"number\">0</span>L)</span> </span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        WorkerId = workerId;</span><br><span class=\"line\">        DatacenterId = datacenterId;</span><br><span class=\"line\">        _sequence = sequence;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// sanity check for workerId</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (workerId &gt; MaxWorkerId || workerId &lt; <span class=\"number\">0</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"worker Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxWorkerId) );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (datacenterId &gt; MaxDatacenterId || datacenterId &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"datacenter Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxDatacenterId));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;returns&gt;&lt;/returns&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">TimeGen</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        DateTime Jan1st1970 = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, DateTimeKind.Utc);<span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">long</span>)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    readonly object _lock = <span class=\"keyword\">new</span> Object();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">NextId</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        lock (_lock)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            var timestamp = TimeGen();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (timestamp &lt; _lastTimestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidSystemClock(String.Format(</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;0&#125;\"</span>, _lastTimestamp - timestamp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (_lastTimestamp == timestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = (_sequence + <span class=\"number\">1</span>) &amp; SequenceMask;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (_sequence == <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    timestamp = TilNextMillis(_lastTimestamp);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            _lastTimestamp = timestamp;</span><br><span class=\"line\">            <span class=\"comment\">//snowflake</span></span><br><span class=\"line\">            var id = (timestamp &lt;&lt; TimestampLeftShift) |</span><br><span class=\"line\">                     (DatacenterId &lt;&lt; DatacenterIdShift) |</span><br><span class=\"line\">                     (WorkerId &lt;&lt; WorkerIdShift) | _sequence;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">TilNextMillis</span><span class=\"params\">(<span class=\"keyword\">long</span> lastTimestamp)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        var timestamp = TimeGen();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (timestamp &lt;= lastTimestamp)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            timestamp = TimeGen();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> timestamp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2015-06-22T06:50:38.000Z","updated":"2015-06-22T06:50:38.000Z","_content":"\n\n# 90\n\n\"22\"9090I AM SURE U WILL FIND A DIFFERENT U.\n<!-- more -->\n## 20\n\n## \n\n## \n\n## \n\n## \n\n## \n\n  \n\n## \n\n \n\n## \n\n  711   \n\n## deadline\n\n## \n\n> event-time-log \n\n## \n\n\n\n## \n\n## TEFCAS\n\nT---- E---- F---- C---- A---- S---- [](http://www.jianshu.com/p/e9054cb333e8)\n\n# \n\n1. How \"\" \"\"  TA \n2. What \"\" \n3. Why Why\n\n 60%  Why  What\n\n What to do  \"\"  ``\n\n`` ``  \"\"   \"\" \n\n\n:[](http://sivers.org/horses)\n","source":"_posts/2015/grown-up.md","raw":"---\ntitle: \ndate: 2015-06-22 14:50:38\nupdated: 2015-06-22 14:50:38\ntags:\n- \ncategories:\n---\n\n\n# 90\n\n\"22\"9090I AM SURE U WILL FIND A DIFFERENT U.\n<!-- more -->\n## 20\n\n## \n\n## \n\n## \n\n## \n\n## \n\n  \n\n## \n\n \n\n## \n\n  711   \n\n## deadline\n\n## \n\n> event-time-log \n\n## \n\n\n\n## \n\n## TEFCAS\n\nT---- E---- F---- C---- A---- S---- [](http://www.jianshu.com/p/e9054cb333e8)\n\n# \n\n1. How \"\" \"\"  TA \n2. What \"\" \n3. Why Why\n\n 60%  Why  What\n\n What to do  \"\"  ``\n\n`` ``  \"\"   \"\" \n\n\n:[](http://sivers.org/horses)\n","slug":"grown-up","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ei0016hpwf8rkjfz9u","content":"<h1 id=\"90\"><a href=\"#90\" class=\"headerlink\" title=\"90\"></a>90</h1><p>229090I AM SURE U WILL FIND A DIFFERENT U.<br><a id=\"more\"></a></p>\n<h2 id=\"20\"><a href=\"#20\" class=\"headerlink\" title=\"20\"></a>20</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  711   </p>\n<h2 id=\"deadline\"><a href=\"#deadline\" class=\"headerlink\" title=\"deadline\"></a>deadline</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>event-time-log </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"TEFCAS\"><a href=\"#TEFCAS\" class=\"headerlink\" title=\"TEFCAS\"></a>TEFCAS</h2><p>T- E- F- C- A- S- <a href=\"http://www.jianshu.com/p/e9054cb333e8\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>How    TA </li>\n<li>What  </li>\n<li>Why Why</li>\n</ol>\n<p> 60%  Why  What</p>\n<p> What to do    <code></code></p>\n<p><code></code> <code></code>      </p>\n<p>:<a href=\"http://sivers.org/horses\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<h1 id=\"90\"><a href=\"#90\" class=\"headerlink\" title=\"90\"></a>90</h1><p>229090I AM SURE U WILL FIND A DIFFERENT U.<br>","more":"</p>\n<h2 id=\"20\"><a href=\"#20\" class=\"headerlink\" title=\"20\"></a>20</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  711   </p>\n<h2 id=\"deadline\"><a href=\"#deadline\" class=\"headerlink\" title=\"deadline\"></a>deadline</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>event-time-log </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"TEFCAS\"><a href=\"#TEFCAS\" class=\"headerlink\" title=\"TEFCAS\"></a>TEFCAS</h2><p>T- E- F- C- A- S- <a href=\"http://www.jianshu.com/p/e9054cb333e8\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>How    TA </li>\n<li>What  </li>\n<li>Why Why</li>\n</ol>\n<p> 60%  Why  What</p>\n<p> What to do    <code></code></p>\n<p><code></code> <code></code>      </p>\n<p>:<a href=\"http://sivers.org/horses\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"gulp tutorial","date":"2016-07-15T02:58:29.000Z","updated":"2016-07-15T02:58:29.000Z","_content":"### nodejs\nnodejs,npm \n\n``` cli\n  //\n  npm install cnpm -g --registry=https://registry.npm.taobao.org\n  npm uninstall xxx\n  //\n  npm list\n```\n<!-- more -->\n### gulp,package.json\n\n `cnpm install gulp -g` ,  `cnpm init` , `cnpm install gulp --save-dev`\ngulpgulpgulpgulpgulpgulp\n `package.json`  `cnpm help package.json`\n\n### gulp,demo\ngulpfile.jsgulpjsgulpfile.js,demo\n\n``` javascript\n\n  // require('node_modules')\n  var gulp = require('gulp'), //gulp\n    less = require('gulp-less');\n\n  //testLess\n  gulp.task('testLess', function () {\n    gulp.src('src/less/index.less') //\n        .pipe(less()) //\n        .pipe(gulp.dest('src/css')); //src/cssindex.css\n  });\n\n  gulp.task('default',['testLess', 'elseTask']); // elseTaskelseTask\n\n  //gulp.task(name[, deps], fn)   name deps fn\n  //gulp.src(globs[, options])   globs()\n  //gulp.dest(path[, options]) \n```\n `gulp testLess` `gulp default` or  `gulp`\n\n\n### gulp  laravel \n\n```\nnpm install -g gulp\ngulp -v\n\n```\nlaravel  package.json  `npm install` gluplaravel-elixir\n\n#### Elixir \n `gulpfile.js`\n``` javascript\nelixir(function(mix) {\n    mix.less('app.less');\n});\n```\nmix.less Less app.less  resources/assets/less \n\n\n[Laravel Elixir](http://www.tuicool.com/articles/YRV7Fz)\n","source":"_posts/2015/gulp-tutorial.md","raw":"---\ntitle: gulp tutorial\ndate: 2016-07-15 10:58:29\nupdated: 2016-07-15 10:58:29\ntags:\ncategories:\n---\n### nodejs\nnodejs,npm \n\n``` cli\n  //\n  npm install cnpm -g --registry=https://registry.npm.taobao.org\n  npm uninstall xxx\n  //\n  npm list\n```\n<!-- more -->\n### gulp,package.json\n\n `cnpm install gulp -g` ,  `cnpm init` , `cnpm install gulp --save-dev`\ngulpgulpgulpgulpgulpgulp\n `package.json`  `cnpm help package.json`\n\n### gulp,demo\ngulpfile.jsgulpjsgulpfile.js,demo\n\n``` javascript\n\n  // require('node_modules')\n  var gulp = require('gulp'), //gulp\n    less = require('gulp-less');\n\n  //testLess\n  gulp.task('testLess', function () {\n    gulp.src('src/less/index.less') //\n        .pipe(less()) //\n        .pipe(gulp.dest('src/css')); //src/cssindex.css\n  });\n\n  gulp.task('default',['testLess', 'elseTask']); // elseTaskelseTask\n\n  //gulp.task(name[, deps], fn)   name deps fn\n  //gulp.src(globs[, options])   globs()\n  //gulp.dest(path[, options]) \n```\n `gulp testLess` `gulp default` or  `gulp`\n\n\n### gulp  laravel \n\n```\nnpm install -g gulp\ngulp -v\n\n```\nlaravel  package.json  `npm install` gluplaravel-elixir\n\n#### Elixir \n `gulpfile.js`\n``` javascript\nelixir(function(mix) {\n    mix.less('app.less');\n});\n```\nmix.less Less app.less  resources/assets/less \n\n\n[Laravel Elixir](http://www.tuicool.com/articles/YRV7Fz)\n","slug":"gulp-tutorial","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ej0018hpwfog6w0xc4","content":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><p>nodejs,npm </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">npm uninstall xxx</span><br><span class=\"line\">//</span><br><span class=\"line\">npm list</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"gulp-package-json\"><a href=\"#gulp-package-json\" class=\"headerlink\" title=\"gulp,package.json\"></a>gulp,package.json</h3><p> <code>cnpm install gulp -g</code> ,  <code>cnpm init</code> , <code>cnpm install gulp --save-dev</code><br>gulpgulpgulpgulpgulpgulp<br> <code>package.json</code>  <code>cnpm help package.json</code></p>\n<h3 id=\"gulp-demo\"><a href=\"#gulp-demo\" class=\"headerlink\" title=\"gulp,demo\"></a>gulp,demo</h3><p>gulpfile.jsgulpjsgulpfile.js,demo</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// require('node_modules')</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>), <span class=\"comment\">//gulp</span></span><br><span class=\"line\">  less = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-less'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//testLess</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'testLess'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  gulp.src(<span class=\"string\">'src/less/index.less'</span>) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(less()) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'src/css'</span>)); <span class=\"comment\">//src/cssindex.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>,[<span class=\"string\">'testLess'</span>, <span class=\"string\">'elseTask'</span>]); <span class=\"comment\">// elseTaskelseTask</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn)   name deps fn</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options])   globs()</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) </span></span><br></pre></td></tr></table></figure>\n<p> <code>gulp testLess</code> <code>gulp default</code> or  <code>gulp</code></p>\n<h3 id=\"gulp--laravel-\"><a href=\"#gulp--laravel-\" class=\"headerlink\" title=\"gulp  laravel \"></a>gulp  laravel </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g gulp</span><br><span class=\"line\">gulp -v</span><br></pre></td></tr></table></figure>\n<p>laravel  package.json  <code>npm install</code> gluplaravel-elixir</p>\n<h4 id=\"Elixir-\"><a href=\"#Elixir-\" class=\"headerlink\" title=\"Elixir \"></a>Elixir </h4><p> <code>gulpfile.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">elixir(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mix</span>) </span>&#123;</span><br><span class=\"line\">    mix.less(<span class=\"string\">'app.less'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>mix.less Less app.less  resources/assets/less </p>\n<p><a href=\"http://www.tuicool.com/articles/YRV7Fz\" target=\"_blank\" rel=\"noopener\">Laravel Elixir</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><p>nodejs,npm </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">npm uninstall xxx</span><br><span class=\"line\">//</span><br><span class=\"line\">npm list</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"gulp-package-json\"><a href=\"#gulp-package-json\" class=\"headerlink\" title=\"gulp,package.json\"></a>gulp,package.json</h3><p> <code>cnpm install gulp -g</code> ,  <code>cnpm init</code> , <code>cnpm install gulp --save-dev</code><br>gulpgulpgulpgulpgulpgulp<br> <code>package.json</code>  <code>cnpm help package.json</code></p>\n<h3 id=\"gulp-demo\"><a href=\"#gulp-demo\" class=\"headerlink\" title=\"gulp,demo\"></a>gulp,demo</h3><p>gulpfile.jsgulpjsgulpfile.js,demo</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// require('node_modules')</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>), <span class=\"comment\">//gulp</span></span><br><span class=\"line\">  less = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-less'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//testLess</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'testLess'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  gulp.src(<span class=\"string\">'src/less/index.less'</span>) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(less()) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'src/css'</span>)); <span class=\"comment\">//src/cssindex.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>,[<span class=\"string\">'testLess'</span>, <span class=\"string\">'elseTask'</span>]); <span class=\"comment\">// elseTaskelseTask</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn)   name deps fn</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options])   globs()</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) </span></span><br></pre></td></tr></table></figure>\n<p> <code>gulp testLess</code> <code>gulp default</code> or  <code>gulp</code></p>\n<h3 id=\"gulp--laravel-\"><a href=\"#gulp--laravel-\" class=\"headerlink\" title=\"gulp  laravel \"></a>gulp  laravel </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g gulp</span><br><span class=\"line\">gulp -v</span><br></pre></td></tr></table></figure>\n<p>laravel  package.json  <code>npm install</code> gluplaravel-elixir</p>\n<h4 id=\"Elixir-\"><a href=\"#Elixir-\" class=\"headerlink\" title=\"Elixir \"></a>Elixir </h4><p> <code>gulpfile.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">elixir(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mix</span>) </span>&#123;</span><br><span class=\"line\">    mix.less(<span class=\"string\">'app.less'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>mix.less Less app.less  resources/assets/less </p>\n<p><a href=\"http://www.tuicool.com/articles/YRV7Fz\" target=\"_blank\" rel=\"noopener\">Laravel Elixir</a></p>"},{"title":"","date":"2015-10-15T02:58:29.000Z","updated":"2015-10-15T02:58:29.000Z","_content":"\n## \n\n### \n\nkpi<!--more-->\n\n**** go for fuzzinesshow \n\n### \n\n9010%\n\n\n\n\n\n> ****24\n>\n> ****\n>\n> **** \n>\n> ****sns\n\n\n\n 21\n\n\n\n### balance\n\n50comfortable\n\n### 9TIps9 ways to feel less anxiou\n\n### at work\n\n1. take a deep breath and acknowledge that you're anxious\n2. (instead of coffee,caffeine-free chamomile tea,it's relaxing)\n3. (whatch a show you like during lunch break )\n4.  (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)\n5. (take ten minutes to yourself during your work day)\n6. talk with a friend,something unrelated to work)\n7. (instead of sugary treats,try natural energy snacks like almonds !)\n8. (get rid of your clutter)\n9. (make sure to get a good night's sleep)\n","source":"_posts/2015/how-to-happy-work.md","raw":"---\ntitle: \ndate: 2015-10-15 10:58:29\nupdated: 2015-10-15 10:58:29\ntags: work\ncategories:\n---\n\n## \n\n### \n\nkpi<!--more-->\n\n**** go for fuzzinesshow \n\n### \n\n9010%\n\n\n\n\n\n> ****24\n>\n> ****\n>\n> **** \n>\n> ****sns\n\n\n\n 21\n\n\n\n### balance\n\n50comfortable\n\n### 9TIps9 ways to feel less anxiou\n\n### at work\n\n1. take a deep breath and acknowledge that you're anxious\n2. (instead of coffee,caffeine-free chamomile tea,it's relaxing)\n3. (whatch a show you like during lunch break )\n4.  (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)\n5. (take ten minutes to yourself during your work day)\n6. talk with a friend,something unrelated to work)\n7. (instead of sugary treats,try natural energy snacks like almonds !)\n8. (get rid of your clutter)\n9. (make sure to get a good night's sleep)\n","slug":"how-to-happy-work","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ek001ahpwfs59snfry","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>kpi<a id=\"more\"></a></p>\n<p><strong></strong> go for fuzzinesshow </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>9010%</p>\n<p></p>\n<p></p>\n<blockquote>\n<p><strong></strong>24</p>\n<p><strong></strong></p>\n<p><strong></strong> </p>\n<p><strong></strong>sns</p>\n</blockquote>\n<p> 21</p>\n<h3 id=\"balance\"><a href=\"#balance\" class=\"headerlink\" title=\"balance\"></a>balance</h3><p>50comfortable</p>\n<h3 id=\"9TIps9-ways-to-feel-less-anxiou\"><a href=\"#9TIps9-ways-to-feel-less-anxiou\" class=\"headerlink\" title=\"9TIps9 ways to feel less anxiou\"></a>9TIps9 ways to feel less anxiou</h3><h3 id=\"at-work\"><a href=\"#at-work\" class=\"headerlink\" title=\"at work\"></a>at work</h3><ol>\n<li>take a deep breath and acknowledge that youre anxious</li>\n<li>(instead of coffee,caffeine-free chamomile tea,its relaxing)</li>\n<li>(whatch a show you like during lunch break )</li>\n<li> (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)</li>\n<li>(take ten minutes to yourself during your work day)</li>\n<li>talk with a friend,something unrelated to work)</li>\n<li>(instead of sugary treats,try natural energy snacks like almonds !)</li>\n<li>(get rid of your clutter)</li>\n<li>(make sure to get a good nights sleep)</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>kpi","more":"</p>\n<p><strong></strong> go for fuzzinesshow </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>9010%</p>\n<p></p>\n<p></p>\n<blockquote>\n<p><strong></strong>24</p>\n<p><strong></strong></p>\n<p><strong></strong> </p>\n<p><strong></strong>sns</p>\n</blockquote>\n<p> 21</p>\n<h3 id=\"balance\"><a href=\"#balance\" class=\"headerlink\" title=\"balance\"></a>balance</h3><p>50comfortable</p>\n<h3 id=\"9TIps9-ways-to-feel-less-anxiou\"><a href=\"#9TIps9-ways-to-feel-less-anxiou\" class=\"headerlink\" title=\"9TIps9 ways to feel less anxiou\"></a>9TIps9 ways to feel less anxiou</h3><h3 id=\"at-work\"><a href=\"#at-work\" class=\"headerlink\" title=\"at work\"></a>at work</h3><ol>\n<li>take a deep breath and acknowledge that youre anxious</li>\n<li>(instead of coffee,caffeine-free chamomile tea,its relaxing)</li>\n<li>(whatch a show you like during lunch break )</li>\n<li> (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)</li>\n<li>(take ten minutes to yourself during your work day)</li>\n<li>talk with a friend,something unrelated to work)</li>\n<li>(instead of sugary treats,try natural energy snacks like almonds !)</li>\n<li>(get rid of your clutter)</li>\n<li>(make sure to get a good nights sleep)</li>\n</ol>"},{"layout":"scaffold","title":"","date":"2015-06-21T09:25:46.000Z","_content":"\n## \n\n1.\n2.<!-- more -->\n3.\n4.\n5.\n\n### \n\n--\n\n\n> - \n> - \n> - \n> - \n> - \n\n\n\n1.\n2.\n\n### \n","source":"_posts/2015/hui-lai-shi.md","raw":"layout: scaffold\ntitle: \ndate: 2015-06-21 17:25:46\ntags:\n---\n\n## \n\n1.\n2.<!-- more -->\n3.\n4.\n5.\n\n### \n\n--\n\n\n> - \n> - \n> - \n> - \n> - \n\n\n\n1.\n2.\n\n### \n","slug":"hui-lai-shi","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"photos":[],"link":"","_id":"cku2138el001chpwfp9o4rlss","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>1.<br>2.<a id=\"more\"></a><br>3.<br>4.<br>5.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p><br>1.<br>2.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>1.<br>2.","more":"<br>3.<br>4.<br>5.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p><br>1.<br>2.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>"},{"title":"Markdown","date":"2015-03-14T16:43:20.000Z","_content":"\n## markdown  sublime text 3 \n\nWindows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,\nstControl + `\n<!-- more -->\n\n``` bash\n\n\timport  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())\n\n```\n\nstPreferences -> Package SettingsPackage Control\nmarkdown preview\nCtrl+Shift+pPackage Control: install Pakagemarkdown preview\n\n\nMarkdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml\n\npreview in browserstmarkdown\n\n\n\n * ctrl+shift+m *\n\n\nstmarkdown previewpreview in browserPreferences -> Key Bindings User(Key Bindings Default)\n\n > { \"keys\": [\"alt+m\"], \"command\": \"markdown_preview\", \"args\": { \"target\": \"browser\"} }\n\n\"alt+m\"\n\nmathjax\nPreferences ->Package Settings->Markdown Preview->Setting Default3136\n\n``` config\n\n\t\"enable_mathjax\": false,\n\t\"enable_highlight\": false,\n\n```\n falsetrue\nPreferences ->Color Scheme\nmarkdown\n[TOC]\n\n\n## markdown \n\n@changyuan\n\nEmphasis, aka italics, with *asterisks* or _underscores_.\nStrong emphasis, aka bold, with **asterisks** or __underscores__.\nCombined emphasis with **asterisks and _underscores_**.\nStrikethrough uses two tildes. ~~Scratch this.~~\n\n[1](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)\n[2](https://guides.github.com/features/mastering-markdown/)\n\n\n## emoji\n:smile::thumbsup::thumbsup:\n~~emo~~\n[emoji](http://www.emoji-cheat-sheet.com/)\n","source":"_posts/2015/markdown.md","raw":"---\ntitle: Markdown\ndate: 2015-03-15 00:43:20\ntags:\n- tools\ncategories:\n---\n\n## markdown  sublime text 3 \n\nWindows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,\nstControl + `\n<!-- more -->\n\n``` bash\n\n\timport  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())\n\n```\n\nstPreferences -> Package SettingsPackage Control\nmarkdown preview\nCtrl+Shift+pPackage Control: install Pakagemarkdown preview\n\n\nMarkdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml\n\npreview in browserstmarkdown\n\n\n\n * ctrl+shift+m *\n\n\nstmarkdown previewpreview in browserPreferences -> Key Bindings User(Key Bindings Default)\n\n > { \"keys\": [\"alt+m\"], \"command\": \"markdown_preview\", \"args\": { \"target\": \"browser\"} }\n\n\"alt+m\"\n\nmathjax\nPreferences ->Package Settings->Markdown Preview->Setting Default3136\n\n``` config\n\n\t\"enable_mathjax\": false,\n\t\"enable_highlight\": false,\n\n```\n falsetrue\nPreferences ->Color Scheme\nmarkdown\n[TOC]\n\n\n## markdown \n\n@changyuan\n\nEmphasis, aka italics, with *asterisks* or _underscores_.\nStrong emphasis, aka bold, with **asterisks** or __underscores__.\nCombined emphasis with **asterisks and _underscores_**.\nStrikethrough uses two tildes. ~~Scratch this.~~\n\n[1](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)\n[2](https://guides.github.com/features/mastering-markdown/)\n\n\n## emoji\n:smile::thumbsup::thumbsup:\n~~emo~~\n[emoji](http://www.emoji-cheat-sheet.com/)\n","slug":"markdown","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138en001ehpwfk7blvj4r","content":"<h2 id=\"markdown--sublime-text-3-\"><a href=\"#markdown--sublime-text-3-\" class=\"headerlink\" title=\"markdown  sublime text 3 \"></a>markdown  sublime text 3 </h2><p>Windows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,<br>stControl + `<br><a id=\"more\"></a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import  urllib.request,os;pf=<span class=\"string\">'Package Control.sublime-package'</span>;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),<span class=\"string\">'wb'</span>).write(urllib.request.urlopen(<span class=\"string\">'http://sublime.wbond.net/'</span>+pf.replace(<span class=\"string\">' '</span>,<span class=\"string\">'%20'</span>)).<span class=\"built_in\">read</span>())</span><br></pre></td></tr></table></figure>\n<p>stPreferences -&gt; Package SettingsPackage Control<br>markdown preview<br>Ctrl+Shift+pPackage Control: install Pakagemarkdown preview</p>\n<p><br>Markdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml</p>\n<p>preview in browserstmarkdown</p>\n<p></p>\n<p> <em> ctrl+shift+m </em></p>\n<p><br>stmarkdown previewpreview in browserPreferences -&gt; Key Bindings User(Key Bindings Default)</p>\n<blockquote>\n<p>{ keys: [alt+m], command: markdown_preview, args: { target: browser} }</p>\n</blockquote>\n<p>alt+m</p>\n<p>mathjax<br>Preferences -&gt;Package Settings-&gt;Markdown Preview-&gt;Setting Default3136</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&quot;enable_mathjax&quot;: false,</span><br><span class=\"line\">&quot;enable_highlight&quot;: false,</span><br></pre></td></tr></table></figure>\n<p> falsetrue<br>Preferences -&gt;Color Scheme<br>markdown<br>[TOC]<br></p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>@changyuan</p>\n<p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.<br>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.<br>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.<br>Strikethrough uses two tildes. <del>Scratch this.</del></p>\n<p><a href=\"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet\" target=\"_blank\" rel=\"noopener\">1</a><br><a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"noopener\">2</a></p>\n<h2 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h2><p>:smile::thumbsup::thumbsup:<br><del>emo</del><br><a href=\"http://www.emoji-cheat-sheet.com/\" target=\"_blank\" rel=\"noopener\">emoji</a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"markdown--sublime-text-3-\"><a href=\"#markdown--sublime-text-3-\" class=\"headerlink\" title=\"markdown  sublime text 3 \"></a>markdown  sublime text 3 </h2><p>Windows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,<br>stControl + `<br>","more":"</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import  urllib.request,os;pf=<span class=\"string\">'Package Control.sublime-package'</span>;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),<span class=\"string\">'wb'</span>).write(urllib.request.urlopen(<span class=\"string\">'http://sublime.wbond.net/'</span>+pf.replace(<span class=\"string\">' '</span>,<span class=\"string\">'%20'</span>)).<span class=\"built_in\">read</span>())</span><br></pre></td></tr></table></figure>\n<p>stPreferences -&gt; Package SettingsPackage Control<br>markdown preview<br>Ctrl+Shift+pPackage Control: install Pakagemarkdown preview</p>\n<p><br>Markdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml</p>\n<p>preview in browserstmarkdown</p>\n<p></p>\n<p> <em> ctrl+shift+m </em></p>\n<p><br>stmarkdown previewpreview in browserPreferences -&gt; Key Bindings User(Key Bindings Default)</p>\n<blockquote>\n<p>{ keys: [alt+m], command: markdown_preview, args: { target: browser} }</p>\n</blockquote>\n<p>alt+m</p>\n<p>mathjax<br>Preferences -&gt;Package Settings-&gt;Markdown Preview-&gt;Setting Default3136</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&quot;enable_mathjax&quot;: false,</span><br><span class=\"line\">&quot;enable_highlight&quot;: false,</span><br></pre></td></tr></table></figure>\n<p> falsetrue<br>Preferences -&gt;Color Scheme<br>markdown<br>[TOC]<br></p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>@changyuan</p>\n<p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.<br>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.<br>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.<br>Strikethrough uses two tildes. <del>Scratch this.</del></p>\n<p><a href=\"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet\" target=\"_blank\" rel=\"noopener\">1</a><br><a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"noopener\">2</a></p>\n<h2 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h2><p>:smile::thumbsup::thumbsup:<br><del>emo</del><br><a href=\"http://www.emoji-cheat-sheet.com/\" target=\"_blank\" rel=\"noopener\">emoji</a></p>"},{"title":"mac ","date":"2015-07-29T05:42:55.000Z","updated":"2015-07-29T05:42:55.000Z","_content":"\n## Homebrew\n``` bash\n  //install\n  ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n\n  //use\n  brew search /apache*/\n  brew install wget\n  brew uninstall wget\n\n```\n> [](http://brew.sh/)\n\n<!--more-->\n## zsh bash\n```bash\n   sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n```\ncat /etc/shells sh\n`chsh -s /bin/bash`   `chsh -s /bin/zsh`\n\n[zsh](http://ohmyz.sh/)\n## apache\nmac\n```bash\n  brew install apache\n```\n\n## nginx\n\n``` bash\n  brew install nginx\n\n  sudo nginx\n  nginx -s reload|reopen|stop|quit\n  nginx -t\n```\n8080\n```bash\n  vim /usr/local/etc/nginx/nginx.conf\n```\n\n```bash\n  /usr/local/Cellar/nginx/$version/html\n```\n## mysql\n```bash\n  brew install mysql\n```\n\nWe've installed your MySQL database without a root password. To secure it run:\n    `mysql_secure_installation`\nTo connect run:\n    `mysql -uroot`\nTo have launchd start mysql now and restart at login:\n  `brew services start mysql`\nOr, if you don't want/need a background service you can just run:\n  `mysql.server start`\n\n5.7mysql.erver start  `mysql -uroot` .\n\n``` bash\nmysql_install_db --verbose --user='whoami' --basedir=\"$(brew --prefix mysql)\" --datadir=/usr/local/var/mysql --tmpdir=/tmp\n```\n`mysqladmin -u root password 'password'`\n\n## php\n\n> [](https://github.com/Homebrew/homebrew-php)\n\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    `LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so`\n\nThe php.ini file can be found in:\n    `/usr/local/etc/php/5.6/php.ini`\n\n Extensions \n\nIf you are having issues with custom extension compiling, ensure that\nyou are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:\n\n      PATH=\"/usr/local/bin:$PATH\"\n\nPHP56 Extensions will always be compiled against this PHP. Please install them\nusing --without-homebrew-php to enable compiling against system PHP.\n\n PHP CLI \n\nIf you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,\n~/.zshrc, ~/.profile or your shell's equivalent configuration file:\n\n      export PATH=\"$(brew --prefix homebrew/php/php56)/bin:$PATH\"\n\n FPM \n\nlaunchctl\nTo launch php-fpm on startup:\n    mkdir -p ~/Library/LaunchAgents\n    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/\n    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist\n\nThe control script is located at /usr/local/opt/php56/sbin/php56-fpm\n\nOS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:\n\n  PATH=\"/usr/local/sbin:$PATH\"\n\nYou may also need to edit the plist to use the correct \"UserName\".\n\nPlease note that the plist was called 'homebrew-php.josegonzalez.php56.plist' in old versions\nof this formula.\n\nTo have launchd start homebrew/php/php56 now and restart at login:\n  brew services start homebrew/php/php56\n  brew services restart homebrew/php/php56\n\n\n\nDocumentRoot is /usr/local/var/www.\n\nThe default ports have been set in /usr/local/etc/httpd/httpd.conf to 8080 and in\n/usr/local/etc/httpd/extra/httpd-ssl.conf to 8443 so that httpd can run without sudo.\n\nTo have launchd start httpd now and restart at login:\n  brew services start httpd\nOr, if you don't want/need a background service you can just run:\n  apachectl start\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    LoadModule php7_module /usr/local/opt/php@7.1/lib/httpd/modules/libphp7.so\n\n    <FilesMatch \\.php$>\n        SetHandler application/x-httpd-php\n    </FilesMatch>\n\nFinally, check DirectoryIndex includes index.php\n    DirectoryIndex index.php index.html\n\nThe php.ini and php-fpm.ini file can be found in:\n    /usr/local/etc/php/7.1/\n\nphp@7.1 is keg-only, which means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have php@7.1 first in your PATH run:\n  echo 'export PATH=\"/usr/local/opt/php@7.1/bin:$PATH\"' >> ~/.bash_profile\n  echo 'export PATH=\"/usr/local/opt/php@7.1/sbin:$PATH\"' >> ~/.bash_profile\n\nFor compilers to find php@7.1 you may need to set:\n  export LDFLAGS=\"-L/usr/local/opt/php@7.1/lib\"\n  export CPPFLAGS=\"-I/usr/local/opt/php@7.1/include\"\n\n\nTo have launchd start php@7.1 now and restart at login:\n  brew services start php@7.1\nOr, if you don't want/need a background service you can just run:\n  php-fpm\n==> Summary\n\n\n\n## mac \n\n```bash\n  cd ~\n  //\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n  // \n  # curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n  //unix\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n\n```\n\n> - Terminal  [iTerm](https://www.iterm2.com/)\n> - Finder  [TotalFinder](http://totalfinder.binaryage.com/) / [Path Finder](http://www.cocoatech.com/pathfinder/)\n> - Spotlight  [QuickSilver](https://qsapp.com/) / [Alfred](https://www.alfredapp.com/)\n\n[Terminal cheatsheet](https://github.com/0nn0/terminal-mac-cheatsheet)\n\n## xcode\nxcode-select --install\n\n## rvm\n```bash\n  curl -sSL https://get.rvm.io | bash -s stable\n  rvm install 2.3.1\n  rvm use 2.3.1\n```\n## nvm\n\n```bash\n  brew install nvm\n  nvm install 4\n  nvm use 4\n```\n\n## atom\n```bash\n  brew cask install atom\n\n```\n\n## mac\n```\n~/Library/LaunchAgents\n```\n\n## brew \n```\nbrew update                        #brew\nbrew search php55                    #php5.5\nbrew tap josegonzalez/php        #<gihhub_user/repo>   ,\nbrew tap                                  #\nbrew install php55                    #php5.5\nbrew remove  php55                 #php5.5\nbrew upgrade php55                 #php5.5\nbrew options php55                  #php5.5\nbrew info    php55                    #php5.5\nbrew home    php55                  #php5.5\nbrew services list                      # brew \nbrew services cleanup               #\nbrew services restart php55       #php-fpm\n```\n\n### homebrew ,,brew()\n \n```\nhomebrew\ncd \"$(brew --repo)\" //,pwd\ncd \"$(brew --repo)\" git remote set-url origin git://mirrors.ustc.edu.cn/brew.git\nHomebrew Bottles()\necho 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' >> ~/.bash_profile \nsource ~/.bash_profile\n\nbrew update\n```\n","source":"_posts/2015/mac-web.md","raw":"---\ntitle: mac \ndate: 2015-07-29 13:42:55\nupdated: 2015-07-29 13:42:55\ntags:\ncategories:\n---\n\n## Homebrew\n``` bash\n  //install\n  ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n\n  //use\n  brew search /apache*/\n  brew install wget\n  brew uninstall wget\n\n```\n> [](http://brew.sh/)\n\n<!--more-->\n## zsh bash\n```bash\n   sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n```\ncat /etc/shells sh\n`chsh -s /bin/bash`   `chsh -s /bin/zsh`\n\n[zsh](http://ohmyz.sh/)\n## apache\nmac\n```bash\n  brew install apache\n```\n\n## nginx\n\n``` bash\n  brew install nginx\n\n  sudo nginx\n  nginx -s reload|reopen|stop|quit\n  nginx -t\n```\n8080\n```bash\n  vim /usr/local/etc/nginx/nginx.conf\n```\n\n```bash\n  /usr/local/Cellar/nginx/$version/html\n```\n## mysql\n```bash\n  brew install mysql\n```\n\nWe've installed your MySQL database without a root password. To secure it run:\n    `mysql_secure_installation`\nTo connect run:\n    `mysql -uroot`\nTo have launchd start mysql now and restart at login:\n  `brew services start mysql`\nOr, if you don't want/need a background service you can just run:\n  `mysql.server start`\n\n5.7mysql.erver start  `mysql -uroot` .\n\n``` bash\nmysql_install_db --verbose --user='whoami' --basedir=\"$(brew --prefix mysql)\" --datadir=/usr/local/var/mysql --tmpdir=/tmp\n```\n`mysqladmin -u root password 'password'`\n\n## php\n\n> [](https://github.com/Homebrew/homebrew-php)\n\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    `LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so`\n\nThe php.ini file can be found in:\n    `/usr/local/etc/php/5.6/php.ini`\n\n Extensions \n\nIf you are having issues with custom extension compiling, ensure that\nyou are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:\n\n      PATH=\"/usr/local/bin:$PATH\"\n\nPHP56 Extensions will always be compiled against this PHP. Please install them\nusing --without-homebrew-php to enable compiling against system PHP.\n\n PHP CLI \n\nIf you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,\n~/.zshrc, ~/.profile or your shell's equivalent configuration file:\n\n      export PATH=\"$(brew --prefix homebrew/php/php56)/bin:$PATH\"\n\n FPM \n\nlaunchctl\nTo launch php-fpm on startup:\n    mkdir -p ~/Library/LaunchAgents\n    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/\n    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist\n\nThe control script is located at /usr/local/opt/php56/sbin/php56-fpm\n\nOS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:\n\n  PATH=\"/usr/local/sbin:$PATH\"\n\nYou may also need to edit the plist to use the correct \"UserName\".\n\nPlease note that the plist was called 'homebrew-php.josegonzalez.php56.plist' in old versions\nof this formula.\n\nTo have launchd start homebrew/php/php56 now and restart at login:\n  brew services start homebrew/php/php56\n  brew services restart homebrew/php/php56\n\n\n\nDocumentRoot is /usr/local/var/www.\n\nThe default ports have been set in /usr/local/etc/httpd/httpd.conf to 8080 and in\n/usr/local/etc/httpd/extra/httpd-ssl.conf to 8443 so that httpd can run without sudo.\n\nTo have launchd start httpd now and restart at login:\n  brew services start httpd\nOr, if you don't want/need a background service you can just run:\n  apachectl start\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    LoadModule php7_module /usr/local/opt/php@7.1/lib/httpd/modules/libphp7.so\n\n    <FilesMatch \\.php$>\n        SetHandler application/x-httpd-php\n    </FilesMatch>\n\nFinally, check DirectoryIndex includes index.php\n    DirectoryIndex index.php index.html\n\nThe php.ini and php-fpm.ini file can be found in:\n    /usr/local/etc/php/7.1/\n\nphp@7.1 is keg-only, which means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have php@7.1 first in your PATH run:\n  echo 'export PATH=\"/usr/local/opt/php@7.1/bin:$PATH\"' >> ~/.bash_profile\n  echo 'export PATH=\"/usr/local/opt/php@7.1/sbin:$PATH\"' >> ~/.bash_profile\n\nFor compilers to find php@7.1 you may need to set:\n  export LDFLAGS=\"-L/usr/local/opt/php@7.1/lib\"\n  export CPPFLAGS=\"-I/usr/local/opt/php@7.1/include\"\n\n\nTo have launchd start php@7.1 now and restart at login:\n  brew services start php@7.1\nOr, if you don't want/need a background service you can just run:\n  php-fpm\n==> Summary\n\n\n\n## mac \n\n```bash\n  cd ~\n  //\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n  // \n  # curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n  //unix\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n\n```\n\n> - Terminal  [iTerm](https://www.iterm2.com/)\n> - Finder  [TotalFinder](http://totalfinder.binaryage.com/) / [Path Finder](http://www.cocoatech.com/pathfinder/)\n> - Spotlight  [QuickSilver](https://qsapp.com/) / [Alfred](https://www.alfredapp.com/)\n\n[Terminal cheatsheet](https://github.com/0nn0/terminal-mac-cheatsheet)\n\n## xcode\nxcode-select --install\n\n## rvm\n```bash\n  curl -sSL https://get.rvm.io | bash -s stable\n  rvm install 2.3.1\n  rvm use 2.3.1\n```\n## nvm\n\n```bash\n  brew install nvm\n  nvm install 4\n  nvm use 4\n```\n\n## atom\n```bash\n  brew cask install atom\n\n```\n\n## mac\n```\n~/Library/LaunchAgents\n```\n\n## brew \n```\nbrew update                        #brew\nbrew search php55                    #php5.5\nbrew tap josegonzalez/php        #<gihhub_user/repo>   ,\nbrew tap                                  #\nbrew install php55                    #php5.5\nbrew remove  php55                 #php5.5\nbrew upgrade php55                 #php5.5\nbrew options php55                  #php5.5\nbrew info    php55                    #php5.5\nbrew home    php55                  #php5.5\nbrew services list                      # brew \nbrew services cleanup               #\nbrew services restart php55       #php-fpm\n```\n\n### homebrew ,,brew()\n \n```\nhomebrew\ncd \"$(brew --repo)\" //,pwd\ncd \"$(brew --repo)\" git remote set-url origin git://mirrors.ustc.edu.cn/brew.git\nHomebrew Bottles()\necho 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' >> ~/.bash_profile \nsource ~/.bash_profile\n\nbrew update\n```\n","slug":"mac-web","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138eo001ghpwf7v54t605","content":"<h2 id=\"Homebrew\"><a href=\"#Homebrew\" class=\"headerlink\" title=\"Homebrew\"></a>Homebrew</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//install</span><br><span class=\"line\">ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">//use</span><br><span class=\"line\">brew search /apache*/</span><br><span class=\"line\">brew install wget</span><br><span class=\"line\">brew uninstall wget</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"http://brew.sh/\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"zsh-bash\"><a href=\"#zsh-bash\" class=\"headerlink\" title=\"zsh bash\"></a>zsh bash</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh -c <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>\"</span></span><br></pre></td></tr></table></figure>\n<p>cat /etc/shells sh<br><code>chsh -s /bin/bash</code>   <code>chsh -s /bin/zsh</code></p>\n<p><a href=\"http://ohmyz.sh/\" target=\"_blank\" rel=\"noopener\">zsh</a></p>\n<h2 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h2><p>mac<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install apache</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h2><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo nginx</span><br><span class=\"line\">nginx -s reload|reopen|stop|quit</span><br><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></p>\n<p>8080<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/<span class=\"built_in\">local</span>/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/<span class=\"built_in\">local</span>/Cellar/nginx/<span class=\"variable\">$version</span>/html</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install mysql</span><br></pre></td></tr></table></figure>\n<p><br>Weve installed your MySQL database without a root password. To secure it run:<br>    <code>mysql_secure_installation</code><br>To connect run:<br>    <code>mysql -uroot</code><br>To have launchd start mysql now and restart at login:<br>  <code>brew services start mysql</code><br>Or, if you dont want/need a background service you can just run:<br>  <code>mysql.server start</code></p>\n<p>5.7mysql.erver start  <code>mysql -uroot</code> .<br><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql_install_db --verbose --user=<span class=\"string\">'whoami'</span> --basedir=<span class=\"string\">\"<span class=\"variable\">$(brew --prefix mysql)</span>\"</span> --datadir=/usr/<span class=\"built_in\">local</span>/var/mysql --tmpdir=/tmp</span><br></pre></td></tr></table></figure></p>\n<p><code>mysqladmin -u root password &#39;password&#39;</code></p>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><blockquote>\n<p><a href=\"https://github.com/Homebrew/homebrew-php\" target=\"_blank\" rel=\"noopener\"></a><br></p>\n</blockquote>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    <code>LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so</code></p>\n<p>The php.ini file can be found in:<br>    <code>/usr/local/etc/php/5.6/php.ini</code></p>\n<p> Extensions </p>\n<p>If you are having issues with custom extension compiling, ensure that<br>you are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:</p>\n<pre><code>PATH=&quot;/usr/local/bin:$PATH&quot;\n</code></pre><p>PHP56 Extensions will always be compiled against this PHP. Please install them<br>using without-homebrew-php to enable compiling against system PHP.</p>\n<p> PHP CLI </p>\n<p>If you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,<br>~/.zshrc, ~/.profile or your shells equivalent configuration file:</p>\n<pre><code>export PATH=&quot;$(brew --prefix homebrew/php/php56)/bin:$PATH&quot;\n</code></pre><p> FPM </p>\n<p>launchctl<br>To launch php-fpm on startup:<br>    mkdir -p ~/Library/LaunchAgents<br>    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/<br>    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist</p>\n<p>The control script is located at /usr/local/opt/php56/sbin/php56-fpm</p>\n<p>OS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:</p>\n<p>  PATH=/usr/local/sbin:$PATH</p>\n<p>You may also need to edit the plist to use the correct UserName.</p>\n<p>Please note that the plist was called homebrew-php.josegonzalez.php56.plist in old versions<br>of this formula.</p>\n<p>To have launchd start homebrew/php/php56 now and restart at login:<br>  brew services start homebrew/php/php56<br>  brew services restart homebrew/php/php56</p>\n<p>DocumentRoot is /usr/local/var/www.</p>\n<p>The default ports have been set in /usr/local/etc/httpd/httpd.conf to 8080 and in<br>/usr/local/etc/httpd/extra/httpd-ssl.conf to 8443 so that httpd can run without sudo.</p>\n<p>To have launchd start httpd now and restart at login:<br>  brew services start httpd<br>Or, if you dont want/need a background service you can just run:<br>  apachectl start</p>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    LoadModule php7_module <a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/lib/httpd/modules/libphp7.so</p>\n<pre><code>&lt;FilesMatch \\.php$&gt;\n    SetHandler application/x-httpd-php\n&lt;/FilesMatch&gt;\n</code></pre><p>Finally, check DirectoryIndex includes index.php<br>    DirectoryIndex index.php index.html</p>\n<p>The php.ini and php-fpm.ini file can be found in:<br>    /usr/local/etc/php/7.1/</p>\n<p><a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> is keg-only, which means it was not symlinked into /usr/local,<br>because this is an alternate version of another formula.</p>\n<p>If you need to have <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> first in your PATH run:<br>  echo export PATH=<a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/bin:$PATH &gt;&gt; ~/.bash_profile<br>  echo export PATH=<a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/sbin:$PATH &gt;&gt; ~/.bash_profile</p>\n<p>For compilers to find <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> you may need to set:<br>  export LDFLAGS=<a href=\"mailto:-L/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">-L/usr/local/opt/php@7.1</a>/lib<br>  export CPPFLAGS=<a href=\"mailto:-I/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">-I/usr/local/opt/php@7.1</a>/include</p>\n<p>To have launchd start <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> now and restart at login:<br>  brew services start <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a><br>Or, if you dont want/need a background service you can just run:<br>  php-fpm<br>==&gt; Summary</p>\n<h2 id=\"mac-\"><a href=\"#mac-\" class=\"headerlink\" title=\"mac \"></a>mac </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">//</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"comment\"># curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</span></span><br><span class=\"line\">//unix</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<ul>\n<li>Terminal  <a href=\"https://www.iterm2.com/\" target=\"_blank\" rel=\"noopener\">iTerm</a></li>\n<li>Finder  <a href=\"http://totalfinder.binaryage.com/\" target=\"_blank\" rel=\"noopener\">TotalFinder</a> / <a href=\"http://www.cocoatech.com/pathfinder/\" target=\"_blank\" rel=\"noopener\">Path Finder</a></li>\n<li>Spotlight  <a href=\"https://qsapp.com/\" target=\"_blank\" rel=\"noopener\">QuickSilver</a> / <a href=\"https://www.alfredapp.com/\" target=\"_blank\" rel=\"noopener\">Alfred</a></li>\n</ul>\n</blockquote>\n<p><a href=\"https://github.com/0nn0/terminal-mac-cheatsheet\" target=\"_blank\" rel=\"noopener\">Terminal cheatsheet</a></p>\n<h2 id=\"xcode\"><a href=\"#xcode\" class=\"headerlink\" title=\"xcode\"></a>xcode</h2><p>xcode-select install</p>\n<h2 id=\"rvm\"><a href=\"#rvm\" class=\"headerlink\" title=\"rvm\"></a>rvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL https://get.rvm.io | bash -s stable</span><br><span class=\"line\">rvm install 2.3.1</span><br><span class=\"line\">rvm use 2.3.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"nvm\"><a href=\"#nvm\" class=\"headerlink\" title=\"nvm\"></a>nvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nvm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\">nvm use 4</span><br></pre></td></tr></table></figure>\n<h2 id=\"atom\"><a href=\"#atom\" class=\"headerlink\" title=\"atom\"></a>atom</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install atom</span><br></pre></td></tr></table></figure>\n<h2 id=\"mac\"><a href=\"#mac\" class=\"headerlink\" title=\"mac\"></a>mac</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/Library/LaunchAgents</span><br></pre></td></tr></table></figure>\n<h2 id=\"brew-\"><a href=\"#brew-\" class=\"headerlink\" title=\"brew \"></a>brew </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update                        #brew</span><br><span class=\"line\">brew search php55                    #php5.5</span><br><span class=\"line\">brew tap josegonzalez/php        #&lt;gihhub_user/repo&gt;   ,</span><br><span class=\"line\">brew tap                                  #</span><br><span class=\"line\">brew install php55                    #php5.5</span><br><span class=\"line\">brew remove  php55                 #php5.5</span><br><span class=\"line\">brew upgrade php55                 #php5.5</span><br><span class=\"line\">brew options php55                  #php5.5</span><br><span class=\"line\">brew info    php55                    #php5.5</span><br><span class=\"line\">brew home    php55                  #php5.5</span><br><span class=\"line\">brew services list                      # brew </span><br><span class=\"line\">brew services cleanup               #</span><br><span class=\"line\">brew services restart php55       #php-fpm</span><br></pre></td></tr></table></figure>\n<h3 id=\"homebrew---brew-\"><a href=\"#homebrew---brew-\" class=\"headerlink\" title=\"homebrew ,,brew()\"></a>homebrew ,,brew()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">homebrew</span><br><span class=\"line\">cd &quot;$(brew --repo)&quot; //,pwd</span><br><span class=\"line\">cd &quot;$(brew --repo)&quot; git remote set-url origin git://mirrors.ustc.edu.cn/brew.git</span><br><span class=\"line\">Homebrew Bottles()</span><br><span class=\"line\">echo &apos;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&apos; &gt;&gt; ~/.bash_profile </span><br><span class=\"line\">source ~/.bash_profile</span><br><span class=\"line\"></span><br><span class=\"line\">brew update</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"Homebrew\"><a href=\"#Homebrew\" class=\"headerlink\" title=\"Homebrew\"></a>Homebrew</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//install</span><br><span class=\"line\">ruby -e <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">//use</span><br><span class=\"line\">brew search /apache*/</span><br><span class=\"line\">brew install wget</span><br><span class=\"line\">brew uninstall wget</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"http://brew.sh/\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>","more":"<h2 id=\"zsh-bash\"><a href=\"#zsh-bash\" class=\"headerlink\" title=\"zsh bash\"></a>zsh bash</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh -c <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>\"</span></span><br></pre></td></tr></table></figure>\n<p>cat /etc/shells sh<br><code>chsh -s /bin/bash</code>   <code>chsh -s /bin/zsh</code></p>\n<p><a href=\"http://ohmyz.sh/\" target=\"_blank\" rel=\"noopener\">zsh</a></p>\n<h2 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h2><p>mac<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install apache</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h2><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo nginx</span><br><span class=\"line\">nginx -s reload|reopen|stop|quit</span><br><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></p>\n<p>8080<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/<span class=\"built_in\">local</span>/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/<span class=\"built_in\">local</span>/Cellar/nginx/<span class=\"variable\">$version</span>/html</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install mysql</span><br></pre></td></tr></table></figure>\n<p><br>Weve installed your MySQL database without a root password. To secure it run:<br>    <code>mysql_secure_installation</code><br>To connect run:<br>    <code>mysql -uroot</code><br>To have launchd start mysql now and restart at login:<br>  <code>brew services start mysql</code><br>Or, if you dont want/need a background service you can just run:<br>  <code>mysql.server start</code></p>\n<p>5.7mysql.erver start  <code>mysql -uroot</code> .<br><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql_install_db --verbose --user=<span class=\"string\">'whoami'</span> --basedir=<span class=\"string\">\"<span class=\"variable\">$(brew --prefix mysql)</span>\"</span> --datadir=/usr/<span class=\"built_in\">local</span>/var/mysql --tmpdir=/tmp</span><br></pre></td></tr></table></figure></p>\n<p><code>mysqladmin -u root password &#39;password&#39;</code></p>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><blockquote>\n<p><a href=\"https://github.com/Homebrew/homebrew-php\" target=\"_blank\" rel=\"noopener\"></a><br></p>\n</blockquote>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    <code>LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so</code></p>\n<p>The php.ini file can be found in:<br>    <code>/usr/local/etc/php/5.6/php.ini</code></p>\n<p> Extensions </p>\n<p>If you are having issues with custom extension compiling, ensure that<br>you are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:</p>\n<pre><code>PATH=&quot;/usr/local/bin:$PATH&quot;\n</code></pre><p>PHP56 Extensions will always be compiled against this PHP. Please install them<br>using without-homebrew-php to enable compiling against system PHP.</p>\n<p> PHP CLI </p>\n<p>If you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,<br>~/.zshrc, ~/.profile or your shells equivalent configuration file:</p>\n<pre><code>export PATH=&quot;$(brew --prefix homebrew/php/php56)/bin:$PATH&quot;\n</code></pre><p> FPM </p>\n<p>launchctl<br>To launch php-fpm on startup:<br>    mkdir -p ~/Library/LaunchAgents<br>    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/<br>    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist</p>\n<p>The control script is located at /usr/local/opt/php56/sbin/php56-fpm</p>\n<p>OS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:</p>\n<p>  PATH=/usr/local/sbin:$PATH</p>\n<p>You may also need to edit the plist to use the correct UserName.</p>\n<p>Please note that the plist was called homebrew-php.josegonzalez.php56.plist in old versions<br>of this formula.</p>\n<p>To have launchd start homebrew/php/php56 now and restart at login:<br>  brew services start homebrew/php/php56<br>  brew services restart homebrew/php/php56</p>\n<p>DocumentRoot is /usr/local/var/www.</p>\n<p>The default ports have been set in /usr/local/etc/httpd/httpd.conf to 8080 and in<br>/usr/local/etc/httpd/extra/httpd-ssl.conf to 8443 so that httpd can run without sudo.</p>\n<p>To have launchd start httpd now and restart at login:<br>  brew services start httpd<br>Or, if you dont want/need a background service you can just run:<br>  apachectl start</p>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    LoadModule php7_module <a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/lib/httpd/modules/libphp7.so</p>\n<pre><code>&lt;FilesMatch \\.php$&gt;\n    SetHandler application/x-httpd-php\n&lt;/FilesMatch&gt;\n</code></pre><p>Finally, check DirectoryIndex includes index.php<br>    DirectoryIndex index.php index.html</p>\n<p>The php.ini and php-fpm.ini file can be found in:<br>    /usr/local/etc/php/7.1/</p>\n<p><a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> is keg-only, which means it was not symlinked into /usr/local,<br>because this is an alternate version of another formula.</p>\n<p>If you need to have <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> first in your PATH run:<br>  echo export PATH=<a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/bin:$PATH &gt;&gt; ~/.bash_profile<br>  echo export PATH=<a href=\"mailto:/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">/usr/local/opt/php@7.1</a>/sbin:$PATH &gt;&gt; ~/.bash_profile</p>\n<p>For compilers to find <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> you may need to set:<br>  export LDFLAGS=<a href=\"mailto:-L/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">-L/usr/local/opt/php@7.1</a>/lib<br>  export CPPFLAGS=<a href=\"mailto:-I/usr/local/opt/php@7.1\" target=\"_blank\" rel=\"noopener\">-I/usr/local/opt/php@7.1</a>/include</p>\n<p>To have launchd start <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a> now and restart at login:<br>  brew services start <a href=\"mailto:php@7.1\" target=\"_blank\" rel=\"noopener\">php@7.1</a><br>Or, if you dont want/need a background service you can just run:<br>  php-fpm<br>==&gt; Summary</p>\n<h2 id=\"mac-\"><a href=\"#mac-\" class=\"headerlink\" title=\"mac \"></a>mac </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">//</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"comment\"># curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</span></span><br><span class=\"line\">//unix</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<ul>\n<li>Terminal  <a href=\"https://www.iterm2.com/\" target=\"_blank\" rel=\"noopener\">iTerm</a></li>\n<li>Finder  <a href=\"http://totalfinder.binaryage.com/\" target=\"_blank\" rel=\"noopener\">TotalFinder</a> / <a href=\"http://www.cocoatech.com/pathfinder/\" target=\"_blank\" rel=\"noopener\">Path Finder</a></li>\n<li>Spotlight  <a href=\"https://qsapp.com/\" target=\"_blank\" rel=\"noopener\">QuickSilver</a> / <a href=\"https://www.alfredapp.com/\" target=\"_blank\" rel=\"noopener\">Alfred</a></li>\n</ul>\n</blockquote>\n<p><a href=\"https://github.com/0nn0/terminal-mac-cheatsheet\" target=\"_blank\" rel=\"noopener\">Terminal cheatsheet</a></p>\n<h2 id=\"xcode\"><a href=\"#xcode\" class=\"headerlink\" title=\"xcode\"></a>xcode</h2><p>xcode-select install</p>\n<h2 id=\"rvm\"><a href=\"#rvm\" class=\"headerlink\" title=\"rvm\"></a>rvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL https://get.rvm.io | bash -s stable</span><br><span class=\"line\">rvm install 2.3.1</span><br><span class=\"line\">rvm use 2.3.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"nvm\"><a href=\"#nvm\" class=\"headerlink\" title=\"nvm\"></a>nvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nvm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\">nvm use 4</span><br></pre></td></tr></table></figure>\n<h2 id=\"atom\"><a href=\"#atom\" class=\"headerlink\" title=\"atom\"></a>atom</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install atom</span><br></pre></td></tr></table></figure>\n<h2 id=\"mac\"><a href=\"#mac\" class=\"headerlink\" title=\"mac\"></a>mac</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/Library/LaunchAgents</span><br></pre></td></tr></table></figure>\n<h2 id=\"brew-\"><a href=\"#brew-\" class=\"headerlink\" title=\"brew \"></a>brew </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew update                        #brew</span><br><span class=\"line\">brew search php55                    #php5.5</span><br><span class=\"line\">brew tap josegonzalez/php        #&lt;gihhub_user/repo&gt;   ,</span><br><span class=\"line\">brew tap                                  #</span><br><span class=\"line\">brew install php55                    #php5.5</span><br><span class=\"line\">brew remove  php55                 #php5.5</span><br><span class=\"line\">brew upgrade php55                 #php5.5</span><br><span class=\"line\">brew options php55                  #php5.5</span><br><span class=\"line\">brew info    php55                    #php5.5</span><br><span class=\"line\">brew home    php55                  #php5.5</span><br><span class=\"line\">brew services list                      # brew </span><br><span class=\"line\">brew services cleanup               #</span><br><span class=\"line\">brew services restart php55       #php-fpm</span><br></pre></td></tr></table></figure>\n<h3 id=\"homebrew---brew-\"><a href=\"#homebrew---brew-\" class=\"headerlink\" title=\"homebrew ,,brew()\"></a>homebrew ,,brew()</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">homebrew</span><br><span class=\"line\">cd &quot;$(brew --repo)&quot; //,pwd</span><br><span class=\"line\">cd &quot;$(brew --repo)&quot; git remote set-url origin git://mirrors.ustc.edu.cn/brew.git</span><br><span class=\"line\">Homebrew Bottles()</span><br><span class=\"line\">echo &apos;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&apos; &gt;&gt; ~/.bash_profile </span><br><span class=\"line\">source ~/.bash_profile</span><br><span class=\"line\"></span><br><span class=\"line\">brew update</span><br></pre></td></tr></table></figure>"},{"title":"(proxy pattern)","date":"2015-09-28T16:00:00.000Z","_content":"\nProxy\n\n****\n\n****\n\n\n\n-   \n-   \n\n\n```php\n\n// record.php\n\nnamespace DesignPatterns\\Structural\\Proxy;\n\n/**\n * Record\n */\nclass Record\n{\n    /**\n     * @var array|null\n     */\n    protected $data;\n\n    /**\n     * @param null $data\n     */\n    public function __construct($data = null)\n    {\n        $this->data = (array) $data;\n    }\n\n    /**\n     * magic setter\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[(string) $name] = $value;\n    }\n\n    /**\n     * magic getter\n     *\n     * @param string $name\n     *\n     * @return mixed|null\n     */\n    public function __get($name)\n    {\n        if (array_key_exists($name, $this->data)) {\n            return $this->data[(string) $name];\n        } else {\n            return null;\n        }\n    }\n}\n\n\n// RecordProxy.php\n\nnamespace DesignPatterns\\Structural\\Proxy;\n\n/**\n * RecordProxy\n */\nclass RecordProxy extends Record\n{\n    /**\n     * @var bool\n     */\n    protected $isDirty = false;\n\n    /**\n     * @var bool\n     */\n    protected $isInitialized = false;\n\n    /**\n     * @param array $data\n     */\n    public function __construct($data)\n    {\n        parent::__construct($data);\n        //.\n\t\t//\n\t\t//\n\n        if (null !== $data) {\n            $this->isInitialized = true;\n            $this->isDirty = true;\n        }\n    }\n\n    /**\n     * magic setter\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->isDirty = true;\n        parent::__set($name, $value);\n    }\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Proxy\\Tests;\n\nuse DesignPatterns\\Structural\\Proxy\\Record;\nuse DesignPatterns\\Structural\\Proxy\\RecordProxy;\n\nclass ProxyTest extends \\PHPUnit_Framework_TestCase\n{\n    public function testSetAttribute(){\n        $data = [];\n        $proxy = new RecordProxy($data);\n        $proxy->xyz = false;\n        $this->assertTrue($proxy->xyz===false);\n    }\n}\n\n```","source":"_posts/2015/proxy-pattern.md","raw":"---\ntitle: (proxy pattern)\ndate: 2015-09-29\ntags: \n- design pattern\n---\n\nProxy\n\n****\n\n****\n\n\n\n-   \n-   \n\n\n```php\n\n// record.php\n\nnamespace DesignPatterns\\Structural\\Proxy;\n\n/**\n * Record\n */\nclass Record\n{\n    /**\n     * @var array|null\n     */\n    protected $data;\n\n    /**\n     * @param null $data\n     */\n    public function __construct($data = null)\n    {\n        $this->data = (array) $data;\n    }\n\n    /**\n     * magic setter\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[(string) $name] = $value;\n    }\n\n    /**\n     * magic getter\n     *\n     * @param string $name\n     *\n     * @return mixed|null\n     */\n    public function __get($name)\n    {\n        if (array_key_exists($name, $this->data)) {\n            return $this->data[(string) $name];\n        } else {\n            return null;\n        }\n    }\n}\n\n\n// RecordProxy.php\n\nnamespace DesignPatterns\\Structural\\Proxy;\n\n/**\n * RecordProxy\n */\nclass RecordProxy extends Record\n{\n    /**\n     * @var bool\n     */\n    protected $isDirty = false;\n\n    /**\n     * @var bool\n     */\n    protected $isInitialized = false;\n\n    /**\n     * @param array $data\n     */\n    public function __construct($data)\n    {\n        parent::__construct($data);\n        //.\n\t\t//\n\t\t//\n\n        if (null !== $data) {\n            $this->isInitialized = true;\n            $this->isDirty = true;\n        }\n    }\n\n    /**\n     * magic setter\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->isDirty = true;\n        parent::__set($name, $value);\n    }\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Proxy\\Tests;\n\nuse DesignPatterns\\Structural\\Proxy\\Record;\nuse DesignPatterns\\Structural\\Proxy\\RecordProxy;\n\nclass ProxyTest extends \\PHPUnit_Framework_TestCase\n{\n    public function testSetAttribute(){\n        $data = [];\n        $proxy = new RecordProxy($data);\n        $proxy->xyz = false;\n        $this->assertTrue($proxy->xyz===false);\n    }\n}\n\n```","slug":"proxy-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138et001ihpwfdc31y6xm","content":"<p>Proxy</p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li>  </li>\n<li>  </li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// record.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Record</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Record</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> array|null</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> null $data</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($data = null)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data = (<span class=\"keyword\">array</span>) $data;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic setter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[(string) $name] = $value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic getter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> mixed|null</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__get</span><span class=\"params\">($name)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (array_key_exists($name, <span class=\"keyword\">$this</span>-&gt;data)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;data[(string) $name];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// RecordProxy.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * RecordProxy</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RecordProxy</span> <span class=\"keyword\">extends</span> <span class=\"title\">Record</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> bool</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $isDirty = <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> bool</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $isInitialized = <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> array $data</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($data)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">parent</span>::__construct($data);</span><br><span class=\"line\">        <span class=\"comment\">//.</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">null</span> !== $data) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;isInitialized = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;isDirty = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic setter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;isDirty = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">parent</span>::__set($name, $value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">Record</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">RecordProxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ProxyTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testSetAttribute</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        $data = [];</span><br><span class=\"line\">        $proxy = <span class=\"keyword\">new</span> RecordProxy($data);</span><br><span class=\"line\">        $proxy-&gt;xyz = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($proxy-&gt;xyz===<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>Proxy</p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li>  </li>\n<li>  </li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// record.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Record</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Record</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> array|null</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> null $data</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($data = null)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data = (<span class=\"keyword\">array</span>) $data;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic setter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[(string) $name] = $value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic getter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> mixed|null</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__get</span><span class=\"params\">($name)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (array_key_exists($name, <span class=\"keyword\">$this</span>-&gt;data)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;data[(string) $name];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// RecordProxy.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * RecordProxy</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RecordProxy</span> <span class=\"keyword\">extends</span> <span class=\"title\">Record</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> bool</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $isDirty = <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> bool</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $isInitialized = <span class=\"keyword\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> array $data</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($data)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">parent</span>::__construct($data);</span><br><span class=\"line\">        <span class=\"comment\">//.</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">null</span> !== $data) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;isInitialized = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;isDirty = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * magic setter</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;isDirty = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">parent</span>::__set($name, $value);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">Record</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Proxy</span>\\<span class=\"title\">RecordProxy</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ProxyTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testSetAttribute</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        $data = [];</span><br><span class=\"line\">        $proxy = <span class=\"keyword\">new</span> RecordProxy($data);</span><br><span class=\"line\">        $proxy-&gt;xyz = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($proxy-&gt;xyz===<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"(observer pattern)","date":"2015-09-21T16:00:00.000Z","_content":"\n**/**/********\n\n\n\n\n****\n\nPHP `SplSubject`  `SplObserver``SplSubject` ****`SplObserver` ****** SplSubject** ** SplObserver**\n\n## 1\n```php\n//phpimplements\ninterface IObserver\n{\n    function onChanged( $sender, $args );\n}\n\ninterface IObservable\n{\n    function addObserver( $observer );\n}\n\nclass UserList implements IObservable\n{\n    private $_observers = array();\n\n    public function addCustomer( $name )\n    {\n        foreach( $this->_observers as $obs )\n            $obs->onChanged( $this, $name );\n    }\n\n    public function addObserver( $observer )\n    {\n        $this->_observers []= $observer;\n    }\n}\n\nclass UserListLogger implements IObserver\n{\n    public function onChanged( $sender, $args )\n    {\n        echo( \"'$args' added to user list\\n\" );\n    }\n}\n\n$ul = new UserList();\n$ul->addObserver( new UserListLogger());\n$ul->addCustomer( \"Jack\" );\n\n```\n\n\n## 2 \nphp SplSubject,SplObserver \n```php\n\n// User.php \n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n *  :  ()\n *\n * \n *\n */\nclass User implements \\SplSubject\n{\n    /**\n     * user data\n     *\n     * @var array\n     */\n    protected $data = array();\n\n    /**\n     * observers\n     *\n     * @var \\SplObjectStorage\n     */\n    protected $observers;\n    \n    public function __construct()\n    {\n        $this->observers = new \\SplObjectStorage();\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function attach(\\SplObserver $observer)\n    {\n        $this->observers->attach($observer);\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function detach(\\SplObserver $observer)\n    {\n        $this->observers->detach($observer);\n    }\n\n    /**\n     * \n     *\n     * @return void\n     */\n    public function notify()\n    {\n        /** @var \\SplObserver $observer */\n        foreach ($this->observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    /**\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[$name] = $value;\n\n        // \n        $this->notify();\n    }\n}\n\n// UserObserver.php  // \n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n * UserObserver \n */\nclass UserObserver implements \\SplObserver\n{\n    /**\n     * \n     *  Subject \n     *\n     * @param \\SplSubject $subject\n     */\n    public function update(\\SplSubject $subject)\n    {\n        echo get_class($subject) . ' has been updated';\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Behavioral\\Observer\\Tests;\n\nuse DesignPatterns\\Behavioral\\Observer\\UserObserver;\nuse DesignPatterns\\Behavioral\\Observer\\User;\n\n/**\n * ObserverTest \n */\nclass ObserverTest extends \\PHPUnit_Framework_TestCase\n{\n\n    protected $observer;\n\n    protected function setUp()\n    {\n        $this->observer = new UserObserver();\n    }\n\n    /**\n     * \n     */\n    public function testNotify()\n    {\n        $this->expectOutputString('DesignPatterns\\Behavioral\\Observer\\User has been updated');\n        $subject = new User();\n\n        $subject->attach($this->observer);\n        $subject->property = 123;\n    }\n\n    /**\n     * \n     */\n    public function testAttachDetach()\n    {\n        $subject = new User();\n        $reflection = new \\ReflectionProperty($subject, 'observers');\n\n        $reflection->setAccessible(true);\n        /** @var \\SplObjectStorage $observers */\n        $observers = $reflection->getValue($subject);\n\n        $this->assertInstanceOf('SplObjectStorage', $observers);\n        $this->assertFalse($observers->contains($this->observer));\n\n        $subject->attach($this->observer);\n        $this->assertTrue($observers->contains($this->observer));\n\n        $subject->detach($this->observer);\n        $this->assertFalse($observers->contains($this->observer));\n    }\n\n    /**\n     *  update() \n     */\n    public function testUpdateCalling()\n    {\n        $subject = new User();\n        $observer = $this->getMock('SplObserver');\n        $subject->attach($observer);\n\n        $observer->expects($this->once())\n            ->method('update')\n            ->with($subject);\n\n        $subject->notify();\n    }\n}\n\n```\n\n## demo\n`SplObjectStorage` attach ,detach \n```php\n\nclass MyObserver1 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MyObserver2 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MySubject implements SplSubject {\n    private $_observers;\n    private $_name;\n\n    public function __construct($name) {\n        $this->_observers = new SplObjectStorage();\n        $this->_name = $name;\n    }\n\n    public function attach(SplObserver $observer) {\n        $this->_observers->attach($observer);\n    }\n\n    public function detach(SplObserver $observer) {\n        $this->_observers->detach($observer);\n    }\n\n    public function notify() {\n        foreach ($this->_observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    public function getName() {\n        return $this->_name;\n    }\n}\n\n$observer1 = new MyObserver1();\n$observer2 = new MyObserver2();\n\n$subject = new MySubject(\"test\");\n\n$subject->attach($observer1);\n$subject->attach($observer2);\n$subject->notify();\n\n```\n\n\n## \n\n```php\n\n/**\n* Subject,that who makes news\n*/\nclass Newspaper implements \\SplSubject{\n    private $name;\n    private $observers = array();\n    private $content;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n\n    //add observer\n    public function attach(\\SplObserver $observer) {\n        $this->observers[] = $observer;\n    }\n    \n    //remove observer\n    public function detach(\\SplObserver $observer) {\n        \n        $key = array_search($observer,$this->observers, true);\n        if($key){\n            unset($this->observers[$key]);\n        }\n    }\n    \n    //set breakouts news\n    public function breakOutNews($content) {\n        $this->content = $content;\n        $this->notify();\n    }\n    \n    public function getContent() {\n        return $this->content.\" ({$this->name})\";\n    }\n    \n    //notify observers(or some of them)\n    public function notify() {\n        foreach ($this->observers as $value) {\n            $value->update($this);\n        }\n    }\n}\n\n/**\n* Observer,that who recieves news\n*/\nclass Reader implements SplObserver{\n    private $name;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n    \n    public function update(\\SplSubject $subject) {\n        echo $this->name.' is reading breakout news <b>'.$subject->getContent().'</b><br>';\n    }\n}\n\n$newspaper = new Newspaper('Newyork Times');\n\n$allen = new Reader('Allen');\n$jim = new Reader('Jim');\n$linda = new Reader('Linda');\n\n//add reader\n$newspaper->attach($allen);\n$newspaper->attach($jim);\n$newspaper->attach($linda);\n\n//remove reader\n$newspaper->detach($linda);\n\n//set break outs\n$newspaper->breakOutNews('USA break down!');\n\n```","source":"_posts/2015/observer-pattern.md","raw":"---\ntitle: (observer pattern)\ndate: 2015-09-22\ntags: \n- design pattern\n---\n\n**/**/********\n\n\n\n\n****\n\nPHP `SplSubject`  `SplObserver``SplSubject` ****`SplObserver` ****** SplSubject** ** SplObserver**\n\n## 1\n```php\n//phpimplements\ninterface IObserver\n{\n    function onChanged( $sender, $args );\n}\n\ninterface IObservable\n{\n    function addObserver( $observer );\n}\n\nclass UserList implements IObservable\n{\n    private $_observers = array();\n\n    public function addCustomer( $name )\n    {\n        foreach( $this->_observers as $obs )\n            $obs->onChanged( $this, $name );\n    }\n\n    public function addObserver( $observer )\n    {\n        $this->_observers []= $observer;\n    }\n}\n\nclass UserListLogger implements IObserver\n{\n    public function onChanged( $sender, $args )\n    {\n        echo( \"'$args' added to user list\\n\" );\n    }\n}\n\n$ul = new UserList();\n$ul->addObserver( new UserListLogger());\n$ul->addCustomer( \"Jack\" );\n\n```\n\n\n## 2 \nphp SplSubject,SplObserver \n```php\n\n// User.php \n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n *  :  ()\n *\n * \n *\n */\nclass User implements \\SplSubject\n{\n    /**\n     * user data\n     *\n     * @var array\n     */\n    protected $data = array();\n\n    /**\n     * observers\n     *\n     * @var \\SplObjectStorage\n     */\n    protected $observers;\n    \n    public function __construct()\n    {\n        $this->observers = new \\SplObjectStorage();\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function attach(\\SplObserver $observer)\n    {\n        $this->observers->attach($observer);\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function detach(\\SplObserver $observer)\n    {\n        $this->observers->detach($observer);\n    }\n\n    /**\n     * \n     *\n     * @return void\n     */\n    public function notify()\n    {\n        /** @var \\SplObserver $observer */\n        foreach ($this->observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    /**\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[$name] = $value;\n\n        // \n        $this->notify();\n    }\n}\n\n// UserObserver.php  // \n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n * UserObserver \n */\nclass UserObserver implements \\SplObserver\n{\n    /**\n     * \n     *  Subject \n     *\n     * @param \\SplSubject $subject\n     */\n    public function update(\\SplSubject $subject)\n    {\n        echo get_class($subject) . ' has been updated';\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Behavioral\\Observer\\Tests;\n\nuse DesignPatterns\\Behavioral\\Observer\\UserObserver;\nuse DesignPatterns\\Behavioral\\Observer\\User;\n\n/**\n * ObserverTest \n */\nclass ObserverTest extends \\PHPUnit_Framework_TestCase\n{\n\n    protected $observer;\n\n    protected function setUp()\n    {\n        $this->observer = new UserObserver();\n    }\n\n    /**\n     * \n     */\n    public function testNotify()\n    {\n        $this->expectOutputString('DesignPatterns\\Behavioral\\Observer\\User has been updated');\n        $subject = new User();\n\n        $subject->attach($this->observer);\n        $subject->property = 123;\n    }\n\n    /**\n     * \n     */\n    public function testAttachDetach()\n    {\n        $subject = new User();\n        $reflection = new \\ReflectionProperty($subject, 'observers');\n\n        $reflection->setAccessible(true);\n        /** @var \\SplObjectStorage $observers */\n        $observers = $reflection->getValue($subject);\n\n        $this->assertInstanceOf('SplObjectStorage', $observers);\n        $this->assertFalse($observers->contains($this->observer));\n\n        $subject->attach($this->observer);\n        $this->assertTrue($observers->contains($this->observer));\n\n        $subject->detach($this->observer);\n        $this->assertFalse($observers->contains($this->observer));\n    }\n\n    /**\n     *  update() \n     */\n    public function testUpdateCalling()\n    {\n        $subject = new User();\n        $observer = $this->getMock('SplObserver');\n        $subject->attach($observer);\n\n        $observer->expects($this->once())\n            ->method('update')\n            ->with($subject);\n\n        $subject->notify();\n    }\n}\n\n```\n\n## demo\n`SplObjectStorage` attach ,detach \n```php\n\nclass MyObserver1 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MyObserver2 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MySubject implements SplSubject {\n    private $_observers;\n    private $_name;\n\n    public function __construct($name) {\n        $this->_observers = new SplObjectStorage();\n        $this->_name = $name;\n    }\n\n    public function attach(SplObserver $observer) {\n        $this->_observers->attach($observer);\n    }\n\n    public function detach(SplObserver $observer) {\n        $this->_observers->detach($observer);\n    }\n\n    public function notify() {\n        foreach ($this->_observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    public function getName() {\n        return $this->_name;\n    }\n}\n\n$observer1 = new MyObserver1();\n$observer2 = new MyObserver2();\n\n$subject = new MySubject(\"test\");\n\n$subject->attach($observer1);\n$subject->attach($observer2);\n$subject->notify();\n\n```\n\n\n## \n\n```php\n\n/**\n* Subject,that who makes news\n*/\nclass Newspaper implements \\SplSubject{\n    private $name;\n    private $observers = array();\n    private $content;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n\n    //add observer\n    public function attach(\\SplObserver $observer) {\n        $this->observers[] = $observer;\n    }\n    \n    //remove observer\n    public function detach(\\SplObserver $observer) {\n        \n        $key = array_search($observer,$this->observers, true);\n        if($key){\n            unset($this->observers[$key]);\n        }\n    }\n    \n    //set breakouts news\n    public function breakOutNews($content) {\n        $this->content = $content;\n        $this->notify();\n    }\n    \n    public function getContent() {\n        return $this->content.\" ({$this->name})\";\n    }\n    \n    //notify observers(or some of them)\n    public function notify() {\n        foreach ($this->observers as $value) {\n            $value->update($this);\n        }\n    }\n}\n\n/**\n* Observer,that who recieves news\n*/\nclass Reader implements SplObserver{\n    private $name;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n    \n    public function update(\\SplSubject $subject) {\n        echo $this->name.' is reading breakout news <b>'.$subject->getContent().'</b><br>';\n    }\n}\n\n$newspaper = new Newspaper('Newyork Times');\n\n$allen = new Reader('Allen');\n$jim = new Reader('Jim');\n$linda = new Reader('Linda');\n\n//add reader\n$newspaper->attach($allen);\n$newspaper->attach($jim);\n$newspaper->attach($linda);\n\n//remove reader\n$newspaper->detach($linda);\n\n//set break outs\n$newspaper->breakOutNews('USA break down!');\n\n```","slug":"observer-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138eu001khpwfdhyzl8f2","content":"<p><strong>/</strong>/<strong></strong><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>PHP <code>SplSubject</code>  <code>SplObserver</code><code>SplSubject</code> <strong></strong><code>SplObserver</code> <strong></strong><strong> SplSubject</strong> <strong> SplObserver</strong></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//phpimplements</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObservable</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserList</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObservable</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCustomer</span><span class=\"params\">( $name )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>( <span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $obs )</span><br><span class=\"line\">            $obs-&gt;onChanged( <span class=\"keyword\">$this</span>, $name );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers []= $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserListLogger</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span>( <span class=\"string\">\"'$args' added to user list\\n\"</span> );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$ul = <span class=\"keyword\">new</span> UserList();</span><br><span class=\"line\">$ul-&gt;addObserver( <span class=\"keyword\">new</span> UserListLogger());</span><br><span class=\"line\">$ul-&gt;addCustomer( <span class=\"string\">\"Jack\"</span> );</span><br></pre></td></tr></table></figure>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>php SplSubject,SplObserver <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User.php </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *  :  ()</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * user data</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> array</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * observers</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> \\SplObjectStorage</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observers;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers = <span class=\"keyword\">new</span> \\SplObjectStorage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObserver $observer */</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[$name] = $value;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// UserObserver.php  // </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * UserObserver </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserObserver</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *  Subject </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplSubject $subject</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> get_class($subject) . <span class=\"string\">' has been updated'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">UserObserver</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ObserverTest </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObserverTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observer;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setUp</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observer = <span class=\"keyword\">new</span> UserObserver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testNotify</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;expectOutputString(<span class=\"string\">'DesignPatterns\\Behavioral\\Observer\\User has been updated'</span>);</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        $subject-&gt;property = <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testAttachDetach</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $reflection = <span class=\"keyword\">new</span> \\ReflectionProperty($subject, <span class=\"string\">'observers'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        $reflection-&gt;setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObjectStorage $observers */</span></span><br><span class=\"line\">        $observers = $reflection-&gt;getValue($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertInstanceOf(<span class=\"string\">'SplObjectStorage'</span>, $observers);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;detach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  update() </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testUpdateCalling</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $observer = <span class=\"keyword\">$this</span>-&gt;getMock(<span class=\"string\">'SplObserver'</span>);</span><br><span class=\"line\">        $subject-&gt;attach($observer);</span><br><span class=\"line\"></span><br><span class=\"line\">        $observer-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">            -&gt;method(<span class=\"string\">'update'</span>)</span><br><span class=\"line\">            -&gt;with($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p><code>SplObjectStorage</code> attach ,detach <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver1</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver2</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySubject</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplSubject</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers = <span class=\"keyword\">new</span> SplObjectStorage();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$observer1 = <span class=\"keyword\">new</span> MyObserver1();</span><br><span class=\"line\">$observer2 = <span class=\"keyword\">new</span> MyObserver2();</span><br><span class=\"line\"></span><br><span class=\"line\">$subject = <span class=\"keyword\">new</span> MySubject(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$subject-&gt;attach($observer1);</span><br><span class=\"line\">$subject-&gt;attach($observer2);</span><br><span class=\"line\">$subject-&gt;notify();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Subject,that who makes news</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Newspaper</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $content;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//add observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers[] = $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//remove observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        $key = array_search($observer,<span class=\"keyword\">$this</span>-&gt;observers, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>($key)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">unset</span>(<span class=\"keyword\">$this</span>-&gt;observers[$key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//set breakouts news</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">breakOutNews</span><span class=\"params\">($content)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;content = $content;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;content.<span class=\"string\">\" (&#123;$this-&gt;name&#125;)\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//notify observers(or some of them)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $value) &#123;</span><br><span class=\"line\">            $value-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Observer,that who recieves news</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reader</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">$this</span>-&gt;name.<span class=\"string\">' is reading breakout news &lt;b&gt;'</span>.$subject-&gt;getContent().<span class=\"string\">'&lt;/b&gt;&lt;br&gt;'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$newspaper = <span class=\"keyword\">new</span> Newspaper(<span class=\"string\">'Newyork Times'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$allen = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Allen'</span>);</span><br><span class=\"line\">$jim = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Jim'</span>);</span><br><span class=\"line\">$linda = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Linda'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//add reader</span></span><br><span class=\"line\">$newspaper-&gt;attach($allen);</span><br><span class=\"line\">$newspaper-&gt;attach($jim);</span><br><span class=\"line\">$newspaper-&gt;attach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//remove reader</span></span><br><span class=\"line\">$newspaper-&gt;detach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//set break outs</span></span><br><span class=\"line\">$newspaper-&gt;breakOutNews(<span class=\"string\">'USA break down!'</span>);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p><strong>/</strong>/<strong></strong><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>PHP <code>SplSubject</code>  <code>SplObserver</code><code>SplSubject</code> <strong></strong><code>SplObserver</code> <strong></strong><strong> SplSubject</strong> <strong> SplObserver</strong></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//phpimplements</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObservable</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserList</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObservable</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCustomer</span><span class=\"params\">( $name )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>( <span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $obs )</span><br><span class=\"line\">            $obs-&gt;onChanged( <span class=\"keyword\">$this</span>, $name );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers []= $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserListLogger</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span>( <span class=\"string\">\"'$args' added to user list\\n\"</span> );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$ul = <span class=\"keyword\">new</span> UserList();</span><br><span class=\"line\">$ul-&gt;addObserver( <span class=\"keyword\">new</span> UserListLogger());</span><br><span class=\"line\">$ul-&gt;addCustomer( <span class=\"string\">\"Jack\"</span> );</span><br></pre></td></tr></table></figure>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>php SplSubject,SplObserver <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User.php </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *  :  ()</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * user data</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> array</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * observers</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@var</span> \\SplObjectStorage</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observers;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers = <span class=\"keyword\">new</span> \\SplObjectStorage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObserver $observer */</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> string $name</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> mixed  $value</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> void</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[$name] = $value;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// UserObserver.php  // </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * UserObserver </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserObserver</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplObserver</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *  Subject </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> \\SplSubject $subject</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> get_class($subject) . <span class=\"string\">' has been updated'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">UserObserver</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ObserverTest </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObserverTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observer;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setUp</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observer = <span class=\"keyword\">new</span> UserObserver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testNotify</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;expectOutputString(<span class=\"string\">'DesignPatterns\\Behavioral\\Observer\\User has been updated'</span>);</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        $subject-&gt;property = <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testAttachDetach</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $reflection = <span class=\"keyword\">new</span> \\ReflectionProperty($subject, <span class=\"string\">'observers'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        $reflection-&gt;setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObjectStorage $observers */</span></span><br><span class=\"line\">        $observers = $reflection-&gt;getValue($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertInstanceOf(<span class=\"string\">'SplObjectStorage'</span>, $observers);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;detach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  update() </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testUpdateCalling</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $observer = <span class=\"keyword\">$this</span>-&gt;getMock(<span class=\"string\">'SplObserver'</span>);</span><br><span class=\"line\">        $subject-&gt;attach($observer);</span><br><span class=\"line\"></span><br><span class=\"line\">        $observer-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">            -&gt;method(<span class=\"string\">'update'</span>)</span><br><span class=\"line\">            -&gt;with($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p><code>SplObjectStorage</code> attach ,detach <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver1</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver2</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySubject</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplSubject</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers = <span class=\"keyword\">new</span> SplObjectStorage();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$observer1 = <span class=\"keyword\">new</span> MyObserver1();</span><br><span class=\"line\">$observer2 = <span class=\"keyword\">new</span> MyObserver2();</span><br><span class=\"line\"></span><br><span class=\"line\">$subject = <span class=\"keyword\">new</span> MySubject(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$subject-&gt;attach($observer1);</span><br><span class=\"line\">$subject-&gt;attach($observer2);</span><br><span class=\"line\">$subject-&gt;notify();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Subject,that who makes news</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Newspaper</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $content;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//add observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers[] = $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//remove observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        $key = array_search($observer,<span class=\"keyword\">$this</span>-&gt;observers, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>($key)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">unset</span>(<span class=\"keyword\">$this</span>-&gt;observers[$key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//set breakouts news</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">breakOutNews</span><span class=\"params\">($content)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;content = $content;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;content.<span class=\"string\">\" (&#123;$this-&gt;name&#125;)\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//notify observers(or some of them)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $value) &#123;</span><br><span class=\"line\">            $value-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Observer,that who recieves news</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reader</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">$this</span>-&gt;name.<span class=\"string\">' is reading breakout news &lt;b&gt;'</span>.$subject-&gt;getContent().<span class=\"string\">'&lt;/b&gt;&lt;br&gt;'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$newspaper = <span class=\"keyword\">new</span> Newspaper(<span class=\"string\">'Newyork Times'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$allen = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Allen'</span>);</span><br><span class=\"line\">$jim = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Jim'</span>);</span><br><span class=\"line\">$linda = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Linda'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//add reader</span></span><br><span class=\"line\">$newspaper-&gt;attach($allen);</span><br><span class=\"line\">$newspaper-&gt;attach($jim);</span><br><span class=\"line\">$newspaper-&gt;attach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//remove reader</span></span><br><span class=\"line\">$newspaper-&gt;detach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//set break outs</span></span><br><span class=\"line\">$newspaper-&gt;breakOutNews(<span class=\"string\">'USA break down!'</span>);</span><br></pre></td></tr></table></figure>"},{"title":"nodejs ","date":"2015-11-14T07:44:47.000Z","updated":"2015-11-14T07:44:47.000Z","_content":"\nNode.js Node.js  API Node.js Node.js while(true)\n<!-- more -->\n### \n```bash\n\t#mac\n    brew install nvm\n\t#linux\n    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash\n\t# \n    nvm ls-remote \n\tnvm install v7.1.0\n\tnvm use v7.1.0\n\n\tnvm list\n\t# cnpm\n\tnpm install -g cnpm --registry=https://registry.npm.taobao.org\n\t# \n\tnpm config get registry\n\tnpm config set registry https://registry.npm.taobao.org\n\t\n\n```\n\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nvar data = fs.readFileSync('input.txt');\n\nconsole.log(data.toString());\nconsole.log(\"!\");\n```\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nfs.readFile('input.txt', function (err, data) {\n    if (err) return console.error(err);\n    console.log(data.toString());\n});\n\nconsole.log(\"!\");\n```\n\n","source":"_posts/2015/nodejs.md","raw":"---\ntitle: nodejs \ndate: 2015-11-14 15:44:47\nupdated: 2015-11-14 15:44:47\ntags:\ncategories:\n---\n\nNode.js Node.js  API Node.js Node.js while(true)\n<!-- more -->\n### \n```bash\n\t#mac\n    brew install nvm\n\t#linux\n    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash\n\t# \n    nvm ls-remote \n\tnvm install v7.1.0\n\tnvm use v7.1.0\n\n\tnvm list\n\t# cnpm\n\tnpm install -g cnpm --registry=https://registry.npm.taobao.org\n\t# \n\tnpm config get registry\n\tnpm config set registry https://registry.npm.taobao.org\n\t\n\n```\n\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nvar data = fs.readFileSync('input.txt');\n\nconsole.log(data.toString());\nconsole.log(\"!\");\n```\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nfs.readFile('input.txt', function (err, data) {\n    if (err) return console.error(err);\n    console.log(data.toString());\n});\n\nconsole.log(\"!\");\n```\n\n","slug":"nodejs","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ew001mhpwfvf2njhmp","content":"<p>Node.js Node.js  API Node.js Node.js while(true)<br><a id=\"more\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#mac</span></span><br><span class=\"line\">   brew install nvm</span><br><span class=\"line\"><span class=\"comment\">#linux</span></span><br><span class=\"line\">   curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">   nvm ls-remote </span><br><span class=\"line\">nvm install v7.1.0</span><br><span class=\"line\">nvm use v7.1.0</span><br><span class=\"line\"></span><br><span class=\"line\">nvm list</span><br><span class=\"line\"><span class=\"comment\"># cnpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">npm config get registry</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> data = fs.readFileSync(<span class=\"string\">'input.txt'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">'input.txt'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>Node.js Node.js  API Node.js Node.js while(true)<br>","more":"</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#mac</span></span><br><span class=\"line\">   brew install nvm</span><br><span class=\"line\"><span class=\"comment\">#linux</span></span><br><span class=\"line\">   curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">   nvm ls-remote </span><br><span class=\"line\">nvm install v7.1.0</span><br><span class=\"line\">nvm use v7.1.0</span><br><span class=\"line\"></span><br><span class=\"line\">nvm list</span><br><span class=\"line\"><span class=\"comment\"># cnpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">npm config get registry</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> data = fs.readFileSync(<span class=\"string\">'input.txt'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">'input.txt'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>"},{"title":"(singleton pattern)","date":"2015-09-22T16:00:00.000Z","_content":"\n-  `private`  \n-  \n-  getInstance() \n- __clone\n\n```php\nclass Singleton\n{\n\n    private $name;\n\n    private static $instance;\n\n    private function __construct()\n    {\n\n    }\n\n    private function __clone()\n    {\n        // TODO: Implement __clone() method.\n    }\n\n\n    public static function getInstance()\n    {\n\n        if (!self::$instance instanceof self) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n\n    public function getName()\n    {\n        return $this->name;\n    }\n\n    public function setName($name)\n    {\n        $this->name = $name;\n    }\n\n    public function sayHi()\n    {\n        echo \"hi\";\n    }\n\n}\n\n\n// demo\n\n$single = Singleton::getInstance();\n//$c_single= clone  $single;\n$single->setName(\"TOM\");\necho $single->getName();\n```","source":"_posts/2015/singleton-pattern.md","raw":"---\ntitle: (singleton pattern)\ndate: 2015-09-23\ntags: \n- design pattern\n---\n\n-  `private`  \n-  \n-  getInstance() \n- __clone\n\n```php\nclass Singleton\n{\n\n    private $name;\n\n    private static $instance;\n\n    private function __construct()\n    {\n\n    }\n\n    private function __clone()\n    {\n        // TODO: Implement __clone() method.\n    }\n\n\n    public static function getInstance()\n    {\n\n        if (!self::$instance instanceof self) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n\n    public function getName()\n    {\n        return $this->name;\n    }\n\n    public function setName($name)\n    {\n        $this->name = $name;\n    }\n\n    public function sayHi()\n    {\n        echo \"hi\";\n    }\n\n}\n\n\n// demo\n\n$single = Singleton::getInstance();\n//$c_single= clone  $single;\n$single->setName(\"TOM\");\necho $single->getName();\n```","slug":"singleton-pattern","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ey001phpwfrwxhf75m","content":"<ul>\n<li> <code>private</code>  </li>\n<li> </li>\n<li> getInstance() </li>\n<li>__clone</li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> $instance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__clone</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement __clone() method.</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getInstance</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"keyword\">self</span>::$instance <span class=\"keyword\">instanceof</span> <span class=\"keyword\">self</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>::$instance = <span class=\"keyword\">new</span> <span class=\"keyword\">self</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>::$instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setName</span><span class=\"params\">($name)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayHi</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"hi\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// demo</span></span><br><span class=\"line\"></span><br><span class=\"line\">$single = Singleton::getInstance();</span><br><span class=\"line\"><span class=\"comment\">//$c_single= clone  $single;</span></span><br><span class=\"line\">$single-&gt;setName(<span class=\"string\">\"TOM\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $single-&gt;getName();</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<ul>\n<li> <code>private</code>  </li>\n<li> </li>\n<li> getInstance() </li>\n<li>__clone</li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> $instance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__clone</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement __clone() method.</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getInstance</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"keyword\">self</span>::$instance <span class=\"keyword\">instanceof</span> <span class=\"keyword\">self</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>::$instance = <span class=\"keyword\">new</span> <span class=\"keyword\">self</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>::$instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setName</span><span class=\"params\">($name)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayHi</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"hi\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// demo</span></span><br><span class=\"line\"></span><br><span class=\"line\">$single = Singleton::getInstance();</span><br><span class=\"line\"><span class=\"comment\">//$c_single= clone  $single;</span></span><br><span class=\"line\">$single-&gt;setName(<span class=\"string\">\"TOM\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $single-&gt;getName();</span><br></pre></td></tr></table></figure>"},{"title":"YC","date":"2015-06-20T08:43:09.000Z","_content":"\n# \n\n`Sam`\n\n> No matter what you choose, build stuff and be around smart people. \"Stuff\" can be a lot of different things Building stuffs----\n\n----\n<!-- more -->\n----\n\n\n\n# \n\n- Great Idea \n- Great Product \n- Great Team \n- Great Execution \n\n\n\n> ----......  \"\"......  \n\n\"\"----\n\n# \n\n\n\n> \n\n\n\n> \n\n......  \n\n> ......  \n\n# \n\n- \n- \n- \n\n- ......\n\n- \"\"\n- ...... ......\n\n\"/\"\n\n>   ----\n\n# \n\n> fall in love with the problem, not the solution. \n\n> It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them... \"\"----\n\n\n\n> ****...... **** ****\n\n# \n\n\n\n1. \n2. \n3. \n4. \n\n ()\n\n## \n\n>      \n\n****\"\"\"\"---- **** \n\n# \n\n- \n- \n- \n- \n- \n\n \n\n# (intuitive,counter-intuitive)\n\n \"\",\n\n1. ----\"\"----\n2. \n\n  > Sam\"10\"Sam\"\"\n\n# ?\n\n- ----\n- \n- DAURetention......\n\nPR\n\n> \n\n\"****\"\n\n>    \n\nNir Eyal(Hooked: How to Build Habit-Forming Products)[<https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&*Version*=1&*entries*=0>]\n\n# \n\n- \n- ()\n- \n\n# \n\n1. ......\n2. 1000......S1......\n3. FacebookGrowth Team----......\n4. ----......\n\n\n\n>   ......\n\n, \n\n# \n\n- autonomy \n- mastery \n- purpose \n\n# \n\nSam\n\n> One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. ----\n\n# \n\n- capturing value\n- lies people tell\n- how to build a monopoly\n- last mover advantage\n- history of innovation\n- psychology of competition\n\n21   From Zero to One \n\n--------......\n\n****\n\n(YC )[<http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html>]\n","source":"_posts/2015/yc-create-note.md","raw":"---\ntitle: YC\ndate: 2015-06-20T16:43:09.000Z\ntags:\n  - \n  - \ncategories: null\n---\n\n# \n\n`Sam`\n\n> No matter what you choose, build stuff and be around smart people. \"Stuff\" can be a lot of different things Building stuffs----\n\n----\n<!-- more -->\n----\n\n\n\n# \n\n- Great Idea \n- Great Product \n- Great Team \n- Great Execution \n\n\n\n> ----......  \"\"......  \n\n\"\"----\n\n# \n\n\n\n> \n\n\n\n> \n\n......  \n\n> ......  \n\n# \n\n- \n- \n- \n\n- ......\n\n- \"\"\n- ...... ......\n\n\"/\"\n\n>   ----\n\n# \n\n> fall in love with the problem, not the solution. \n\n> It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them... \"\"----\n\n\n\n> ****...... **** ****\n\n# \n\n\n\n1. \n2. \n3. \n4. \n\n ()\n\n## \n\n>      \n\n****\"\"\"\"---- **** \n\n# \n\n- \n- \n- \n- \n- \n\n \n\n# (intuitive,counter-intuitive)\n\n \"\",\n\n1. ----\"\"----\n2. \n\n  > Sam\"10\"Sam\"\"\n\n# ?\n\n- ----\n- \n- DAURetention......\n\nPR\n\n> \n\n\"****\"\n\n>    \n\nNir Eyal(Hooked: How to Build Habit-Forming Products)[<https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&*Version*=1&*entries*=0>]\n\n# \n\n- \n- ()\n- \n\n# \n\n1. ......\n2. 1000......S1......\n3. FacebookGrowth Team----......\n4. ----......\n\n\n\n>   ......\n\n, \n\n# \n\n- autonomy \n- mastery \n- purpose \n\n# \n\nSam\n\n> One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. ----\n\n# \n\n- capturing value\n- lies people tell\n- how to build a monopoly\n- last mover advantage\n- history of innovation\n- psychology of competition\n\n21   From Zero to One \n\n--------......\n\n****\n\n(YC )[<http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html>]\n","slug":"yc-create-note","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f0001rhpwf7sl070dr","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Sam</code></p>\n<blockquote>\n<p>No matter what you choose, build stuff and be around smart people. Stuff can be a lot of different things Building stuffs-</p>\n</blockquote>\n<p>-<br><a id=\"more\"></a><br>-</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>Great Idea </li>\n<li>Great Product </li>\n<li>Great Team </li>\n<li>Great Execution </li>\n</ul>\n<p></p>\n<blockquote>\n<p>-    </p>\n</blockquote>\n<p>-</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li> </li>\n</ul>\n<p>/</p>\n<blockquote>\n<p>  -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>fall in love with the problem, not the solution. </p>\n</blockquote>\n<blockquote>\n<p>It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them -</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><strong></strong> <strong></strong> <strong></strong></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> ()</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>     </p>\n</blockquote>\n<p><strong></strong>- <strong></strong> </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n<h1 id=\"-intuitive-counter-intuitive\"><a href=\"#-intuitive-counter-intuitive\" class=\"headerlink\" title=\"(intuitive,counter-intuitive)\"></a>(intuitive,counter-intuitive)</h1><p> ,</p>\n<ol>\n<li>--</li>\n<li><p></p>\n<blockquote>\n<p>Sam10Sam</p>\n</blockquote>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h1><ul>\n<li>-</li>\n<li></li>\n<li>DAURetention</li>\n</ul>\n<p>PR</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Nir Eyal(Hooked: How to Build Habit-Forming Products)[<a href=\"https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0\" target=\"_blank\" rel=\"noopener\">https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0</a>]</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li>1000S1</li>\n<li>FacebookGrowth Team-</li>\n<li>-</li>\n</ol>\n<p></p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>, </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>autonomy </li>\n<li>mastery </li>\n<li>purpose </li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Sam</p>\n<blockquote>\n<p>One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>capturing value</li>\n<li>lies people tell</li>\n<li>how to build a monopoly</li>\n<li>last mover advantage</li>\n<li>history of innovation</li>\n<li>psychology of competition</li>\n</ul>\n<p>21   From Zero to One </p>\n<p>--</p>\n<p><strong></strong></p>\n<p>(YC )[<a href=\"http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html\" target=\"_blank\" rel=\"noopener\">http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html</a>]</p>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Sam</code></p>\n<blockquote>\n<p>No matter what you choose, build stuff and be around smart people. Stuff can be a lot of different things Building stuffs-</p>\n</blockquote>\n<p>-<br>","more":"<br>-</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>Great Idea </li>\n<li>Great Product </li>\n<li>Great Team </li>\n<li>Great Execution </li>\n</ul>\n<p></p>\n<blockquote>\n<p>-    </p>\n</blockquote>\n<p>-</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li> </li>\n</ul>\n<p>/</p>\n<blockquote>\n<p>  -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>fall in love with the problem, not the solution. </p>\n</blockquote>\n<blockquote>\n<p>It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them -</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><strong></strong> <strong></strong> <strong></strong></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> ()</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>     </p>\n</blockquote>\n<p><strong></strong>- <strong></strong> </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n<h1 id=\"-intuitive-counter-intuitive\"><a href=\"#-intuitive-counter-intuitive\" class=\"headerlink\" title=\"(intuitive,counter-intuitive)\"></a>(intuitive,counter-intuitive)</h1><p> ,</p>\n<ol>\n<li>--</li>\n<li><p></p>\n<blockquote>\n<p>Sam10Sam</p>\n</blockquote>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h1><ul>\n<li>-</li>\n<li></li>\n<li>DAURetention</li>\n</ul>\n<p>PR</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Nir Eyal(Hooked: How to Build Habit-Forming Products)[<a href=\"https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0\" target=\"_blank\" rel=\"noopener\">https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0</a>]</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li>1000S1</li>\n<li>FacebookGrowth Team-</li>\n<li>-</li>\n</ol>\n<p></p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>, </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>autonomy </li>\n<li>mastery </li>\n<li>purpose </li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Sam</p>\n<blockquote>\n<p>One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>capturing value</li>\n<li>lies people tell</li>\n<li>how to build a monopoly</li>\n<li>last mover advantage</li>\n<li>history of innovation</li>\n<li>psychology of competition</li>\n</ul>\n<p>21   From Zero to One </p>\n<p>--</p>\n<p><strong></strong></p>\n<p>(YC )[<a href=\"http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html\" target=\"_blank\" rel=\"noopener\">http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html</a>]</p>"},{"title":"","date":"2016-08-11T03:19:01.000Z","updated":"2016-08-11T03:19:01.000Z","_content":"\n### \n\n****Inverted index************\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n- [](https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8)\n\n- \n\n\n  \n\n- ![{\\displaystyleT_{0}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110)`\"it is what it is\"`\n- ![{\\displaystyleT_{1}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd)`\"what is it\"`\n- ![{\\displaystyleT_{2}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf)`\"it is a banana\"`\n\n```\n\"a\":      {2}\n\"banana\": {2}\n\"is\":     {0, 1, 2}\n\"it\":     {0, 1, 2}\n\"what\":   {0, 1}\n```\n\"what\", \"is\"  \"it\"  ![coll](https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1)\n\n `\"banana\": {(2, 3)}`  \"banana\" ( {\\displaystyle T_{2}} T_{2})( 3)\n\n```\n\"a\":      {(2, 2)}\n\"banana\": {(2, 3)}\n\"is\":     {(0, 1), (0, 4), (1, 1), (2, 1)}\n\"it\":     {(0, 0), (0, 3), (1, 2), (2, 0)}\n\"what\":   {(0, 2), (1, 0)}\n```\n\n\"what is it\" 011\n\n\n \n\n\n\n\n### \n\n#### \n  [4]   , , ,\n  \n  1term\n  2hashterm\n  3\n  DocID\n  \n  1 G ,\n  2\n\n\n####  \n  [4]  ,\n  \n  \n   \n  \n  1ABABAB\n  2)  , , ( inverted file)\n  \n  \n   ,\n\n>[1]: http://blog.csdn.net/hguisu/article/details/7962350\n>[baike]: http://baike.baidu.com/view/676861.htm\n>[wikipedia]: https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\n>[2]: http://blog.csdn.net/hguisu/article/details/7962350\n","source":"_posts/2016/Inverted-index.md","raw":"---\ntitle: \ndate: 2016-08-11 11:19:01\nupdated: 2016-08-11 11:19:01\ntags:\ncategories:\n---\n\n### \n\n****Inverted index************\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n- [](https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8)\n\n- \n\n\n  \n\n- ![{\\displaystyleT_{0}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110)`\"it is what it is\"`\n- ![{\\displaystyleT_{1}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd)`\"what is it\"`\n- ![{\\displaystyleT_{2}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf)`\"it is a banana\"`\n\n```\n\"a\":      {2}\n\"banana\": {2}\n\"is\":     {0, 1, 2}\n\"it\":     {0, 1, 2}\n\"what\":   {0, 1}\n```\n\"what\", \"is\"  \"it\"  ![coll](https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1)\n\n `\"banana\": {(2, 3)}`  \"banana\" ( {\\displaystyle T_{2}} T_{2})( 3)\n\n```\n\"a\":      {(2, 2)}\n\"banana\": {(2, 3)}\n\"is\":     {(0, 1), (0, 4), (1, 1), (2, 1)}\n\"it\":     {(0, 0), (0, 3), (1, 2), (2, 0)}\n\"what\":   {(0, 2), (1, 0)}\n```\n\n\"what is it\" 011\n\n\n \n\n\n\n\n### \n\n#### \n  [4]   , , ,\n  \n  1term\n  2hashterm\n  3\n  DocID\n  \n  1 G ,\n  2\n\n\n####  \n  [4]  ,\n  \n  \n   \n  \n  1ABABAB\n  2)  , , ( inverted file)\n  \n  \n   ,\n\n>[1]: http://blog.csdn.net/hguisu/article/details/7962350\n>[baike]: http://baike.baidu.com/view/676861.htm\n>[wikipedia]: https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\n>[2]: http://blog.csdn.net/hguisu/article/details/7962350\n","slug":"Inverted-index","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f1001uhpwfdm17rkkg","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>Inverted index<strong></strong><strong></strong><strong></strong><br><a id=\"more\"></a><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<ul>\n<li><p><a href=\"https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8\" target=\"_blank\" rel=\"noopener\"></a></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110\" alt=\"{\\displaystyleT_{0}=}\"><code>&quot;it is what it is&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd\" alt=\"{\\displaystyleT_{1}=}\"><code>&quot;what is it&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf\" alt=\"{\\displaystyleT_{2}=}\"><code>&quot;it is a banana&quot;</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;2&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;2&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;0, 1&#125;</span><br></pre></td></tr></table></figure>\n<p>what, is  it  <img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1\" alt=\"coll\"></p>\n<p> <code>&quot;banana&quot;: {(2, 3)}</code>  banana ( {\\displaystyle T_{2}} T_{2})( 3)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;(2, 2)&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;(2, 3)&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;(0, 1), (0, 4), (1, 1), (2, 1)&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;(0, 0), (0, 3), (1, 2), (2, 0)&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;(0, 2), (1, 0)&#125;</span><br></pre></td></tr></table></figure>\n<p>what is it 011</p>\n<p><br> <br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]   , , ,<br>  <br>  1term<br>  2hashterm<br>  3<br>  DocID<br>  <br>  1 G ,<br>  2</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]  ,<br>  <br>  <br>   <br>  <br>  1ABABAB<br>  2)  , , ( inverted file)<br>  <br>  <br>   ,</p>\n<blockquote>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>Inverted index<strong></strong><strong></strong><strong></strong><br>","more":"<br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<ul>\n<li><p><a href=\"https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8\" target=\"_blank\" rel=\"noopener\"></a></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110\" alt=\"{\\displaystyleT_{0}=}\"><code>&quot;it is what it is&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd\" alt=\"{\\displaystyleT_{1}=}\"><code>&quot;what is it&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf\" alt=\"{\\displaystyleT_{2}=}\"><code>&quot;it is a banana&quot;</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;2&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;2&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;0, 1&#125;</span><br></pre></td></tr></table></figure>\n<p>what, is  it  <img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1\" alt=\"coll\"></p>\n<p> <code>&quot;banana&quot;: {(2, 3)}</code>  banana ( {\\displaystyle T_{2}} T_{2})( 3)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;(2, 2)&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;(2, 3)&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;(0, 1), (0, 4), (1, 1), (2, 1)&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;(0, 0), (0, 3), (1, 2), (2, 0)&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;(0, 2), (1, 0)&#125;</span><br></pre></td></tr></table></figure>\n<p>what is it 011</p>\n<p><br> <br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]   , , ,<br>  <br>  1term<br>  2hashterm<br>  3<br>  DocID<br>  <br>  1 G ,<br>  2</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]  ,<br>  <br>  <br>   <br>  <br>  1ABABAB<br>  2)  , , ( inverted file)<br>  <br>  <br>   ,</p>\n<blockquote>\n</blockquote>"},{"title":"MangoDB ","date":"2016-11-02T09:27:38.000Z","updated":"2016-11-02T09:27:38.000Z","_content":"\n\n### \n\n####  \n```\n    curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/\n    mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb\n\n    mkdir /data/db\n    touch /var/logs/mongodb/mongodb.logs\n    cd mongdb/bin && vim mongodb.conf\n\n```\n<!-- more -->\n#### mongodb.conf\n```\ndbpath=/data/db\nlogpath=/var/logs/mongodb\nport=27017\n#fork=true\n#nohttpinterface=true\n\n```\n####mongodbIP\n\n`/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf`\n `/usr/local/mongodb/bin/mongod --help`   -f--config --bind_ip ip\n`/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf`  `/etc/rc.d/rc.local` \n\n\n####  \n `mongod --config /usr/local/mongodb/mongodb.conf`  `/usr/local/mongodb/bin/mongo` JavaScript `show dbs` `db.version()` \n\n##### mongodb\nps -ef | grep mongod  //\ncat /proc/24283/limits //\n\n### php\n[](https://pecl.php.net/package/mongodb)\n```\ncd mongodb-1.1.9\n/usr/php/bin/phpize\n./configure --with-php-config=/usr/askphp/bin/php-config \nmake;make install\n\n```\n\n#### PHP\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->createCollection(\"my_col\");\n```\n##### \n```php    \n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $document = array(\n                \"title\" => \"MongoDB\",\n                \"description\" => \"database\",\n                \"likes\" => 100,\n                \"url\" => \"http://www.baidu.com\",\n                \"by\"=>\"change.net\"\n                );\n    $ret_ins  = $collection->insert($document);\n```\n\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->update(array(\"title\"=>\"MongoDB\"), array('$set'=>array(\"title\"=>\"MongoDB\")));\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->remove(array(\"title\"=>\"MongoDB\"),  array(\"justOne\" => true));\n\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n\n---\n### \n\n#### Start Mongod && Command\n\n```sql\n\nmongod\nps aux | grep mongo\n\n-- Start the Mongo Shell\nmongo\nshow dbs\nuse meals-development\nshow collections\nshow users\nshow roles\nshow profile\nshow databases\n\ndb.auth()\ndb.help()\n-- collection  \ndb.collection.help()\ndb.collection.find().help()\n\ndb.collection.findOne()\ndb.collection.find().toArray()\n\n\ndb.collection.insert()\ndb.collection.update()\ndb.collection.save()\ndb.collection.remove()\ndb.collection.drop()\ndb.collection.createIndex()\ndb.getSiblingDB()\n\n```\n#### Data Types \n[](https://docs.mongodb.com/v3.2/core/shell-types/#types)\n##### Date\n- Date() method which returns the current date as a string.\n- new Date() constructor which returns a Date object using the ISODate() wrapper.\n- ISODate() constructor which returns a Date object using the ISODate() wrapper.\n\n##### ObjectId\nnew ObjectId\n\n##### NumberLong &&  NumberInt\nNumberLong(\"2090845886852\")demo\n> db.collection.insert( { _id: 10, calc: NumberLong(\"2090845886852\") } )\n> db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(\"2555555000000\")}})\n\n> db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )\n\n#### Check Types\n\n- instanceof -- mydoc._id instanceof ObjectId\n- typeof -- typeof mydoc._id\n\n\n\n#### SQL &&  MongoDB Mapping Chart\n[sqlnosql](https://gist.github.com/aponxi/4380516)\n##### Executables\n|MySQL/Oracle\t | MongoDB\n---|---|---\nDatabase Server | mysqld/oracle| mongod\nDatabase Client | mysql/sqlplus| mongo\n##### Terminology and Concepts\nSQL Terms/Concepts\t | MongoDB Terms/Concepts\n---|---|\ndatabase |\tdatabase\ntable |\tcollection\nrow\t| document or BSON document\ncolumn\t| field\nindex |\tindex\ntable joins | embedded documents and linking\nprimary key,Specify any unique column or column combination as primary key.|primary key,In MongoDB, the primary key is automatically set to the _id field.\n\n\n#### Create and Alter and CURD\n\n\n```sql\ndb.users.insert( {\n    user_id: \"abc123\",\n    age: 55,\n    status: \"A\"\n } )\n \n -- However, you can also explicitly create a collection:\n db.createCollection(\"users\")\n \n db.users.ensureIndex( { user_id: 1 } )\n db.users.ensureIndex( { user_id: 1, age: -1 } )\n db.users.drop()\n \n \n db.users.find()\n db.users.find(\n    { },\n    { user_id: 1, status: 1 }\n)\n\ndb.users.find(\n    { },\n    { user_id: 1, status: 1, _id: 0 }\n)\n\ndb.users.find(\n    { status: \"A\" },\n    { user_id: 1, status: 1, _id: 0 }\n)\ndb.users.find(\n   { age: { $gt: 25, $lte: 50 } }\n)\ndb.users.find(\n   { user_id: /^bc/ }\n)\ndb.users.find( { status: \"A\" } ).sort( { user_id: 1 } )\n\ndb.users.count()\ndb.users.find().count()\n\ndb.users.count( { user_id: { $exists: true } } )\ndb.users.find( { user_id: { $exists: true } } ).count()\n\ndb.users.count( { age: { $gt: 30 } } )\ndb.users.find( { age: { $gt: 30 } } ).count()\n\ndb.users.distinct( \"status\" )\n\ndb.users.findOne()\ndb.users.find().limit(1)\n\ndb.users.find().limit(5).skip(10)\ndb.users.find( { status: \"A\" } ).explain()\n\ndb.users.update(\n   { age: { $gt: 25 } },\n   { $set: { status: \"C\" } },\n   { multi: true }\n)\n\ndb.users.update(\n   { status: \"A\" } ,\n   { $inc: { age: 3 } },\n   { multi: true }\n)\n\n\ndb.users.remove( { status: \"D\" } )\ndb.users.remove( )\n```\n\n#### \n##### INSERTING DATA\n\n```sql\ndb.customers.insert({  \n    first_name: \"chris\",\n    last_name:  \"aiv\" \n})\n\n--Append a lot of data into a customer\ndb.customers.insert({  \n    first_name: \"Peter\",\n    age: 32,\n    address: {\n        street: \"120 Main St\",\n        city: \"Chicago\",\n        state: \"Illinois\",\n        zip: \"38475\"\n    },\n    phone: {\n        home: \"5555555555\",\n        work: \"4444444444\",\n        mobile: \"3333333333\"\n    },\n    services: [\n        {\n            service_id: \"time warner\"\n        },\n        {\n            service_id: \"pge\"\n        },\n        {\n            service_id: \"moviepass\"\n        }\n    ],\n    services_count: 3\n});\n\n-- Append data to a customer\n\ndb.customers.insert({  \n    first_name: \"Billy\",\n    last_name:  \"Corgan\",\n    gender: \"m\"\n})\n\n-- Insert multiple customers in one query\n\ndb.customers.insert([  \n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Hendrix\"\n    },\n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Page\"\n    },\n    {\n    first_name: \"Kurt\",\n    last_name:  \"Cobain\"\n    },\n    {\n    first_name: \"Adrian\",\n    last_name:  \"Belew\"\n    },\n    {\n    first_name: \"Billy\",\n    last_name:  \"Corgan\"\n    }\n])\n\n\n```\n##### FINDING DATA\n\n```sql\ndb.customers.find({ first_name: \"Peter\"}, { services: 1})  \ndb.customers.find({ first_name: \"Peter\"}, { \"services.service_id\": 1})  \ndb.customers.findOne(  \n    { first_name: /^billy$/i },\n    { first_name: 1 }\n)\n\ndb.customers.find({  \n    gender: \"male\"\n})\n\ndb.customers.find({  \n    gender: /(m|male)/i, first_name: /^billy$/i \n})\n\n```\n##### UPDATING DATA\n\n```sql\n-- \ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { last_name:  \"Hendrix\"}\n)\n-- Gentel Update \ndb.customers.update(  \n    { last_name: /^hendrix$/i },\n    { $set: { first_name: \"Jimmy\" } }\n)\n\n-- Increment a value in a field\ndb.customers.update(  \n    { first_name: \"Billy\" },\n    { $inc: { age: 1 }\n    }\n)\n\n-- Update or Insert a field using an object ID\ndb.customers.update(  \n    { _id: ObjectId(\"581fef808e5fac221dea48ef\") },\n    {\n        $set: {\n            first_name:\"Lucy\",\n            gender: \"m\",\n            age: 40,\n            birthdate: new Date(\"2016-11-02\")\n        }\n    }\n)\n-- Update a field using someones first name\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    {\n        $set: {\n            gender: \"male\",\n            age: 50,\n            birthdate: new Date(\"Aug 20, 1985\")\n        }\n    },\n    { upsert: true }\n)\n-- Add to an existing document\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { $push: {\n        services: {\n            service_id: 'hosting windows',\n            service_name: \"windows hosting\"\n        }\n        }\n    }\n)\n-- ,truefalse\ndb.customers.update({first_name:\"jack\"},{$inc:{age:2}},true);\ndb.customers.update({first_name:\"Jimmy\"},{$inc:{age:3}},false,true);\ndb.customers.update({first_name:\"Kurt\"},{$inc:{age:-2}});\n\n\n```\n\n##### REMOVING DATA\n\n```sql\n--Remove a field\ndb.customers.update(  \n    { last_name: \"Page\" },\n    { \n        $unset: { age: 1 }\n    }\n)\n\ndb.customers.update({first_name:\"jack\"},{$inc:{age:1}})\n--Remove a customer\ndb.customers.remove(  \n    //!!! DO NOT US THIS\n    { first_name: \"Billy\"}, true \n)\n-- Remove any customer above the age of 31\ndb.customers.remove(  \n    { age: { $gt: 31 } }\n    , true\n)\n```\n##### DELETING DATA\n\n```sql\n-- Delete a collection\ndb.customers.drop()\n```\n\n##### SEARCHING DATA\n\n```sql\n{\n  _id: 1,\n  name: { first: 'John', last: 'Backus' },\n  birth: new Date('Dec 03, 1924'),\n  death: new Date('Mar 17, 2007'),\n  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],\n  awards: [\n            { award: 'National Medal',\n              year: 1975,\n              by: 'NSF' },\n            { award: 'Turing Award',\n              year: 1977,\n              by: 'ACM' }\n          ]\n}\ndb.users.find({awards: {$elemMatch: {award:'National Medal', year:1975}}})\n\n\n--  $gt,gte,$lt,$lte,$ne\ndb.col.find({\"by\":\"\"}).pretty()\ndb.col.find({\"likes\":{$lt:50}}).pretty()\ndb.col.find({\"likes\":{$ne:50}}).pretty()\ndb.users.find({\"likes\" : {$gt : 100}})\n\n-- and or \ndb.customers.find({$or: [{key1: value1}, {key2:value2}]}).pretty()\ndb.col.find({\"likes\": {$gt:50}, $or: [{\"by\": \"\"},{\"title\": \"MongoDB \"}]}).pretty()\n//js\ndb.customers.find({$where:function(){ return this.first_name==\"jack\"}})\n\n-- \n\ndb.customers.find({name:{$regex:\"yaolan.com\"}})\n-- \ndb.customers.find({name:/yaolan.com/})\n-- \ndb.customers.find({name:{$regex:\"yaolan.com\",$options:\"$i\"}})\n\n```\n\n\n#### \n- db.collections.help() \n- db.collection.find().help();\n\n```sql\ndb.customers.distinct(\"first_name\");\ndb.customers.count({first_name:\"Jimmy\",age:{$gt:1}});\ndb.customers.count({first_name:\"Jimmy\",age:{$in:[8,90]}});\n\n-- \ndb.customers.find().limit(2).skip(1)\n-- value1  -1 \ndb.customers.find().sort({first_name:1});\ndb.customers.find().sort({first_name:-1});\n\n--  \n-- key \n-- initial:\n-- reduce \n-- condition: \n-- finalize: count\ndb.customers.group({\n    key:{age:true},\n    initial:{customers:[]},\n    reduce:function(curr,prev){ prev.customers.push(curr.first_name) }\n});\n\ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(curr.first_name); \n        prev.obj.push(curr.last_name);\n        prev.obj.push({address:\"abc\"});\n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(JSON.stringify(curr)); \n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    condition:{age:{$gt:7}},\n    reduce:function(curr,prev){ \n        prev.list = JSON.stringify(curr);   \n    },\n    finalize:function(prev){\n        prev.count =  prev.obj.length;\n    }\n});\n\n```\n\n\n##### aggregate \nagesumvalue, sql `select by_user, count(*) from mycol group by by_user`by_userby_user\n\n``` sql\ndb.customers.aggregate([{$group : {_id : \"$by_user\", num_tutorial : {$sum : 1}}}])\n\n\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$sum:2}}}])\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$avg:1}}}])\n```\n##### \nUnixLinux\n>- $project\n>- $match`$match`MongoDB\n>- $limitMongoDB\n>- $skip\n>- $unwind\n>- $group\n>- $sort\n>- $geoNear\n\n```sql\n\n    db.article.aggregate(\n        { $project : {\n            title : 1 ,\n            author : 1 ,\n        }}\n     );\n\n    db.customers.aggregate({$project:{first_name:1,age:1}})\n\n\n    db.article.aggregate(\n    { $project : {\n        _id : 0 ,\n        title : 1 ,\n        author : 1\n    }});\n    -- $match7090$group\n    db.articles.aggregate( [\n        { $match : { score : { $gt : 70, $lte : 90 } } },\n        { $group: { _id: null, count: { $sum: 1 } } }\n       ] );\n\n    -- $skip\"\"\n    db.article.aggregate({ $skip : 5 });\n\n```\n\n### mapReduce \nMap-ReduceMAPREDUCE\n> map  (, reduce )\n> reduce reducekey-valueskey-valuevaluesvalue\n> out  (,)\n> query mapquerylimitsort\n> sort limitsortmap\n> limit maplimitsort\n\n```sql\ndb.collection.mapReduce(\n   function() {emit(key,value);},  //map \n   function(key,values) {return reduceFunction},   //reduce \n   {\n      out: collection,\n      query: document,\n      sort: document,\n      limit: number\n   }\n)\n\n-- demo\ndb.posts.mapReduce( \n   function() { emit(this.user_name,1); }, \n   function(key, values) {return Array.sum(values)}, \n      {  \n         query:{status:\"active\"},  \n         out:\"post_total\" \n      }\n)\n\n```\n###  \nresultcustomers,fornext()\nvar result = db.customers.find().limit(2).skip(1)\nvar result = db.customers.find();\nresult.forEach(function(curr){\n    print(curr.first_name);\n});\n\n\n###  \n```\n-- \ndb.customers.find({age:7}).explain();\n-- hint \ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1})\ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1}).explain();\n\n--  (`ensureIndex`  `createIndex` )\ndb.customers.ensureIndex({\"first_name\":1})\ndb.customers.createIndex({\"first_name\":1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.ensureIndex({\"first_name\":1},{\"unique\":true})\n-- \ndb.customers.ensureIndex({\"first_name\":1,\"age\":-1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.getIndexes();\n--\ndb.customers.dropIndex(\"first_name_1\") \ndb.customers.dropIndex({\"first_name\":1})\ndb.customers.dropIndexes();\n```\n\n\n### Mongodb\nmongod --help\n#### replica \n`OpLog`,`sync_pullOpLog`\n```sql\n--  27017\nmongod --dbpath=E:\\MongoDB\\datamaster --master\nmongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017\nmongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n```\n `error: { \"$err\" : \"not master and slaveok=false\", \"code\" : 13435 }` `rs.slaveok()`,\n\n#### () --replSet\n1. \n2. \n> N (3)\n> \n> \n> \n> \n\n![replica](/images/replica.jpg)\n\nMongoDBMongoDB \nMongoDB\n`mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0`\nrs0MongoDB27017\nmongoDB\nMongo`rs.initiate()`\n`rs.conf()`\n `rs.status()` \n\n,\n```\nmongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset\n-- `mongo` replset \n\nrs.initiate({\n    _id:\"replset\",\n    members:[\n    {\n        _id:0,\n        host:\"127.0.0.1:27017\"\n    },\n    {\n        _id:1,\n        host:\"127.0.0.1:27018\"\n    },\n    {\n        _id:2,\n        host:\"127.0.0.1:27019\"\n    }\n    ]\n})\n\n\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`\n\n\n-- rs.addArb() \nmongod --dbpath=xxxx --port=27020 --replSet replset\nrs.addArb(\"192.168.1.2:27020\")\n\n-- rs.add \nrs.add(\"192.168.1.2:27021\")\n\n```\n `rs.status()` Mongo`db.isMaster()`,MongoDB\n\n\n### Shard\nMongodb(cluster),MongoDB\n> \n> \n> 12\n> \n> \n> \n\n![MongoDB Cluster](/images/mongo-cluster.jpg)\n>- Shard:shard serverreplica set\n>- Config Server:mongod ClusterMetadata chunk\n>- Query Routers: \n\n\n```\n-- \nShard Server 127020\nShard Server 227021\nShard Server 327022\nShard Server 427023\nConfig Server 27100\nRoute Process40000\n\n-- 1. Shard Server\nmkdir -p /www/mongoDB/shard/s0\nmkdir -p /www/mongoDB/shard/s1\nmkdir -p /www/mongoDB/shard/s2\nmkdir -p /www/mongoDB/shard/s3\nmkdir -p /www/mongoDB/shard/log\n\n/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend\n\n-- 2. Config Server,config server  `--configsvr` \nmkdir -p /www/mongoDB/shard/config\n/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend\n\n-- 3. Route ProcessmongoschunkSizechunkMB200MB.\n\n/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200\n\n-- 4. Sharding,MongoDB ShellmongosShard,mongo40000\n/usr/local/mongoDB/bin/mongo admin --port 40000\n\n\ndb.runCommand({ addshard:\"localhost:27020\" })\ndb.runCommand({ addshard:\"localhost:27021\" })\ndb.runCommand({ addshard:\"localhost:27022\" })\ndb.runCommand({ addshard:\"localhost:27023\" })\ndb.runCommand({ enablesharding:\"test\" })\ndb.runCommand({ shardcollection: \"users\", key: { id:1,time:1}})\n-- \nsh.addShard(\"localhost:27020\");\nsh.addShard(\"localhost:27021\");\nsh.addShard(\"localhost:27022\");\nsh.addShard(\"localhost:27023\");\nsh.enableSharding(\"test\");\n-- sh.shardCollection(\"<database>.<collection>\", shard-key-pattern) collectionkey\nsh.shardCollection(\"test.users\",{\"name\":1,\"_id\":1});\n\n-- 5. ,\n    use test\n\n    for(var i=0;i<=100000;i++) {\n        db.users.insert({name:\"lucy\"+i,age:i});\n    }\n\n-- 6. \nsh.status()\n\n```\n\n\n\n### \n1. \nmongod --auth --dbpath /usr/mongo/data -f /var/mongo.log\n--authmongod\n`/etc/mongodb.conf``auth=true`mongod\n2. \n\n```\n-- \ndb.createUser({  \n    \"user\": \"chrisaiv\",\n    \"pwd\": \"password\",\n    \"roles\": [\n        { role: \"clusterAdmin\", db: \"admin\" },\n        { role: \"readAnyDatabase\", db: \"admin\" },\n        \"readWrite\"\n        ]\n    },\n    { w: \"majority\", wtimeout: 5000 }\n)\n\n: `db.auth(\"admin\", \"123456\")`\n\n\n```\n3. \n`db.runCommand({fsync:1,lock:1})`\n\n\n4. \n`db.currentOp()`\n\n5. \n`use local\ndb.$cmd.sys.unlock.findOne()`\n\n\n`db.currentOp()`\n\n\n###  \n```sql\n\nmongodump -h dbhost -d dbname -c collection -o dbdirectory\nmongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory\n\n-- \nmkdir testbak\nmongodump \n-- \nmongodump -d pagedb\n-- \nmongodump -d pagedb -c page\n-- \ncd testbak\nmongorestore --drop\n-- \ncd testbak\nmongorestore -d pagedb --drop\n\n-- \nmongorestore -d pagedb -c page --drop\n-- MongoDB\nmongoimport -d pagedb -c page --type csv --headerline --drop < csvORtsvFile.csv\n-- csvORtsvFile.csvpagedbpagecvstsv\n-- `--headerline`csvtsv\n-- typecsvtsvjson\n\n\n\n### MongoDB \n```sql\nmongostat \nmongotop\nmongotop 10   -- \nmongotop --locks  -- \n```\n### MongoDB \nMongoDB  SQL  MongoDB  _id 12`db.createCollection(\"counters\")`,`db.counters.insert({_id:\"productid\",sequence_value:0})` \n\n```javascript\nfunction getNextSequenceValue(sequenceName){\n   var sequenceDocument = db.counters.findAndModify(\n      {\n         query:{_id: sequenceName },\n         update: {$inc:{sequence_value:1}},\n         new:true\n      });\n   return sequenceDocument.sequence_value;\n}\n```\n\n```sql\n    db.products.insert({\n       \"_id\":getNextSequenceValue(\"productid\"),\n       \"product_name\":\"Apple iPhone\",\n       \"category\":\"mobiles\"\n    })\n\n    db.products.insert({\n   \"_id\":getNextSequenceValue(\"productid\"),\n   \"product_name\":\"Samsung S3\",\n   \"category\":\"mobiles\"})\n\n   db.products.find()\n```\n### ObjectId\n> 4\n> 3\n> idPID\n> \n```sql\n    newObjectId = ObjectId()\n    myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")\n    ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()\n\n    new ObjectId().str\n```\n\n### GridFS \nGridFS 16MBSON()\nGridFS MonoDB\nGridFS 16M\nGridFS chunk(),256k/,chunkMongoDB(document)chunks\nGridFS `fs.files``fs.chunks`\n```sql\n --fs.files\n{\n   \"filename\": \"test.txt\",\n   \"chunkSize\": NumberInt(261120),\n   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),\n   \"md5\": \"7b762939321e146569b07f72c62cca4f\",\n   \"length\": NumberInt(646)\n}\n\n-- fs.chunks\n{\n   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),\n   \"n\": NumberInt(0),\n   \"data\": \"Mongo Binary Data\"\n}\n\n-- \nmongofiles.exe -d gridfs put song.mp3\ndb.fs.files.find()\n\n--_id (chunk)\ndb.fs.chunks.find({files_id:ObjectId('534a811bf8b4aa4d33fdf94d')})\n\n```\n\n- [](https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/)\n","source":"_posts/2016/MangoDB-cheatsheet.md","raw":"---\ntitle: MangoDB \ndate: 2016-11-02 17:27:38\nupdated: 2016-11-02 17:27:38\ntags:\n  - db\ncategories:\n---\n\n\n### \n\n####  \n```\n    curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/\n    mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb\n\n    mkdir /data/db\n    touch /var/logs/mongodb/mongodb.logs\n    cd mongdb/bin && vim mongodb.conf\n\n```\n<!-- more -->\n#### mongodb.conf\n```\ndbpath=/data/db\nlogpath=/var/logs/mongodb\nport=27017\n#fork=true\n#nohttpinterface=true\n\n```\n####mongodbIP\n\n`/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf`\n `/usr/local/mongodb/bin/mongod --help`   -f--config --bind_ip ip\n`/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf`  `/etc/rc.d/rc.local` \n\n\n####  \n `mongod --config /usr/local/mongodb/mongodb.conf`  `/usr/local/mongodb/bin/mongo` JavaScript `show dbs` `db.version()` \n\n##### mongodb\nps -ef | grep mongod  //\ncat /proc/24283/limits //\n\n### php\n[](https://pecl.php.net/package/mongodb)\n```\ncd mongodb-1.1.9\n/usr/php/bin/phpize\n./configure --with-php-config=/usr/askphp/bin/php-config \nmake;make install\n\n```\n\n#### PHP\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->createCollection(\"my_col\");\n```\n##### \n```php    \n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $document = array(\n                \"title\" => \"MongoDB\",\n                \"description\" => \"database\",\n                \"likes\" => 100,\n                \"url\" => \"http://www.baidu.com\",\n                \"by\"=>\"change.net\"\n                );\n    $ret_ins  = $collection->insert($document);\n```\n\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->update(array(\"title\"=>\"MongoDB\"), array('$set'=>array(\"title\"=>\"MongoDB\")));\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->remove(array(\"title\"=>\"MongoDB\"),  array(\"justOne\" => true));\n\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n\n---\n### \n\n#### Start Mongod && Command\n\n```sql\n\nmongod\nps aux | grep mongo\n\n-- Start the Mongo Shell\nmongo\nshow dbs\nuse meals-development\nshow collections\nshow users\nshow roles\nshow profile\nshow databases\n\ndb.auth()\ndb.help()\n-- collection  \ndb.collection.help()\ndb.collection.find().help()\n\ndb.collection.findOne()\ndb.collection.find().toArray()\n\n\ndb.collection.insert()\ndb.collection.update()\ndb.collection.save()\ndb.collection.remove()\ndb.collection.drop()\ndb.collection.createIndex()\ndb.getSiblingDB()\n\n```\n#### Data Types \n[](https://docs.mongodb.com/v3.2/core/shell-types/#types)\n##### Date\n- Date() method which returns the current date as a string.\n- new Date() constructor which returns a Date object using the ISODate() wrapper.\n- ISODate() constructor which returns a Date object using the ISODate() wrapper.\n\n##### ObjectId\nnew ObjectId\n\n##### NumberLong &&  NumberInt\nNumberLong(\"2090845886852\")demo\n> db.collection.insert( { _id: 10, calc: NumberLong(\"2090845886852\") } )\n> db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(\"2555555000000\")}})\n\n> db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )\n\n#### Check Types\n\n- instanceof -- mydoc._id instanceof ObjectId\n- typeof -- typeof mydoc._id\n\n\n\n#### SQL &&  MongoDB Mapping Chart\n[sqlnosql](https://gist.github.com/aponxi/4380516)\n##### Executables\n|MySQL/Oracle\t | MongoDB\n---|---|---\nDatabase Server | mysqld/oracle| mongod\nDatabase Client | mysql/sqlplus| mongo\n##### Terminology and Concepts\nSQL Terms/Concepts\t | MongoDB Terms/Concepts\n---|---|\ndatabase |\tdatabase\ntable |\tcollection\nrow\t| document or BSON document\ncolumn\t| field\nindex |\tindex\ntable joins | embedded documents and linking\nprimary key,Specify any unique column or column combination as primary key.|primary key,In MongoDB, the primary key is automatically set to the _id field.\n\n\n#### Create and Alter and CURD\n\n\n```sql\ndb.users.insert( {\n    user_id: \"abc123\",\n    age: 55,\n    status: \"A\"\n } )\n \n -- However, you can also explicitly create a collection:\n db.createCollection(\"users\")\n \n db.users.ensureIndex( { user_id: 1 } )\n db.users.ensureIndex( { user_id: 1, age: -1 } )\n db.users.drop()\n \n \n db.users.find()\n db.users.find(\n    { },\n    { user_id: 1, status: 1 }\n)\n\ndb.users.find(\n    { },\n    { user_id: 1, status: 1, _id: 0 }\n)\n\ndb.users.find(\n    { status: \"A\" },\n    { user_id: 1, status: 1, _id: 0 }\n)\ndb.users.find(\n   { age: { $gt: 25, $lte: 50 } }\n)\ndb.users.find(\n   { user_id: /^bc/ }\n)\ndb.users.find( { status: \"A\" } ).sort( { user_id: 1 } )\n\ndb.users.count()\ndb.users.find().count()\n\ndb.users.count( { user_id: { $exists: true } } )\ndb.users.find( { user_id: { $exists: true } } ).count()\n\ndb.users.count( { age: { $gt: 30 } } )\ndb.users.find( { age: { $gt: 30 } } ).count()\n\ndb.users.distinct( \"status\" )\n\ndb.users.findOne()\ndb.users.find().limit(1)\n\ndb.users.find().limit(5).skip(10)\ndb.users.find( { status: \"A\" } ).explain()\n\ndb.users.update(\n   { age: { $gt: 25 } },\n   { $set: { status: \"C\" } },\n   { multi: true }\n)\n\ndb.users.update(\n   { status: \"A\" } ,\n   { $inc: { age: 3 } },\n   { multi: true }\n)\n\n\ndb.users.remove( { status: \"D\" } )\ndb.users.remove( )\n```\n\n#### \n##### INSERTING DATA\n\n```sql\ndb.customers.insert({  \n    first_name: \"chris\",\n    last_name:  \"aiv\" \n})\n\n--Append a lot of data into a customer\ndb.customers.insert({  \n    first_name: \"Peter\",\n    age: 32,\n    address: {\n        street: \"120 Main St\",\n        city: \"Chicago\",\n        state: \"Illinois\",\n        zip: \"38475\"\n    },\n    phone: {\n        home: \"5555555555\",\n        work: \"4444444444\",\n        mobile: \"3333333333\"\n    },\n    services: [\n        {\n            service_id: \"time warner\"\n        },\n        {\n            service_id: \"pge\"\n        },\n        {\n            service_id: \"moviepass\"\n        }\n    ],\n    services_count: 3\n});\n\n-- Append data to a customer\n\ndb.customers.insert({  \n    first_name: \"Billy\",\n    last_name:  \"Corgan\",\n    gender: \"m\"\n})\n\n-- Insert multiple customers in one query\n\ndb.customers.insert([  \n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Hendrix\"\n    },\n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Page\"\n    },\n    {\n    first_name: \"Kurt\",\n    last_name:  \"Cobain\"\n    },\n    {\n    first_name: \"Adrian\",\n    last_name:  \"Belew\"\n    },\n    {\n    first_name: \"Billy\",\n    last_name:  \"Corgan\"\n    }\n])\n\n\n```\n##### FINDING DATA\n\n```sql\ndb.customers.find({ first_name: \"Peter\"}, { services: 1})  \ndb.customers.find({ first_name: \"Peter\"}, { \"services.service_id\": 1})  \ndb.customers.findOne(  \n    { first_name: /^billy$/i },\n    { first_name: 1 }\n)\n\ndb.customers.find({  \n    gender: \"male\"\n})\n\ndb.customers.find({  \n    gender: /(m|male)/i, first_name: /^billy$/i \n})\n\n```\n##### UPDATING DATA\n\n```sql\n-- \ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { last_name:  \"Hendrix\"}\n)\n-- Gentel Update \ndb.customers.update(  \n    { last_name: /^hendrix$/i },\n    { $set: { first_name: \"Jimmy\" } }\n)\n\n-- Increment a value in a field\ndb.customers.update(  \n    { first_name: \"Billy\" },\n    { $inc: { age: 1 }\n    }\n)\n\n-- Update or Insert a field using an object ID\ndb.customers.update(  \n    { _id: ObjectId(\"581fef808e5fac221dea48ef\") },\n    {\n        $set: {\n            first_name:\"Lucy\",\n            gender: \"m\",\n            age: 40,\n            birthdate: new Date(\"2016-11-02\")\n        }\n    }\n)\n-- Update a field using someones first name\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    {\n        $set: {\n            gender: \"male\",\n            age: 50,\n            birthdate: new Date(\"Aug 20, 1985\")\n        }\n    },\n    { upsert: true }\n)\n-- Add to an existing document\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { $push: {\n        services: {\n            service_id: 'hosting windows',\n            service_name: \"windows hosting\"\n        }\n        }\n    }\n)\n-- ,truefalse\ndb.customers.update({first_name:\"jack\"},{$inc:{age:2}},true);\ndb.customers.update({first_name:\"Jimmy\"},{$inc:{age:3}},false,true);\ndb.customers.update({first_name:\"Kurt\"},{$inc:{age:-2}});\n\n\n```\n\n##### REMOVING DATA\n\n```sql\n--Remove a field\ndb.customers.update(  \n    { last_name: \"Page\" },\n    { \n        $unset: { age: 1 }\n    }\n)\n\ndb.customers.update({first_name:\"jack\"},{$inc:{age:1}})\n--Remove a customer\ndb.customers.remove(  \n    //!!! DO NOT US THIS\n    { first_name: \"Billy\"}, true \n)\n-- Remove any customer above the age of 31\ndb.customers.remove(  \n    { age: { $gt: 31 } }\n    , true\n)\n```\n##### DELETING DATA\n\n```sql\n-- Delete a collection\ndb.customers.drop()\n```\n\n##### SEARCHING DATA\n\n```sql\n{\n  _id: 1,\n  name: { first: 'John', last: 'Backus' },\n  birth: new Date('Dec 03, 1924'),\n  death: new Date('Mar 17, 2007'),\n  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],\n  awards: [\n            { award: 'National Medal',\n              year: 1975,\n              by: 'NSF' },\n            { award: 'Turing Award',\n              year: 1977,\n              by: 'ACM' }\n          ]\n}\ndb.users.find({awards: {$elemMatch: {award:'National Medal', year:1975}}})\n\n\n--  $gt,gte,$lt,$lte,$ne\ndb.col.find({\"by\":\"\"}).pretty()\ndb.col.find({\"likes\":{$lt:50}}).pretty()\ndb.col.find({\"likes\":{$ne:50}}).pretty()\ndb.users.find({\"likes\" : {$gt : 100}})\n\n-- and or \ndb.customers.find({$or: [{key1: value1}, {key2:value2}]}).pretty()\ndb.col.find({\"likes\": {$gt:50}, $or: [{\"by\": \"\"},{\"title\": \"MongoDB \"}]}).pretty()\n//js\ndb.customers.find({$where:function(){ return this.first_name==\"jack\"}})\n\n-- \n\ndb.customers.find({name:{$regex:\"yaolan.com\"}})\n-- \ndb.customers.find({name:/yaolan.com/})\n-- \ndb.customers.find({name:{$regex:\"yaolan.com\",$options:\"$i\"}})\n\n```\n\n\n#### \n- db.collections.help() \n- db.collection.find().help();\n\n```sql\ndb.customers.distinct(\"first_name\");\ndb.customers.count({first_name:\"Jimmy\",age:{$gt:1}});\ndb.customers.count({first_name:\"Jimmy\",age:{$in:[8,90]}});\n\n-- \ndb.customers.find().limit(2).skip(1)\n-- value1  -1 \ndb.customers.find().sort({first_name:1});\ndb.customers.find().sort({first_name:-1});\n\n--  \n-- key \n-- initial:\n-- reduce \n-- condition: \n-- finalize: count\ndb.customers.group({\n    key:{age:true},\n    initial:{customers:[]},\n    reduce:function(curr,prev){ prev.customers.push(curr.first_name) }\n});\n\ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(curr.first_name); \n        prev.obj.push(curr.last_name);\n        prev.obj.push({address:\"abc\"});\n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(JSON.stringify(curr)); \n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    condition:{age:{$gt:7}},\n    reduce:function(curr,prev){ \n        prev.list = JSON.stringify(curr);   \n    },\n    finalize:function(prev){\n        prev.count =  prev.obj.length;\n    }\n});\n\n```\n\n\n##### aggregate \nagesumvalue, sql `select by_user, count(*) from mycol group by by_user`by_userby_user\n\n``` sql\ndb.customers.aggregate([{$group : {_id : \"$by_user\", num_tutorial : {$sum : 1}}}])\n\n\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$sum:2}}}])\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$avg:1}}}])\n```\n##### \nUnixLinux\n>- $project\n>- $match`$match`MongoDB\n>- $limitMongoDB\n>- $skip\n>- $unwind\n>- $group\n>- $sort\n>- $geoNear\n\n```sql\n\n    db.article.aggregate(\n        { $project : {\n            title : 1 ,\n            author : 1 ,\n        }}\n     );\n\n    db.customers.aggregate({$project:{first_name:1,age:1}})\n\n\n    db.article.aggregate(\n    { $project : {\n        _id : 0 ,\n        title : 1 ,\n        author : 1\n    }});\n    -- $match7090$group\n    db.articles.aggregate( [\n        { $match : { score : { $gt : 70, $lte : 90 } } },\n        { $group: { _id: null, count: { $sum: 1 } } }\n       ] );\n\n    -- $skip\"\"\n    db.article.aggregate({ $skip : 5 });\n\n```\n\n### mapReduce \nMap-ReduceMAPREDUCE\n> map  (, reduce )\n> reduce reducekey-valueskey-valuevaluesvalue\n> out  (,)\n> query mapquerylimitsort\n> sort limitsortmap\n> limit maplimitsort\n\n```sql\ndb.collection.mapReduce(\n   function() {emit(key,value);},  //map \n   function(key,values) {return reduceFunction},   //reduce \n   {\n      out: collection,\n      query: document,\n      sort: document,\n      limit: number\n   }\n)\n\n-- demo\ndb.posts.mapReduce( \n   function() { emit(this.user_name,1); }, \n   function(key, values) {return Array.sum(values)}, \n      {  \n         query:{status:\"active\"},  \n         out:\"post_total\" \n      }\n)\n\n```\n###  \nresultcustomers,fornext()\nvar result = db.customers.find().limit(2).skip(1)\nvar result = db.customers.find();\nresult.forEach(function(curr){\n    print(curr.first_name);\n});\n\n\n###  \n```\n-- \ndb.customers.find({age:7}).explain();\n-- hint \ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1})\ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1}).explain();\n\n--  (`ensureIndex`  `createIndex` )\ndb.customers.ensureIndex({\"first_name\":1})\ndb.customers.createIndex({\"first_name\":1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.ensureIndex({\"first_name\":1},{\"unique\":true})\n-- \ndb.customers.ensureIndex({\"first_name\":1,\"age\":-1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.getIndexes();\n--\ndb.customers.dropIndex(\"first_name_1\") \ndb.customers.dropIndex({\"first_name\":1})\ndb.customers.dropIndexes();\n```\n\n\n### Mongodb\nmongod --help\n#### replica \n`OpLog`,`sync_pullOpLog`\n```sql\n--  27017\nmongod --dbpath=E:\\MongoDB\\datamaster --master\nmongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017\nmongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n```\n `error: { \"$err\" : \"not master and slaveok=false\", \"code\" : 13435 }` `rs.slaveok()`,\n\n#### () --replSet\n1. \n2. \n> N (3)\n> \n> \n> \n> \n\n![replica](/images/replica.jpg)\n\nMongoDBMongoDB \nMongoDB\n`mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0`\nrs0MongoDB27017\nmongoDB\nMongo`rs.initiate()`\n`rs.conf()`\n `rs.status()` \n\n,\n```\nmongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset\n-- `mongo` replset \n\nrs.initiate({\n    _id:\"replset\",\n    members:[\n    {\n        _id:0,\n        host:\"127.0.0.1:27017\"\n    },\n    {\n        _id:1,\n        host:\"127.0.0.1:27018\"\n    },\n    {\n        _id:2,\n        host:\"127.0.0.1:27019\"\n    }\n    ]\n})\n\n\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`\n\n\n-- rs.addArb() \nmongod --dbpath=xxxx --port=27020 --replSet replset\nrs.addArb(\"192.168.1.2:27020\")\n\n-- rs.add \nrs.add(\"192.168.1.2:27021\")\n\n```\n `rs.status()` Mongo`db.isMaster()`,MongoDB\n\n\n### Shard\nMongodb(cluster),MongoDB\n> \n> \n> 12\n> \n> \n> \n\n![MongoDB Cluster](/images/mongo-cluster.jpg)\n>- Shard:shard serverreplica set\n>- Config Server:mongod ClusterMetadata chunk\n>- Query Routers: \n\n\n```\n-- \nShard Server 127020\nShard Server 227021\nShard Server 327022\nShard Server 427023\nConfig Server 27100\nRoute Process40000\n\n-- 1. Shard Server\nmkdir -p /www/mongoDB/shard/s0\nmkdir -p /www/mongoDB/shard/s1\nmkdir -p /www/mongoDB/shard/s2\nmkdir -p /www/mongoDB/shard/s3\nmkdir -p /www/mongoDB/shard/log\n\n/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend\n\n-- 2. Config Server,config server  `--configsvr` \nmkdir -p /www/mongoDB/shard/config\n/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend\n\n-- 3. Route ProcessmongoschunkSizechunkMB200MB.\n\n/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200\n\n-- 4. Sharding,MongoDB ShellmongosShard,mongo40000\n/usr/local/mongoDB/bin/mongo admin --port 40000\n\n\ndb.runCommand({ addshard:\"localhost:27020\" })\ndb.runCommand({ addshard:\"localhost:27021\" })\ndb.runCommand({ addshard:\"localhost:27022\" })\ndb.runCommand({ addshard:\"localhost:27023\" })\ndb.runCommand({ enablesharding:\"test\" })\ndb.runCommand({ shardcollection: \"users\", key: { id:1,time:1}})\n-- \nsh.addShard(\"localhost:27020\");\nsh.addShard(\"localhost:27021\");\nsh.addShard(\"localhost:27022\");\nsh.addShard(\"localhost:27023\");\nsh.enableSharding(\"test\");\n-- sh.shardCollection(\"<database>.<collection>\", shard-key-pattern) collectionkey\nsh.shardCollection(\"test.users\",{\"name\":1,\"_id\":1});\n\n-- 5. ,\n    use test\n\n    for(var i=0;i<=100000;i++) {\n        db.users.insert({name:\"lucy\"+i,age:i});\n    }\n\n-- 6. \nsh.status()\n\n```\n\n\n\n### \n1. \nmongod --auth --dbpath /usr/mongo/data -f /var/mongo.log\n--authmongod\n`/etc/mongodb.conf``auth=true`mongod\n2. \n\n```\n-- \ndb.createUser({  \n    \"user\": \"chrisaiv\",\n    \"pwd\": \"password\",\n    \"roles\": [\n        { role: \"clusterAdmin\", db: \"admin\" },\n        { role: \"readAnyDatabase\", db: \"admin\" },\n        \"readWrite\"\n        ]\n    },\n    { w: \"majority\", wtimeout: 5000 }\n)\n\n: `db.auth(\"admin\", \"123456\")`\n\n\n```\n3. \n`db.runCommand({fsync:1,lock:1})`\n\n\n4. \n`db.currentOp()`\n\n5. \n`use local\ndb.$cmd.sys.unlock.findOne()`\n\n\n`db.currentOp()`\n\n\n###  \n```sql\n\nmongodump -h dbhost -d dbname -c collection -o dbdirectory\nmongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory\n\n-- \nmkdir testbak\nmongodump \n-- \nmongodump -d pagedb\n-- \nmongodump -d pagedb -c page\n-- \ncd testbak\nmongorestore --drop\n-- \ncd testbak\nmongorestore -d pagedb --drop\n\n-- \nmongorestore -d pagedb -c page --drop\n-- MongoDB\nmongoimport -d pagedb -c page --type csv --headerline --drop < csvORtsvFile.csv\n-- csvORtsvFile.csvpagedbpagecvstsv\n-- `--headerline`csvtsv\n-- typecsvtsvjson\n\n\n\n### MongoDB \n```sql\nmongostat \nmongotop\nmongotop 10   -- \nmongotop --locks  -- \n```\n### MongoDB \nMongoDB  SQL  MongoDB  _id 12`db.createCollection(\"counters\")`,`db.counters.insert({_id:\"productid\",sequence_value:0})` \n\n```javascript\nfunction getNextSequenceValue(sequenceName){\n   var sequenceDocument = db.counters.findAndModify(\n      {\n         query:{_id: sequenceName },\n         update: {$inc:{sequence_value:1}},\n         new:true\n      });\n   return sequenceDocument.sequence_value;\n}\n```\n\n```sql\n    db.products.insert({\n       \"_id\":getNextSequenceValue(\"productid\"),\n       \"product_name\":\"Apple iPhone\",\n       \"category\":\"mobiles\"\n    })\n\n    db.products.insert({\n   \"_id\":getNextSequenceValue(\"productid\"),\n   \"product_name\":\"Samsung S3\",\n   \"category\":\"mobiles\"})\n\n   db.products.find()\n```\n### ObjectId\n> 4\n> 3\n> idPID\n> \n```sql\n    newObjectId = ObjectId()\n    myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")\n    ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()\n\n    new ObjectId().str\n```\n\n### GridFS \nGridFS 16MBSON()\nGridFS MonoDB\nGridFS 16M\nGridFS chunk(),256k/,chunkMongoDB(document)chunks\nGridFS `fs.files``fs.chunks`\n```sql\n --fs.files\n{\n   \"filename\": \"test.txt\",\n   \"chunkSize\": NumberInt(261120),\n   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),\n   \"md5\": \"7b762939321e146569b07f72c62cca4f\",\n   \"length\": NumberInt(646)\n}\n\n-- fs.chunks\n{\n   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),\n   \"n\": NumberInt(0),\n   \"data\": \"Mongo Binary Data\"\n}\n\n-- \nmongofiles.exe -d gridfs put song.mp3\ndb.fs.files.find()\n\n--_id (chunk)\ndb.fs.chunks.find({files_id:ObjectId('534a811bf8b4aa4d33fdf94d')})\n\n```\n\n- [](https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/)\n","slug":"MangoDB-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f2001whpwfmu73n7qk","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir /data/db</span><br><span class=\"line\">touch /var/logs/mongodb/mongodb.logs</span><br><span class=\"line\">cd mongdb/bin &amp;&amp; vim mongodb.conf</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"mongodb-conf\"><a href=\"#mongodb-conf\" class=\"headerlink\" title=\"mongodb.conf\"></a>mongodb.conf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=/data/db</span><br><span class=\"line\">logpath=/var/logs/mongodb</span><br><span class=\"line\">port=27017</span><br><span class=\"line\">#fork=true</span><br><span class=\"line\">#nohttpinterface=true</span><br></pre></td></tr></table></figure>\n<p>####mongodbIP</p>\n<p><code>/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf</code><br> <code>/usr/local/mongodb/bin/mongod --help</code>   -fconfig bind_ip ip<br><code>/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/etc/rc.d/rc.local</code> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/usr/local/mongodb/bin/mongo</code> JavaScript <code>show dbs</code> <code>db.version()</code> </p>\n<h5 id=\"mongodb\"><a href=\"#mongodb\" class=\"headerlink\" title=\"mongodb\"></a>mongodb</h5><p>ps -ef | grep mongod  //<br>cat /proc/24283/limits //</p>\n<h3 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h3><p><a href=\"https://pecl.php.net/package/mongodb\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd mongodb-1.1.9</span><br><span class=\"line\">/usr/php/bin/phpize</span><br><span class=\"line\">./configure --with-php-config=/usr/askphp/bin/php-config </span><br><span class=\"line\">make;make install</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;createCollection(<span class=\"string\">\"my_col\"</span>);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$document = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"title\"</span> =&gt; <span class=\"string\">\"MongoDB\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"description\"</span> =&gt; <span class=\"string\">\"database\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"likes\"</span> =&gt; <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"string\">\"url\"</span> =&gt; <span class=\"string\">\"http://www.baidu.com\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"by\"</span>=&gt;<span class=\"string\">\"change.net\"</span></span><br><span class=\"line\">            );</span><br><span class=\"line\">$ret_ins  = $collection-&gt;insert($document);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;update(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>), <span class=\"keyword\">array</span>(<span class=\"string\">'$set'</span>=&gt;<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>)));</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;remove(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>),  <span class=\"keyword\">array</span>(<span class=\"string\">\"justOne\"</span> =&gt; <span class=\"keyword\">true</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Start-Mongod-amp-amp-Command\"><a href=\"#Start-Mongod-amp-amp-Command\" class=\"headerlink\" title=\"Start Mongod &amp;&amp; Command\"></a>Start Mongod &amp;&amp; Command</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongod</span><br><span class=\"line\">ps aux | grep mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Start the Mongo Shell</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"><span class=\"keyword\">show</span> dbs</span><br><span class=\"line\"><span class=\"keyword\">use</span> meals-development</span><br><span class=\"line\"><span class=\"keyword\">show</span> collections</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">users</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">roles</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> profile</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">databases</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.auth()</span><br><span class=\"line\">db.help()</span><br><span class=\"line\"><span class=\"comment\">-- collection  </span></span><br><span class=\"line\">db.collection.help()</span><br><span class=\"line\">db.collection.find().help()</span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.findOne()</span><br><span class=\"line\">db.collection.find().toArray()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.insert()</span><br><span class=\"line\">db.collection.update()</span><br><span class=\"line\">db.collection.save()</span><br><span class=\"line\">db.collection.remove()</span><br><span class=\"line\">db.collection.drop()</span><br><span class=\"line\">db.collection.createIndex()</span><br><span class=\"line\">db.getSiblingDB()</span><br></pre></td></tr></table></figure>\n<h4 id=\"Data-Types-\"><a href=\"#Data-Types-\" class=\"headerlink\" title=\"Data Types \"></a>Data Types </h4><p><a href=\"https://docs.mongodb.com/v3.2/core/shell-types/#types\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h5 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a>Date</h5><ul>\n<li>Date() method which returns the current date as a string.</li>\n<li>new Date() constructor which returns a Date object using the ISODate() wrapper.</li>\n<li>ISODate() constructor which returns a Date object using the ISODate() wrapper.</li>\n</ul>\n<h5 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h5><p>new ObjectId</p>\n<h5 id=\"NumberLong-amp-amp-NumberInt\"><a href=\"#NumberLong-amp-amp-NumberInt\" class=\"headerlink\" title=\"NumberLong &amp;&amp;  NumberInt\"></a>NumberLong &amp;&amp;  NumberInt</h5><p>NumberLong(2090845886852)demo</p>\n<blockquote>\n<p>db.collection.insert( { _id: 10, calc: NumberLong(2090845886852) } )<br>db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(2555555000000)}})</p>\n</blockquote>\n<blockquote>\n<p>db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )</p>\n</blockquote>\n<h4 id=\"Check-Types\"><a href=\"#Check-Types\" class=\"headerlink\" title=\"Check Types\"></a>Check Types</h4><ul>\n<li>instanceof  mydoc._id instanceof ObjectId</li>\n<li>typeof  typeof mydoc._id</li>\n</ul>\n<h4 id=\"SQL-amp-amp-MongoDB-Mapping-Chart\"><a href=\"#SQL-amp-amp-MongoDB-Mapping-Chart\" class=\"headerlink\" title=\"SQL &amp;&amp;  MongoDB Mapping Chart\"></a>SQL &amp;&amp;  MongoDB Mapping Chart</h4><p><a href=\"https://gist.github.com/aponxi/4380516\" target=\"_blank\" rel=\"noopener\">sqlnosql</a></p>\n<h5 id=\"Executables\"><a href=\"#Executables\" class=\"headerlink\" title=\"Executables\"></a>Executables</h5><table>\n<thead>\n<tr>\n<th></th>\n<th>MySQL/Oracle</th>\n<th>MongoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Database Server</td>\n<td>mysqld/oracle</td>\n<td>mongod</td>\n</tr>\n<tr>\n<td>Database Client</td>\n<td>mysql/sqlplus</td>\n<td>mongo</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"Terminology-and-Concepts\"><a href=\"#Terminology-and-Concepts\" class=\"headerlink\" title=\"Terminology and Concepts\"></a>Terminology and Concepts</h5><table>\n<thead>\n<tr>\n<th>SQL Terms/Concepts</th>\n<th>MongoDB Terms/Concepts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>database</td>\n<td>database</td>\n</tr>\n<tr>\n<td>table</td>\n<td>collection</td>\n</tr>\n<tr>\n<td>row</td>\n<td>document or BSON document</td>\n</tr>\n<tr>\n<td>column</td>\n<td>field</td>\n</tr>\n<tr>\n<td>index</td>\n<td>index</td>\n</tr>\n<tr>\n<td>table joins</td>\n<td>embedded documents and linking</td>\n</tr>\n<tr>\n<td>primary key,Specify any unique column or column combination as primary key.</td>\n<td>primary key,In MongoDB, the primary key is automatically set to the _id field.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"Create-and-Alter-and-CURD\"><a href=\"#Create-and-Alter-and-CURD\" class=\"headerlink\" title=\"Create and Alter and CURD\"></a>Create and Alter and CURD</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.insert( &#123;</span><br><span class=\"line\">    user_id: \"abc123\",</span><br><span class=\"line\">    age: 55,</span><br><span class=\"line\">    status: \"A\"</span><br><span class=\"line\"> &#125; )</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">-- However, you can also explicitly create a collection:</span></span><br><span class=\"line\"> db.createCollection(\"users\")</span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1, age: -1 &#125; )</span><br><span class=\"line\"> db.users.drop()</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.find()</span><br><span class=\"line\"> db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; status: \"A\" &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25, $lte: 50 &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; user_id: /^bc/ &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).sort( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count()</span><br><span class=\"line\">db.users.find().count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; user_id: &#123; $exists: true &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; user_id: &#123; $exists: true &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; age: &#123; $gt: 30 &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; age: &#123; $gt: 30 &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.distinct( \"status\" )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.findOne()</span><br><span class=\"line\">db.users.find().limit(1)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find().limit(5).skip(10)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).explain()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25 &#125; &#125;,</span><br><span class=\"line\">   &#123; $set: &#123; status: \"C\" &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; status: \"A\" &#125; ,</span><br><span class=\"line\">   &#123; $inc: &#123; age: 3 &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.users.remove( &#123; status: \"D\" &#125; )</span><br><span class=\"line\">db.users.remove( )</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"INSERTING-DATA\"><a href=\"#INSERTING-DATA\" class=\"headerlink\" title=\"INSERTING DATA\"></a>INSERTING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"chris\",</span><br><span class=\"line\">    last_name:  \"aiv\" </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--Append a lot of data into a customer</span></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Peter\",</span><br><span class=\"line\">    age: 32,</span><br><span class=\"line\">    address: &#123;</span><br><span class=\"line\">        street: \"120 Main St\",</span><br><span class=\"line\">        city: \"Chicago\",</span><br><span class=\"line\">        state: \"Illinois\",</span><br><span class=\"line\">        zip: \"38475\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    phone: &#123;</span><br><span class=\"line\">        home: \"5555555555\",</span><br><span class=\"line\">        work: \"4444444444\",</span><br><span class=\"line\">        mobile: \"3333333333\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    services: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"time warner\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"pge\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"moviepass\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    services_count: 3</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Append data to a customer</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\",</span><br><span class=\"line\">    gender: \"m\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Insert multiple customers in one query</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert([  </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Hendrix\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Page\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Kurt\",</span><br><span class=\"line\">    last_name:  \"Cobain\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Adrian\",</span><br><span class=\"line\">    last_name:  \"Belew\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h5 id=\"FINDING-DATA\"><a href=\"#FINDING-DATA\" class=\"headerlink\" title=\"FINDING DATA\"></a>FINDING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; services: 1&#125;)  </span><br><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; \"services.service_id\": 1&#125;)  </span><br><span class=\"line\">db.customers.findOne(  </span><br><span class=\"line\">    &#123; first_name: /^billy$/i &#125;,</span><br><span class=\"line\">    &#123; first_name: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: \"male\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: /(m|male)/i, first_name: /^billy$/i </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"UPDATING-DATA\"><a href=\"#UPDATING-DATA\" class=\"headerlink\" title=\"UPDATING DATA\"></a>UPDATING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; last_name:  \"Hendrix\"&#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Gentel Update </span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: /^hendrix$/i &#125;,</span><br><span class=\"line\">    &#123; $set: &#123; first_name: \"Jimmy\" &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Increment a value in a field</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Billy\" &#125;,</span><br><span class=\"line\">    &#123; $inc: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Update or Insert a field using an object ID</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; _id: ObjectId(\"581fef808e5fac221dea48ef\") &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $<span class=\"keyword\">set</span>: &#123;</span><br><span class=\"line\">            first_name:<span class=\"string\">\"Lucy\"</span>,</span><br><span class=\"line\">            gender: <span class=\"string\">\"m\"</span>,</span><br><span class=\"line\">            age: <span class=\"number\">40</span>,</span><br><span class=\"line\">            birthdate: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">\"2016-11-02\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Update a field using someones first name</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Jimmy\"</span> &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $<span class=\"keyword\">set</span>: &#123;</span><br><span class=\"line\">            gender: <span class=\"string\">\"male\"</span>,</span><br><span class=\"line\">            age: <span class=\"number\">50</span>,</span><br><span class=\"line\">            birthdate: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">\"Aug 20, 1985\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; <span class=\"keyword\">upsert</span>: <span class=\"literal\">true</span> &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Add to an existing document</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Jimmy\"</span> &#125;,</span><br><span class=\"line\">    &#123; $push: &#123;</span><br><span class=\"line\">        services: &#123;</span><br><span class=\"line\">            service_id: <span class=\"string\">'hosting windows'</span>,</span><br><span class=\"line\">            service_name: <span class=\"string\">\"windows hosting\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- ,truefalse</span></span><br><span class=\"line\">db.customers.update(&#123;first_name:<span class=\"string\">\"jack\"</span>&#125;,&#123;$inc:&#123;age:<span class=\"number\">2</span>&#125;&#125;,<span class=\"literal\">true</span>);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Jimmy\"&#125;,&#123;$inc:&#123;age:3&#125;&#125;,false,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Kurt\"&#125;,&#123;$inc:&#123;age:-2&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"REMOVING-DATA\"><a href=\"#REMOVING-DATA\" class=\"headerlink\" title=\"REMOVING DATA\"></a>REMOVING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--Remove a field</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: \"Page\" &#125;,</span><br><span class=\"line\">    &#123; </span><br><span class=\"line\">        $unset: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:1&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">--Remove a customer</span></span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    //!!! <span class=\"keyword\">DO</span> <span class=\"keyword\">NOT</span> US THIS</span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Billy\"</span>&#125;, <span class=\"literal\">true</span> </span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Remove any customer above the age of 31</span></span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    &#123; age: &#123; $gt: <span class=\"number\">31</span> &#125; &#125;</span><br><span class=\"line\">    , <span class=\"literal\">true</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h5 id=\"DELETING-DATA\"><a href=\"#DELETING-DATA\" class=\"headerlink\" title=\"DELETING DATA\"></a>DELETING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- Delete a collection</span></span><br><span class=\"line\">db.customers.drop()</span><br></pre></td></tr></table></figure>\n<h5 id=\"SEARCHING-DATA\"><a href=\"#SEARCHING-DATA\" class=\"headerlink\" title=\"SEARCHING DATA\"></a>SEARCHING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  _id: 1,</span><br><span class=\"line\">  name: &#123; first: 'John', last: 'Backus' &#125;,</span><br><span class=\"line\">  birth: new Date('Dec 03, 1924'),</span><br><span class=\"line\">  death: new Date('Mar 17, 2007'),</span><br><span class=\"line\">  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],</span><br><span class=\"line\">  awards: [</span><br><span class=\"line\">            &#123; award: 'National Medal',</span><br><span class=\"line\">              year: 1975,</span><br><span class=\"line\">              by: 'NSF' &#125;,</span><br><span class=\"line\">            &#123; award: 'Turing Award',</span><br><span class=\"line\">              year: 1977,</span><br><span class=\"line\">              by: 'ACM' &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.users.find(&#123;awards: &#123;$elemMatch: &#123;award:'National Medal', year:1975&#125;&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--  $gt,gte,$lt,$lte,$ne</span></span><br><span class=\"line\">db.col.find(&#123;\"by\":\"\"&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$lt:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$ne:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.users.find(&#123;\"likes\" : &#123;$gt : 100&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- and or </span></span><br><span class=\"line\">db.customers.find(&#123;$or: [&#123;key1: value1&#125;, &#123;key2:value2&#125;]&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\": &#123;$gt:50&#125;, $or: [&#123;\"by\": \"\"&#125;,&#123;\"title\": \"MongoDB \"&#125;]&#125;).pretty()</span><br><span class=\"line\">//js</span><br><span class=\"line\">db.customers.find(&#123;$where:function()&#123; return this.first_name==\"jack\"&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\"&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find(&#123;name:/yaolan.com/&#125;)</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\",$options:\"$i\"&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>db.collections.help() </li>\n<li>db.collection.find().help();</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.distinct(\"first_name\");</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$gt:1&#125;&#125;);</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$in:[8,90]&#125;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find().limit(2).skip(1)</span><br><span class=\"line\"><span class=\"comment\">-- value1  -1 </span></span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:1&#125;);</span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:-1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--  </span></span><br><span class=\"line\"><span class=\"comment\">-- key </span></span><br><span class=\"line\"><span class=\"comment\">-- initial:</span></span><br><span class=\"line\"><span class=\"comment\">-- reduce </span></span><br><span class=\"line\"><span class=\"comment\">-- condition: </span></span><br><span class=\"line\"><span class=\"comment\">-- finalize: count</span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;customers:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; prev.customers.push(curr.first_name) &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(curr.first_name); </span><br><span class=\"line\">        prev.obj.push(curr.last_name);</span><br><span class=\"line\">        prev.obj.push(&#123;address:\"abc\"&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(JSON.stringify(curr)); </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    condition:&#123;age:&#123;$gt:7&#125;&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.list = JSON.stringify(curr);   </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    finalize:function(prev)&#123;</span><br><span class=\"line\">        prev.count =  prev.obj.length;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"aggregate-\"><a href=\"#aggregate-\" class=\"headerlink\" title=\"aggregate \"></a>aggregate </h5><p>agesumvalue, sql <code>select by_user, count(*) from mycol group by by_user</code>by_userby_user</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id : \"$by_user\", num_tutorial : &#123;$sum : 1&#125;&#125;&#125;])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$sum:2&#125;&#125;&#125;])</span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$avg:1&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>UnixLinux</p>\n<blockquote>\n<ul>\n<li>$project</li>\n<li>$match<code>$match</code>MongoDB</li>\n<li>$limitMongoDB</li>\n<li>$skip</li>\n<li>$unwind</li>\n<li>$group</li>\n<li>$sort</li>\n<li>$geoNear</li>\n</ul>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">    &#123; $project : &#123;</span><br><span class=\"line\">        title : 1 ,</span><br><span class=\"line\">        author : 1 ,</span><br><span class=\"line\">    &#125;&#125;</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate(&#123;$project:&#123;first_name:1,age:1&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">&#123; $project : &#123;</span><br><span class=\"line\">    _id : 0 ,</span><br><span class=\"line\">    title : 1 ,</span><br><span class=\"line\">    author : 1</span><br><span class=\"line\">&#125;&#125;);</span><br><span class=\"line\"><span class=\"comment\">-- $match7090$group</span></span><br><span class=\"line\">db.articles.aggregate( [</span><br><span class=\"line\">    &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;,</span><br><span class=\"line\">    &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125;</span><br><span class=\"line\">   ] );</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- $skip\"\"</span></span><br><span class=\"line\">db.article.aggregate(&#123; $skip : 5 &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"mapReduce\"><a href=\"#mapReduce\" class=\"headerlink\" title=\"mapReduce\"></a>mapReduce</h3><p>Map-ReduceMAPREDUCE</p>\n<blockquote>\n<p>map  (, reduce )<br>reduce reducekey-valueskey-valuevaluesvalue<br>out  (,)<br>query mapquerylimitsort<br>sort limitsortmap<br>limit maplimitsort</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.mapReduce(</span><br><span class=\"line\">   function() &#123;emit(key,value);&#125;,  //map </span><br><span class=\"line\">   function(key,values) &#123;return reduceFunction&#125;,   //reduce </span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      out: collection,</span><br><span class=\"line\">      query: document,</span><br><span class=\"line\">      sort: document,</span><br><span class=\"line\">      limit: number</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- demo</span></span><br><span class=\"line\">db.posts.mapReduce( </span><br><span class=\"line\">   function() &#123; emit(this.user_name,1); &#125;, </span><br><span class=\"line\">   function(key, values) &#123;return Array.sum(values)&#125;, </span><br><span class=\"line\">      &#123;  </span><br><span class=\"line\">         query:&#123;status:\"active\"&#125;,  </span><br><span class=\"line\">         out:\"post_total\" </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>resultcustomers,fornext()<br>var result = db.customers.find().limit(2).skip(1)<br>var result = db.customers.find();<br>result.forEach(function(curr){<br>    print(curr.first_name);<br>});</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;age:7&#125;).explain();</span><br><span class=\"line\">-- hint </span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;)</span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;).explain();</span><br><span class=\"line\"></span><br><span class=\"line\">--  (`ensureIndex`  `createIndex` )</span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1,&quot;age&quot;:-1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.getIndexes();</span><br><span class=\"line\">--</span><br><span class=\"line\">db.customers.dropIndex(&quot;first_name_1&quot;) </span><br><span class=\"line\">db.customers.dropIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.dropIndexes();</span><br></pre></td></tr></table></figure>\n<h3 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h3><p>mongod help</p>\n<h4 id=\"replica-\"><a href=\"#replica-\" class=\"headerlink\" title=\"replica \"></a>replica </h4><p><code>OpLog</code>,<code>sync_pullOpLog</code><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--  27017</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\datamaster --master</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017</span></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:\"tom\",age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:\"lucy\",age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.usrs.find();</span><br></pre></td></tr></table></figure></p>\n<p> <code>error: { &quot;$err&quot; : &quot;not master and slaveok=false&quot;, &quot;code&quot; : 13435 }</code> <code>rs.slaveok()</code>,</p>\n<h4 id=\"---replSet\"><a href=\"#---replSet\" class=\"headerlink\" title=\"() replSet\"></a>() replSet</h4><ol>\n<li></li>\n<li><blockquote>\n<p>N (3)<br><br><br><br></p>\n</blockquote>\n</li>\n</ol>\n<p><img src=\"/images/replica.jpg\" alt=\"replica\"></p>\n<p>MongoDBMongoDB <br>MongoDB<br><code>mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0</code><br>rs0MongoDB27017<br>mongoDB<br>Mongo<code>rs.initiate()</code><br><code>rs.conf()</code><br> <code>rs.status()</code> </p>\n<p>,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset</span><br><span class=\"line\">-- `mongo` replset </span><br><span class=\"line\"></span><br><span class=\"line\">rs.initiate(&#123;</span><br><span class=\"line\">    _id:&quot;replset&quot;,</span><br><span class=\"line\">    members:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:0,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27017&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:1,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27018&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:2,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27019&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;tom&quot;,age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;lucy&quot;,age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br><span class=\"line\">-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.addArb() </span><br><span class=\"line\">mongod --dbpath=xxxx --port=27020 --replSet replset</span><br><span class=\"line\">rs.addArb(&quot;192.168.1.2:27020&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.add </span><br><span class=\"line\">rs.add(&quot;192.168.1.2:27021&quot;)</span><br></pre></td></tr></table></figure></p>\n<p> <code>rs.status()</code> Mongo<code>db.isMaster()</code>,MongoDB</p>\n<h3 id=\"Shard\"><a href=\"#Shard\" class=\"headerlink\" title=\"Shard\"></a>Shard</h3><p>Mongodb(cluster),MongoDB</p>\n<blockquote>\n<p><br><br>12<br><br><br></p>\n</blockquote>\n<p><img src=\"/images/mongo-cluster.jpg\" alt=\"MongoDB Cluster\"></p>\n<blockquote>\n<ul>\n<li>Shard:shard serverreplica set</li>\n<li>Config Server:mongod ClusterMetadata chunk</li>\n<li>Query Routers: </li>\n</ul>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">Shard Server 127020</span><br><span class=\"line\">Shard Server 227021</span><br><span class=\"line\">Shard Server 327022</span><br><span class=\"line\">Shard Server 427023</span><br><span class=\"line\">Config Server 27100</span><br><span class=\"line\">Route Process40000</span><br><span class=\"line\"></span><br><span class=\"line\">-- 1. Shard Server</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s0</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s1</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s2</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s3</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/log</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 2. Config Server,config server  `--configsvr` </span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/config</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 3. Route ProcessmongoschunkSizechunkMB200MB.</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200</span><br><span class=\"line\"></span><br><span class=\"line\">-- 4. Sharding,MongoDB ShellmongosShard,mongo40000</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongo admin --port 40000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27020&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27021&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27022&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27023&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; enablesharding:&quot;test&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; shardcollection: &quot;users&quot;, key: &#123; id:1,time:1&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">sh.addShard(&quot;localhost:27020&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27021&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27022&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27023&quot;);</span><br><span class=\"line\">sh.enableSharding(&quot;test&quot;);</span><br><span class=\"line\">-- sh.shardCollection(&quot;&lt;database&gt;.&lt;collection&gt;&quot;, shard-key-pattern) collectionkey</span><br><span class=\"line\">sh.shardCollection(&quot;test.users&quot;,&#123;&quot;name&quot;:1,&quot;_id&quot;:1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- 5. ,</span><br><span class=\"line\">    use test</span><br><span class=\"line\"></span><br><span class=\"line\">    for(var i=0;i&lt;=100000;i++) &#123;</span><br><span class=\"line\">        db.users.insert(&#123;name:&quot;lucy&quot;+i,age:i&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 6. </span><br><span class=\"line\">sh.status()</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br>mongod auth dbpath /usr/mongo/data -f /var/mongo.log<br>authmongod<br><code>/etc/mongodb.conf</code><code>auth=true</code>mongod</li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.createUser(&#123;  </span><br><span class=\"line\">    &quot;user&quot;: &quot;chrisaiv&quot;,</span><br><span class=\"line\">    &quot;pwd&quot;: &quot;password&quot;,</span><br><span class=\"line\">    &quot;roles&quot;: [</span><br><span class=\"line\">        &#123; role: &quot;clusterAdmin&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &#123; role: &quot;readAnyDatabase&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &quot;readWrite&quot;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; w: &quot;majority&quot;, wtimeout: 5000 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">: `db.auth(&quot;admin&quot;, &quot;123456&quot;)`</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li><p><br><code>db.runCommand({fsync:1,lock:1})</code><br></p>\n</li>\n<li><p><br><code>db.currentOp()</code></p>\n</li>\n<li><p><br><code>use local\ndb.$cmd.sys.unlock.findOne()</code><br><br><br><code>db.currentOp()</code></p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongodump -h dbhost -d dbname -c collection -o dbdirectory</span><br><span class=\"line\">mongorestore -h dbhost -d dbname -c collection <span class=\"comment\">--directoryperdb dbdirectory</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mkdir testbak</span><br><span class=\"line\">mongodump </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongodump -d pagedb</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongodump -d pagedb -c page</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore <span class=\"comment\">--drop</span></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore -d pagedb <span class=\"comment\">--drop</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongorestore -d pagedb -c page <span class=\"comment\">--drop</span></span><br><span class=\"line\"><span class=\"comment\">-- MongoDB</span></span><br><span class=\"line\">mongoimport -d pagedb -c page <span class=\"comment\">--type csv --headerline --drop &lt; csvORtsvFile.csv</span></span><br><span class=\"line\"><span class=\"comment\">-- csvORtsvFile.csvpagedbpagecvstsv</span></span><br><span class=\"line\"><span class=\"comment\">-- `--headerline`csvtsv</span></span><br><span class=\"line\"><span class=\"comment\">-- typecsvtsvjson</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### MongoDB </span><br><span class=\"line\">```sql</span><br><span class=\"line\">mongostat </span><br><span class=\"line\">mongotop</span><br><span class=\"line\">mongotop 10   <span class=\"comment\">-- </span></span><br><span class=\"line\">mongotop <span class=\"comment\">--locks  -- </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"MongoDB-\"><a href=\"#MongoDB-\" class=\"headerlink\" title=\"MongoDB \"></a>MongoDB </h3><p>MongoDB  SQL  MongoDB  _id 12<code>db.createCollection(&quot;counters&quot;)</code>,<code>db.counters.insert({_id:&quot;productid&quot;,sequence_value:0})</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNextSequenceValue</span>(<span class=\"params\">sequenceName</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> sequenceDocument = db.counters.findAndModify(</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         query:&#123;<span class=\"attr\">_id</span>: sequenceName &#125;,</span><br><span class=\"line\">         update: &#123;<span class=\"attr\">$inc</span>:&#123;<span class=\"attr\">sequence_value</span>:<span class=\"number\">1</span>&#125;&#125;,</span><br><span class=\"line\">         <span class=\"keyword\">new</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> sequenceDocument.sequence_value;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">    \"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">    \"product_name\":\"Apple iPhone\",</span><br><span class=\"line\">    \"category\":\"mobiles\"</span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">\"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">\"product_name\":\"Samsung S3\",</span><br><span class=\"line\">\"category\":\"mobiles\"&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.products.find()</span><br></pre></td></tr></table></figure>\n<h3 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h3><blockquote>\n<p>4<br>3<br>idPID<br><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">newObjectId = ObjectId()</span><br><span class=\"line\">myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")</span><br><span class=\"line\">ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()</span><br><span class=\"line\"></span><br><span class=\"line\">new ObjectId().str</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"GridFS\"><a href=\"#GridFS\" class=\"headerlink\" title=\"GridFS\"></a>GridFS</h3><p>GridFS 16MBSON()<br>GridFS MonoDB<br>GridFS 16M<br>GridFS chunk(),256k/,chunkMongoDB(document)chunks<br>GridFS <code>fs.files</code><code>fs.chunks</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">--fs.files</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"filename\": \"test.txt\",</span><br><span class=\"line\">   \"chunkSize\": NumberInt(261120),</span><br><span class=\"line\">   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),</span><br><span class=\"line\">   \"md5\": \"7b762939321e146569b07f72c62cca4f\",</span><br><span class=\"line\">   \"length\": NumberInt(646)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- fs.chunks</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),</span><br><span class=\"line\">   \"n\": NumberInt(0),</span><br><span class=\"line\">   \"data\": \"Mongo Binary Data\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongofiles.exe -d gridfs put song.mp3</span><br><span class=\"line\">db.fs.files.find()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--_id (chunk)</span></span><br><span class=\"line\">db.fs.chunks.find(&#123;files_id:ObjectId('534a811bf8b4aa4d33fdf94d')&#125;)</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><a href=\"https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir /data/db</span><br><span class=\"line\">touch /var/logs/mongodb/mongodb.logs</span><br><span class=\"line\">cd mongdb/bin &amp;&amp; vim mongodb.conf</span><br></pre></td></tr></table></figure>","more":"<h4 id=\"mongodb-conf\"><a href=\"#mongodb-conf\" class=\"headerlink\" title=\"mongodb.conf\"></a>mongodb.conf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=/data/db</span><br><span class=\"line\">logpath=/var/logs/mongodb</span><br><span class=\"line\">port=27017</span><br><span class=\"line\">#fork=true</span><br><span class=\"line\">#nohttpinterface=true</span><br></pre></td></tr></table></figure>\n<p>####mongodbIP</p>\n<p><code>/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf</code><br> <code>/usr/local/mongodb/bin/mongod --help</code>   -fconfig bind_ip ip<br><code>/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/etc/rc.d/rc.local</code> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/usr/local/mongodb/bin/mongo</code> JavaScript <code>show dbs</code> <code>db.version()</code> </p>\n<h5 id=\"mongodb\"><a href=\"#mongodb\" class=\"headerlink\" title=\"mongodb\"></a>mongodb</h5><p>ps -ef | grep mongod  //<br>cat /proc/24283/limits //</p>\n<h3 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h3><p><a href=\"https://pecl.php.net/package/mongodb\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd mongodb-1.1.9</span><br><span class=\"line\">/usr/php/bin/phpize</span><br><span class=\"line\">./configure --with-php-config=/usr/askphp/bin/php-config </span><br><span class=\"line\">make;make install</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;createCollection(<span class=\"string\">\"my_col\"</span>);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$document = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"title\"</span> =&gt; <span class=\"string\">\"MongoDB\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"description\"</span> =&gt; <span class=\"string\">\"database\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"likes\"</span> =&gt; <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"string\">\"url\"</span> =&gt; <span class=\"string\">\"http://www.baidu.com\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"by\"</span>=&gt;<span class=\"string\">\"change.net\"</span></span><br><span class=\"line\">            );</span><br><span class=\"line\">$ret_ins  = $collection-&gt;insert($document);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;update(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>), <span class=\"keyword\">array</span>(<span class=\"string\">'$set'</span>=&gt;<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>)));</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;remove(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>),  <span class=\"keyword\">array</span>(<span class=\"string\">\"justOne\"</span> =&gt; <span class=\"keyword\">true</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Start-Mongod-amp-amp-Command\"><a href=\"#Start-Mongod-amp-amp-Command\" class=\"headerlink\" title=\"Start Mongod &amp;&amp; Command\"></a>Start Mongod &amp;&amp; Command</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongod</span><br><span class=\"line\">ps aux | grep mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Start the Mongo Shell</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"><span class=\"keyword\">show</span> dbs</span><br><span class=\"line\"><span class=\"keyword\">use</span> meals-development</span><br><span class=\"line\"><span class=\"keyword\">show</span> collections</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">users</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">roles</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> profile</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">databases</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.auth()</span><br><span class=\"line\">db.help()</span><br><span class=\"line\"><span class=\"comment\">-- collection  </span></span><br><span class=\"line\">db.collection.help()</span><br><span class=\"line\">db.collection.find().help()</span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.findOne()</span><br><span class=\"line\">db.collection.find().toArray()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.insert()</span><br><span class=\"line\">db.collection.update()</span><br><span class=\"line\">db.collection.save()</span><br><span class=\"line\">db.collection.remove()</span><br><span class=\"line\">db.collection.drop()</span><br><span class=\"line\">db.collection.createIndex()</span><br><span class=\"line\">db.getSiblingDB()</span><br></pre></td></tr></table></figure>\n<h4 id=\"Data-Types-\"><a href=\"#Data-Types-\" class=\"headerlink\" title=\"Data Types \"></a>Data Types </h4><p><a href=\"https://docs.mongodb.com/v3.2/core/shell-types/#types\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h5 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a>Date</h5><ul>\n<li>Date() method which returns the current date as a string.</li>\n<li>new Date() constructor which returns a Date object using the ISODate() wrapper.</li>\n<li>ISODate() constructor which returns a Date object using the ISODate() wrapper.</li>\n</ul>\n<h5 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h5><p>new ObjectId</p>\n<h5 id=\"NumberLong-amp-amp-NumberInt\"><a href=\"#NumberLong-amp-amp-NumberInt\" class=\"headerlink\" title=\"NumberLong &amp;&amp;  NumberInt\"></a>NumberLong &amp;&amp;  NumberInt</h5><p>NumberLong(2090845886852)demo</p>\n<blockquote>\n<p>db.collection.insert( { _id: 10, calc: NumberLong(2090845886852) } )<br>db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(2555555000000)}})</p>\n</blockquote>\n<blockquote>\n<p>db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )</p>\n</blockquote>\n<h4 id=\"Check-Types\"><a href=\"#Check-Types\" class=\"headerlink\" title=\"Check Types\"></a>Check Types</h4><ul>\n<li>instanceof  mydoc._id instanceof ObjectId</li>\n<li>typeof  typeof mydoc._id</li>\n</ul>\n<h4 id=\"SQL-amp-amp-MongoDB-Mapping-Chart\"><a href=\"#SQL-amp-amp-MongoDB-Mapping-Chart\" class=\"headerlink\" title=\"SQL &amp;&amp;  MongoDB Mapping Chart\"></a>SQL &amp;&amp;  MongoDB Mapping Chart</h4><p><a href=\"https://gist.github.com/aponxi/4380516\" target=\"_blank\" rel=\"noopener\">sqlnosql</a></p>\n<h5 id=\"Executables\"><a href=\"#Executables\" class=\"headerlink\" title=\"Executables\"></a>Executables</h5><table>\n<thead>\n<tr>\n<th></th>\n<th>MySQL/Oracle</th>\n<th>MongoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Database Server</td>\n<td>mysqld/oracle</td>\n<td>mongod</td>\n</tr>\n<tr>\n<td>Database Client</td>\n<td>mysql/sqlplus</td>\n<td>mongo</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"Terminology-and-Concepts\"><a href=\"#Terminology-and-Concepts\" class=\"headerlink\" title=\"Terminology and Concepts\"></a>Terminology and Concepts</h5><table>\n<thead>\n<tr>\n<th>SQL Terms/Concepts</th>\n<th>MongoDB Terms/Concepts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>database</td>\n<td>database</td>\n</tr>\n<tr>\n<td>table</td>\n<td>collection</td>\n</tr>\n<tr>\n<td>row</td>\n<td>document or BSON document</td>\n</tr>\n<tr>\n<td>column</td>\n<td>field</td>\n</tr>\n<tr>\n<td>index</td>\n<td>index</td>\n</tr>\n<tr>\n<td>table joins</td>\n<td>embedded documents and linking</td>\n</tr>\n<tr>\n<td>primary key,Specify any unique column or column combination as primary key.</td>\n<td>primary key,In MongoDB, the primary key is automatically set to the _id field.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"Create-and-Alter-and-CURD\"><a href=\"#Create-and-Alter-and-CURD\" class=\"headerlink\" title=\"Create and Alter and CURD\"></a>Create and Alter and CURD</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.insert( &#123;</span><br><span class=\"line\">    user_id: \"abc123\",</span><br><span class=\"line\">    age: 55,</span><br><span class=\"line\">    status: \"A\"</span><br><span class=\"line\"> &#125; )</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">-- However, you can also explicitly create a collection:</span></span><br><span class=\"line\"> db.createCollection(\"users\")</span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1, age: -1 &#125; )</span><br><span class=\"line\"> db.users.drop()</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.find()</span><br><span class=\"line\"> db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; status: \"A\" &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25, $lte: 50 &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; user_id: /^bc/ &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).sort( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count()</span><br><span class=\"line\">db.users.find().count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; user_id: &#123; $exists: true &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; user_id: &#123; $exists: true &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; age: &#123; $gt: 30 &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; age: &#123; $gt: 30 &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.distinct( \"status\" )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.findOne()</span><br><span class=\"line\">db.users.find().limit(1)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find().limit(5).skip(10)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).explain()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25 &#125; &#125;,</span><br><span class=\"line\">   &#123; $set: &#123; status: \"C\" &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; status: \"A\" &#125; ,</span><br><span class=\"line\">   &#123; $inc: &#123; age: 3 &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.users.remove( &#123; status: \"D\" &#125; )</span><br><span class=\"line\">db.users.remove( )</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"INSERTING-DATA\"><a href=\"#INSERTING-DATA\" class=\"headerlink\" title=\"INSERTING DATA\"></a>INSERTING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"chris\",</span><br><span class=\"line\">    last_name:  \"aiv\" </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--Append a lot of data into a customer</span></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Peter\",</span><br><span class=\"line\">    age: 32,</span><br><span class=\"line\">    address: &#123;</span><br><span class=\"line\">        street: \"120 Main St\",</span><br><span class=\"line\">        city: \"Chicago\",</span><br><span class=\"line\">        state: \"Illinois\",</span><br><span class=\"line\">        zip: \"38475\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    phone: &#123;</span><br><span class=\"line\">        home: \"5555555555\",</span><br><span class=\"line\">        work: \"4444444444\",</span><br><span class=\"line\">        mobile: \"3333333333\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    services: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"time warner\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"pge\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"moviepass\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    services_count: 3</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Append data to a customer</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\",</span><br><span class=\"line\">    gender: \"m\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Insert multiple customers in one query</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert([  </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Hendrix\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Page\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Kurt\",</span><br><span class=\"line\">    last_name:  \"Cobain\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Adrian\",</span><br><span class=\"line\">    last_name:  \"Belew\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h5 id=\"FINDING-DATA\"><a href=\"#FINDING-DATA\" class=\"headerlink\" title=\"FINDING DATA\"></a>FINDING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; services: 1&#125;)  </span><br><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; \"services.service_id\": 1&#125;)  </span><br><span class=\"line\">db.customers.findOne(  </span><br><span class=\"line\">    &#123; first_name: /^billy$/i &#125;,</span><br><span class=\"line\">    &#123; first_name: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: \"male\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: /(m|male)/i, first_name: /^billy$/i </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"UPDATING-DATA\"><a href=\"#UPDATING-DATA\" class=\"headerlink\" title=\"UPDATING DATA\"></a>UPDATING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; last_name:  \"Hendrix\"&#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Gentel Update </span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: /^hendrix$/i &#125;,</span><br><span class=\"line\">    &#123; $set: &#123; first_name: \"Jimmy\" &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Increment a value in a field</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Billy\" &#125;,</span><br><span class=\"line\">    &#123; $inc: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Update or Insert a field using an object ID</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; _id: ObjectId(\"581fef808e5fac221dea48ef\") &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $<span class=\"keyword\">set</span>: &#123;</span><br><span class=\"line\">            first_name:<span class=\"string\">\"Lucy\"</span>,</span><br><span class=\"line\">            gender: <span class=\"string\">\"m\"</span>,</span><br><span class=\"line\">            age: <span class=\"number\">40</span>,</span><br><span class=\"line\">            birthdate: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">\"2016-11-02\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Update a field using someones first name</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Jimmy\"</span> &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $<span class=\"keyword\">set</span>: &#123;</span><br><span class=\"line\">            gender: <span class=\"string\">\"male\"</span>,</span><br><span class=\"line\">            age: <span class=\"number\">50</span>,</span><br><span class=\"line\">            birthdate: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">\"Aug 20, 1985\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; <span class=\"keyword\">upsert</span>: <span class=\"literal\">true</span> &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Add to an existing document</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Jimmy\"</span> &#125;,</span><br><span class=\"line\">    &#123; $push: &#123;</span><br><span class=\"line\">        services: &#123;</span><br><span class=\"line\">            service_id: <span class=\"string\">'hosting windows'</span>,</span><br><span class=\"line\">            service_name: <span class=\"string\">\"windows hosting\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- ,truefalse</span></span><br><span class=\"line\">db.customers.update(&#123;first_name:<span class=\"string\">\"jack\"</span>&#125;,&#123;$inc:&#123;age:<span class=\"number\">2</span>&#125;&#125;,<span class=\"literal\">true</span>);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Jimmy\"&#125;,&#123;$inc:&#123;age:3&#125;&#125;,false,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Kurt\"&#125;,&#123;$inc:&#123;age:-2&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"REMOVING-DATA\"><a href=\"#REMOVING-DATA\" class=\"headerlink\" title=\"REMOVING DATA\"></a>REMOVING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--Remove a field</span></span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: \"Page\" &#125;,</span><br><span class=\"line\">    &#123; </span><br><span class=\"line\">        $unset: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:1&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">--Remove a customer</span></span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    //!!! <span class=\"keyword\">DO</span> <span class=\"keyword\">NOT</span> US THIS</span><br><span class=\"line\">    &#123; first_name: <span class=\"string\">\"Billy\"</span>&#125;, <span class=\"literal\">true</span> </span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">-- Remove any customer above the age of 31</span></span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    &#123; age: &#123; $gt: <span class=\"number\">31</span> &#125; &#125;</span><br><span class=\"line\">    , <span class=\"literal\">true</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h5 id=\"DELETING-DATA\"><a href=\"#DELETING-DATA\" class=\"headerlink\" title=\"DELETING DATA\"></a>DELETING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- Delete a collection</span></span><br><span class=\"line\">db.customers.drop()</span><br></pre></td></tr></table></figure>\n<h5 id=\"SEARCHING-DATA\"><a href=\"#SEARCHING-DATA\" class=\"headerlink\" title=\"SEARCHING DATA\"></a>SEARCHING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  _id: 1,</span><br><span class=\"line\">  name: &#123; first: 'John', last: 'Backus' &#125;,</span><br><span class=\"line\">  birth: new Date('Dec 03, 1924'),</span><br><span class=\"line\">  death: new Date('Mar 17, 2007'),</span><br><span class=\"line\">  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],</span><br><span class=\"line\">  awards: [</span><br><span class=\"line\">            &#123; award: 'National Medal',</span><br><span class=\"line\">              year: 1975,</span><br><span class=\"line\">              by: 'NSF' &#125;,</span><br><span class=\"line\">            &#123; award: 'Turing Award',</span><br><span class=\"line\">              year: 1977,</span><br><span class=\"line\">              by: 'ACM' &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.users.find(&#123;awards: &#123;$elemMatch: &#123;award:'National Medal', year:1975&#125;&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--  $gt,gte,$lt,$lte,$ne</span></span><br><span class=\"line\">db.col.find(&#123;\"by\":\"\"&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$lt:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$ne:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.users.find(&#123;\"likes\" : &#123;$gt : 100&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- and or </span></span><br><span class=\"line\">db.customers.find(&#123;$or: [&#123;key1: value1&#125;, &#123;key2:value2&#125;]&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\": &#123;$gt:50&#125;, $or: [&#123;\"by\": \"\"&#125;,&#123;\"title\": \"MongoDB \"&#125;]&#125;).pretty()</span><br><span class=\"line\">//js</span><br><span class=\"line\">db.customers.find(&#123;$where:function()&#123; return this.first_name==\"jack\"&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\"&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find(&#123;name:/yaolan.com/&#125;)</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\",$options:\"$i\"&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>db.collections.help() </li>\n<li>db.collection.find().help();</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.distinct(\"first_name\");</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$gt:1&#125;&#125;);</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$in:[8,90]&#125;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.find().limit(2).skip(1)</span><br><span class=\"line\"><span class=\"comment\">-- value1  -1 </span></span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:1&#125;);</span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:-1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--  </span></span><br><span class=\"line\"><span class=\"comment\">-- key </span></span><br><span class=\"line\"><span class=\"comment\">-- initial:</span></span><br><span class=\"line\"><span class=\"comment\">-- reduce </span></span><br><span class=\"line\"><span class=\"comment\">-- condition: </span></span><br><span class=\"line\"><span class=\"comment\">-- finalize: count</span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;customers:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; prev.customers.push(curr.first_name) &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(curr.first_name); </span><br><span class=\"line\">        prev.obj.push(curr.last_name);</span><br><span class=\"line\">        prev.obj.push(&#123;address:\"abc\"&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(JSON.stringify(curr)); </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    condition:&#123;age:&#123;$gt:7&#125;&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.list = JSON.stringify(curr);   </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    finalize:function(prev)&#123;</span><br><span class=\"line\">        prev.count =  prev.obj.length;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"aggregate-\"><a href=\"#aggregate-\" class=\"headerlink\" title=\"aggregate \"></a>aggregate </h5><p>agesumvalue, sql <code>select by_user, count(*) from mycol group by by_user</code>by_userby_user</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id : \"$by_user\", num_tutorial : &#123;$sum : 1&#125;&#125;&#125;])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$sum:2&#125;&#125;&#125;])</span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$avg:1&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>UnixLinux</p>\n<blockquote>\n<ul>\n<li>$project</li>\n<li>$match<code>$match</code>MongoDB</li>\n<li>$limitMongoDB</li>\n<li>$skip</li>\n<li>$unwind</li>\n<li>$group</li>\n<li>$sort</li>\n<li>$geoNear</li>\n</ul>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">    &#123; $project : &#123;</span><br><span class=\"line\">        title : 1 ,</span><br><span class=\"line\">        author : 1 ,</span><br><span class=\"line\">    &#125;&#125;</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate(&#123;$project:&#123;first_name:1,age:1&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">&#123; $project : &#123;</span><br><span class=\"line\">    _id : 0 ,</span><br><span class=\"line\">    title : 1 ,</span><br><span class=\"line\">    author : 1</span><br><span class=\"line\">&#125;&#125;);</span><br><span class=\"line\"><span class=\"comment\">-- $match7090$group</span></span><br><span class=\"line\">db.articles.aggregate( [</span><br><span class=\"line\">    &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;,</span><br><span class=\"line\">    &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125;</span><br><span class=\"line\">   ] );</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- $skip\"\"</span></span><br><span class=\"line\">db.article.aggregate(&#123; $skip : 5 &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"mapReduce\"><a href=\"#mapReduce\" class=\"headerlink\" title=\"mapReduce\"></a>mapReduce</h3><p>Map-ReduceMAPREDUCE</p>\n<blockquote>\n<p>map  (, reduce )<br>reduce reducekey-valueskey-valuevaluesvalue<br>out  (,)<br>query mapquerylimitsort<br>sort limitsortmap<br>limit maplimitsort</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.mapReduce(</span><br><span class=\"line\">   function() &#123;emit(key,value);&#125;,  //map </span><br><span class=\"line\">   function(key,values) &#123;return reduceFunction&#125;,   //reduce </span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      out: collection,</span><br><span class=\"line\">      query: document,</span><br><span class=\"line\">      sort: document,</span><br><span class=\"line\">      limit: number</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- demo</span></span><br><span class=\"line\">db.posts.mapReduce( </span><br><span class=\"line\">   function() &#123; emit(this.user_name,1); &#125;, </span><br><span class=\"line\">   function(key, values) &#123;return Array.sum(values)&#125;, </span><br><span class=\"line\">      &#123;  </span><br><span class=\"line\">         query:&#123;status:\"active\"&#125;,  </span><br><span class=\"line\">         out:\"post_total\" </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>resultcustomers,fornext()<br>var result = db.customers.find().limit(2).skip(1)<br>var result = db.customers.find();<br>result.forEach(function(curr){<br>    print(curr.first_name);<br>});</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;age:7&#125;).explain();</span><br><span class=\"line\">-- hint </span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;)</span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;).explain();</span><br><span class=\"line\"></span><br><span class=\"line\">--  (`ensureIndex`  `createIndex` )</span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1,&quot;age&quot;:-1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.getIndexes();</span><br><span class=\"line\">--</span><br><span class=\"line\">db.customers.dropIndex(&quot;first_name_1&quot;) </span><br><span class=\"line\">db.customers.dropIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.dropIndexes();</span><br></pre></td></tr></table></figure>\n<h3 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h3><p>mongod help</p>\n<h4 id=\"replica-\"><a href=\"#replica-\" class=\"headerlink\" title=\"replica \"></a>replica </h4><p><code>OpLog</code>,<code>sync_pullOpLog</code><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">--  27017</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\datamaster --master</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017</span></span><br><span class=\"line\">mongod <span class=\"comment\">--dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017</span></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:\"tom\",age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:\"lucy\",age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">db.usrs.find();</span><br></pre></td></tr></table></figure></p>\n<p> <code>error: { &quot;$err&quot; : &quot;not master and slaveok=false&quot;, &quot;code&quot; : 13435 }</code> <code>rs.slaveok()</code>,</p>\n<h4 id=\"---replSet\"><a href=\"#---replSet\" class=\"headerlink\" title=\"() replSet\"></a>() replSet</h4><ol>\n<li></li>\n<li><blockquote>\n<p>N (3)<br><br><br><br></p>\n</blockquote>\n</li>\n</ol>\n<p><img src=\"/images/replica.jpg\" alt=\"replica\"></p>\n<p>MongoDBMongoDB <br>MongoDB<br><code>mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0</code><br>rs0MongoDB27017<br>mongoDB<br>Mongo<code>rs.initiate()</code><br><code>rs.conf()</code><br> <code>rs.status()</code> </p>\n<p>,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset</span><br><span class=\"line\">-- `mongo` replset </span><br><span class=\"line\"></span><br><span class=\"line\">rs.initiate(&#123;</span><br><span class=\"line\">    _id:&quot;replset&quot;,</span><br><span class=\"line\">    members:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:0,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27017&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:1,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27018&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:2,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27019&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;tom&quot;,age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;lucy&quot;,age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br><span class=\"line\">-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.addArb() </span><br><span class=\"line\">mongod --dbpath=xxxx --port=27020 --replSet replset</span><br><span class=\"line\">rs.addArb(&quot;192.168.1.2:27020&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.add </span><br><span class=\"line\">rs.add(&quot;192.168.1.2:27021&quot;)</span><br></pre></td></tr></table></figure></p>\n<p> <code>rs.status()</code> Mongo<code>db.isMaster()</code>,MongoDB</p>\n<h3 id=\"Shard\"><a href=\"#Shard\" class=\"headerlink\" title=\"Shard\"></a>Shard</h3><p>Mongodb(cluster),MongoDB</p>\n<blockquote>\n<p><br><br>12<br><br><br></p>\n</blockquote>\n<p><img src=\"/images/mongo-cluster.jpg\" alt=\"MongoDB Cluster\"></p>\n<blockquote>\n<ul>\n<li>Shard:shard serverreplica set</li>\n<li>Config Server:mongod ClusterMetadata chunk</li>\n<li>Query Routers: </li>\n</ul>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">Shard Server 127020</span><br><span class=\"line\">Shard Server 227021</span><br><span class=\"line\">Shard Server 327022</span><br><span class=\"line\">Shard Server 427023</span><br><span class=\"line\">Config Server 27100</span><br><span class=\"line\">Route Process40000</span><br><span class=\"line\"></span><br><span class=\"line\">-- 1. Shard Server</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s0</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s1</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s2</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s3</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/log</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 2. Config Server,config server  `--configsvr` </span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/config</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 3. Route ProcessmongoschunkSizechunkMB200MB.</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200</span><br><span class=\"line\"></span><br><span class=\"line\">-- 4. Sharding,MongoDB ShellmongosShard,mongo40000</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongo admin --port 40000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27020&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27021&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27022&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27023&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; enablesharding:&quot;test&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; shardcollection: &quot;users&quot;, key: &#123; id:1,time:1&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">sh.addShard(&quot;localhost:27020&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27021&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27022&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27023&quot;);</span><br><span class=\"line\">sh.enableSharding(&quot;test&quot;);</span><br><span class=\"line\">-- sh.shardCollection(&quot;&lt;database&gt;.&lt;collection&gt;&quot;, shard-key-pattern) collectionkey</span><br><span class=\"line\">sh.shardCollection(&quot;test.users&quot;,&#123;&quot;name&quot;:1,&quot;_id&quot;:1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- 5. ,</span><br><span class=\"line\">    use test</span><br><span class=\"line\"></span><br><span class=\"line\">    for(var i=0;i&lt;=100000;i++) &#123;</span><br><span class=\"line\">        db.users.insert(&#123;name:&quot;lucy&quot;+i,age:i&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 6. </span><br><span class=\"line\">sh.status()</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br>mongod auth dbpath /usr/mongo/data -f /var/mongo.log<br>authmongod<br><code>/etc/mongodb.conf</code><code>auth=true</code>mongod</li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.createUser(&#123;  </span><br><span class=\"line\">    &quot;user&quot;: &quot;chrisaiv&quot;,</span><br><span class=\"line\">    &quot;pwd&quot;: &quot;password&quot;,</span><br><span class=\"line\">    &quot;roles&quot;: [</span><br><span class=\"line\">        &#123; role: &quot;clusterAdmin&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &#123; role: &quot;readAnyDatabase&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &quot;readWrite&quot;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; w: &quot;majority&quot;, wtimeout: 5000 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">: `db.auth(&quot;admin&quot;, &quot;123456&quot;)`</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li><p><br><code>db.runCommand({fsync:1,lock:1})</code><br></p>\n</li>\n<li><p><br><code>db.currentOp()</code></p>\n</li>\n<li><p><br><code>use local\ndb.$cmd.sys.unlock.findOne()</code><br><br><br><code>db.currentOp()</code></p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongodump -h dbhost -d dbname -c collection -o dbdirectory</span><br><span class=\"line\">mongorestore -h dbhost -d dbname -c collection <span class=\"comment\">--directoryperdb dbdirectory</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mkdir testbak</span><br><span class=\"line\">mongodump </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongodump -d pagedb</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongodump -d pagedb -c page</span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore <span class=\"comment\">--drop</span></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore -d pagedb <span class=\"comment\">--drop</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongorestore -d pagedb -c page <span class=\"comment\">--drop</span></span><br><span class=\"line\"><span class=\"comment\">-- MongoDB</span></span><br><span class=\"line\">mongoimport -d pagedb -c page <span class=\"comment\">--type csv --headerline --drop &lt; csvORtsvFile.csv</span></span><br><span class=\"line\"><span class=\"comment\">-- csvORtsvFile.csvpagedbpagecvstsv</span></span><br><span class=\"line\"><span class=\"comment\">-- `--headerline`csvtsv</span></span><br><span class=\"line\"><span class=\"comment\">-- typecsvtsvjson</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### MongoDB </span><br><span class=\"line\">```sql</span><br><span class=\"line\">mongostat </span><br><span class=\"line\">mongotop</span><br><span class=\"line\">mongotop 10   <span class=\"comment\">-- </span></span><br><span class=\"line\">mongotop <span class=\"comment\">--locks  -- </span></span><br></pre></td></tr></table></figure>\n<h3 id=\"MongoDB-\"><a href=\"#MongoDB-\" class=\"headerlink\" title=\"MongoDB \"></a>MongoDB </h3><p>MongoDB  SQL  MongoDB  _id 12<code>db.createCollection(&quot;counters&quot;)</code>,<code>db.counters.insert({_id:&quot;productid&quot;,sequence_value:0})</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNextSequenceValue</span>(<span class=\"params\">sequenceName</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> sequenceDocument = db.counters.findAndModify(</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         query:&#123;<span class=\"attr\">_id</span>: sequenceName &#125;,</span><br><span class=\"line\">         update: &#123;<span class=\"attr\">$inc</span>:&#123;<span class=\"attr\">sequence_value</span>:<span class=\"number\">1</span>&#125;&#125;,</span><br><span class=\"line\">         <span class=\"keyword\">new</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> sequenceDocument.sequence_value;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">    \"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">    \"product_name\":\"Apple iPhone\",</span><br><span class=\"line\">    \"category\":\"mobiles\"</span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">\"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">\"product_name\":\"Samsung S3\",</span><br><span class=\"line\">\"category\":\"mobiles\"&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.products.find()</span><br></pre></td></tr></table></figure>\n<h3 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h3><blockquote>\n<p>4<br>3<br>idPID<br><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">newObjectId = ObjectId()</span><br><span class=\"line\">myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")</span><br><span class=\"line\">ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()</span><br><span class=\"line\"></span><br><span class=\"line\">new ObjectId().str</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"GridFS\"><a href=\"#GridFS\" class=\"headerlink\" title=\"GridFS\"></a>GridFS</h3><p>GridFS 16MBSON()<br>GridFS MonoDB<br>GridFS 16M<br>GridFS chunk(),256k/,chunkMongoDB(document)chunks<br>GridFS <code>fs.files</code><code>fs.chunks</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">--fs.files</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"filename\": \"test.txt\",</span><br><span class=\"line\">   \"chunkSize\": NumberInt(261120),</span><br><span class=\"line\">   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),</span><br><span class=\"line\">   \"md5\": \"7b762939321e146569b07f72c62cca4f\",</span><br><span class=\"line\">   \"length\": NumberInt(646)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- fs.chunks</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),</span><br><span class=\"line\">   \"n\": NumberInt(0),</span><br><span class=\"line\">   \"data\": \"Mongo Binary Data\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\">mongofiles.exe -d gridfs put song.mp3</span><br><span class=\"line\">db.fs.files.find()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--_id (chunk)</span></span><br><span class=\"line\">db.fs.chunks.find(&#123;files_id:ObjectId('534a811bf8b4aa4d33fdf94d')&#125;)</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><a href=\"https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>"},{"title":"beyond feeling ","date":"2016-07-30T04:58:54.000Z","updated":"2016-07-30T04:58:54.000Z","_content":"> \n\n<!--more-->\n# \n\n## \n## \n## \n\nJohn Watson``\n\n## \n\n## \n\n1. ** ** \n2. ** ** \n3. **  **\n4. **  ** \n\n## \n\n# \n ``\n## \n``,\n## \n> 1. \n> 2.  \n> 3.     \n\n\n\n## \n\n## \n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n\n## \n\n\n# \n\n:happy:\n> \n","source":"_posts/2016/beyond-feeling.md","raw":"---\ntitle: beyond feeling \ndate: 2016-07-30 12:58:54\nupdated: 2016-07-30 12:58:54\ntags: \n-  \n- \ncategories:\n---\n> \n\n<!--more-->\n# \n\n## \n## \n## \n\nJohn Watson``\n\n## \n\n## \n\n1. ** ** \n2. ** ** \n3. **  **\n4. **  ** \n\n## \n\n# \n ``\n## \n``,\n## \n> 1. \n> 2.  \n> 3.     \n\n\n\n## \n\n## \n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n\n## \n\n\n# \n\n:happy:\n> \n","slug":"beyond-feeling","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f4001yhpwfn3raiko9","content":"<blockquote>\n<p></p>\n</blockquote>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>John Watson<code></code><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><strong> </strong> </li>\n<li><strong> </strong> </li>\n<li><strong>  </strong></li>\n<li><strong>  </strong> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code>,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ol>\n<li></li>\n<li> </li>\n<li>    </li>\n</ol>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:happy:</p>\n<blockquote>\n<p></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p></p>\n</blockquote>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>John Watson<code></code><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><strong> </strong> </li>\n<li><strong> </strong> </li>\n<li><strong>  </strong></li>\n<li><strong>  </strong> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code>,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ol>\n<li></li>\n<li> </li>\n<li>    </li>\n</ol>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:happy:</p>\n<blockquote>\n<p></p>\n</blockquote>"},{"title":"","date":"2016-01-28T09:21:06.000Z","updated":"2016-01-28T09:21:06.000Z","_content":"\n# \nPPT\n\n1. \n\n2. auto shardingmongoDBauto sharding\n\n<!-- more -->\n\n1. 0-11-2\n2-3\n\n\n2. hash2\n\n\n\n3. \n\n\n3. \n\n99%\n58\n\n\n****\n\n\n# \n\n\n\n\n\n\n\n\n\n\n\n99%1%\n1%80%\n\n\n********\n\n\n\nauto-increment-id**id10111011**\n\n\nid\n1. id0024681135792\n2. auto-increment-idid[](http://changyuan.github.io/2015/12/04/gen-id-way/)\n3. ,\n\t- 50%\n\t- \n\n\n# \n\n\n\n1. \n2. cache\n**cache**\ncachecache hitcache miss\n\ncache\n1. cache\n2. cachecache miss\n3. \n\n\n# \n\n58++58\n\nkeykey\n\n5\n\n\n58\n\ncachecache\nitemcache miss\n1cachecachecache\n2item10cachekey\n\n# \n58N2N\n\nhash\n\n\n\n24021302\n\n\n\nN2N 24482325\n\n2325online schema change\n\n\nmongodbmysql\n\n\n\n\n\n1mongomysql\n\n2\n\n\n3\n\n\n\n\n# \n- \n- \n- hash\n- ************standby50%\n- **********++**\n- :\n: key\n: item\n\n[](http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=400465735&idx=1&sn=8d7067de4cc8f73ea5558f07e0a9340e&scene=21#wechat_redirect)\n> 1.  shadow-mastermaster\n> 2. hash\n> 3. 02\n![db-mater](/images/technology/snowflake-64bit.jpg)\n\n\nP.S.:\n> - CAP\n> - Consistency(), \n> - Availability(), \n> - Partition tolerance() \n> -  \n> - ","source":"_posts/2016/design-mysql.md","raw":"---\ntitle: \ndate: 2016-01-28 17:21:06\nupdated: 2016-01-28 17:21:06\ntags:\n- mysql\ncategories:\n---\n\n# \nPPT\n\n1. \n\n2. auto shardingmongoDBauto sharding\n\n<!-- more -->\n\n1. 0-11-2\n2-3\n\n\n2. hash2\n\n\n\n3. \n\n\n3. \n\n99%\n58\n\n\n****\n\n\n# \n\n\n\n\n\n\n\n\n\n\n\n99%1%\n1%80%\n\n\n********\n\n\n\nauto-increment-id**id10111011**\n\n\nid\n1. id0024681135792\n2. auto-increment-idid[](http://changyuan.github.io/2015/12/04/gen-id-way/)\n3. ,\n\t- 50%\n\t- \n\n\n# \n\n\n\n1. \n2. cache\n**cache**\ncachecache hitcache miss\n\ncache\n1. cache\n2. cachecache miss\n3. \n\n\n# \n\n58++58\n\nkeykey\n\n5\n\n\n58\n\ncachecache\nitemcache miss\n1cachecachecache\n2item10cachekey\n\n# \n58N2N\n\nhash\n\n\n\n24021302\n\n\n\nN2N 24482325\n\n2325online schema change\n\n\nmongodbmysql\n\n\n\n\n\n1mongomysql\n\n2\n\n\n3\n\n\n\n\n# \n- \n- \n- hash\n- ************standby50%\n- **********++**\n- :\n: key\n: item\n\n[](http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=400465735&idx=1&sn=8d7067de4cc8f73ea5558f07e0a9340e&scene=21#wechat_redirect)\n> 1.  shadow-mastermaster\n> 2. hash\n> 3. 02\n![db-mater](/images/technology/snowflake-64bit.jpg)\n\n\nP.S.:\n> - CAP\n> - Consistency(), \n> - Availability(), \n> - Partition tolerance() \n> -  \n> - ","slug":"design-mysql","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f50021hpwfaen1hk90","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>PPT</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>auto shardingmongoDBauto sharding</p>\n</li>\n</ol>\n<a id=\"more\"></a>\n<p></p>\n<ol>\n<li><p>0-11-2<br>2-3<br></p>\n</li>\n<li><p>hash2<br><br></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><br><br>99%<br>58<br></li>\n</ol>\n<p><strong></strong></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><br><br></p>\n<p><br><br></p>\n<p><br>99%1%<br>1%80%</p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>auto-increment-id<strong>id10111011</strong></p>\n<p>id</p>\n<ol>\n<li>id0024681135792</li>\n<li>auto-increment-idid<a href=\"http://changyuan.github.io/2015/12/04/gen-id-way/\"></a></li>\n<li>,<ul>\n<li>50%</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li>cache<br><strong>cache</strong><br>cachecache hitcache miss</li>\n</ol>\n<p>cache</p>\n<ol>\n<li>cache</li>\n<li>cachecache miss</li>\n<li></li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58++58</p>\n<p>keykey</p>\n<p>5</p>\n<p>58</p>\n<p>cachecache<br>itemcache miss<br>1cachecachecache<br>2item10cachekey</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58N2N</p>\n<p>hash</p>\n<p><br>24021302</p>\n<p><br>N2N 24482325</p>\n<p>2325online schema change<br><br><br>mongodbmysql</p>\n<p></p>\n<p><br>1mongomysql</p>\n<p>2<br></p>\n<p>3<br><br><br></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li>hash</li>\n<li><strong></strong><strong></strong><strong></strong>standby50%</li>\n<li><strong></strong><strong></strong><strong>++</strong></li>\n<li>:<br>: key<br>: item</li>\n</ul>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400465735&amp;idx=1&amp;sn=8d7067de4cc8f73ea5558f07e0a9340e&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<blockquote>\n<ol>\n<li> shadow-mastermaster</li>\n<li>hash</li>\n<li>02<br><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"db-mater\"></li>\n</ol>\n</blockquote>\n<p>P.S.:</p>\n<blockquote>\n<ul>\n<li>CAP</li>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() </li>\n<li> </li>\n<li></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>PPT</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>auto shardingmongoDBauto sharding</p>\n</li>\n</ol>","more":"<p></p>\n<ol>\n<li><p>0-11-2<br>2-3<br></p>\n</li>\n<li><p>hash2<br><br></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><br><br>99%<br>58<br></li>\n</ol>\n<p><strong></strong></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><br><br></p>\n<p><br><br></p>\n<p><br>99%1%<br>1%80%</p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>auto-increment-id<strong>id10111011</strong></p>\n<p>id</p>\n<ol>\n<li>id0024681135792</li>\n<li>auto-increment-idid<a href=\"http://changyuan.github.io/2015/12/04/gen-id-way/\"></a></li>\n<li>,<ul>\n<li>50%</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li>cache<br><strong>cache</strong><br>cachecache hitcache miss</li>\n</ol>\n<p>cache</p>\n<ol>\n<li>cache</li>\n<li>cachecache miss</li>\n<li></li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58++58</p>\n<p>keykey</p>\n<p>5</p>\n<p>58</p>\n<p>cachecache<br>itemcache miss<br>1cachecachecache<br>2item10cachekey</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58N2N</p>\n<p>hash</p>\n<p><br>24021302</p>\n<p><br>N2N 24482325</p>\n<p>2325online schema change<br><br><br>mongodbmysql</p>\n<p></p>\n<p><br>1mongomysql</p>\n<p>2<br></p>\n<p>3<br><br><br></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li>hash</li>\n<li><strong></strong><strong></strong><strong></strong>standby50%</li>\n<li><strong></strong><strong></strong><strong>++</strong></li>\n<li>:<br>: key<br>: item</li>\n</ul>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400465735&amp;idx=1&amp;sn=8d7067de4cc8f73ea5558f07e0a9340e&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<blockquote>\n<ol>\n<li> shadow-mastermaster</li>\n<li>hash</li>\n<li>02<br><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"db-mater\"></li>\n</ol>\n</blockquote>\n<p>P.S.:</p>\n<blockquote>\n<ul>\n<li>CAP</li>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() </li>\n<li> </li>\n<li></li>\n</ul>\n</blockquote>"},{"title":"Mysql","date":"2016-01-28T05:52:43.000Z","updated":"2016-01-28T05:52:43.000Z","_content":"\n:\n\n++ ++\n\n# \n1. cpu\n2. 1000w\n3. 20\n4. \n5. 3Bsql\n\n<!-- more -->\n\n# \n\n7. \n- tinyint(1Byte)\n- smallint(2Byte)\n- mediumint(3Byte)\n- int(4Byte)\n- bigint(8Byte)\n- bad caseint(1)/int(11)\n\n8. \n- intchar(15)ip\n- enumset,`sex` enum (F, M)\n- NULLNULLNULLNULL\n```sql\nbad case\n`name` char(32) default null\n`age` int not null\ngood case\n`age` int not null default 0\n```\n9. text/blob\nvarchartextblob;\n\n# \n12. \n13. \n14. `select id where age +1 = 10;`\n15. innodbSK;;innodb\n16. \n\n# sql\n17. sqlsqlcpusql\n18. ,\n19. trig/func\n20. select *  cpuio\n21. ORIN()`or`n`in`log(n)in200\n```sql\nselect id from t where phone=159 or phone=136;\n=>\nselect id from t where phone in (159, 136);\n```\n22. ORUNION\nmysql\n```sql\nselect id from t where phone = 159 or name = john;\n=>\nselect id from t where phone=159\nunion\nselect id from t where name=jonh\n```\n23. %\n24. count(*)\n25. limit\nlimit\n```sql\nselect id from t limit 10000, 10;\n=>\nselect id from t where id > 10000 limit 10;\n```\n26. `union all``union`, `union`\n27. join\n28. group by,,\n29. \n30. `load data`\nload datainsert20\n31. \n32. \n```sql\nshow profile;\nmysqlsla;\nmysqldumpslow;\nexplain;\nshow slow log;\nshow processlist;\nshow query_response_time(percona)\n```","source":"_posts/2016/ganji-design-msyql-rule.md","raw":"---\ntitle: Mysql\ndate: 2016-01-28 13:52:43\nupdated: 2016-01-28 13:52:43\ntags:\ncategories:\n---\n\n:\n\n++ ++\n\n# \n1. cpu\n2. 1000w\n3. 20\n4. \n5. 3Bsql\n\n<!-- more -->\n\n# \n\n7. \n- tinyint(1Byte)\n- smallint(2Byte)\n- mediumint(3Byte)\n- int(4Byte)\n- bigint(8Byte)\n- bad caseint(1)/int(11)\n\n8. \n- intchar(15)ip\n- enumset,`sex` enum (F, M)\n- NULLNULLNULLNULL\n```sql\nbad case\n`name` char(32) default null\n`age` int not null\ngood case\n`age` int not null default 0\n```\n9. text/blob\nvarchartextblob;\n\n# \n12. \n13. \n14. `select id where age +1 = 10;`\n15. innodbSK;;innodb\n16. \n\n# sql\n17. sqlsqlcpusql\n18. ,\n19. trig/func\n20. select *  cpuio\n21. ORIN()`or`n`in`log(n)in200\n```sql\nselect id from t where phone=159 or phone=136;\n=>\nselect id from t where phone in (159, 136);\n```\n22. ORUNION\nmysql\n```sql\nselect id from t where phone = 159 or name = john;\n=>\nselect id from t where phone=159\nunion\nselect id from t where name=jonh\n```\n23. %\n24. count(*)\n25. limit\nlimit\n```sql\nselect id from t limit 10000, 10;\n=>\nselect id from t where id > 10000 limit 10;\n```\n26. `union all``union`, `union`\n27. join\n28. group by,,\n29. \n30. `load data`\nload datainsert20\n31. \n32. \n```sql\nshow profile;\nmysqlsla;\nmysqldumpslow;\nexplain;\nshow slow log;\nshow processlist;\nshow query_response_time(percona)\n```","slug":"ganji-design-msyql-rule","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f60022hpwf8l15dwi7","content":"<p>:</p>\n<p>++ ++</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>cpu</li>\n<li>1000w</li>\n<li>20</li>\n<li></li>\n<li>3Bsql</li>\n</ol>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol start=\"7\">\n<li></li>\n</ol>\n<ul>\n<li>tinyint(1Byte)</li>\n<li>smallint(2Byte)</li>\n<li>mediumint(3Byte)</li>\n<li>int(4Byte)</li>\n<li>bigint(8Byte)</li>\n<li>bad caseint(1)/int(11)</li>\n</ul>\n<ol start=\"8\">\n<li></li>\n</ol>\n<ul>\n<li>intchar(15)ip</li>\n<li>enumset,<code>sex</code> enum (F, M)</li>\n<li>NULLNULLNULLNULL<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bad case</span><br><span class=\"line\">`name` char(32) default null</span><br><span class=\"line\">`age` int not null</span><br><span class=\"line\">good case</span><br><span class=\"line\">`age` int not null default 0</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol start=\"9\">\n<li>text/blob<br>varchartextblob;</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol start=\"12\">\n<li></li>\n<li></li>\n<li><code>select id where age +1 = 10;</code></li>\n<li>innodbSK;;innodb</li>\n<li></li>\n</ol>\n<h1 id=\"sql\"><a href=\"#sql\" class=\"headerlink\" title=\"sql\"></a>sql</h1><ol start=\"17\">\n<li>sqlsqlcpusql</li>\n<li>,</li>\n<li>trig/func</li>\n<li>select *  cpuio</li>\n<li><p>ORIN()<code>or</code>n<code>in</code>log(n)in200</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone=<span class=\"number\">159</span> <span class=\"keyword\">or</span> phone=<span class=\"number\">136</span>;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone <span class=\"keyword\">in</span> (<span class=\"number\">159</span>, <span class=\"number\">136</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ORUNION<br>mysql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone = <span class=\"number\">159</span> <span class=\"keyword\">or</span> <span class=\"keyword\">name</span> = john;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone=<span class=\"number\">159</span></span><br><span class=\"line\"><span class=\"keyword\">union</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> <span class=\"keyword\">name</span>=jonh</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>%</p>\n</li>\n<li>count(*)</li>\n<li><p>limit<br>limit</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">limit</span> <span class=\"number\">10000</span>, <span class=\"number\">10</span>;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> <span class=\"keyword\">id</span> &gt; <span class=\"number\">10000</span> <span class=\"keyword\">limit</span> <span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>union all</code><code>union</code>, <code>union</code></p>\n</li>\n<li>join</li>\n<li>group by,,</li>\n<li></li>\n<li><code>load data</code><br>load datainsert20</li>\n<li></li>\n<li><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> profile;</span><br><span class=\"line\">mysqlsla;</span><br><span class=\"line\">mysqldumpslow;</span><br><span class=\"line\"><span class=\"keyword\">explain</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> slow <span class=\"keyword\">log</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">processlist</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> query_response_time(percona)</span><br></pre></td></tr></table></figure></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>:</p>\n<p>++ ++</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>cpu</li>\n<li>1000w</li>\n<li>20</li>\n<li></li>\n<li>3Bsql</li>\n</ol>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol start=\"7\">\n<li></li>\n</ol>\n<ul>\n<li>tinyint(1Byte)</li>\n<li>smallint(2Byte)</li>\n<li>mediumint(3Byte)</li>\n<li>int(4Byte)</li>\n<li>bigint(8Byte)</li>\n<li>bad caseint(1)/int(11)</li>\n</ul>\n<ol start=\"8\">\n<li></li>\n</ol>\n<ul>\n<li>intchar(15)ip</li>\n<li>enumset,<code>sex</code> enum (F, M)</li>\n<li>NULLNULLNULLNULL<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bad case</span><br><span class=\"line\">`name` char(32) default null</span><br><span class=\"line\">`age` int not null</span><br><span class=\"line\">good case</span><br><span class=\"line\">`age` int not null default 0</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol start=\"9\">\n<li>text/blob<br>varchartextblob;</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol start=\"12\">\n<li></li>\n<li></li>\n<li><code>select id where age +1 = 10;</code></li>\n<li>innodbSK;;innodb</li>\n<li></li>\n</ol>\n<h1 id=\"sql\"><a href=\"#sql\" class=\"headerlink\" title=\"sql\"></a>sql</h1><ol start=\"17\">\n<li>sqlsqlcpusql</li>\n<li>,</li>\n<li>trig/func</li>\n<li>select *  cpuio</li>\n<li><p>ORIN()<code>or</code>n<code>in</code>log(n)in200</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone=<span class=\"number\">159</span> <span class=\"keyword\">or</span> phone=<span class=\"number\">136</span>;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone <span class=\"keyword\">in</span> (<span class=\"number\">159</span>, <span class=\"number\">136</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ORUNION<br>mysql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone = <span class=\"number\">159</span> <span class=\"keyword\">or</span> <span class=\"keyword\">name</span> = john;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> phone=<span class=\"number\">159</span></span><br><span class=\"line\"><span class=\"keyword\">union</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> <span class=\"keyword\">name</span>=jonh</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>%</p>\n</li>\n<li>count(*)</li>\n<li><p>limit<br>limit</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">limit</span> <span class=\"number\">10000</span>, <span class=\"number\">10</span>;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">id</span> <span class=\"keyword\">from</span> t <span class=\"keyword\">where</span> <span class=\"keyword\">id</span> &gt; <span class=\"number\">10000</span> <span class=\"keyword\">limit</span> <span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>union all</code><code>union</code>, <code>union</code></p>\n</li>\n<li>join</li>\n<li>group by,,</li>\n<li></li>\n<li><code>load data</code><br>load datainsert20</li>\n<li></li>\n<li><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> profile;</span><br><span class=\"line\">mysqlsla;</span><br><span class=\"line\">mysqldumpslow;</span><br><span class=\"line\"><span class=\"keyword\">explain</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> slow <span class=\"keyword\">log</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">processlist</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> query_response_time(percona)</span><br></pre></td></tr></table></figure></li>\n</ol>"},{"title":"","date":"2016-10-16T03:45:39.000Z","updated":"2016-10-16T03:45:39.000Z","_content":"adwords\n<!--more-->\n\n### \ngoogle\n- 70%80%\n- \n- \n\n\n### \n****\n\n---\n\n****\n\n>:\n- \n- \n- \n\n\n\n---\n\n:\n\n\n\n> \n\n---\n\n  ``\n\n\n()\n- \n- \n\n\n> \n> \n\n---\n\n0\n\n\n### \nadwords70%80%\n\n:\n> ****\n\n### \n\n\n#### \n\nIFID\n\n****\n\n>\n\n### \n\n\n\n- \n- \n\n\n### \n\n#### \n\n\n##### \n24\n\n#### \nc2b\n\n#### \n\n\n#### \n\n\n### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n- \n- \n- --\n\n\n\n#### 2%\n2%\n\n\n:\n****\n\n\n\n#### \n2%2%\n\n","source":"_posts/2016/big-data-time.md","raw":"---\ntitle: \ndate: 2016-10-16 11:45:39\nupdated: 2016-10-16 11:45:39\ntags:\ncategories:\n---\nadwords\n<!--more-->\n\n### \ngoogle\n- 70%80%\n- \n- \n\n\n### \n****\n\n---\n\n****\n\n>:\n- \n- \n- \n\n\n\n---\n\n:\n\n\n\n> \n\n---\n\n  ``\n\n\n()\n- \n- \n\n\n> \n> \n\n---\n\n0\n\n\n### \nadwords70%80%\n\n:\n> ****\n\n### \n\n\n#### \n\nIFID\n\n****\n\n>\n\n### \n\n\n\n- \n- \n\n\n### \n\n#### \n\n\n##### \n24\n\n#### \nc2b\n\n#### \n\n\n#### \n\n\n### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n- \n- \n- --\n\n\n\n#### 2%\n2%\n\n\n:\n****\n\n\n\n#### \n2%2%\n\n","slug":"big-data-time","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138f80025hpwf02ku2pxf","content":"<p>adwords<br><a id=\"more\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>google</p>\n<ul>\n<li>70%80%</li>\n<li></li>\n<li><br></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<hr>\n<p><strong></strong></p>\n<blockquote>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<hr>\n<p>:</p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<hr>\n<p>  <code></code></p>\n<p>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<hr>\n<p>0<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>adwords70%80%</p>\n<p>:</p>\n<blockquote>\n<p> <strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>IFID</p>\n<p><strong></strong></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>24</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>c2b</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2%\"></a>2%</h4><p>2%<br></p>\n<p>:<br><strong></strong><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>2%2%</p>\n","site":{"data":{}},"excerpt":"<p>adwords<br>","more":"</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>google</p>\n<ul>\n<li>70%80%</li>\n<li></li>\n<li><br></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<hr>\n<p><strong></strong></p>\n<blockquote>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<hr>\n<p>:</p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<hr>\n<p>  <code></code></p>\n<p>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<hr>\n<p>0<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>adwords70%80%</p>\n<p>:</p>\n<blockquote>\n<p> <strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>IFID</p>\n<p><strong></strong></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>24</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>c2b</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2%\"></a>2%</h4><p>2%<br></p>\n<p>:<br><strong></strong><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>2%2%</p>"},{"title":"flex","date":"2016-11-30T07:31:13.000Z","_content":"\n[](https://developer.mozilla.org/en-US/docs/Web/CSS/box_model) display + position + float[](https://css-tricks.com/centering-css-complete-guide/)\n\nFlexFlexible Box\"\"\nFlex\n<!-- more -->\n```css\n.box{\n  display: flex;\n  // display: inline-flex;\n}\n\n\n.box{\n  display: -webkit-flex; /* Safari */\n  display: flex;\n}\n```\nFlexfloatclearvertical-align\nFlexFlexflex container\"\"Flexflex item\"\"\n\n### \n\n1. flex-direction:\n>- row\n>- row-reverse\n>- column\n>- column-reverse\n\n2. flex-wrap:\n nowrap | wrap | wrap-reverse\n\n3. flex-flow\nflex-flowflex-directionflex-wraprow nowrap\n\n4. justify-content\n>- flex-start\n>- flex-end\n>- center \n>- space-between\n>- space-around\n\n5. align-items\n>- flex-start\n>- flex-end\n>- center\n>- baseline: \n>- stretchauto\n\n6. align-content \n>- flex-start\n>- flex-end\n>- center\n>- space-between\n>- space-around\n>- stretch\n\n### \n\n1. order 0\n2. flex-grow 0****0 \n3. flex-shrink 1****1 \n4. flex-basis  main size****auto\n5. flex  flex-grow, flex-shrink  flex-basis0 0 auto\n6. align-self  align-itemsautoalign-itemsstretch\n7. margin : auto \"margin\"\"auto\"margin\"auto\"****\n margin-right: auto;  \n\nflex \t0 1 auto ; auto<=> \" 1 1 auto \"; none<=> \"0 0  auto\"\nflex\n-flex-basis growshrink\n```html\n<style>\n#main {\n    width: 350px;\n    height: 100px;\n    border: 1px solid #c3c3c3;\n    display: flex;\n}\n#main div {\n    flex: 0 1 80px;\n}\n\n#main div:nth-of-type(5) {\n  flex: 0 1 30px;\n}\nflex-grow : \nflex-shrink: \n</style>\n</head>\n<body>\n\n<div id=\"main\">\n  <div style=\"background-color:coral;\">1</div>\n  <div style=\"background-color:lightblue;\">2</div>\n  <div style=\"background-color:khaki;\">3</div>\n  <div style=\"background-color:pink;\">4</div>\n  <div style=\"background-color:lightgrey;\">5</div>\n</div>\n```\n\n[](http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin)\n\n### DEMO\n\n[](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)\n[](https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824)\n[](https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522)\n[](https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d)","source":"_posts/2016/flex.md","raw":"---\ntitle: flex\ndate: 2016-11-30 15:31:13\ntags:\ncategories:\n---\n\n[](https://developer.mozilla.org/en-US/docs/Web/CSS/box_model) display + position + float[](https://css-tricks.com/centering-css-complete-guide/)\n\nFlexFlexible Box\"\"\nFlex\n<!-- more -->\n```css\n.box{\n  display: flex;\n  // display: inline-flex;\n}\n\n\n.box{\n  display: -webkit-flex; /* Safari */\n  display: flex;\n}\n```\nFlexfloatclearvertical-align\nFlexFlexflex container\"\"Flexflex item\"\"\n\n### \n\n1. flex-direction:\n>- row\n>- row-reverse\n>- column\n>- column-reverse\n\n2. flex-wrap:\n nowrap | wrap | wrap-reverse\n\n3. flex-flow\nflex-flowflex-directionflex-wraprow nowrap\n\n4. justify-content\n>- flex-start\n>- flex-end\n>- center \n>- space-between\n>- space-around\n\n5. align-items\n>- flex-start\n>- flex-end\n>- center\n>- baseline: \n>- stretchauto\n\n6. align-content \n>- flex-start\n>- flex-end\n>- center\n>- space-between\n>- space-around\n>- stretch\n\n### \n\n1. order 0\n2. flex-grow 0****0 \n3. flex-shrink 1****1 \n4. flex-basis  main size****auto\n5. flex  flex-grow, flex-shrink  flex-basis0 0 auto\n6. align-self  align-itemsautoalign-itemsstretch\n7. margin : auto \"margin\"\"auto\"margin\"auto\"****\n margin-right: auto;  \n\nflex \t0 1 auto ; auto<=> \" 1 1 auto \"; none<=> \"0 0  auto\"\nflex\n-flex-basis growshrink\n```html\n<style>\n#main {\n    width: 350px;\n    height: 100px;\n    border: 1px solid #c3c3c3;\n    display: flex;\n}\n#main div {\n    flex: 0 1 80px;\n}\n\n#main div:nth-of-type(5) {\n  flex: 0 1 30px;\n}\nflex-grow : \nflex-shrink: \n</style>\n</head>\n<body>\n\n<div id=\"main\">\n  <div style=\"background-color:coral;\">1</div>\n  <div style=\"background-color:lightblue;\">2</div>\n  <div style=\"background-color:khaki;\">3</div>\n  <div style=\"background-color:pink;\">4</div>\n  <div style=\"background-color:lightgrey;\">5</div>\n</div>\n```\n\n[](http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin)\n\n### DEMO\n\n[](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)\n[](https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824)\n[](https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522)\n[](https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d)","slug":"flex","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fa0027hpwf4u997mev","content":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/box_model\" target=\"_blank\" rel=\"noopener\"></a> display + position + float<a href=\"https://css-tricks.com/centering-css-complete-guide/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>FlexFlexible Box<br>Flex<br><a id=\"more\"></a><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  // display: inline-flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: -webkit-flex; <span class=\"comment\">/* Safari */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Flexfloatclearvertical-align<br>FlexFlexflex containerFlexflex item</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>flex-direction:</p>\n<blockquote>\n<ul>\n<li>row</li>\n<li>row-reverse</li>\n<li>column</li>\n<li>column-reverse</li>\n</ul>\n</blockquote>\n</li>\n<li><p>flex-wrap:<br>nowrap | wrap | wrap-reverse</p>\n</li>\n<li><p>flex-flow<br>flex-flowflex-directionflex-wraprow nowrap</p>\n</li>\n<li><p>justify-content</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center </li>\n<li>space-between</li>\n<li>space-around</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-items</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>baseline: </li>\n<li>stretchauto</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-content </p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>space-between</li>\n<li>space-around</li>\n<li>stretch</li>\n</ul>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>order 0</li>\n<li>flex-grow 0<strong></strong>0 </li>\n<li>flex-shrink 1<strong></strong>1 </li>\n<li>flex-basis  main size<strong></strong>auto</li>\n<li>flex  flex-grow, flex-shrink  flex-basis0 0 auto</li>\n<li>align-self  align-itemsautoalign-itemsstretch</li>\n<li>margin : auto marginautomarginauto<strong></strong><br> margin-right: auto;  </li>\n</ol>\n<p>flex     0 1 auto ; auto&lt;=&gt;  1 1 auto ; none&lt;=&gt; 0 0  auto<br>flex<br>-flex-basis growshrink<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">    width: 350px;</span></span><br><span class=\"line\"><span class=\"undefined\">    height: 100px;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border</span>: 1<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#c3c3c3</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">    display: flex;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">    flex: 0 1 80px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:nth-of-type(5)</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">  flex: 0 1 30px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">flex-grow : </span></span><br><span class=\"line\"><span class=\"undefined\">flex-shrink: </span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"main\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:coral;\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightblue;\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:khaki;\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:pink;\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightgrey;\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"DEMO\"><a href=\"#DEMO\" class=\"headerlink\" title=\"DEMO\"></a>DEMO</h3><p><a href=\"http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/box_model\" target=\"_blank\" rel=\"noopener\"></a> display + position + float<a href=\"https://css-tricks.com/centering-css-complete-guide/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>FlexFlexible Box<br>Flex<br>","more":"<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  // display: inline-flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: -webkit-flex; <span class=\"comment\">/* Safari */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Flexfloatclearvertical-align<br>FlexFlexflex containerFlexflex item</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>flex-direction:</p>\n<blockquote>\n<ul>\n<li>row</li>\n<li>row-reverse</li>\n<li>column</li>\n<li>column-reverse</li>\n</ul>\n</blockquote>\n</li>\n<li><p>flex-wrap:<br>nowrap | wrap | wrap-reverse</p>\n</li>\n<li><p>flex-flow<br>flex-flowflex-directionflex-wraprow nowrap</p>\n</li>\n<li><p>justify-content</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center </li>\n<li>space-between</li>\n<li>space-around</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-items</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>baseline: </li>\n<li>stretchauto</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-content </p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>space-between</li>\n<li>space-around</li>\n<li>stretch</li>\n</ul>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>order 0</li>\n<li>flex-grow 0<strong></strong>0 </li>\n<li>flex-shrink 1<strong></strong>1 </li>\n<li>flex-basis  main size<strong></strong>auto</li>\n<li>flex  flex-grow, flex-shrink  flex-basis0 0 auto</li>\n<li>align-self  align-itemsautoalign-itemsstretch</li>\n<li>margin : auto marginautomarginauto<strong></strong><br> margin-right: auto;  </li>\n</ol>\n<p>flex     0 1 auto ; auto&lt;=&gt;  1 1 auto ; none&lt;=&gt; 0 0  auto<br>flex<br>-flex-basis growshrink<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">    width: 350px;</span></span><br><span class=\"line\"><span class=\"undefined\">    height: 100px;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border</span>: 1<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#c3c3c3</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">    display: flex;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">    flex: 0 1 80px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:nth-of-type(5)</span> &#123;</span></span><br><span class=\"line\"><span class=\"undefined\">  flex: 0 1 30px;</span></span><br><span class=\"line\"><span class=\"undefined\">&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">flex-grow : </span></span><br><span class=\"line\"><span class=\"undefined\">flex-shrink: </span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"main\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:coral;\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightblue;\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:khaki;\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:pink;\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightgrey;\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"DEMO\"><a href=\"#DEMO\" class=\"headerlink\" title=\"DEMO\"></a>DEMO</h3><p><a href=\"http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"","date":"2016-06-23T03:38:22.000Z","updated":"2016-06-23T03:38:22.000Z","_content":"\n\n# Growth Hack = \n\n## ()\n\n1.mvp(minimal viable product), 20 2.pmf(product market fit) 60\n\n- \n- \n-  3.Growth Hack 60()-90 4.20()-->75\n\npitch\n\n##  ( Growth ) \n\n\n\n10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 \n\n NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS \n\n NPS  70\n<!-- more -->\n# \n\n## PMF\n\n- \n-  20-50--- 3-60---30,\n\n### growth = conversion - churn()\n\n=\n\n## (Landing page)\n\n- \n- \n- How it works\n- /\n- CALL TO ACTION()\n- \n\n## CALL TO ACTION \n\n \"Leads\"  Email List  \n\n##  online chat\n\nChurn  online chat \n\nIntercom Zopim\n\n<http://blog.xdite.net/posts/2016/02/01/grow-product-systematically>\n","source":"_posts/2016/growth-hack.md","raw":"---\ntitle: \ndate: 2016-06-23 11:38:22\nupdated: 2016-06-23 11:38:22\ntags:\ncategories:\n---\n\n\n# Growth Hack = \n\n## ()\n\n1.mvp(minimal viable product), 20 2.pmf(product market fit) 60\n\n- \n- \n-  3.Growth Hack 60()-90 4.20()-->75\n\npitch\n\n##  ( Growth ) \n\n\n\n10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 \n\n NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS \n\n NPS  70\n<!-- more -->\n# \n\n## PMF\n\n- \n-  20-50--- 3-60---30,\n\n### growth = conversion - churn()\n\n=\n\n## (Landing page)\n\n- \n- \n- How it works\n- /\n- CALL TO ACTION()\n- \n\n## CALL TO ACTION \n\n \"Leads\"  Email List  \n\n##  online chat\n\nChurn  online chat \n\nIntercom Zopim\n\n<http://blog.xdite.net/posts/2016/02/01/grow-product-systematically>\n","slug":"growth-hack","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fb0029hpwfx9wamzwx","content":"<h1 id=\"Growth-Hack-\"><a href=\"#Growth-Hack-\" class=\"headerlink\" title=\"Growth Hack = \"></a>Growth Hack = </h1><h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h2><p>1.mvp(minimal viable product), 20 2.pmf(product market fit) 60</p>\n<ul>\n<li></li>\n<li></li>\n<li> 3.Growth Hack 60()-90 4.20()&gt;75</li>\n</ul>\n<p>pitch</p>\n<h2 id=\"-Growth-\"><a href=\"#-Growth-\" class=\"headerlink\" title=\" ( Growth ) \"></a> ( Growth ) </h2><p></p>\n<p>10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 </p>\n<p> NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS </p>\n<p> NPS  70<br><a id=\"more\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"PMF\"><a href=\"#PMF\" class=\"headerlink\" title=\"PMF\"></a>PMF</h2><ul>\n<li></li>\n<li> 20-50 3-6030,</li>\n</ul>\n<h3 id=\"growth-conversion-churn-\"><a href=\"#growth-conversion-churn-\" class=\"headerlink\" title=\"growth = conversion - churn()\"></a>growth = conversion - churn()</h3><p>=</p>\n<h2 id=\"-Landing-page\"><a href=\"#-Landing-page\" class=\"headerlink\" title=\"(Landing page)\"></a>(Landing page)</h2><ul>\n<li></li>\n<li></li>\n<li>How it works</li>\n<li>/</li>\n<li>CALL TO ACTION()</li>\n<li></li>\n</ul>\n<h2 id=\"CALL-TO-ACTION-\"><a href=\"#CALL-TO-ACTION-\" class=\"headerlink\" title=\"CALL TO ACTION \"></a>CALL TO ACTION </h2><p> Leads  Email List  </p>\n<h2 id=\"-online-chat\"><a href=\"#-online-chat\" class=\"headerlink\" title=\" online chat\"></a> online chat</h2><p>Churn  online chat </p>\n<p>Intercom Zopim</p>\n<p><a href=\"http://blog.xdite.net/posts/2016/02/01/grow-product-systematically\" target=\"_blank\" rel=\"noopener\">http://blog.xdite.net/posts/2016/02/01/grow-product-systematically</a></p>\n","site":{"data":{}},"excerpt":"<h1 id=\"Growth-Hack-\"><a href=\"#Growth-Hack-\" class=\"headerlink\" title=\"Growth Hack = \"></a>Growth Hack = </h1><h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h2><p>1.mvp(minimal viable product), 20 2.pmf(product market fit) 60</p>\n<ul>\n<li></li>\n<li></li>\n<li> 3.Growth Hack 60()-90 4.20()&gt;75</li>\n</ul>\n<p>pitch</p>\n<h2 id=\"-Growth-\"><a href=\"#-Growth-\" class=\"headerlink\" title=\" ( Growth ) \"></a> ( Growth ) </h2><p></p>\n<p>10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 </p>\n<p> NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS </p>\n<p> NPS  70<br>","more":"</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"PMF\"><a href=\"#PMF\" class=\"headerlink\" title=\"PMF\"></a>PMF</h2><ul>\n<li></li>\n<li> 20-50 3-6030,</li>\n</ul>\n<h3 id=\"growth-conversion-churn-\"><a href=\"#growth-conversion-churn-\" class=\"headerlink\" title=\"growth = conversion - churn()\"></a>growth = conversion - churn()</h3><p>=</p>\n<h2 id=\"-Landing-page\"><a href=\"#-Landing-page\" class=\"headerlink\" title=\"(Landing page)\"></a>(Landing page)</h2><ul>\n<li></li>\n<li></li>\n<li>How it works</li>\n<li>/</li>\n<li>CALL TO ACTION()</li>\n<li></li>\n</ul>\n<h2 id=\"CALL-TO-ACTION-\"><a href=\"#CALL-TO-ACTION-\" class=\"headerlink\" title=\"CALL TO ACTION \"></a>CALL TO ACTION </h2><p> Leads  Email List  </p>\n<h2 id=\"-online-chat\"><a href=\"#-online-chat\" class=\"headerlink\" title=\" online chat\"></a> online chat</h2><p>Churn  online chat </p>\n<p>Intercom Zopim</p>\n<p><a href=\"http://blog.xdite.net/posts/2016/02/01/grow-product-systematically\" target=\"_blank\" rel=\"noopener\">http://blog.xdite.net/posts/2016/02/01/grow-product-systematically</a></p>"},{"title":"mysql","date":"2016-12-23T07:51:26.000Z","updated":"2016-12-23T07:51:26.000Z","_content":"\n### \n& : 11\n| : 11.\n^ : 1010\n\n### \n```\n$a = 6 2 110\n$b = 3 2 11\n$a & $b 110  11\n$a$b11,0.110  011\n010,2\n```\n\n<!-- more -->\n\n### \n\n\n1. varchar1,2,3,11\n2. ,1-121248163264128512102420484096\n 1,10,12`1+512+4096=4609`,4096 \n\n> ****1\n\n#### \n\n```sql\n\n--   |\nSELECT (4|2|1); --- = 7\n\n-- ^\nSELECT 7 ^ 1;\n\n-- 3\nSELECT * FROM `spots` WHERE `month` & 4 = 4;\n\n-- 43252\n\t\nUPDATE `spots` SET `month` = `month` | 2 WHERE `id` = 4325\n\n-- \nUPDATE `spots` SET` month` = `month` ^ 2 WHERE`id`= 4325\n\n-- 111216145\n\nSELECT * FROM `spots` WHERE `month` & 6145 = 6145\n\n-- 1,11,12\nSELECT * FROM `spots` WHERE (`month` & 4096 = 4096) or (`month` & 2048 = 2048) or (`month` & 1 = 1)\n\n```\n\n","source":"_posts/2016/mysql-bit.md","raw":"---\ntitle: mysql\ndate: 2016-12-23 15:51:26\nupdated: 2016-12-23 15:51:26\ntags:\ncategories:\n---\n\n### \n& : 11\n| : 11.\n^ : 1010\n\n### \n```\n$a = 6 2 110\n$b = 3 2 11\n$a & $b 110  11\n$a$b11,0.110  011\n010,2\n```\n\n<!-- more -->\n\n### \n\n\n1. varchar1,2,3,11\n2. ,1-121248163264128512102420484096\n 1,10,12`1+512+4096=4609`,4096 \n\n> ****1\n\n#### \n\n```sql\n\n--   |\nSELECT (4|2|1); --- = 7\n\n-- ^\nSELECT 7 ^ 1;\n\n-- 3\nSELECT * FROM `spots` WHERE `month` & 4 = 4;\n\n-- 43252\n\t\nUPDATE `spots` SET `month` = `month` | 2 WHERE `id` = 4325\n\n-- \nUPDATE `spots` SET` month` = `month` ^ 2 WHERE`id`= 4325\n\n-- 111216145\n\nSELECT * FROM `spots` WHERE `month` & 6145 = 6145\n\n-- 1,11,12\nSELECT * FROM `spots` WHERE (`month` & 4096 = 4096) or (`month` & 2048 = 2048) or (`month` & 1 = 1)\n\n```\n\n","slug":"mysql-bit","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fc002bhpwf0ch5o5be","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>&amp; : 11<br>| : 11.<br>^ : 1010</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$a = 6 2 110</span><br><span class=\"line\">$b = 3 2 11</span><br><span class=\"line\">$a &amp; $b 110  11</span><br><span class=\"line\">$a$b11,0.110  011</span><br><span class=\"line\">010,2</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ol>\n<li>varchar1,2,3,11</li>\n<li>,1-121248163264128512102420484096<br> 1,10,12<code>1+512+4096=4609</code>,4096 </li>\n</ol>\n<blockquote>\n<p><strong></strong>1</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--   |</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> (<span class=\"number\">4</span>|<span class=\"number\">2</span>|<span class=\"number\">1</span>); <span class=\"comment\">--- = 7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ^</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"number\">7</span> ^ <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 3</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">4</span> = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 43252</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span> <span class=\"string\">`month`</span> = <span class=\"string\">`month`</span> | <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`id`</span> = <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span><span class=\"string\">` month`</span> = <span class=\"string\">`month`</span> ^ <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span><span class=\"string\">`id`</span>= <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 111216145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">6145</span> = <span class=\"number\">6145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 1,11,12</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">4096</span> = <span class=\"number\">4096</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">2048</span> = <span class=\"number\">2048</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">1</span> = <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>&amp; : 11<br>| : 11.<br>^ : 1010</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$a = 6 2 110</span><br><span class=\"line\">$b = 3 2 11</span><br><span class=\"line\">$a &amp; $b 110  11</span><br><span class=\"line\">$a$b11,0.110  011</span><br><span class=\"line\">010,2</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ol>\n<li>varchar1,2,3,11</li>\n<li>,1-121248163264128512102420484096<br> 1,10,12<code>1+512+4096=4609</code>,4096 </li>\n</ol>\n<blockquote>\n<p><strong></strong>1</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--   |</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> (<span class=\"number\">4</span>|<span class=\"number\">2</span>|<span class=\"number\">1</span>); <span class=\"comment\">--- = 7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ^</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"number\">7</span> ^ <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 3</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">4</span> = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 43252</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span> <span class=\"string\">`month`</span> = <span class=\"string\">`month`</span> | <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`id`</span> = <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span><span class=\"string\">` month`</span> = <span class=\"string\">`month`</span> ^ <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span><span class=\"string\">`id`</span>= <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 111216145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">6145</span> = <span class=\"number\">6145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 1,11,12</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">4096</span> = <span class=\"number\">4096</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">2048</span> = <span class=\"number\">2048</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">1</span> = <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2016-10-12T13:49:53.000Z","updated":"2016-10-12T13:49:53.000Z","_content":"\n50\n<!--more-->\n\n##### \n persuasion science\n \n \n \n \n \n \n\n\n##### \nsocial proof\n \n \n \n\n##### \n\n\n\n##### VS\n**social norm******\n> \n\n> 12.2\n\n##### \n\n\n\n##### \n\n\n##### \n\n\n##### \n \n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n\n\n##### \n44\n\n##### \n\n\n##### \nps\n\n##### \n8%~10%\n\n##### \n\n\n##### \n\n:\n> :1961\n> :1961\n> :\n> :1961\n\n##### \n\n\n##### \n\n\n##### \n- \n- \n- \n- \n\n##### \n\n\n##### \n\n\n##### \n98%2%\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n:\n\n##### \n\n\n##### \n ****  ****  **** \n:\n>- \n>- \n>- ****\n\n##### \n\n\n##### \n****``\n>\n\n##### \n****\n\n##### \n ****\n\n##### \n> 10%9.8%10.2%\n> 15.58516\n> **\n\n\n:3:47\n\n##### \n****,****\n\n##### \n>:\n\n- 35****\n- 580286286580\n- \n\n##### \n****\n\n> 750\n> 750\n\n750\n\n##### \n\n\n##### \n  \n\n##### \n\n\n##### \n **** ****\n\n##### \n\n\n##### \n2120\n\n##### \n   ****\n\n##### \n\n\n\n\n\n- \n- `\n- \n- \n\n\n\n\n##### \n\n``****** ``\n\n> \n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n******** \n\n##### \n****,\n:\n- \n- \n- \n****\n\n##### \n","source":"_posts/2016/influence.md","raw":"---\ntitle: \ndate: 2016-10-12 21:49:53\nupdated: 2016-10-12 21:49:53\ntags:\n- \ncategories:\n---\n\n50\n<!--more-->\n\n##### \n persuasion science\n \n \n \n \n \n \n\n\n##### \nsocial proof\n \n \n \n\n##### \n\n\n\n##### VS\n**social norm******\n> \n\n> 12.2\n\n##### \n\n\n\n##### \n\n\n##### \n\n\n##### \n \n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n\n\n##### \n44\n\n##### \n\n\n##### \nps\n\n##### \n8%~10%\n\n##### \n\n\n##### \n\n:\n> :1961\n> :1961\n> :\n> :1961\n\n##### \n\n\n##### \n\n\n##### \n- \n- \n- \n- \n\n##### \n\n\n##### \n\n\n##### \n98%2%\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n:\n\n##### \n\n\n##### \n ****  ****  **** \n:\n>- \n>- \n>- ****\n\n##### \n\n\n##### \n****``\n>\n\n##### \n****\n\n##### \n ****\n\n##### \n> 10%9.8%10.2%\n> 15.58516\n> **\n\n\n:3:47\n\n##### \n****,****\n\n##### \n>:\n\n- 35****\n- 580286286580\n- \n\n##### \n****\n\n> 750\n> 750\n\n750\n\n##### \n\n\n##### \n  \n\n##### \n\n\n##### \n **** ****\n\n##### \n\n\n##### \n2120\n\n##### \n   ****\n\n##### \n\n\n\n\n\n- \n- `\n- \n- \n\n\n\n\n##### \n\n``****** ``\n\n> \n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n******** \n\n##### \n****,\n:\n- \n- \n- \n****\n\n##### \n","slug":"influence","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fd002dhpwfnj5sngtj","content":"<p>50<br><a id=\"more\"></a></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> persuasion science<br> <br> <br> <br> <br> <br> <br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>social proof<br> <br> <br> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"VS\"><a href=\"#VS\" class=\"headerlink\" title=\"VS\"></a>VS</h5><p><strong>social norm</strong><em></em><em></em></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p>12.2</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>44</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ps</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>8%~10%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br>:</p>\n<blockquote>\n<p>:1961<br>:1961<br>:<br>:1961</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>98%2%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>:</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong>  <strong></strong>  <strong></strong> <br>:</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n</ul>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>10%9.8%10.2%<br>15.58516<br><em></em></p>\n</blockquote>\n<p><br>:3:47</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>:</p>\n</blockquote>\n<ul>\n<li>35<strong></strong></li>\n<li>580286286580</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><br></p>\n<blockquote>\n<p>750<br>750</p>\n</blockquote>\n<p>750</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>2120</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>   <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<p></p>\n<ul>\n<li></li>\n<li>`</li>\n<li></li>\n<li></li>\n</ul>\n<p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br><code></code><strong></strong><em></em> <code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><strong></strong> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<br>:</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><strong></strong></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n","site":{"data":{}},"excerpt":"<p>50<br>","more":"</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> persuasion science<br> <br> <br> <br> <br> <br> <br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>social proof<br> <br> <br> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"VS\"><a href=\"#VS\" class=\"headerlink\" title=\"VS\"></a>VS</h5><p><strong>social norm</strong><em></em><em></em></p>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p>12.2</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>44</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ps</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>8%~10%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br>:</p>\n<blockquote>\n<p>:1961<br>:1961<br>:<br>:1961</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>98%2%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>:</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong>  <strong></strong>  <strong></strong> <br>:</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n</ul>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>10%9.8%10.2%<br>15.58516<br><em></em></p>\n</blockquote>\n<p><br>:3:47</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>:</p>\n</blockquote>\n<ul>\n<li>35<strong></strong></li>\n<li>580286286580</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><br></p>\n<blockquote>\n<p>750<br>750</p>\n</blockquote>\n<p>750</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>2120</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>   <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<p></p>\n<ul>\n<li></li>\n<li>`</li>\n<li></li>\n<li></li>\n</ul>\n<p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br><code></code><strong></strong><em></em> <code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><strong></strong> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<br>:</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><strong></strong></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>"},{"title":"mysql-cheatsheet","date":"2016-11-02T09:27:11.000Z","updated":"2016-11-02T09:27:11.000Z","_content":"\n### Connect/Disconnect\n\n``` mysql\nmysql -h <host> -u <user> -p<passwd>\nmysql -h <host> -u <user> -p\nEnter password: ********\nmysql -u user -p\nmysql\nmysql -h <host> -u <user> -p <Database>\n```\n<!-- more -->\n### Query\n \n```sql\n SELECT * FROM table\n SELECT * FROM table1, table2, ...\n SELECT field1, field2, ... FROM table1, table2, ...\n SELECT ... FROM ... WHERE condition\n SELECT ... FROM ... WHERE condition GROUP BY field\n SELECT ... FROM ... WHERE condition GROUP BY field HAVING condition2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2 DESC\n SELECT ... FROM ... WHERE condition LIMIT 10\n SELECT DISTINCT field1 FROM ...\n SELECT DISTINCT field1, field2 FROM ...\n\n SELECT ... FROM t1 JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 JOIN (t2 JOIN t3 ON ...) ON ...\n SELECT ... FROM t1 JOIN t2 USING(id) WHERE condition\n \n -- RLIKE|REGEXP\n SELECT * FROM table WHERE column REGEXP '^(A|B|C)'\n SELECT * FROM table WHERE rec RLIKE \"^b$\";  \n -- \n DESCRIBE table [column]\n \n --\n SELECT CURRENT_DATE, (YEAR(CURRENT_DATE)YEAR(date_col)) AS time_diff [FROM table]; \n\n```\n\n### Conditionals\n \n```\n field1 = value1\n field1 <> value1\n field1 LIKE 'value _ %'\n field1 IS NULL\n field1 IS NOT NULL\n field1 IN (value1, value2)\n field1 NOT IN (value1, value2)\n condition1 AND condition2\n condition1 OR condition2\n```\n###  table Index\n\n\n```\nCREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)\nDROP INDEX index_name\n\n```\n\n### Data Manipulation\n \n```\n INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)\n INSERT table1 SET field1=value_1, field2=value_2 ...\n\n LOAD DATA INFILE '/tmp/mydata.txt' INTO TABLE table1\n FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"' ESCAPED BY '\\\\'\n\n DELETE FROM table1 / TRUNCATE table1\n DELETE FROM table1 WHERE condition\n -- join:\n DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition\n\n UPDATE table1 SET field1=new_value1 WHERE condition\n -- join:\n UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...\n WHERE table1.id1 = table2.id2 AND condition\n```\n\n### Browsing\n \n```\n SHOW DATABASES\n SHOW TABLES\n SHOW FIELDS FROM table\n -- \n SHOW COLUMNS FROM table \n DESCRIBE table \n DESC table \n EXPLAIN table\n \n SHOW CREATE TABLE table\n SHOW CREATE TRIGGER trigger\n SHOW TRIGGERS LIKE '%update%'\n SHOW PROCESSLIST\n KILL process_number\n SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = '**yourdbname**';\n \n mysqlshow\n mysqlshow database\n \n SELECT current_database()\n```\n\n### Create / delete / select / alter database\n \n```\nCREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]\n CREATE DATABASE mabase CHARACTER SET utf8\n DROP DATABASE mabase\n USE mabase\n\n ALTER DATABASE mabase CHARACTER SET utf8\n```\n\n### Create table\n\n```\nCREATE TABLE table (field1 type1, field2 type2, ...)\n CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)\n CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))\n CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,\n   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)\n     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]\n     [ON DELETE] [CASCADE|SET NULL|RESTRICT])\n CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,\n   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))\n CREATE TABLE table IF NOT EXISTS (...)\n\n CREATE TABLE new_tbl_name LIKE tbl_name\n   [SELECT ... FROM tbl_name ...]\n\n CREATE TEMPORARY TABLE table (...)\n\n CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name\n ```\n### delete table\n\n\n```\nDROP TABLE table\n DROP TABLE IF EXISTS table\n DROP TABLE table1, table2, ...\n DROP TEMPORARY TABLE table\n```\n\n\n### modify table\n\n```\n ALTER TABLE table MODIFY field1 type1 \n ALTER TABLE table MODIFY field1 type1 NOT NULL ... \n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...\n ALTER TABLE table ALTER field1 SET DEFAULT ...\n ALTER TABLE table ALTER field1 DROP DEFAULT\n ALTER TABLE table ADD new_name_field1 type1\n ALTER TABLE table ADD new_name_field1 type1 FIRST\n ALTER TABLE table ADD new_name_field1 type1 AFTER another_field\n ALTER TABLE table DROP field1\n ALTER TABLE table ADD INDEX (field);\n ALTER TABLE table ADD PRIMARY KEY (field);\n\n -- Change field order:\n ALTER TABLE table MODIFY field1 type1 FIRST\n ALTER TABLE table MODIFY field1 type1 AFTER another_field\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field\n\n ALTER TABLE old_name RENAME new_name;\nKeys\n CREATE TABLE table (..., PRIMARY KEY (field1, field2))\n CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))\n ALTER TABLE table ADD PRIMARY KEY (field);\n ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);\n \n```\n### create/modify/drop view\n```\n CREATE VIEW view AS SELECT ... FROM table WHERE ...\n```\n\n### Privileges\n \n```\nCREATE USER 'user'@'localhost' IDENTIFIED BY 'password';\n\n GRANT ALL PRIVILEGES ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n GRANT SELECT, INSERT, DELETE ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n REVOKE ALL PRIVILEGES ON base.* FROM 'user'@'host'; -- one permission only\n REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'user'@'host'; -- all permissions\n\n SET PASSWORD = PASSWORD('new_pass')\n SET PASSWORD FOR 'user'@'host' = PASSWORD('new_pass')\n SET PASSWORD = OLD_PASSWORD('new_pass')\n\n DROP USER 'user'@'host'\n```\n\n### Main data types\n\n```\nTINYINT   (1o: -127+128) \nSMALLINT  (2o: +-65 000)\nMEDIUMINT (3o: +-16 000 000) \nINT       (4o: +-2 000 000 000)\nBIGINT    (8o: +-9.10^18)\n  Precise interval: -(2^(8*N-1)) -> (2^8*N)-1\n  /!\\ INT(2) = \"2 digits displayed\" -- NOT \"number with 2 digits max\"\nINT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK\nFLOAT(M,D) DOUBLE(M,D) FLOAT(D=0->53) \n  /!\\ 8,3 -> 12345,678 -- NOT 12345678,123!\nTIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000->9999)\n  TIMESTAMP (like DATETIME, but 1970->2038, compatible with Unix)\nVARCHAR (single-line; explicit size)  \nTEXT (multi-lines; max size=65535) \nBLOB (binary; max size=65535)\n  Variants for TEXT&BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)\n Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT\nENUM ('value1', 'value2', ...) -- (default NULL, or '' if NOT NULL)\n```\n\n### Forgot root password?\n\n```\n$ /etc/init.d/mysql stop\n$ mysqld_safe --skip-grant-tables &\n$ mysql # on another terminal\nmysql > UPDATE mysql.user SET password=PASSWORD('nouveau') WHERE user='root';\n## Kill mysqld_safe from the terminal, using Control + \\\n$ /etc/init.d/mysql start\n```\n\n### Repair tables after unclean shutdown\n\n```\nmysqlcheck --all-databases\nmysqlcheck --all-databases --fast\n```\n\n\n\n### Loading data\n\n```sql\nmysql> SOURCE input_file\nmysql -uroot database < filename-20120201.sql\n\ncat filename-20120201.sql | mysql database\n\nmysqldump -u [username] -p [database] > data_backup.sql;\n\n-- Load tabdelimited data into a table (Use \\n f or NULL)\nLOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;\n```\n","source":"_posts/2016/mysql-cheatsheet.md","raw":"---\ntitle: mysql-cheatsheet\ndate: 2016-11-02 17:27:11\nupdated: 2016-11-02 17:27:11\ntags:\n- mysql\ncategories:\n---\n\n### Connect/Disconnect\n\n``` mysql\nmysql -h <host> -u <user> -p<passwd>\nmysql -h <host> -u <user> -p\nEnter password: ********\nmysql -u user -p\nmysql\nmysql -h <host> -u <user> -p <Database>\n```\n<!-- more -->\n### Query\n \n```sql\n SELECT * FROM table\n SELECT * FROM table1, table2, ...\n SELECT field1, field2, ... FROM table1, table2, ...\n SELECT ... FROM ... WHERE condition\n SELECT ... FROM ... WHERE condition GROUP BY field\n SELECT ... FROM ... WHERE condition GROUP BY field HAVING condition2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2 DESC\n SELECT ... FROM ... WHERE condition LIMIT 10\n SELECT DISTINCT field1 FROM ...\n SELECT DISTINCT field1, field2 FROM ...\n\n SELECT ... FROM t1 JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 JOIN (t2 JOIN t3 ON ...) ON ...\n SELECT ... FROM t1 JOIN t2 USING(id) WHERE condition\n \n -- RLIKE|REGEXP\n SELECT * FROM table WHERE column REGEXP '^(A|B|C)'\n SELECT * FROM table WHERE rec RLIKE \"^b$\";  \n -- \n DESCRIBE table [column]\n \n --\n SELECT CURRENT_DATE, (YEAR(CURRENT_DATE)YEAR(date_col)) AS time_diff [FROM table]; \n\n```\n\n### Conditionals\n \n```\n field1 = value1\n field1 <> value1\n field1 LIKE 'value _ %'\n field1 IS NULL\n field1 IS NOT NULL\n field1 IN (value1, value2)\n field1 NOT IN (value1, value2)\n condition1 AND condition2\n condition1 OR condition2\n```\n###  table Index\n\n\n```\nCREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)\nDROP INDEX index_name\n\n```\n\n### Data Manipulation\n \n```\n INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)\n INSERT table1 SET field1=value_1, field2=value_2 ...\n\n LOAD DATA INFILE '/tmp/mydata.txt' INTO TABLE table1\n FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"' ESCAPED BY '\\\\'\n\n DELETE FROM table1 / TRUNCATE table1\n DELETE FROM table1 WHERE condition\n -- join:\n DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition\n\n UPDATE table1 SET field1=new_value1 WHERE condition\n -- join:\n UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...\n WHERE table1.id1 = table2.id2 AND condition\n```\n\n### Browsing\n \n```\n SHOW DATABASES\n SHOW TABLES\n SHOW FIELDS FROM table\n -- \n SHOW COLUMNS FROM table \n DESCRIBE table \n DESC table \n EXPLAIN table\n \n SHOW CREATE TABLE table\n SHOW CREATE TRIGGER trigger\n SHOW TRIGGERS LIKE '%update%'\n SHOW PROCESSLIST\n KILL process_number\n SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = '**yourdbname**';\n \n mysqlshow\n mysqlshow database\n \n SELECT current_database()\n```\n\n### Create / delete / select / alter database\n \n```\nCREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]\n CREATE DATABASE mabase CHARACTER SET utf8\n DROP DATABASE mabase\n USE mabase\n\n ALTER DATABASE mabase CHARACTER SET utf8\n```\n\n### Create table\n\n```\nCREATE TABLE table (field1 type1, field2 type2, ...)\n CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)\n CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))\n CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,\n   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)\n     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]\n     [ON DELETE] [CASCADE|SET NULL|RESTRICT])\n CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,\n   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))\n CREATE TABLE table IF NOT EXISTS (...)\n\n CREATE TABLE new_tbl_name LIKE tbl_name\n   [SELECT ... FROM tbl_name ...]\n\n CREATE TEMPORARY TABLE table (...)\n\n CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name\n ```\n### delete table\n\n\n```\nDROP TABLE table\n DROP TABLE IF EXISTS table\n DROP TABLE table1, table2, ...\n DROP TEMPORARY TABLE table\n```\n\n\n### modify table\n\n```\n ALTER TABLE table MODIFY field1 type1 \n ALTER TABLE table MODIFY field1 type1 NOT NULL ... \n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...\n ALTER TABLE table ALTER field1 SET DEFAULT ...\n ALTER TABLE table ALTER field1 DROP DEFAULT\n ALTER TABLE table ADD new_name_field1 type1\n ALTER TABLE table ADD new_name_field1 type1 FIRST\n ALTER TABLE table ADD new_name_field1 type1 AFTER another_field\n ALTER TABLE table DROP field1\n ALTER TABLE table ADD INDEX (field);\n ALTER TABLE table ADD PRIMARY KEY (field);\n\n -- Change field order:\n ALTER TABLE table MODIFY field1 type1 FIRST\n ALTER TABLE table MODIFY field1 type1 AFTER another_field\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field\n\n ALTER TABLE old_name RENAME new_name;\nKeys\n CREATE TABLE table (..., PRIMARY KEY (field1, field2))\n CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))\n ALTER TABLE table ADD PRIMARY KEY (field);\n ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);\n \n```\n### create/modify/drop view\n```\n CREATE VIEW view AS SELECT ... FROM table WHERE ...\n```\n\n### Privileges\n \n```\nCREATE USER 'user'@'localhost' IDENTIFIED BY 'password';\n\n GRANT ALL PRIVILEGES ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n GRANT SELECT, INSERT, DELETE ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n REVOKE ALL PRIVILEGES ON base.* FROM 'user'@'host'; -- one permission only\n REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'user'@'host'; -- all permissions\n\n SET PASSWORD = PASSWORD('new_pass')\n SET PASSWORD FOR 'user'@'host' = PASSWORD('new_pass')\n SET PASSWORD = OLD_PASSWORD('new_pass')\n\n DROP USER 'user'@'host'\n```\n\n### Main data types\n\n```\nTINYINT   (1o: -127+128) \nSMALLINT  (2o: +-65 000)\nMEDIUMINT (3o: +-16 000 000) \nINT       (4o: +-2 000 000 000)\nBIGINT    (8o: +-9.10^18)\n  Precise interval: -(2^(8*N-1)) -> (2^8*N)-1\n  /!\\ INT(2) = \"2 digits displayed\" -- NOT \"number with 2 digits max\"\nINT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK\nFLOAT(M,D) DOUBLE(M,D) FLOAT(D=0->53) \n  /!\\ 8,3 -> 12345,678 -- NOT 12345678,123!\nTIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000->9999)\n  TIMESTAMP (like DATETIME, but 1970->2038, compatible with Unix)\nVARCHAR (single-line; explicit size)  \nTEXT (multi-lines; max size=65535) \nBLOB (binary; max size=65535)\n  Variants for TEXT&BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)\n Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT\nENUM ('value1', 'value2', ...) -- (default NULL, or '' if NOT NULL)\n```\n\n### Forgot root password?\n\n```\n$ /etc/init.d/mysql stop\n$ mysqld_safe --skip-grant-tables &\n$ mysql # on another terminal\nmysql > UPDATE mysql.user SET password=PASSWORD('nouveau') WHERE user='root';\n## Kill mysqld_safe from the terminal, using Control + \\\n$ /etc/init.d/mysql start\n```\n\n### Repair tables after unclean shutdown\n\n```\nmysqlcheck --all-databases\nmysqlcheck --all-databases --fast\n```\n\n\n\n### Loading data\n\n```sql\nmysql> SOURCE input_file\nmysql -uroot database < filename-20120201.sql\n\ncat filename-20120201.sql | mysql database\n\nmysqldump -u [username] -p [database] > data_backup.sql;\n\n-- Load tabdelimited data into a table (Use \\n f or NULL)\nLOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;\n```\n","slug":"mysql-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fe002ehpwfdohzeh9i","content":"<h3 id=\"Connect-Disconnect\"><a href=\"#Connect-Disconnect\" class=\"headerlink\" title=\"Connect/Disconnect\"></a>Connect/Disconnect</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p&lt;passwd&gt;</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p</span><br><span class=\"line\">Enter password: ********</span><br><span class=\"line\">mysql -u user -p</span><br><span class=\"line\">mysql</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p &lt;Database&gt;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"Query\"><a href=\"#Query\" class=\"headerlink\" title=\"Query\"></a>Query</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> field1, field2, ... <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span> <span class=\"keyword\">HAVING</span> condition2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2 <span class=\"keyword\">DESC</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">LIMIT</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1, field2 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> (t2 <span class=\"keyword\">JOIN</span> t3 <span class=\"keyword\">ON</span> ...) <span class=\"keyword\">ON</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">USING</span>(<span class=\"keyword\">id</span>) <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- RLIKE|REGEXP</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> <span class=\"keyword\">column</span> REGEXP <span class=\"string\">'^(A|B|C)'</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> rec <span class=\"keyword\">RLIKE</span> <span class=\"string\">\"^b$\"</span>;  </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">DESCRIBE</span> <span class=\"keyword\">table</span> [<span class=\"keyword\">column</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">CURRENT_DATE</span>, (<span class=\"keyword\">YEAR</span>(<span class=\"keyword\">CURRENT_DATE</span>)<span class=\"keyword\">YEAR</span>(date_col)) <span class=\"keyword\">AS</span> time_diff [<span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span>];</span><br></pre></td></tr></table></figure>\n<h3 id=\"Conditionals\"><a href=\"#Conditionals\" class=\"headerlink\" title=\"Conditionals\"></a>Conditionals</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">field1 = value1</span><br><span class=\"line\">field1 &lt;&gt; value1</span><br><span class=\"line\">field1 LIKE &apos;value _ %&apos;</span><br><span class=\"line\">field1 IS NULL</span><br><span class=\"line\">field1 IS NOT NULL</span><br><span class=\"line\">field1 IN (value1, value2)</span><br><span class=\"line\">field1 NOT IN (value1, value2)</span><br><span class=\"line\">condition1 AND condition2</span><br><span class=\"line\">condition1 OR condition2</span><br></pre></td></tr></table></figure>\n<h3 id=\"table-Index\"><a href=\"#table-Index\" class=\"headerlink\" title=\"table Index\"></a>table Index</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)</span><br><span class=\"line\">DROP INDEX index_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"Data-Manipulation\"><a href=\"#Data-Manipulation\" class=\"headerlink\" title=\"Data Manipulation\"></a>Data Manipulation</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)</span><br><span class=\"line\">INSERT table1 SET field1=value_1, field2=value_2 ...</span><br><span class=\"line\"></span><br><span class=\"line\">LOAD DATA INFILE &apos;/tmp/mydata.txt&apos; INTO TABLE table1</span><br><span class=\"line\">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\\\&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">DELETE FROM table1 / TRUNCATE table1</span><br><span class=\"line\">DELETE FROM table1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE table1 SET field1=new_value1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...</span><br><span class=\"line\">WHERE table1.id1 = table2.id2 AND condition</span><br></pre></td></tr></table></figure>\n<h3 id=\"Browsing\"><a href=\"#Browsing\" class=\"headerlink\" title=\"Browsing\"></a>Browsing</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW DATABASES</span><br><span class=\"line\">SHOW TABLES</span><br><span class=\"line\">SHOW FIELDS FROM table</span><br><span class=\"line\">-- </span><br><span class=\"line\">SHOW COLUMNS FROM table </span><br><span class=\"line\">DESCRIBE table </span><br><span class=\"line\">DESC table </span><br><span class=\"line\">EXPLAIN table</span><br><span class=\"line\"></span><br><span class=\"line\">SHOW CREATE TABLE table</span><br><span class=\"line\">SHOW CREATE TRIGGER trigger</span><br><span class=\"line\">SHOW TRIGGERS LIKE &apos;%update%&apos;</span><br><span class=\"line\">SHOW PROCESSLIST</span><br><span class=\"line\">KILL process_number</span><br><span class=\"line\">SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &apos;**yourdbname**&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqlshow</span><br><span class=\"line\">mysqlshow database</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT current_database()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-delete-select-alter-database\"><a href=\"#Create-delete-select-alter-database\" class=\"headerlink\" title=\"Create / delete / select / alter database\"></a>Create / delete / select / alter database</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]</span><br><span class=\"line\"> CREATE DATABASE mabase CHARACTER SET utf8</span><br><span class=\"line\"> DROP DATABASE mabase</span><br><span class=\"line\"> USE mabase</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER DATABASE mabase CHARACTER SET utf8</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-table\"><a href=\"#Create-table\" class=\"headerlink\" title=\"Create table\"></a>Create table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE table (field1 type1, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)</span><br><span class=\"line\">     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]</span><br><span class=\"line\">     [ON DELETE] [CASCADE|SET NULL|RESTRICT])</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))</span><br><span class=\"line\"> CREATE TABLE table IF NOT EXISTS (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TABLE new_tbl_name LIKE tbl_name</span><br><span class=\"line\">   [SELECT ... FROM tbl_name ...]</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TEMPORARY TABLE table (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"delete-table\"><a href=\"#delete-table\" class=\"headerlink\" title=\"delete table\"></a>delete table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE table</span><br><span class=\"line\"> DROP TABLE IF EXISTS table</span><br><span class=\"line\"> DROP TABLE table1, table2, ...</span><br><span class=\"line\"> DROP TEMPORARY TABLE table</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-table\"><a href=\"#modify-table\" class=\"headerlink\" title=\"modify table\"></a>modify table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 </span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 NOT NULL ... </span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 SET DEFAULT ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 DROP DEFAULT</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table DROP field1</span><br><span class=\"line\"> ALTER TABLE table ADD INDEX (field);</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"></span><br><span class=\"line\"> -- Change field order:</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER TABLE old_name RENAME new_name;</span><br><span class=\"line\">Keys</span><br><span class=\"line\"> CREATE TABLE table (..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"> ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-modify-drop-view\"><a href=\"#create-modify-drop-view\" class=\"headerlink\" title=\"create/modify/drop view\"></a>create/modify/drop view</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE VIEW view AS SELECT ... FROM table WHERE ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"Privileges\"><a href=\"#Privileges\" class=\"headerlink\" title=\"Privileges\"></a>Privileges</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE USER &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> GRANT ALL PRIVILEGES ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> GRANT SELECT, INSERT, DELETE ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES ON base.* FROM &apos;user&apos;@&apos;host&apos;; -- one permission only</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES, GRANT OPTION FROM &apos;user&apos;@&apos;host&apos;; -- all permissions</span><br><span class=\"line\"></span><br><span class=\"line\"> SET PASSWORD = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD FOR &apos;user&apos;@&apos;host&apos; = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD = OLD_PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\"> DROP USER &apos;user&apos;@&apos;host&apos;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Main-data-types\"><a href=\"#Main-data-types\" class=\"headerlink\" title=\"Main data types\"></a>Main data types</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TINYINT   (1o: -127+128) </span><br><span class=\"line\">SMALLINT  (2o: +-65 000)</span><br><span class=\"line\">MEDIUMINT (3o: +-16 000 000) </span><br><span class=\"line\">INT       (4o: +-2 000 000 000)</span><br><span class=\"line\">BIGINT    (8o: +-9.10^18)</span><br><span class=\"line\">  Precise interval: -(2^(8*N-1)) -&gt; (2^8*N)-1</span><br><span class=\"line\">  /!\\ INT(2) = &quot;2 digits displayed&quot; -- NOT &quot;number with 2 digits max&quot;</span><br><span class=\"line\">INT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK</span><br><span class=\"line\">FLOAT(M,D) DOUBLE(M,D) FLOAT(D=0-&gt;53) </span><br><span class=\"line\">  /!\\ 8,3 -&gt; 12345,678 -- NOT 12345678,123!</span><br><span class=\"line\">TIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000-&gt;9999)</span><br><span class=\"line\">  TIMESTAMP (like DATETIME, but 1970-&gt;2038, compatible with Unix)</span><br><span class=\"line\">VARCHAR (single-line; explicit size)  </span><br><span class=\"line\">TEXT (multi-lines; max size=65535) </span><br><span class=\"line\">BLOB (binary; max size=65535)</span><br><span class=\"line\">  Variants for TEXT&amp;BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)</span><br><span class=\"line\"> Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT</span><br><span class=\"line\">ENUM (&apos;value1&apos;, &apos;value2&apos;, ...) -- (default NULL, or &apos;&apos; if NOT NULL)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Forgot-root-password\"><a href=\"#Forgot-root-password\" class=\"headerlink\" title=\"Forgot root password?\"></a>Forgot root password?</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /etc/init.d/mysql stop</span><br><span class=\"line\">$ mysqld_safe --skip-grant-tables &amp;</span><br><span class=\"line\">$ mysql # on another terminal</span><br><span class=\"line\">mysql &gt; UPDATE mysql.user SET password=PASSWORD(&apos;nouveau&apos;) WHERE user=&apos;root&apos;;</span><br><span class=\"line\">## Kill mysqld_safe from the terminal, using Control + \\</span><br><span class=\"line\">$ /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>\n<h3 id=\"Repair-tables-after-unclean-shutdown\"><a href=\"#Repair-tables-after-unclean-shutdown\" class=\"headerlink\" title=\"Repair tables after unclean shutdown\"></a>Repair tables after unclean shutdown</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlcheck --all-databases</span><br><span class=\"line\">mysqlcheck --all-databases --fast</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loading-data\"><a href=\"#Loading-data\" class=\"headerlink\" title=\"Loading data\"></a>Loading data</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SOURCE input_file</span><br><span class=\"line\">mysql -uroot database &lt; filename-20120201.sql</span><br><span class=\"line\"></span><br><span class=\"line\">cat filename-20120201.sql | mysql database</span><br><span class=\"line\"></span><br><span class=\"line\">mysqldump -u [username] -p [database] &gt; data_backup.sql;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Load tabdelimited data into a table (Use \\n f or NULL)</span></span><br><span class=\"line\"><span class=\"keyword\">LOAD</span> <span class=\"keyword\">DATA</span> <span class=\"keyword\">LOCAL</span> <span class=\"keyword\">INFILE</span> <span class=\"string\">\"infile.txt\"</span> <span class=\"keyword\">INTO</span> <span class=\"keyword\">TABLE</span> table_name;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Connect-Disconnect\"><a href=\"#Connect-Disconnect\" class=\"headerlink\" title=\"Connect/Disconnect\"></a>Connect/Disconnect</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p&lt;passwd&gt;</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p</span><br><span class=\"line\">Enter password: ********</span><br><span class=\"line\">mysql -u user -p</span><br><span class=\"line\">mysql</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p &lt;Database&gt;</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"Query\"><a href=\"#Query\" class=\"headerlink\" title=\"Query\"></a>Query</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> field1, field2, ... <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span> <span class=\"keyword\">HAVING</span> condition2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2 <span class=\"keyword\">DESC</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">LIMIT</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1, field2 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> (t2 <span class=\"keyword\">JOIN</span> t3 <span class=\"keyword\">ON</span> ...) <span class=\"keyword\">ON</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">USING</span>(<span class=\"keyword\">id</span>) <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- RLIKE|REGEXP</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> <span class=\"keyword\">column</span> REGEXP <span class=\"string\">'^(A|B|C)'</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> rec <span class=\"keyword\">RLIKE</span> <span class=\"string\">\"^b$\"</span>;  </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">DESCRIBE</span> <span class=\"keyword\">table</span> [<span class=\"keyword\">column</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">CURRENT_DATE</span>, (<span class=\"keyword\">YEAR</span>(<span class=\"keyword\">CURRENT_DATE</span>)<span class=\"keyword\">YEAR</span>(date_col)) <span class=\"keyword\">AS</span> time_diff [<span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span>];</span><br></pre></td></tr></table></figure>\n<h3 id=\"Conditionals\"><a href=\"#Conditionals\" class=\"headerlink\" title=\"Conditionals\"></a>Conditionals</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">field1 = value1</span><br><span class=\"line\">field1 &lt;&gt; value1</span><br><span class=\"line\">field1 LIKE &apos;value _ %&apos;</span><br><span class=\"line\">field1 IS NULL</span><br><span class=\"line\">field1 IS NOT NULL</span><br><span class=\"line\">field1 IN (value1, value2)</span><br><span class=\"line\">field1 NOT IN (value1, value2)</span><br><span class=\"line\">condition1 AND condition2</span><br><span class=\"line\">condition1 OR condition2</span><br></pre></td></tr></table></figure>\n<h3 id=\"table-Index\"><a href=\"#table-Index\" class=\"headerlink\" title=\"table Index\"></a>table Index</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)</span><br><span class=\"line\">DROP INDEX index_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"Data-Manipulation\"><a href=\"#Data-Manipulation\" class=\"headerlink\" title=\"Data Manipulation\"></a>Data Manipulation</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)</span><br><span class=\"line\">INSERT table1 SET field1=value_1, field2=value_2 ...</span><br><span class=\"line\"></span><br><span class=\"line\">LOAD DATA INFILE &apos;/tmp/mydata.txt&apos; INTO TABLE table1</span><br><span class=\"line\">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\\\&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">DELETE FROM table1 / TRUNCATE table1</span><br><span class=\"line\">DELETE FROM table1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE table1 SET field1=new_value1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...</span><br><span class=\"line\">WHERE table1.id1 = table2.id2 AND condition</span><br></pre></td></tr></table></figure>\n<h3 id=\"Browsing\"><a href=\"#Browsing\" class=\"headerlink\" title=\"Browsing\"></a>Browsing</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW DATABASES</span><br><span class=\"line\">SHOW TABLES</span><br><span class=\"line\">SHOW FIELDS FROM table</span><br><span class=\"line\">-- </span><br><span class=\"line\">SHOW COLUMNS FROM table </span><br><span class=\"line\">DESCRIBE table </span><br><span class=\"line\">DESC table </span><br><span class=\"line\">EXPLAIN table</span><br><span class=\"line\"></span><br><span class=\"line\">SHOW CREATE TABLE table</span><br><span class=\"line\">SHOW CREATE TRIGGER trigger</span><br><span class=\"line\">SHOW TRIGGERS LIKE &apos;%update%&apos;</span><br><span class=\"line\">SHOW PROCESSLIST</span><br><span class=\"line\">KILL process_number</span><br><span class=\"line\">SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &apos;**yourdbname**&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqlshow</span><br><span class=\"line\">mysqlshow database</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT current_database()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-delete-select-alter-database\"><a href=\"#Create-delete-select-alter-database\" class=\"headerlink\" title=\"Create / delete / select / alter database\"></a>Create / delete / select / alter database</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]</span><br><span class=\"line\"> CREATE DATABASE mabase CHARACTER SET utf8</span><br><span class=\"line\"> DROP DATABASE mabase</span><br><span class=\"line\"> USE mabase</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER DATABASE mabase CHARACTER SET utf8</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-table\"><a href=\"#Create-table\" class=\"headerlink\" title=\"Create table\"></a>Create table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE table (field1 type1, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)</span><br><span class=\"line\">     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]</span><br><span class=\"line\">     [ON DELETE] [CASCADE|SET NULL|RESTRICT])</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))</span><br><span class=\"line\"> CREATE TABLE table IF NOT EXISTS (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TABLE new_tbl_name LIKE tbl_name</span><br><span class=\"line\">   [SELECT ... FROM tbl_name ...]</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TEMPORARY TABLE table (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"delete-table\"><a href=\"#delete-table\" class=\"headerlink\" title=\"delete table\"></a>delete table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE table</span><br><span class=\"line\"> DROP TABLE IF EXISTS table</span><br><span class=\"line\"> DROP TABLE table1, table2, ...</span><br><span class=\"line\"> DROP TEMPORARY TABLE table</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-table\"><a href=\"#modify-table\" class=\"headerlink\" title=\"modify table\"></a>modify table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 </span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 NOT NULL ... </span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 SET DEFAULT ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 DROP DEFAULT</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table DROP field1</span><br><span class=\"line\"> ALTER TABLE table ADD INDEX (field);</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"></span><br><span class=\"line\"> -- Change field order:</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER TABLE old_name RENAME new_name;</span><br><span class=\"line\">Keys</span><br><span class=\"line\"> CREATE TABLE table (..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"> ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-modify-drop-view\"><a href=\"#create-modify-drop-view\" class=\"headerlink\" title=\"create/modify/drop view\"></a>create/modify/drop view</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE VIEW view AS SELECT ... FROM table WHERE ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"Privileges\"><a href=\"#Privileges\" class=\"headerlink\" title=\"Privileges\"></a>Privileges</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE USER &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> GRANT ALL PRIVILEGES ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> GRANT SELECT, INSERT, DELETE ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES ON base.* FROM &apos;user&apos;@&apos;host&apos;; -- one permission only</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES, GRANT OPTION FROM &apos;user&apos;@&apos;host&apos;; -- all permissions</span><br><span class=\"line\"></span><br><span class=\"line\"> SET PASSWORD = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD FOR &apos;user&apos;@&apos;host&apos; = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD = OLD_PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\"> DROP USER &apos;user&apos;@&apos;host&apos;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Main-data-types\"><a href=\"#Main-data-types\" class=\"headerlink\" title=\"Main data types\"></a>Main data types</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TINYINT   (1o: -127+128) </span><br><span class=\"line\">SMALLINT  (2o: +-65 000)</span><br><span class=\"line\">MEDIUMINT (3o: +-16 000 000) </span><br><span class=\"line\">INT       (4o: +-2 000 000 000)</span><br><span class=\"line\">BIGINT    (8o: +-9.10^18)</span><br><span class=\"line\">  Precise interval: -(2^(8*N-1)) -&gt; (2^8*N)-1</span><br><span class=\"line\">  /!\\ INT(2) = &quot;2 digits displayed&quot; -- NOT &quot;number with 2 digits max&quot;</span><br><span class=\"line\">INT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK</span><br><span class=\"line\">FLOAT(M,D) DOUBLE(M,D) FLOAT(D=0-&gt;53) </span><br><span class=\"line\">  /!\\ 8,3 -&gt; 12345,678 -- NOT 12345678,123!</span><br><span class=\"line\">TIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000-&gt;9999)</span><br><span class=\"line\">  TIMESTAMP (like DATETIME, but 1970-&gt;2038, compatible with Unix)</span><br><span class=\"line\">VARCHAR (single-line; explicit size)  </span><br><span class=\"line\">TEXT (multi-lines; max size=65535) </span><br><span class=\"line\">BLOB (binary; max size=65535)</span><br><span class=\"line\">  Variants for TEXT&amp;BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)</span><br><span class=\"line\"> Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT</span><br><span class=\"line\">ENUM (&apos;value1&apos;, &apos;value2&apos;, ...) -- (default NULL, or &apos;&apos; if NOT NULL)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Forgot-root-password\"><a href=\"#Forgot-root-password\" class=\"headerlink\" title=\"Forgot root password?\"></a>Forgot root password?</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /etc/init.d/mysql stop</span><br><span class=\"line\">$ mysqld_safe --skip-grant-tables &amp;</span><br><span class=\"line\">$ mysql # on another terminal</span><br><span class=\"line\">mysql &gt; UPDATE mysql.user SET password=PASSWORD(&apos;nouveau&apos;) WHERE user=&apos;root&apos;;</span><br><span class=\"line\">## Kill mysqld_safe from the terminal, using Control + \\</span><br><span class=\"line\">$ /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>\n<h3 id=\"Repair-tables-after-unclean-shutdown\"><a href=\"#Repair-tables-after-unclean-shutdown\" class=\"headerlink\" title=\"Repair tables after unclean shutdown\"></a>Repair tables after unclean shutdown</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlcheck --all-databases</span><br><span class=\"line\">mysqlcheck --all-databases --fast</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loading-data\"><a href=\"#Loading-data\" class=\"headerlink\" title=\"Loading data\"></a>Loading data</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SOURCE input_file</span><br><span class=\"line\">mysql -uroot database &lt; filename-20120201.sql</span><br><span class=\"line\"></span><br><span class=\"line\">cat filename-20120201.sql | mysql database</span><br><span class=\"line\"></span><br><span class=\"line\">mysqldump -u [username] -p [database] &gt; data_backup.sql;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Load tabdelimited data into a table (Use \\n f or NULL)</span></span><br><span class=\"line\"><span class=\"keyword\">LOAD</span> <span class=\"keyword\">DATA</span> <span class=\"keyword\">LOCAL</span> <span class=\"keyword\">INFILE</span> <span class=\"string\">\"infile.txt\"</span> <span class=\"keyword\">INTO</span> <span class=\"keyword\">TABLE</span> table_name;</span><br></pre></td></tr></table></figure>"},{"title":"npm-script","date":"2016-11-23T07:07:28.000Z","updated":"2016-11-23T07:07:28.000Z","_content":"\n# npm scripts \n\nNode  npm npm \n\n npm npm scripts\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg)\n\n<!-- more -->\n##  npm \n\t\nnpm `package.json``scripts`\n\n```javascript\n{\n  // ...\n  \"scripts\": {\n    \"build\": \"node build.js\"\n  }\n}\n```\n\n`package.json``scripts``build``node build.js`\n\n`npm run`\n\n```bash\n$ npm run build\n# \n$ node build.js\n```\n\n`package.json` npm \n\n> - \n- `npm run test`\n-  npm \n\n npm `npm run`\n\n```bash\n$ npm run\n```\n\n## \n\nnpm `npm run` Shell Shell  Shell Bash npm \n\n`npm run` Shell`node_modules/.bin``PATH``PATH`\n\n`node_modules/.bin` Mocha`mocha test`\n\n```javascript\n\"test\": \"mocha test\"\n```\n\n\n\n```javascript\n\"test\": \"./node_modules/.bin/mocha test\"\n```\n\n npm  Shell  Node \n\nnpm  Shell `0`npm \n\n## \n\n npm  Shell  Shell \n\n```javascript\n\"lint\": \"jshint *.js\"\n\"lint\": \"jshint **/*.js\"\n```\n\n`*``**`\n\n Shell \n\n```javascript\n\"test\": \"tap test/\\*.js\"\n```\n\n## \n\n npm `--`\n\n```javascript\n\"lint\": \"jshint **.js\"\n```\n\n`npm run lint`\n\n```bash\n$ npm run lint --  --reporter checkstyle > checkstyle.xml\n```\n\n`package.json`\n\n```javascript\n\"lint\": \"jshint **.js\",\n\"lint:checkstyle\": \"npm run lint -- --reporter checkstyle > checkstyle.xml\"\n```\n\n## \n\n npm \n\n`&`\n\n```bash\n$ npm run script1.js & npm run script2.js\n```\n\n`&&`\n\n```bash\n$ npm run script1.js && npm run script2.js\n```\n\n Bash  node [script-runner](https://github.com/paulpflug/script-runner)[npm-run-all](https://github.com/mysticatea/npm-run-all)[redrun](https://github.com/coderaiser/redrun)\n\n## \n\nnpm npm \n\n```javascript\n\"start\": \"node server.js\"\n\"install\": \"node-gyp rebuild\"\n```\n\n`npm run start``node server.js``server.js``npm run install``node-gyp rebuild``binding.gyp`\n\n## \n\nnpm `pre``post``build``prebuild``postbuild`\n\n```javascript\n\"prebuild\": \"echo I run before the build script\",\n\"build\": \"cross-env NODE_ENV=production webpack\",\n\"postbuild\": \"echo I run after the build script\"\n```\n\n`npm run build`\n\n```bash\nnpm run prebuild && npm run build && npm run postbuild\n```\n\n\n\n```javascript\n\"clean\": \"rimraf ./dist && mkdir dist\",\n\"prebuild\": \"npm run clean\",\n\"build\": \"cross-env NODE_ENV=production webpack\"\n```\n\nnpm \n\n> - prepublishpostpublish\n- preinstallpostinstall\n- preuninstallpostuninstall\n- preversionpostversion\n- pretestposttest\n- prestoppoststop\n- prestartpoststart\n- prerestartpostrestart\n\n`pre``post``myscript``premyscript``postmyscript``pre``post``prepretest``postposttest`\n\nnpm `npm_lifecycle_event``pretest``test``posttest``npm scripts`\n\n```javascript\nconst TARGET = process.env.npm_lifecycle_event;\n\nif (TARGET === 'test') {\n  console.log(`Running the test task!`);\n}\n\nif (TARGET === 'pretest') {\n  console.log(`Running the pretest task!`);\n}\n\nif (TARGET === 'posttest') {\n  console.log(`Running the posttest task!`);\n}\n```\n\n`prepublish``npm publish``npm install` npm 4 `prepare``prepublish` npm 5 `prepublish``npm publish`\n\n## \n\n npm \n\n> - `npm start``npm run start`\n- `npm stop``npm run stop`\n- `npm test``npm run test`\n- `npm restart``npm run stop && npm run restart && npm run start`\n\n`npm start``npm stop``npm restart``npm restart``stop``restart``start`\n\n> 1. prerestart\n1. prestop\n1. stop\n1. poststop\n1. restart\n1. prestart\n1. start\n1. poststart\n1. postrestart \n\n## \n\nnpm  npm \n\n`npm_package_`npm `package.json``package.json`\n\n```javascript\n{\n  \"name\": \"foo\", \n  \"version\": \"1.2.5\",\n  \"scripts\": {\n    \"view\": \"node view.js\"\n  }\n}\n```\n\n`npm_package_name``foo``npm_package_version``1.2.5`\n\n```javascript\n// view.js\nconsole.log(process.env.npm_package_name); // foo\nconsole.log(process.env.npm_package_version); // 1.2.5\n```\n\n`process.env``package.json` Bash `$npm_package_name``$npm_package_version`\n\n`npm_package_``package.json`\n\n```javascript\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"xxx\"\n  },\n  scripts: {\n    \"view\": \"echo $npm_package_repository_type\"\n  }\n```\n\n`repository``type``npm_package_repository_type`\n\n\n\n```javascript\n\"scripts\": {\n  \"install\": \"foo.js\"\n}\n```\n\n`npm_package_scripts_install``foo.js`\n\nnpm `npm_config_` npm `npm config get xxx``npm_config_tag`\n\n```javascript\n\"view\": \"echo $npm_config_tag\",\n```\n\n`package.json``config`\n\n```javascript\n{ \n  \"name\" : \"foo\",\n  \"config\" : { \"port\" : \"8080\" },\n  \"scripts\" : { \"start\" : \"node server.js\" }\n}\n```\n\n`npm_package_config_port``8080`\n\n```bash\n$ npm config set foo:port 80\n```\n\n`env`\n\n```javascript\n\"env\": \"env\"\n```\n\n## \n\n```javascript\n// \n\"clean\": \"rimraf dist/*\",\n\n//  HTTP \n\"serve\": \"http-server -p 9090 dist/\",\n\n// \n\"open:dev\": \"opener http://localhost:9090\",\n\n// \n \"livereload\": \"live-reload --port 9091 dist/\",\n\n//  HTML \n\"build:html\": \"jade index.jade > dist/index.html\",\n\n//  CSS \n\"watch:css\": \"watch 'npm run build:css' assets/styles/\",\n\n//  HTML \n\"watch:html\": \"watch 'npm run build:html' assets/html\",\n\n//  Amazon S3\n\"deploy:prod\": \"s3-cli sync ./dist/ s3://example-com/prod-site/\",\n\n//  favicon\n\"build:favicon\": \"node scripts/favicon.js\",\n```\n\n## \n\n- [How to Use npm as a Build Tool](https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/), by Keith Cirkel\n- [Awesome npm scripts](https://github.com/RyanZim/awesome-npm-scripts#articles), by Ryan Zimmerman\n","source":"_posts/2016/npm-script.md","raw":"---\ntitle: npm-script\ndate: 2016-11-23 15:07:28\nupdated: 2016-11-23 15:07:28\ntags:\n- js\ncategories:\n---\n\n# npm scripts \n\nNode  npm npm \n\n npm npm scripts\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg)\n\n<!-- more -->\n##  npm \n\t\nnpm `package.json``scripts`\n\n```javascript\n{\n  // ...\n  \"scripts\": {\n    \"build\": \"node build.js\"\n  }\n}\n```\n\n`package.json``scripts``build``node build.js`\n\n`npm run`\n\n```bash\n$ npm run build\n# \n$ node build.js\n```\n\n`package.json` npm \n\n> - \n- `npm run test`\n-  npm \n\n npm `npm run`\n\n```bash\n$ npm run\n```\n\n## \n\nnpm `npm run` Shell Shell  Shell Bash npm \n\n`npm run` Shell`node_modules/.bin``PATH``PATH`\n\n`node_modules/.bin` Mocha`mocha test`\n\n```javascript\n\"test\": \"mocha test\"\n```\n\n\n\n```javascript\n\"test\": \"./node_modules/.bin/mocha test\"\n```\n\n npm  Shell  Node \n\nnpm  Shell `0`npm \n\n## \n\n npm  Shell  Shell \n\n```javascript\n\"lint\": \"jshint *.js\"\n\"lint\": \"jshint **/*.js\"\n```\n\n`*``**`\n\n Shell \n\n```javascript\n\"test\": \"tap test/\\*.js\"\n```\n\n## \n\n npm `--`\n\n```javascript\n\"lint\": \"jshint **.js\"\n```\n\n`npm run lint`\n\n```bash\n$ npm run lint --  --reporter checkstyle > checkstyle.xml\n```\n\n`package.json`\n\n```javascript\n\"lint\": \"jshint **.js\",\n\"lint:checkstyle\": \"npm run lint -- --reporter checkstyle > checkstyle.xml\"\n```\n\n## \n\n npm \n\n`&`\n\n```bash\n$ npm run script1.js & npm run script2.js\n```\n\n`&&`\n\n```bash\n$ npm run script1.js && npm run script2.js\n```\n\n Bash  node [script-runner](https://github.com/paulpflug/script-runner)[npm-run-all](https://github.com/mysticatea/npm-run-all)[redrun](https://github.com/coderaiser/redrun)\n\n## \n\nnpm npm \n\n```javascript\n\"start\": \"node server.js\"\n\"install\": \"node-gyp rebuild\"\n```\n\n`npm run start``node server.js``server.js``npm run install``node-gyp rebuild``binding.gyp`\n\n## \n\nnpm `pre``post``build``prebuild``postbuild`\n\n```javascript\n\"prebuild\": \"echo I run before the build script\",\n\"build\": \"cross-env NODE_ENV=production webpack\",\n\"postbuild\": \"echo I run after the build script\"\n```\n\n`npm run build`\n\n```bash\nnpm run prebuild && npm run build && npm run postbuild\n```\n\n\n\n```javascript\n\"clean\": \"rimraf ./dist && mkdir dist\",\n\"prebuild\": \"npm run clean\",\n\"build\": \"cross-env NODE_ENV=production webpack\"\n```\n\nnpm \n\n> - prepublishpostpublish\n- preinstallpostinstall\n- preuninstallpostuninstall\n- preversionpostversion\n- pretestposttest\n- prestoppoststop\n- prestartpoststart\n- prerestartpostrestart\n\n`pre``post``myscript``premyscript``postmyscript``pre``post``prepretest``postposttest`\n\nnpm `npm_lifecycle_event``pretest``test``posttest``npm scripts`\n\n```javascript\nconst TARGET = process.env.npm_lifecycle_event;\n\nif (TARGET === 'test') {\n  console.log(`Running the test task!`);\n}\n\nif (TARGET === 'pretest') {\n  console.log(`Running the pretest task!`);\n}\n\nif (TARGET === 'posttest') {\n  console.log(`Running the posttest task!`);\n}\n```\n\n`prepublish``npm publish``npm install` npm 4 `prepare``prepublish` npm 5 `prepublish``npm publish`\n\n## \n\n npm \n\n> - `npm start``npm run start`\n- `npm stop``npm run stop`\n- `npm test``npm run test`\n- `npm restart``npm run stop && npm run restart && npm run start`\n\n`npm start``npm stop``npm restart``npm restart``stop``restart``start`\n\n> 1. prerestart\n1. prestop\n1. stop\n1. poststop\n1. restart\n1. prestart\n1. start\n1. poststart\n1. postrestart \n\n## \n\nnpm  npm \n\n`npm_package_`npm `package.json``package.json`\n\n```javascript\n{\n  \"name\": \"foo\", \n  \"version\": \"1.2.5\",\n  \"scripts\": {\n    \"view\": \"node view.js\"\n  }\n}\n```\n\n`npm_package_name``foo``npm_package_version``1.2.5`\n\n```javascript\n// view.js\nconsole.log(process.env.npm_package_name); // foo\nconsole.log(process.env.npm_package_version); // 1.2.5\n```\n\n`process.env``package.json` Bash `$npm_package_name``$npm_package_version`\n\n`npm_package_``package.json`\n\n```javascript\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"xxx\"\n  },\n  scripts: {\n    \"view\": \"echo $npm_package_repository_type\"\n  }\n```\n\n`repository``type``npm_package_repository_type`\n\n\n\n```javascript\n\"scripts\": {\n  \"install\": \"foo.js\"\n}\n```\n\n`npm_package_scripts_install``foo.js`\n\nnpm `npm_config_` npm `npm config get xxx``npm_config_tag`\n\n```javascript\n\"view\": \"echo $npm_config_tag\",\n```\n\n`package.json``config`\n\n```javascript\n{ \n  \"name\" : \"foo\",\n  \"config\" : { \"port\" : \"8080\" },\n  \"scripts\" : { \"start\" : \"node server.js\" }\n}\n```\n\n`npm_package_config_port``8080`\n\n```bash\n$ npm config set foo:port 80\n```\n\n`env`\n\n```javascript\n\"env\": \"env\"\n```\n\n## \n\n```javascript\n// \n\"clean\": \"rimraf dist/*\",\n\n//  HTTP \n\"serve\": \"http-server -p 9090 dist/\",\n\n// \n\"open:dev\": \"opener http://localhost:9090\",\n\n// \n \"livereload\": \"live-reload --port 9091 dist/\",\n\n//  HTML \n\"build:html\": \"jade index.jade > dist/index.html\",\n\n//  CSS \n\"watch:css\": \"watch 'npm run build:css' assets/styles/\",\n\n//  HTML \n\"watch:html\": \"watch 'npm run build:html' assets/html\",\n\n//  Amazon S3\n\"deploy:prod\": \"s3-cli sync ./dist/ s3://example-com/prod-site/\",\n\n//  favicon\n\"build:favicon\": \"node scripts/favicon.js\",\n```\n\n## \n\n- [How to Use npm as a Build Tool](https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/), by Keith Cirkel\n- [Awesome npm scripts](https://github.com/RyanZim/awesome-npm-scripts#articles), by Ryan Zimmerman\n","slug":"npm-script","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ff002fhpwf5rhzy5qv","content":"<h1 id=\"npm-scripts-\"><a href=\"#npm-scripts-\" class=\"headerlink\" title=\"npm scripts \"></a>npm scripts </h1><p>Node  npm npm </p>\n<p> npm npm scripts</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"-npm-\"><a href=\"#-npm-\" class=\"headerlink\" title=\" npm \"></a> npm </h2><p>npm <code>package.json</code><code>scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"build\"</span>: <span class=\"string\">\"node build.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>scripts</code><code>build</code><code>node build.js</code></p>\n<p><code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run build</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ node build.js</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code> npm </p>\n<blockquote>\n<ul>\n<li></li>\n<li><code>npm run test</code></li>\n<li> npm </li>\n</ul>\n</blockquote>\n<p> npm <code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>npm run</code> Shell Shell  Shell Bash npm </p>\n<p><code>npm run</code> Shell<code>node_modules/.bin</code><code>PATH</code><code>PATH</code></p>\n<p><code>node_modules/.bin</code> Mocha<code>mocha test</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"./node_modules/.bin/mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p> npm  Shell  Node </p>\n<p>npm  Shell <code>0</code>npm </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm  Shell  Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>*</code><code>**</code></p>\n<p> Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm <code>--</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run lint</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<p><code>&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p><code>&amp;&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p> Bash  node <a href=\"https://github.com/paulpflug/script-runner\" target=\"_blank\" rel=\"noopener\">script-runner</a><a href=\"https://github.com/mysticatea/npm-run-all\" target=\"_blank\" rel=\"noopener\">npm-run-all</a><a href=\"https://github.com/coderaiser/redrun\" target=\"_blank\" rel=\"noopener\">redrun</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm npm </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run start</code><code>node server.js</code><code>server.js</code><code>npm run install</code><code>node-gyp rebuild</code><code>binding.gyp</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>pre</code><code>post</code><code>build</code><code>prebuild</code><code>postbuild</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run build</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n<p>npm </p>\n<blockquote>\n<ul>\n<li>prepublishpostpublish</li>\n<li>preinstallpostinstall</li>\n<li>preuninstallpostuninstall</li>\n<li>preversionpostversion</li>\n<li>pretestposttest</li>\n<li>prestoppoststop</li>\n<li>prestartpoststart</li>\n<li>prerestartpostrestart</li>\n</ul>\n</blockquote>\n<p><code>pre</code><code>post</code><code>myscript</code><code>premyscript</code><code>postmyscript</code><code>pre</code><code>post</code><code>prepretest</code><code>postposttest</code></p>\n<p>npm <code>npm_lifecycle_event</code><code>pretest</code><code>test</code><code>posttest</code><code>npm scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> TARGET = process.env.npm_lifecycle_event;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'test'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the test task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'pretest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the pretest task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'posttest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the posttest task!`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>prepublish</code><code>npm publish</code><code>npm install</code> npm 4 <code>prepare</code><code>prepublish</code> npm 5 <code>prepublish</code><code>npm publish</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<blockquote>\n<ul>\n<li><code>npm start</code><code>npm run start</code></li>\n<li><code>npm stop</code><code>npm run stop</code></li>\n<li><code>npm test</code><code>npm run test</code></li>\n<li><code>npm restart</code><code>npm run stop &amp;&amp; npm run restart &amp;&amp; npm run start</code></li>\n</ul>\n</blockquote>\n<p><code>npm start</code><code>npm stop</code><code>npm restart</code><code>npm restart</code><code>stop</code><code>restart</code><code>start</code></p>\n<blockquote>\n<ol>\n<li>prerestart</li>\n<li>prestop</li>\n<li>stop</li>\n<li>poststop</li>\n<li>restart</li>\n<li>prestart</li>\n<li>start</li>\n<li>poststart</li>\n<li>postrestart </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm  npm </p>\n<p><code>npm_package_</code>npm <code>package.json</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"name\"</span>: <span class=\"string\">\"foo\"</span>, </span><br><span class=\"line\">  <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.2.5\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"view\"</span>: <span class=\"string\">\"node view.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_name</code><code>foo</code><code>npm_package_version</code><code>1.2.5</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view.js</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_name); <span class=\"comment\">// foo</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_version); <span class=\"comment\">// 1.2.5</span></span><br></pre></td></tr></table></figure>\n<p><code>process.env</code><code>package.json</code> Bash <code>$npm_package_name</code><code>$npm_package_version</code></p>\n<p><code>npm_package_</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"repository\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"type\"</span>: <span class=\"string\">\"git\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"url\"</span>: <span class=\"string\">\"xxx\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">scripts: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_package_repository_type\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>repository</code><code>type</code><code>npm_package_repository_type</code></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"install\"</span>: <span class=\"string\">\"foo.js\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_scripts_install</code><code>foo.js</code></p>\n<p>npm <code>npm_config_</code> npm <code>npm config get xxx</code><code>npm_config_tag</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_config_tag\"</span>,</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>config</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; </span><br><span class=\"line\">  <span class=\"string\">\"name\"</span> : <span class=\"string\">\"foo\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"config\"</span> : &#123; <span class=\"string\">\"port\"</span> : <span class=\"string\">\"8080\"</span> &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span> : &#123; <span class=\"string\">\"start\"</span> : <span class=\"string\">\"node server.js\"</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_config_port</code><code>8080</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config <span class=\"built_in\">set</span> foo:port 80</span><br></pre></td></tr></table></figure>\n<p><code>env</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf dist/*\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTTP </span></span><br><span class=\"line\"><span class=\"string\">\"serve\"</span>: <span class=\"string\">\"http-server -p 9090 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"open:dev\"</span>: <span class=\"string\">\"opener http://localhost:9090\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"string\">\"livereload\"</span>: <span class=\"string\">\"live-reload --port 9091 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"build:html\"</span>: <span class=\"string\">\"jade index.jade &gt; dist/index.html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  CSS </span></span><br><span class=\"line\"><span class=\"string\">\"watch:css\"</span>: <span class=\"string\">\"watch 'npm run build:css' assets/styles/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"watch:html\"</span>: <span class=\"string\">\"watch 'npm run build:html' assets/html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Amazon S3</span></span><br><span class=\"line\"><span class=\"string\">\"deploy:prod\"</span>: <span class=\"string\">\"s3-cli sync ./dist/ s3://example-com/prod-site/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  favicon</span></span><br><span class=\"line\"><span class=\"string\">\"build:favicon\"</span>: <span class=\"string\">\"node scripts/favicon.js\"</span>,</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/\" target=\"_blank\" rel=\"noopener\">How to Use npm as a Build Tool</a>, by Keith Cirkel</li>\n<li><a href=\"https://github.com/RyanZim/awesome-npm-scripts#articles\" target=\"_blank\" rel=\"noopener\">Awesome npm scripts</a>, by Ryan Zimmerman</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"npm-scripts-\"><a href=\"#npm-scripts-\" class=\"headerlink\" title=\"npm scripts \"></a>npm scripts </h1><p>Node  npm npm </p>\n<p> npm npm scripts</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg\" alt=\"\"></p>","more":"<h2 id=\"-npm-\"><a href=\"#-npm-\" class=\"headerlink\" title=\" npm \"></a> npm </h2><p>npm <code>package.json</code><code>scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"build\"</span>: <span class=\"string\">\"node build.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>scripts</code><code>build</code><code>node build.js</code></p>\n<p><code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run build</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ node build.js</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code> npm </p>\n<blockquote>\n<ul>\n<li></li>\n<li><code>npm run test</code></li>\n<li> npm </li>\n</ul>\n</blockquote>\n<p> npm <code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>npm run</code> Shell Shell  Shell Bash npm </p>\n<p><code>npm run</code> Shell<code>node_modules/.bin</code><code>PATH</code><code>PATH</code></p>\n<p><code>node_modules/.bin</code> Mocha<code>mocha test</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"./node_modules/.bin/mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p> npm  Shell  Node </p>\n<p>npm  Shell <code>0</code>npm </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm  Shell  Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>*</code><code>**</code></p>\n<p> Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm <code>--</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run lint</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<p><code>&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p><code>&amp;&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p> Bash  node <a href=\"https://github.com/paulpflug/script-runner\" target=\"_blank\" rel=\"noopener\">script-runner</a><a href=\"https://github.com/mysticatea/npm-run-all\" target=\"_blank\" rel=\"noopener\">npm-run-all</a><a href=\"https://github.com/coderaiser/redrun\" target=\"_blank\" rel=\"noopener\">redrun</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm npm </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run start</code><code>node server.js</code><code>server.js</code><code>npm run install</code><code>node-gyp rebuild</code><code>binding.gyp</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>pre</code><code>post</code><code>build</code><code>prebuild</code><code>postbuild</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run build</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n<p>npm </p>\n<blockquote>\n<ul>\n<li>prepublishpostpublish</li>\n<li>preinstallpostinstall</li>\n<li>preuninstallpostuninstall</li>\n<li>preversionpostversion</li>\n<li>pretestposttest</li>\n<li>prestoppoststop</li>\n<li>prestartpoststart</li>\n<li>prerestartpostrestart</li>\n</ul>\n</blockquote>\n<p><code>pre</code><code>post</code><code>myscript</code><code>premyscript</code><code>postmyscript</code><code>pre</code><code>post</code><code>prepretest</code><code>postposttest</code></p>\n<p>npm <code>npm_lifecycle_event</code><code>pretest</code><code>test</code><code>posttest</code><code>npm scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> TARGET = process.env.npm_lifecycle_event;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'test'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the test task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'pretest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the pretest task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'posttest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the posttest task!`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>prepublish</code><code>npm publish</code><code>npm install</code> npm 4 <code>prepare</code><code>prepublish</code> npm 5 <code>prepublish</code><code>npm publish</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<blockquote>\n<ul>\n<li><code>npm start</code><code>npm run start</code></li>\n<li><code>npm stop</code><code>npm run stop</code></li>\n<li><code>npm test</code><code>npm run test</code></li>\n<li><code>npm restart</code><code>npm run stop &amp;&amp; npm run restart &amp;&amp; npm run start</code></li>\n</ul>\n</blockquote>\n<p><code>npm start</code><code>npm stop</code><code>npm restart</code><code>npm restart</code><code>stop</code><code>restart</code><code>start</code></p>\n<blockquote>\n<ol>\n<li>prerestart</li>\n<li>prestop</li>\n<li>stop</li>\n<li>poststop</li>\n<li>restart</li>\n<li>prestart</li>\n<li>start</li>\n<li>poststart</li>\n<li>postrestart </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm  npm </p>\n<p><code>npm_package_</code>npm <code>package.json</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"name\"</span>: <span class=\"string\">\"foo\"</span>, </span><br><span class=\"line\">  <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.2.5\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"view\"</span>: <span class=\"string\">\"node view.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_name</code><code>foo</code><code>npm_package_version</code><code>1.2.5</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view.js</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_name); <span class=\"comment\">// foo</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_version); <span class=\"comment\">// 1.2.5</span></span><br></pre></td></tr></table></figure>\n<p><code>process.env</code><code>package.json</code> Bash <code>$npm_package_name</code><code>$npm_package_version</code></p>\n<p><code>npm_package_</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"repository\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"type\"</span>: <span class=\"string\">\"git\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"url\"</span>: <span class=\"string\">\"xxx\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">scripts: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_package_repository_type\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>repository</code><code>type</code><code>npm_package_repository_type</code></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"install\"</span>: <span class=\"string\">\"foo.js\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_scripts_install</code><code>foo.js</code></p>\n<p>npm <code>npm_config_</code> npm <code>npm config get xxx</code><code>npm_config_tag</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_config_tag\"</span>,</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>config</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; </span><br><span class=\"line\">  <span class=\"string\">\"name\"</span> : <span class=\"string\">\"foo\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"config\"</span> : &#123; <span class=\"string\">\"port\"</span> : <span class=\"string\">\"8080\"</span> &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span> : &#123; <span class=\"string\">\"start\"</span> : <span class=\"string\">\"node server.js\"</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_config_port</code><code>8080</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config <span class=\"built_in\">set</span> foo:port 80</span><br></pre></td></tr></table></figure>\n<p><code>env</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf dist/*\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTTP </span></span><br><span class=\"line\"><span class=\"string\">\"serve\"</span>: <span class=\"string\">\"http-server -p 9090 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"open:dev\"</span>: <span class=\"string\">\"opener http://localhost:9090\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"string\">\"livereload\"</span>: <span class=\"string\">\"live-reload --port 9091 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"build:html\"</span>: <span class=\"string\">\"jade index.jade &gt; dist/index.html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  CSS </span></span><br><span class=\"line\"><span class=\"string\">\"watch:css\"</span>: <span class=\"string\">\"watch 'npm run build:css' assets/styles/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"watch:html\"</span>: <span class=\"string\">\"watch 'npm run build:html' assets/html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Amazon S3</span></span><br><span class=\"line\"><span class=\"string\">\"deploy:prod\"</span>: <span class=\"string\">\"s3-cli sync ./dist/ s3://example-com/prod-site/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  favicon</span></span><br><span class=\"line\"><span class=\"string\">\"build:favicon\"</span>: <span class=\"string\">\"node scripts/favicon.js\"</span>,</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/\" target=\"_blank\" rel=\"noopener\">How to Use npm as a Build Tool</a>, by Keith Cirkel</li>\n<li><a href=\"https://github.com/RyanZim/awesome-npm-scripts#articles\" target=\"_blank\" rel=\"noopener\">Awesome npm scripts</a>, by Ryan Zimmerman</li>\n</ul>"},{"title":"php-faker","date":"2016-08-19T06:46:49.000Z","updated":"2016-08-19T06:46:49.000Z","_content":"\nFaker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.\n<!--more-->\n### installation\n\n`composer require fzaninotto/faker`\n\n### basic usage\n\n\n\nUse`Faker\\Factory::create()`to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.\n\n```php\n<?php\n\nrequire_once '/path/to/Faker/src/autoload.php';\n$faker = Faker\\Factory::create();\necho $faker->name;\necho $faker->address;\necho $faker->text;\necho $faker->email;\n\n```\n\n`src/Faker/Generator.php` fileimageuuid \n\n[GIthub]: https://github.com/fzaninotto/Faker\n\n### laravel \n\nLaravel artisan  tinker [REPL (read-eval-print-loop)](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)REPL  `php artisan tinker`  fakerTinker  Laravel  REPL[PsySH](http://psysh.org/)`psysh`\n\n\n\n```php\nphp artisan tinker\n//fakerApp\\Userdatabase\\factories\\ModelFactories \nfactory(\"App\\User::class\",10)->create(); \n//\nAPP\\User::all(); \nApp\\User::count();\n//\n$user = new App\\User;\n$user->name = \"Wruce Bayne\";\n$user->email = \"iambatman@savegotham.com\";\n$user->save();\n// \n$user = App\\User::find(1);\n$user->delete();\n\n// doc\ndoc dd\ndoc app\n  \n// \n show <functionName>\n```\n\n\n","source":"_posts/2016/php-faker.md","raw":"---\ntitle: php-faker \ndate: 2016-08-19 14:46:49\nupdated: 2016-08-19 14:46:49\ntags: php\ncategories:\n---\n\nFaker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.\n<!--more-->\n### installation\n\n`composer require fzaninotto/faker`\n\n### basic usage\n\n\n\nUse`Faker\\Factory::create()`to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.\n\n```php\n<?php\n\nrequire_once '/path/to/Faker/src/autoload.php';\n$faker = Faker\\Factory::create();\necho $faker->name;\necho $faker->address;\necho $faker->text;\necho $faker->email;\n\n```\n\n`src/Faker/Generator.php` fileimageuuid \n\n[GIthub]: https://github.com/fzaninotto/Faker\n\n### laravel \n\nLaravel artisan  tinker [REPL (read-eval-print-loop)](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)REPL  `php artisan tinker`  fakerTinker  Laravel  REPL[PsySH](http://psysh.org/)`psysh`\n\n\n\n```php\nphp artisan tinker\n//fakerApp\\Userdatabase\\factories\\ModelFactories \nfactory(\"App\\User::class\",10)->create(); \n//\nAPP\\User::all(); \nApp\\User::count();\n//\n$user = new App\\User;\n$user->name = \"Wruce Bayne\";\n$user->email = \"iambatman@savegotham.com\";\n$user->save();\n// \n$user = App\\User::find(1);\n$user->delete();\n\n// doc\ndoc dd\ndoc app\n  \n// \n show <functionName>\n```\n\n\n","slug":"php-faker","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fk002ihpwfxeb6faih","content":"<p>Faker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.<br><a id=\"more\"></a></p>\n<h3 id=\"installation\"><a href=\"#installation\" class=\"headerlink\" title=\"installation\"></a>installation</h3><p><code>composer require fzaninotto/faker</code></p>\n<h3 id=\"basic-usage\"><a href=\"#basic-usage\" class=\"headerlink\" title=\"basic usage\"></a>basic usage</h3><p>Use <code>Faker\\Factory::create()</code> to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">require_once</span> <span class=\"string\">'/path/to/Faker/src/autoload.php'</span>;</span><br><span class=\"line\">$faker = Faker\\Factory::create();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;name;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;address;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;text;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;email;</span><br></pre></td></tr></table></figure>\n<p><code>src/Faker/Generator.php</code> fileimageuuid </p>\n<h3 id=\"laravel-\"><a href=\"#laravel-\" class=\"headerlink\" title=\"laravel \"></a>laravel </h3><p>Laravel artisan  tinker  <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" target=\"_blank\" rel=\"noopener\">REPL (read-eval-print-loop)</a> REPL  <code>php artisan tinker</code>  fakerTinker  Laravel  REPL <a href=\"http://psysh.org/\" target=\"_blank\" rel=\"noopener\">PsySH</a> <code>psysh</code></p>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">php artisan tinker</span><br><span class=\"line\"><span class=\"comment\">//fakerApp\\Userdatabase\\factories\\ModelFactories </span></span><br><span class=\"line\">factory(<span class=\"string\">\"App\\User::class\"</span>,<span class=\"number\">10</span>)-&gt;create(); </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">APP\\User::all(); </span><br><span class=\"line\">App\\User::count();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">$user = <span class=\"keyword\">new</span> App\\User;</span><br><span class=\"line\">$user-&gt;name = <span class=\"string\">\"Wruce Bayne\"</span>;</span><br><span class=\"line\">$user-&gt;email = <span class=\"string\">\"iambatman@savegotham.com\"</span>;</span><br><span class=\"line\">$user-&gt;save();</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">$user = App\\User::find(<span class=\"number\">1</span>);</span><br><span class=\"line\">$user-&gt;delete();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// doc</span></span><br><span class=\"line\">doc dd</span><br><span class=\"line\">doc app</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> show &lt;functionName&gt;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>Faker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.<br>","more":"</p>\n<h3 id=\"installation\"><a href=\"#installation\" class=\"headerlink\" title=\"installation\"></a>installation</h3><p><code>composer require fzaninotto/faker</code></p>\n<h3 id=\"basic-usage\"><a href=\"#basic-usage\" class=\"headerlink\" title=\"basic usage\"></a>basic usage</h3><p>Use <code>Faker\\Factory::create()</code> to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">require_once</span> <span class=\"string\">'/path/to/Faker/src/autoload.php'</span>;</span><br><span class=\"line\">$faker = Faker\\Factory::create();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;name;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;address;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;text;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;email;</span><br></pre></td></tr></table></figure>\n<p><code>src/Faker/Generator.php</code> fileimageuuid </p>\n<h3 id=\"laravel-\"><a href=\"#laravel-\" class=\"headerlink\" title=\"laravel \"></a>laravel </h3><p>Laravel artisan  tinker  <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" target=\"_blank\" rel=\"noopener\">REPL (read-eval-print-loop)</a> REPL  <code>php artisan tinker</code>  fakerTinker  Laravel  REPL <a href=\"http://psysh.org/\" target=\"_blank\" rel=\"noopener\">PsySH</a> <code>psysh</code></p>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">php artisan tinker</span><br><span class=\"line\"><span class=\"comment\">//fakerApp\\Userdatabase\\factories\\ModelFactories </span></span><br><span class=\"line\">factory(<span class=\"string\">\"App\\User::class\"</span>,<span class=\"number\">10</span>)-&gt;create(); </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">APP\\User::all(); </span><br><span class=\"line\">App\\User::count();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">$user = <span class=\"keyword\">new</span> App\\User;</span><br><span class=\"line\">$user-&gt;name = <span class=\"string\">\"Wruce Bayne\"</span>;</span><br><span class=\"line\">$user-&gt;email = <span class=\"string\">\"iambatman@savegotham.com\"</span>;</span><br><span class=\"line\">$user-&gt;save();</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">$user = App\\User::find(<span class=\"number\">1</span>);</span><br><span class=\"line\">$user-&gt;delete();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// doc</span></span><br><span class=\"line\">doc dd</span><br><span class=\"line\">doc app</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> show &lt;functionName&gt;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2016-07-22T07:48:45.000Z","updated":"2016-07-22T07:48:45.000Z","_content":"![plan](/images/plan/1.png)\n          \n<!--more-->\n **  **\n\n  \n\n\n\n **   **\n\n![plan](/images/plan/8.png)\n\n  \n\n 3  XXL  S \n\n** **   \n\n** **\n\n![plan](/images/plan/2.png)\n  \n\n    \n\n\n\n![plan](/images/plan/3.png)\n## \n Jerry Seinfeld   Don't break the chain!   \n![plan](/images/plan/4.png)\nJerry Seinfeld \n\n  **  **\n\n  \n## \nRoy F. Baumeister Willpower: Rediscovering the Greatest Human Strength**  **\n\nBaumeister ** ** \n\n  2121  21  22 **  **\n\n## \n![plan](/images/plan/5.png)\n**  **\n\n  **   **  **  ** ** ** ** **\n![plan](/images/plan/6.png)\n``\n\n**   **\n\n## \n![plan](/images/plan/7.png)\n** **\n\n  \n\n\n ` ` ** **  `Rhonda Byrne `\n\n{% blockquote Jame Saltucher %}\nImprove the internal fire every day. Be persistent internally, then the external success will take of itself !!!\n\n{% endblockquote %}\n\n***\n\n> [](http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&mid=2650055652&idx=1&sn=e69d8252994229b3b3521f1bc80671ce&scene=21#wechat_redirect)\n","source":"_posts/2016/plan.md","raw":"---\ntitle: \ndate: 2016-07-22 15:48:45\nupdated: 2016-07-22 15:48:45\ntags:\n- \ncategories:\n---\n![plan](/images/plan/1.png)\n          \n<!--more-->\n **  **\n\n  \n\n\n\n **   **\n\n![plan](/images/plan/8.png)\n\n  \n\n 3  XXL  S \n\n** **   \n\n** **\n\n![plan](/images/plan/2.png)\n  \n\n    \n\n\n\n![plan](/images/plan/3.png)\n## \n Jerry Seinfeld   Don't break the chain!   \n![plan](/images/plan/4.png)\nJerry Seinfeld \n\n  **  **\n\n  \n## \nRoy F. Baumeister Willpower: Rediscovering the Greatest Human Strength**  **\n\nBaumeister ** ** \n\n  2121  21  22 **  **\n\n## \n![plan](/images/plan/5.png)\n**  **\n\n  **   **  **  ** ** ** ** **\n![plan](/images/plan/6.png)\n``\n\n**   **\n\n## \n![plan](/images/plan/7.png)\n** **\n\n  \n\n\n ` ` ** **  `Rhonda Byrne `\n\n{% blockquote Jame Saltucher %}\nImprove the internal fire every day. Be persistent internally, then the external success will take of itself !!!\n\n{% endblockquote %}\n\n***\n\n> [](http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&mid=2650055652&idx=1&sn=e69d8252994229b3b3521f1bc80671ce&scene=21#wechat_redirect)\n","slug":"plan","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fm002khpwfs6tnqwjz","content":"<p><img src=\"/images/plan/1.png\" alt=\"plan\"><br>          <br><a id=\"more\"></a><br> <strong>  </strong></p>\n<p>  </p>\n<p></p>\n<p> <strong>   </strong></p>\n<p><img src=\"/images/plan/8.png\" alt=\"plan\"></p>\n<p>  </p>\n<p> 3  XXL  S </p>\n<p><strong> </strong>   </p>\n<p><strong> </strong></p>\n<p><img src=\"/images/plan/2.png\" alt=\"plan\"><br>  </p>\n<p>    </p>\n<p></p>\n<p><img src=\"/images/plan/3.png\" alt=\"plan\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jerry Seinfeld   Dont break the chain!   <br><img src=\"/images/plan/4.png\" alt=\"plan\"><br>Jerry Seinfeld </p>\n<p>  <strong>  </strong></p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Roy F. Baumeister Willpower: Rediscovering the Greatest Human Strength<strong>  </strong></p>\n<p>Baumeister <strong> </strong> </p>\n<p>  2121  21  22 <strong>  </strong></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/5.png\" alt=\"plan\"><br><strong>  </strong></p>\n<p>  <strong>   </strong>  <strong>  </strong> <strong> </strong> <strong> </strong><br><img src=\"/images/plan/6.png\" alt=\"plan\"><br><code></code></p>\n<p><strong>   </strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/7.png\" alt=\"plan\"><br><strong> </strong></p>\n<p>  </p>\n<p><br> <code></code> <strong> </strong>  <code>Rhonda Byrne </code></p>\n<blockquote><p>Improve the internal fire every day. Be persistent internally, then the external success will take of itself !!!<br></p>\n<footer><strong>Jame Saltucher</strong></footer></blockquote>\n<hr>\n<blockquote>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&amp;mid=2650055652&amp;idx=1&amp;sn=e69d8252994229b3b3521f1bc80671ce&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p><img src=\"/images/plan/1.png\" alt=\"plan\"><br>          <br>","more":"<br> <strong>  </strong></p>\n<p>  </p>\n<p></p>\n<p> <strong>   </strong></p>\n<p><img src=\"/images/plan/8.png\" alt=\"plan\"></p>\n<p>  </p>\n<p> 3  XXL  S </p>\n<p><strong> </strong>   </p>\n<p><strong> </strong></p>\n<p><img src=\"/images/plan/2.png\" alt=\"plan\"><br>  </p>\n<p>    </p>\n<p></p>\n<p><img src=\"/images/plan/3.png\" alt=\"plan\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jerry Seinfeld   Dont break the chain!   <br><img src=\"/images/plan/4.png\" alt=\"plan\"><br>Jerry Seinfeld </p>\n<p>  <strong>  </strong></p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Roy F. Baumeister Willpower: Rediscovering the Greatest Human Strength<strong>  </strong></p>\n<p>Baumeister <strong> </strong> </p>\n<p>  2121  21  22 <strong>  </strong></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/5.png\" alt=\"plan\"><br><strong>  </strong></p>\n<p>  <strong>   </strong>  <strong>  </strong> <strong> </strong> <strong> </strong><br><img src=\"/images/plan/6.png\" alt=\"plan\"><br><code></code></p>\n<p><strong>   </strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/7.png\" alt=\"plan\"><br><strong> </strong></p>\n<p>  </p>\n<p><br> <code></code> <strong> </strong>  <code>Rhonda Byrne </code></p>\n<blockquote><p>Improve the internal fire every day. Be persistent internally, then the external success will take of itself !!!<br></p>\n<footer><strong>Jame Saltucher</strong></footer></blockquote>\n<hr>\n<blockquote>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&amp;mid=2650055652&amp;idx=1&amp;sn=e69d8252994229b3b3521f1bc80671ce&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>"},{"title":"","date":"2016-11-23T13:46:52.000Z","updated":"2016-11-23T13:46:52.000Z","_content":"\n### \n\n![](/images/restore-db/master-slave.png)\n\n![](/images/restore-db/master-master.png)\n<!-- more --> \n\n> 1. \n> 2. \n\n\n \n\n\n> 1. \n> 2. \nDBA\n \n ### +\n+\n\n\n ![](/images/restore-db/all_bak.png)\n\nbinlog\n ![](/images/restore-db/inc_bak.png)\n\n1\n2binlog\n3binlog\n\n\n \n\n\n\n \n### 1\n1\n\n1\n111\n\n11\n21binlog\n\n \n\n1\n \n ### 1\n1\n\n1\n1\n\n \n![](/images/restore-db/delay_bak.png)\n\n****\n****2\n \n### \n\n11\n1\n2BI\n3\n\n \n### \nDBA\n1+\n211\n311","source":"_posts/2016/restore-db.md","raw":"---\ntitle: \ndate: 2016-11-23 21:46:52\nupdated: 2016-11-23 21:46:52\ntags:\n- mysql\ncategories:\n---\n\n### \n\n![](/images/restore-db/master-slave.png)\n\n![](/images/restore-db/master-master.png)\n<!-- more --> \n\n> 1. \n> 2. \n\n\n \n\n\n> 1. \n> 2. \nDBA\n \n ### +\n+\n\n\n ![](/images/restore-db/all_bak.png)\n\nbinlog\n ![](/images/restore-db/inc_bak.png)\n\n1\n2binlog\n3binlog\n\n\n \n\n\n\n \n### 1\n1\n\n1\n111\n\n11\n21binlog\n\n \n\n1\n \n ### 1\n1\n\n1\n1\n\n \n![](/images/restore-db/delay_bak.png)\n\n****\n****2\n \n### \n\n11\n1\n2BI\n3\n\n \n### \nDBA\n1+\n211\n311","slug":"restore-db","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fo002nhpwfe6olyzf7","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/restore-db/master-slave.png\" alt=\"\"><br><br><img src=\"/images/restore-db/master-master.png\" alt=\"\"><br><a id=\"more\"></a><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<p><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li><br>DBA</li>\n</ol>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h3><p>+</p>\n<p><br> <img src=\"/images/restore-db/all_bak.png\" alt=\"\"></p>\n<p>binlog<br> <img src=\"/images/restore-db/inc_bak.png\" alt=\"\"><br><br>1<br>2binlog<br>3binlog<br><br></p>\n<p><br><br></p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>111<br><br>11<br>21binlog<br></p>\n<p><br>1</p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>1<br></p>\n<p><img src=\"/images/restore-db/delay_bak.png\" alt=\"\"></p>\n<p><strong></strong><br><strong></strong>2</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>11<br>1<br>2BI<br>3<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DBA<br>1+<br>211<br>311</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/restore-db/master-slave.png\" alt=\"\"><br><br><img src=\"/images/restore-db/master-master.png\" alt=\"\"><br>","more":"<br></p>\n<blockquote>\n<ol>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<p><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li><br>DBA</li>\n</ol>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h3><p>+</p>\n<p><br> <img src=\"/images/restore-db/all_bak.png\" alt=\"\"></p>\n<p>binlog<br> <img src=\"/images/restore-db/inc_bak.png\" alt=\"\"><br><br>1<br>2binlog<br>3binlog<br><br></p>\n<p><br><br></p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>111<br><br>11<br>21binlog<br></p>\n<p><br>1</p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>1<br></p>\n<p><img src=\"/images/restore-db/delay_bak.png\" alt=\"\"></p>\n<p><strong></strong><br><strong></strong>2</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>11<br>1<br>2BI<br>3<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DBA<br>1+<br>211<br>311</p>"},{"title":"running","date":"2016-06-20T07:35:36.000Z","_content":"\n# TIPS\n\n## \n\n34\n<!-- more -->\n## \n\n5\n\n## \n\napp\n\n## \n\n\n\n## \n\n\n\n## \n\n ()23 30\n\n## \n\n\"\"\n\n## \n\n\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n \"\" \"\"\"\"\n\n## \n\n   \n\n## \n\n     \n\n## \n\n \"\"\"\"\n\n## \n\n     \"\" \n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n1\\. \"----\" 2\\.  3\\.  4\\.  5\\.  6\\.  7\\. 7~10\n\n## \n\n8\\. \"\" 9\\. \n\n## \n\n10\\.  11\\.  12\\.  13\\. \n\n## \n\n14\\.  15\\. \n","source":"_posts/2016/running.md","raw":"---\ntitle: running\ndate: 2016-06-20T15:35:36.000Z\ntags:\n  - \ncategories: \n---\n\n# TIPS\n\n## \n\n34\n<!-- more -->\n## \n\n5\n\n## \n\napp\n\n## \n\n\n\n## \n\n\n\n## \n\n ()23 30\n\n## \n\n\"\"\n\n## \n\n\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n \"\" \"\"\"\"\n\n## \n\n   \n\n## \n\n     \n\n## \n\n \"\"\"\"\n\n## \n\n     \"\" \n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n1\\. \"----\" 2\\.  3\\.  4\\.  5\\.  6\\.  7\\. 7~10\n\n## \n\n8\\. \"\" 9\\. \n\n## \n\n10\\.  11\\.  12\\.  13\\. \n\n## \n\n14\\.  15\\. \n","slug":"running","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fp002phpwf45gtliq6","content":"<h1 id=\"TIPS\"><a href=\"#TIPS\" class=\"headerlink\" title=\"TIPS\"></a>TIPS</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>34<br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>5</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()23 30</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>     </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>      </p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.  2.  3.  4.  5.  6.  7. 7~10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8.  9. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10.  11.  12.  13. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>14.  15. </p>\n","site":{"data":{}},"excerpt":"<h1 id=\"TIPS\"><a href=\"#TIPS\" class=\"headerlink\" title=\"TIPS\"></a>TIPS</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>34<br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>5</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()23 30</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>     </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>      </p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.  2.  3.  4.  5.  6.  7. 7~10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8.  9. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10.  11.  12.  13. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>14.  15. </p>"},{"title":"principles()","date":"2016-06-14T16:43:20.000Z","_content":"\n> , \n\n\n# \n1. \n2. \n3. <!-- more -->\n4. \n5. \n6. \n7. \n8. \n9. \n10. , ,\n\n# \n## \n> ``\n> \n\n     \n\n## MindsetAction Pattern\n> - \n> - Google\n> - \n> -   \n> -  \n\n**``****``**\n\n**``** **``****``**\n\n## \n1)\n2   -- *` `*\n\n\n## Meditation\n\n\n### \n  \n\n[how](http://www.wikihow.com/Do-Mindful-Meditation)\n","source":"_posts/2016/principles.md","raw":"---\ntitle: principles()\ndate: 2016-06-15 00:43:20\ntags:\n- \ncategories:\n---\n\n> , \n\n\n# \n1. \n2. \n3. <!-- more -->\n4. \n5. \n6. \n7. \n8. \n9. \n10. , ,\n\n# \n## \n> ``\n> \n\n     \n\n## MindsetAction Pattern\n> - \n> - Google\n> - \n> -   \n> -  \n\n**``****``**\n\n**``** **``****``**\n\n## \n1)\n2   -- *` `*\n\n\n## Meditation\n\n\n### \n  \n\n[how](http://www.wikihow.com/Do-Mindful-Meditation)\n","slug":"principles","published":1,"updated":"2017-06-12T13:53:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fr002shpwf4jem0ded","content":"<blockquote>\n<p>, </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li><a id=\"more\"></a></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>, ,</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><br></p>\n</blockquote>\n<p>     </p>\n<h2 id=\"MindsetAction-Pattern\"><a href=\"#MindsetAction-Pattern\" class=\"headerlink\" title=\"MindsetAction Pattern\"></a>MindsetAction Pattern</h2><blockquote>\n<ul>\n<li></li>\n<li>Google</li>\n<li></li>\n<li>  </li>\n<li> </li>\n</ul>\n</blockquote>\n<p><strong><code></code></strong><strong><code></code></strong></p>\n<p><strong><code></code></strong> <strong><code></code></strong><strong><code></code></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1)<br>2    <em><code> </code></em></p>\n<h2 id=\"Meditation\"><a href=\"#Meditation\" class=\"headerlink\" title=\"Meditation\"></a>Meditation</h2><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  <br><br><a href=\"http://www.wikihow.com/Do-Mindful-Meditation\" target=\"_blank\" rel=\"noopener\">how</a></p>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>, </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li>","more":"</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>, ,</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><br></p>\n</blockquote>\n<p>     </p>\n<h2 id=\"MindsetAction-Pattern\"><a href=\"#MindsetAction-Pattern\" class=\"headerlink\" title=\"MindsetAction Pattern\"></a>MindsetAction Pattern</h2><blockquote>\n<ul>\n<li></li>\n<li>Google</li>\n<li></li>\n<li>  </li>\n<li> </li>\n</ul>\n</blockquote>\n<p><strong><code></code></strong><strong><code></code></strong></p>\n<p><strong><code></code></strong> <strong><code></code></strong><strong><code></code></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1)<br>2    <em><code> </code></em></p>\n<h2 id=\"Meditation\"><a href=\"#Meditation\" class=\"headerlink\" title=\"Meditation\"></a>Meditation</h2><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  <br><br><a href=\"http://www.wikihow.com/Do-Mindful-Meditation\" target=\"_blank\" rel=\"noopener\">how</a></p>"},{"title":"","date":"2016-12-01T05:52:43.000Z","updated":"2016-12-01T05:52:43.000Z","_content":"\n# \n1. imqq\n1. \n1. \n \n> 1\n\n> 1230612306sku[](http://mp.weixin.qq.com/s?src=3&timestamp=1483520302&ver=1&signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==)\n\n\n# \n\n1. 123062000200w0\n\n2. ****2000200w20000.1%99.9%\n \n# \n1. JS\n2. html\n3. \n4. mysql\n \n# \n## APP\n\t- \n\t- JS****x\n\t- APPxAPP80%+\n\n99%firebughttpjsforhttp\n \n## \nforipcookie-iduiduiduid5199%for\n\n5s\n****uidx\nitemx404\n\nhttp\n \nforhttp10w10wuiduid\n \n## \n\n1200010w** **\n** ** \n\n> 1w1wdb\n> 3k3kdb\n> \n \ncachememcachedredis`10w`mis99.9%\n \n:\n> - 1230610889...\n> - 5826``\n> -    \n \n## \n> - 80%\n> - 99.9%\n> - \n\n,db100w00%3k100%\n \n# \n1. \n2. \n\n> - APP\n> - uid\n> - \n> - \n\n# \n- ****50%50%\n- ******/**\n- ****\n- \n- \n- \n- ","source":"_posts/2016/seckill-sys.md","raw":"---\ntitle: \ndate: 2016-12-01 13:52:43\nupdated: 2016-12-01 13:52:43\ntags:\ncategories:\n---\n\n# \n1. imqq\n1. \n1. \n \n> 1\n\n> 1230612306sku[](http://mp.weixin.qq.com/s?src=3&timestamp=1483520302&ver=1&signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==)\n\n\n# \n\n1. 123062000200w0\n\n2. ****2000200w20000.1%99.9%\n \n# \n1. JS\n2. html\n3. \n4. mysql\n \n# \n## APP\n\t- \n\t- JS****x\n\t- APPxAPP80%+\n\n99%firebughttpjsforhttp\n \n## \nforipcookie-iduiduiduid5199%for\n\n5s\n****uidx\nitemx404\n\nhttp\n \nforhttp10w10wuiduid\n \n## \n\n1200010w** **\n** ** \n\n> 1w1wdb\n> 3k3kdb\n> \n \ncachememcachedredis`10w`mis99.9%\n \n:\n> - 1230610889...\n> - 5826``\n> -    \n \n## \n> - 80%\n> - 99.9%\n> - \n\n,db100w00%3k100%\n \n# \n1. \n2. \n\n> - APP\n> - uid\n> - \n> - \n\n# \n- ****50%50%\n- ******/**\n- ****\n- \n- \n- \n- ","slug":"seckill-sys","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fs002uhpwf396yuwhr","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>imqq</li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>1</p>\n</blockquote>\n<blockquote>\n<p>1230612306sku<a href=\"http://mp.weixin.qq.com/s?src=3&amp;timestamp=1483520302&amp;ver=1&amp;signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>123062000200w0</p>\n</li>\n<li><p><strong></strong>2000200w20000.1%99.9%</p>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>JS</li>\n<li>html</li>\n<li></li>\n<li>mysql</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"APP\"><a href=\"#APP\" class=\"headerlink\" title=\"APP\"></a>APP</h2><pre><code>- \n- JS****x\n- APPxAPP80%+\n</code></pre><p>99%firebughttpjsforhttp</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>foripcookie-iduiduiduid5199%for</p>\n<p>5s<br><strong></strong>uidx<br>itemx404</p>\n<p>http</p>\n<p>forhttp10w10wuiduid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1200010w<strong> </strong><br><strong> </strong> </p>\n<blockquote>\n<p>1w1wdb<br>3k3kdb<br></p>\n</blockquote>\n<p>cachememcachedredis<code>10w</code>mis99.9%</p>\n<p>:</p>\n<blockquote>\n<ul>\n<li>1230610889</li>\n<li>5826<code></code></li>\n<li>   </li>\n</ul>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ul>\n<li>80%</li>\n<li>99.9%</li>\n<li></li>\n</ul>\n</blockquote>\n<p>,db100w00%3k100%</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<ul>\n<li>APP</li>\n<li>uid</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong>50%50%</li>\n<li><strong></strong><strong>/</strong></li>\n<li><strong></strong></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>imqq</li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>1</p>\n</blockquote>\n<blockquote>\n<p>1230612306sku<a href=\"http://mp.weixin.qq.com/s?src=3&amp;timestamp=1483520302&amp;ver=1&amp;signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==\" target=\"_blank\" rel=\"noopener\"></a></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>123062000200w0</p>\n</li>\n<li><p><strong></strong>2000200w20000.1%99.9%</p>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>JS</li>\n<li>html</li>\n<li></li>\n<li>mysql</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"APP\"><a href=\"#APP\" class=\"headerlink\" title=\"APP\"></a>APP</h2><pre><code>- \n- JS****x\n- APPxAPP80%+\n</code></pre><p>99%firebughttpjsforhttp</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>foripcookie-iduiduiduid5199%for</p>\n<p>5s<br><strong></strong>uidx<br>itemx404</p>\n<p>http</p>\n<p>forhttp10w10wuiduid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1200010w<strong> </strong><br><strong> </strong> </p>\n<blockquote>\n<p>1w1wdb<br>3k3kdb<br></p>\n</blockquote>\n<p>cachememcachedredis<code>10w</code>mis99.9%</p>\n<p>:</p>\n<blockquote>\n<ul>\n<li>1230610889</li>\n<li>5826<code></code></li>\n<li>   </li>\n</ul>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ul>\n<li>80%</li>\n<li>99.9%</li>\n<li></li>\n</ul>\n</blockquote>\n<p>,db100w00%3k100%</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<ul>\n<li>APP</li>\n<li>uid</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong>50%50%</li>\n<li><strong></strong><strong>/</strong></li>\n<li><strong></strong></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n"},{"title":"shell ","date":"2016-11-09T08:23:13.000Z","updated":"2016-11-09T08:23:13.000Z","_content":"shell\n<!-- more -->\n\n### shellrsync\n\n```bash\n# \n#!/bin/bash\nif [ $1 == \"f\" ]\nthen\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\nelif [ $1 == \"b\" ]\nthen\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\nelif [ $1 == \"a\" ]\nthen\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nelse\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nfi\n\n# .txt \n```\n\nrsync LAN,WANRsyncRsync`rsync --help` \n>- -a, --archive -rlptgoD\n>- -v, --verbose \n>- -P  --partial\n>- --progress \n>- -z, --compress \n>- --exclude=PATTERN \n>- --include=PATTERN \n>- --exclude-from=FILE FILE\n>- --include-from=FILE FILE ,\n>- --delete DSTSRC\n>- --delete-excluded \n>- --delete-after \n\n#### SSH(:)\n```bash\n\tservice sshd start\n\trsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync\n\n\t#rsync?\n\trsync -av --include '*/' --exclude '*' source-dir dest-dir\n```\n\n#### (::)\n##### rsync\n`vim /etc/xinetd.d/rsync` , `disable=yes``disable=no`,`xinetd`\n##### \n`vi /etc/rsyncd.conf`\n```bash\n\tuid=root\n\tgid=root\n\tmax connections=4\n\tlog file=/var/log/rsyncd.log\n\tpid file=/var/run/rsyncd.pid\n\tlock file=/var/run/rsyncd.lock\n\tsecrets file=/etc/rsyncd.passwd\n\thosts deny=172.16.78.0/22\n\n\t[www]\n\tcomment= backup web\n\tpath=/www\n\tread only = no\n\texclude=test\n\tauth users=work\n```\n##### \n```bash\necho \"work:abc123\" > /etc/rsyncd.passwd\nchmod 600 /etc/rsyncd.passwd\n```\n##### ,\n```bash\n\trsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync\n\trsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www\n```\n\n[rsync](https://rsync.samba.org/) , [](https://rsync.samba.org/examples.html)\n\n\n### crontab \n\n```bash\n .---------------- minute (0 - 59)\n |  .------------- hour (0 - 23)\n |  |  .---------- day of month (1 - 31)\n |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n |  |  |  |  |\n *  *  *  *  * user-name command to be executed\n\neg\n0 3 * * * bash /home/demo.sh >> /home/sh.log  # \n8 12 * * 3 bash /data1/auto.sh  # 3128\n0 21 * * 2 scp /data1/{kid_kid_ask_set,kid_period_ask_set} root@192.168.2.3:/data/ #21\n10 14 * * * bash /home/updataRedis.sh >>/home/log/log.txt 2>&1 # 14:10 \n*/1 * * * * curl http://www.xxx.com/test.php  #\n\n```\n### \n\n```bash\n#!/bin/bash \ncd /home/changyuan/test/\nstr=`date '+%Y%m%d%H%M'`\n\nif [ -d $str ] \nthen\n\techo \"exist floder\"\nelse\n\tmkdir $str\nfi\n```\n### shell \n```bash\ntouch online.sh\n\n#!/bin/bash\necho \"Hello World !\"\n\n#\nchmod +x ./online.sh\n\n#\n/bin/sh online.sh\n\n#\nfor file in `ls /etc`\n\nyour_name=\"qinjx\"\necho $your_name\necho ${your_name}\n\n#\nmyUrl=\"http://www.w3cschool.cc\"\nreadonly myUrl\n\n#\nunset variable_name\n\n\n\n#\necho \"\\\"It is a test\\\"\" # \necho -e \"OK! \\n\" # \necho '$name'  # \nstring=\"runoob is a great site\"\necho ${#string} #\necho ${string:1:4} #  unoo\n\necho $string $string1 #\n\necho `expr index \"$string\" is` # isexpr\n\n\n#\narray_name=(value0 value1 value2 value3) #\narray_name[n]=valuen\n\n${array_name[1]} #\n${array_name[@]} , ${array_name[*]}  #\n\n${#array_name[0]} #\n${#array_name[@]}  ${#array_name[*]} #\n\n# \n$0,$1,$2... # \n$#\t #\n$* , $@   #,\"1 2 3\"(1,2,3)\n$$  #ID\n$!  #ID\n\n#   `` \nval=`expr 2 + 2`\n\n#   !  -o (or) -a (and)\n#  && || \n# \n=:   #\n!=:  #\n-z:  #00 true(zero) [ -z $a ]\n-n:  #00 true(no zero) \nstr: #[ $a ]\n\n#\n-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e\n#-c-d-f-r-w-x-s>0,true-eexist\n\n\n# \nread name\necho \"$name It is a test\"\n\nprintf # \n\n#test \n# \nif test $[num1] -eq $[num2]\nthen\n    echo ''\nelse\n    echo ''\nfi\n\nif condition1\nthen\n    command1\nelif condition2 \nthen \n    command2\nelse\n    commandN\nfi\n\n\nfor var in item1 item2 ... itemN\ndo\n    command1\n    command2\n    ...\ndone\n\n\n#!/bin/sh\nint=1\nwhile(( $int<=5 ))\ndo\n        echo $int\n        let \"int++\"\ndone\n\nuntil condition\ndo\n    command\ndone\n\ncase var in\n\t1)\n    command1\n    ;;\n\t2\n    command2\n    ;;\nesac\n\nbreak\ncontinue\n\n# \n[function] demoFun(){\n    echo \"demo\"\n    return ($#,$*); # \n}\n\n#Shell /\n\ncat test.txt > test1.txt\ncat test.txt >> test1.txt\n\n# /dev/null\ncommand > /dev/null #\"\"\n\n#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR\ncommand > /dev/null 2>&1  \n\n\n# \n. ./test1.sh \nsource ./test1.sh\n\n```","source":"_posts/2016/shell.md","raw":"---\ntitle: shell \ndate: 2016-11-09 16:23:13\nupdated: 2016-11-09 16:23:13\ntags:\ncategories:\n---\nshell\n<!-- more -->\n\n### shellrsync\n\n```bash\n# \n#!/bin/bash\nif [ $1 == \"f\" ]\nthen\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\nelif [ $1 == \"b\" ]\nthen\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\nelif [ $1 == \"a\" ]\nthen\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nelse\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nfi\n\n# .txt \n```\n\nrsync LAN,WANRsyncRsync`rsync --help` \n>- -a, --archive -rlptgoD\n>- -v, --verbose \n>- -P  --partial\n>- --progress \n>- -z, --compress \n>- --exclude=PATTERN \n>- --include=PATTERN \n>- --exclude-from=FILE FILE\n>- --include-from=FILE FILE ,\n>- --delete DSTSRC\n>- --delete-excluded \n>- --delete-after \n\n#### SSH(:)\n```bash\n\tservice sshd start\n\trsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync\n\n\t#rsync?\n\trsync -av --include '*/' --exclude '*' source-dir dest-dir\n```\n\n#### (::)\n##### rsync\n`vim /etc/xinetd.d/rsync` , `disable=yes``disable=no`,`xinetd`\n##### \n`vi /etc/rsyncd.conf`\n```bash\n\tuid=root\n\tgid=root\n\tmax connections=4\n\tlog file=/var/log/rsyncd.log\n\tpid file=/var/run/rsyncd.pid\n\tlock file=/var/run/rsyncd.lock\n\tsecrets file=/etc/rsyncd.passwd\n\thosts deny=172.16.78.0/22\n\n\t[www]\n\tcomment= backup web\n\tpath=/www\n\tread only = no\n\texclude=test\n\tauth users=work\n```\n##### \n```bash\necho \"work:abc123\" > /etc/rsyncd.passwd\nchmod 600 /etc/rsyncd.passwd\n```\n##### ,\n```bash\n\trsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync\n\trsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www\n```\n\n[rsync](https://rsync.samba.org/) , [](https://rsync.samba.org/examples.html)\n\n\n### crontab \n\n```bash\n .---------------- minute (0 - 59)\n |  .------------- hour (0 - 23)\n |  |  .---------- day of month (1 - 31)\n |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n |  |  |  |  |\n *  *  *  *  * user-name command to be executed\n\neg\n0 3 * * * bash /home/demo.sh >> /home/sh.log  # \n8 12 * * 3 bash /data1/auto.sh  # 3128\n0 21 * * 2 scp /data1/{kid_kid_ask_set,kid_period_ask_set} root@192.168.2.3:/data/ #21\n10 14 * * * bash /home/updataRedis.sh >>/home/log/log.txt 2>&1 # 14:10 \n*/1 * * * * curl http://www.xxx.com/test.php  #\n\n```\n### \n\n```bash\n#!/bin/bash \ncd /home/changyuan/test/\nstr=`date '+%Y%m%d%H%M'`\n\nif [ -d $str ] \nthen\n\techo \"exist floder\"\nelse\n\tmkdir $str\nfi\n```\n### shell \n```bash\ntouch online.sh\n\n#!/bin/bash\necho \"Hello World !\"\n\n#\nchmod +x ./online.sh\n\n#\n/bin/sh online.sh\n\n#\nfor file in `ls /etc`\n\nyour_name=\"qinjx\"\necho $your_name\necho ${your_name}\n\n#\nmyUrl=\"http://www.w3cschool.cc\"\nreadonly myUrl\n\n#\nunset variable_name\n\n\n\n#\necho \"\\\"It is a test\\\"\" # \necho -e \"OK! \\n\" # \necho '$name'  # \nstring=\"runoob is a great site\"\necho ${#string} #\necho ${string:1:4} #  unoo\n\necho $string $string1 #\n\necho `expr index \"$string\" is` # isexpr\n\n\n#\narray_name=(value0 value1 value2 value3) #\narray_name[n]=valuen\n\n${array_name[1]} #\n${array_name[@]} , ${array_name[*]}  #\n\n${#array_name[0]} #\n${#array_name[@]}  ${#array_name[*]} #\n\n# \n$0,$1,$2... # \n$#\t #\n$* , $@   #,\"1 2 3\"(1,2,3)\n$$  #ID\n$!  #ID\n\n#   `` \nval=`expr 2 + 2`\n\n#   !  -o (or) -a (and)\n#  && || \n# \n=:   #\n!=:  #\n-z:  #00 true(zero) [ -z $a ]\n-n:  #00 true(no zero) \nstr: #[ $a ]\n\n#\n-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e\n#-c-d-f-r-w-x-s>0,true-eexist\n\n\n# \nread name\necho \"$name It is a test\"\n\nprintf # \n\n#test \n# \nif test $[num1] -eq $[num2]\nthen\n    echo ''\nelse\n    echo ''\nfi\n\nif condition1\nthen\n    command1\nelif condition2 \nthen \n    command2\nelse\n    commandN\nfi\n\n\nfor var in item1 item2 ... itemN\ndo\n    command1\n    command2\n    ...\ndone\n\n\n#!/bin/sh\nint=1\nwhile(( $int<=5 ))\ndo\n        echo $int\n        let \"int++\"\ndone\n\nuntil condition\ndo\n    command\ndone\n\ncase var in\n\t1)\n    command1\n    ;;\n\t2\n    command2\n    ;;\nesac\n\nbreak\ncontinue\n\n# \n[function] demoFun(){\n    echo \"demo\"\n    return ($#,$*); # \n}\n\n#Shell /\n\ncat test.txt > test1.txt\ncat test.txt >> test1.txt\n\n# /dev/null\ncommand > /dev/null #\"\"\n\n#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR\ncommand > /dev/null 2>&1  \n\n\n# \n. ./test1.sh \nsource ./test1.sh\n\n```","slug":"shell","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138ft002xhpwf06nqiw0a","content":"<p>shell<br><a id=\"more\"></a></p>\n<h3 id=\"shellrsync\"><a href=\"#shellrsync\" class=\"headerlink\" title=\"shellrsync\"></a>shellrsync</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"f\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"b\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"a\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .txt </span></span><br></pre></td></tr></table></figure>\n<p>rsync LAN,WANRsyncRsync<code>rsync --help</code> </p>\n<blockquote>\n<ul>\n<li>-a, archive -rlptgoD</li>\n<li>-v, verbose </li>\n<li>-P  partial</li>\n<li>progress </li>\n<li>-z, compress </li>\n<li>exclude=PATTERN </li>\n<li>include=PATTERN </li>\n<li>exclude-from=FILE FILE</li>\n<li>include-from=FILE FILE ,</li>\n<li>delete DSTSRC</li>\n<li>delete-excluded </li>\n<li>delete-after </li>\n</ul>\n</blockquote>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH(:)\"></a>SSH(:)</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service sshd start</span><br><span class=\"line\">rsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rsync?</span></span><br><span class=\"line\">rsync -av --include <span class=\"string\">'*/'</span> --exclude <span class=\"string\">'*'</span> <span class=\"built_in\">source</span>-dir dest-dir</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"(::)\"></a>(::)</h4><h5 id=\"rsync\"><a href=\"#rsync\" class=\"headerlink\" title=\"rsync\"></a>rsync</h5><p><code>vim /etc/xinetd.d/rsync</code> , <code>disable=yes</code><code>disable=no</code>,<code>xinetd</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>vi /etc/rsyncd.conf</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uid=root</span><br><span class=\"line\">gid=root</span><br><span class=\"line\">max connections=4</span><br><span class=\"line\"><span class=\"built_in\">log</span> file=/var/<span class=\"built_in\">log</span>/rsyncd.log</span><br><span class=\"line\">pid file=/var/run/rsyncd.pid</span><br><span class=\"line\">lock file=/var/run/rsyncd.lock</span><br><span class=\"line\">secrets file=/etc/rsyncd.passwd</span><br><span class=\"line\">hosts deny=172.16.78.0/22</span><br><span class=\"line\"></span><br><span class=\"line\">[www]</span><br><span class=\"line\">comment= backup web</span><br><span class=\"line\">path=/www</span><br><span class=\"line\"><span class=\"built_in\">read</span> only = no</span><br><span class=\"line\">exclude=<span class=\"built_in\">test</span></span><br><span class=\"line\">auth users=work</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"work:abc123\"</span> &gt; /etc/rsyncd.passwd</span><br><span class=\"line\">chmod 600 /etc/rsyncd.passwd</span><br></pre></td></tr></table></figure>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync</span><br><span class=\"line\">rsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://rsync.samba.org/\" target=\"_blank\" rel=\"noopener\">rsync</a> , <a href=\"https://rsync.samba.org/examples.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"crontab-\"><a href=\"#crontab-\" class=\"headerlink\" title=\"crontab \"></a>crontab </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> .---------------- minute (0 - 59)</span><br><span class=\"line\"> |  .------------- hour (0 - 23)</span><br><span class=\"line\"> |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> |  |  |  |  |</span><br><span class=\"line\"> *  *  *  *  * user-name <span class=\"built_in\">command</span> to be executed</span><br><span class=\"line\"></span><br><span class=\"line\">eg</span><br><span class=\"line\">0 3 * * * bash /home/demo.sh &gt;&gt; /home/sh.log  <span class=\"comment\"># </span></span><br><span class=\"line\">8 12 * * 3 bash /data1/auto.sh  <span class=\"comment\"># 3128</span></span><br><span class=\"line\">0 21 * * 2 scp /data1/&#123;kid_kid_ask_set,kid_period_ask_set&#125; root@192.168.2.3:/data/ <span class=\"comment\">#21</span></span><br><span class=\"line\">10 14 * * * bash /home/updataRedis.sh &gt;&gt;/home/<span class=\"built_in\">log</span>/log.txt 2&gt;&amp;1 <span class=\"comment\"># 14:10 </span></span><br><span class=\"line\">*/1 * * * * curl http://www.xxx.com/test.php  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/changyuan/<span class=\"built_in\">test</span>/</span><br><span class=\"line\">str=`date <span class=\"string\">'+%Y%m%d%H%M'</span>`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -d <span class=\"variable\">$str</span> ] </span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"exist floder\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\tmkdir <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"shell-\"><a href=\"#shell-\" class=\"headerlink\" title=\"shell \"></a>shell </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"Hello World !\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">chmod +x ./online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">/bin/sh online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls /etc`</span><br><span class=\"line\"></span><br><span class=\"line\">your_name=<span class=\"string\">\"qinjx\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$your_name</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;your_name&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">myUrl=<span class=\"string\">\"http://www.w3cschool.cc\"</span></span><br><span class=\"line\"><span class=\"built_in\">readonly</span> myUrl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> variable_name</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"\\\"It is a test\\\"\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"OK! \\n\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'$name'</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">string=<span class=\"string\">\"runoob is a great site\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;#string&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;string:1:4&#125;</span> <span class=\"comment\">#  unoo</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$string</span> <span class=\"variable\">$string1</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `expr index <span class=\"string\">\"<span class=\"variable\">$string</span>\"</span> is` <span class=\"comment\"># isexpr</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">array_name=(value0 value1 value2 value3) <span class=\"comment\">#</span></span><br><span class=\"line\">array_name[n]=valuen</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[1]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[@]&#125;</span> , <span class=\"variable\">$&#123;array_name[*]&#125;</span>  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[0]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[@]&#125;</span>  <span class=\"variable\">$&#123;#array_name[*]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$0</span>,<span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>... <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$#</span>\t <span class=\"comment\">#</span></span><br><span class=\"line\">$* , <span class=\"variable\">$@</span>   <span class=\"comment\">#,\"1 2 3\"(1,2,3)</span></span><br><span class=\"line\">$$  <span class=\"comment\">#ID</span></span><br><span class=\"line\">$!  <span class=\"comment\">#ID</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   `` </span></span><br><span class=\"line\">val=`expr 2 + 2`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   !  -o (or) -a (and)</span></span><br><span class=\"line\"><span class=\"comment\">#  &amp;&amp; || </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">=:   <span class=\"comment\">#</span></span><br><span class=\"line\">!=:  <span class=\"comment\">#</span></span><br><span class=\"line\">-z:  <span class=\"comment\">#00 true(zero) [ -z $a ]</span></span><br><span class=\"line\">-n:  <span class=\"comment\">#00 true(no zero) </span></span><br><span class=\"line\">str: <span class=\"comment\">#[ $a ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e</span><br><span class=\"line\"><span class=\"comment\">#-c-d-f-r-w-x-s&gt;0,true-eexist</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">read</span> name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$name</span> It is a test\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"built_in\">test</span> $[num1] -eq $[num2]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> condition1</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    command1</span><br><span class=\"line\"><span class=\"keyword\">elif</span> condition2 </span><br><span class=\"line\"><span class=\"keyword\">then</span> </span><br><span class=\"line\">    command2</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    commandN</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> var <span class=\"keyword\">in</span> item1 item2 ... itemN</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    command1</span><br><span class=\"line\">    command2</span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">int=1</span><br><span class=\"line\"><span class=\"keyword\">while</span>(( <span class=\"variable\">$int</span>&lt;=5 ))</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"variable\">$int</span></span><br><span class=\"line\">        <span class=\"built_in\">let</span> <span class=\"string\">\"int++\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">until condition</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> var <span class=\"keyword\">in</span></span><br><span class=\"line\">\t1)</span><br><span class=\"line\">    command1</span><br><span class=\"line\">    ;;</span><br><span class=\"line\">\t2</span><br><span class=\"line\">    command2</span><br><span class=\"line\">    ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">break</span></span><br><span class=\"line\"><span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">[<span class=\"keyword\">function</span>] <span class=\"function\"><span class=\"title\">demoFun</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"demo\"</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> (<span class=\"variable\">$#</span>,$*); <span class=\"comment\"># </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#Shell /</span></span><br><span class=\"line\"></span><br><span class=\"line\">cat test.txt &gt; test1.txt</span><br><span class=\"line\">cat test.txt &gt;&gt; test1.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /dev/null</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null <span class=\"comment\">#\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null 2&gt;&amp;1  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">. ./test1.sh </span><br><span class=\"line\"><span class=\"built_in\">source</span> ./test1.sh</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>shell<br>","more":"</p>\n<h3 id=\"shellrsync\"><a href=\"#shellrsync\" class=\"headerlink\" title=\"shellrsync\"></a>shellrsync</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"f\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"b\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"a\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .txt </span></span><br></pre></td></tr></table></figure>\n<p>rsync LAN,WANRsyncRsync<code>rsync --help</code> </p>\n<blockquote>\n<ul>\n<li>-a, archive -rlptgoD</li>\n<li>-v, verbose </li>\n<li>-P  partial</li>\n<li>progress </li>\n<li>-z, compress </li>\n<li>exclude=PATTERN </li>\n<li>include=PATTERN </li>\n<li>exclude-from=FILE FILE</li>\n<li>include-from=FILE FILE ,</li>\n<li>delete DSTSRC</li>\n<li>delete-excluded </li>\n<li>delete-after </li>\n</ul>\n</blockquote>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH(:)\"></a>SSH(:)</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service sshd start</span><br><span class=\"line\">rsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rsync?</span></span><br><span class=\"line\">rsync -av --include <span class=\"string\">'*/'</span> --exclude <span class=\"string\">'*'</span> <span class=\"built_in\">source</span>-dir dest-dir</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"(::)\"></a>(::)</h4><h5 id=\"rsync\"><a href=\"#rsync\" class=\"headerlink\" title=\"rsync\"></a>rsync</h5><p><code>vim /etc/xinetd.d/rsync</code> , <code>disable=yes</code><code>disable=no</code>,<code>xinetd</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>vi /etc/rsyncd.conf</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uid=root</span><br><span class=\"line\">gid=root</span><br><span class=\"line\">max connections=4</span><br><span class=\"line\"><span class=\"built_in\">log</span> file=/var/<span class=\"built_in\">log</span>/rsyncd.log</span><br><span class=\"line\">pid file=/var/run/rsyncd.pid</span><br><span class=\"line\">lock file=/var/run/rsyncd.lock</span><br><span class=\"line\">secrets file=/etc/rsyncd.passwd</span><br><span class=\"line\">hosts deny=172.16.78.0/22</span><br><span class=\"line\"></span><br><span class=\"line\">[www]</span><br><span class=\"line\">comment= backup web</span><br><span class=\"line\">path=/www</span><br><span class=\"line\"><span class=\"built_in\">read</span> only = no</span><br><span class=\"line\">exclude=<span class=\"built_in\">test</span></span><br><span class=\"line\">auth users=work</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"work:abc123\"</span> &gt; /etc/rsyncd.passwd</span><br><span class=\"line\">chmod 600 /etc/rsyncd.passwd</span><br></pre></td></tr></table></figure>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync</span><br><span class=\"line\">rsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://rsync.samba.org/\" target=\"_blank\" rel=\"noopener\">rsync</a> , <a href=\"https://rsync.samba.org/examples.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"crontab-\"><a href=\"#crontab-\" class=\"headerlink\" title=\"crontab \"></a>crontab </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> .---------------- minute (0 - 59)</span><br><span class=\"line\"> |  .------------- hour (0 - 23)</span><br><span class=\"line\"> |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> |  |  |  |  |</span><br><span class=\"line\"> *  *  *  *  * user-name <span class=\"built_in\">command</span> to be executed</span><br><span class=\"line\"></span><br><span class=\"line\">eg</span><br><span class=\"line\">0 3 * * * bash /home/demo.sh &gt;&gt; /home/sh.log  <span class=\"comment\"># </span></span><br><span class=\"line\">8 12 * * 3 bash /data1/auto.sh  <span class=\"comment\"># 3128</span></span><br><span class=\"line\">0 21 * * 2 scp /data1/&#123;kid_kid_ask_set,kid_period_ask_set&#125; root@192.168.2.3:/data/ <span class=\"comment\">#21</span></span><br><span class=\"line\">10 14 * * * bash /home/updataRedis.sh &gt;&gt;/home/<span class=\"built_in\">log</span>/log.txt 2&gt;&amp;1 <span class=\"comment\"># 14:10 </span></span><br><span class=\"line\">*/1 * * * * curl http://www.xxx.com/test.php  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/changyuan/<span class=\"built_in\">test</span>/</span><br><span class=\"line\">str=`date <span class=\"string\">'+%Y%m%d%H%M'</span>`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -d <span class=\"variable\">$str</span> ] </span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"exist floder\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\tmkdir <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"shell-\"><a href=\"#shell-\" class=\"headerlink\" title=\"shell \"></a>shell </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"Hello World !\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">chmod +x ./online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">/bin/sh online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls /etc`</span><br><span class=\"line\"></span><br><span class=\"line\">your_name=<span class=\"string\">\"qinjx\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$your_name</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;your_name&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">myUrl=<span class=\"string\">\"http://www.w3cschool.cc\"</span></span><br><span class=\"line\"><span class=\"built_in\">readonly</span> myUrl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> variable_name</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"\\\"It is a test\\\"\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> -e <span class=\"string\">\"OK! \\n\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'$name'</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">string=<span class=\"string\">\"runoob is a great site\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;#string&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;string:1:4&#125;</span> <span class=\"comment\">#  unoo</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$string</span> <span class=\"variable\">$string1</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `expr index <span class=\"string\">\"<span class=\"variable\">$string</span>\"</span> is` <span class=\"comment\"># isexpr</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">array_name=(value0 value1 value2 value3) <span class=\"comment\">#</span></span><br><span class=\"line\">array_name[n]=valuen</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[1]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[@]&#125;</span> , <span class=\"variable\">$&#123;array_name[*]&#125;</span>  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[0]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[@]&#125;</span>  <span class=\"variable\">$&#123;#array_name[*]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$0</span>,<span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>... <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$#</span>\t <span class=\"comment\">#</span></span><br><span class=\"line\">$* , <span class=\"variable\">$@</span>   <span class=\"comment\">#,\"1 2 3\"(1,2,3)</span></span><br><span class=\"line\">$$  <span class=\"comment\">#ID</span></span><br><span class=\"line\">$!  <span class=\"comment\">#ID</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   `` </span></span><br><span class=\"line\">val=`expr 2 + 2`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   !  -o (or) -a (and)</span></span><br><span class=\"line\"><span class=\"comment\">#  &amp;&amp; || </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">=:   <span class=\"comment\">#</span></span><br><span class=\"line\">!=:  <span class=\"comment\">#</span></span><br><span class=\"line\">-z:  <span class=\"comment\">#00 true(zero) [ -z $a ]</span></span><br><span class=\"line\">-n:  <span class=\"comment\">#00 true(no zero) </span></span><br><span class=\"line\">str: <span class=\"comment\">#[ $a ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e</span><br><span class=\"line\"><span class=\"comment\">#-c-d-f-r-w-x-s&gt;0,true-eexist</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">read</span> name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$name</span> It is a test\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"built_in\">test</span> $[num1] -eq $[num2]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> condition1</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    command1</span><br><span class=\"line\"><span class=\"keyword\">elif</span> condition2 </span><br><span class=\"line\"><span class=\"keyword\">then</span> </span><br><span class=\"line\">    command2</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    commandN</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> var <span class=\"keyword\">in</span> item1 item2 ... itemN</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    command1</span><br><span class=\"line\">    command2</span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">int=1</span><br><span class=\"line\"><span class=\"keyword\">while</span>(( <span class=\"variable\">$int</span>&lt;=5 ))</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"variable\">$int</span></span><br><span class=\"line\">        <span class=\"built_in\">let</span> <span class=\"string\">\"int++\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">until condition</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> var <span class=\"keyword\">in</span></span><br><span class=\"line\">\t1)</span><br><span class=\"line\">    command1</span><br><span class=\"line\">    ;;</span><br><span class=\"line\">\t2</span><br><span class=\"line\">    command2</span><br><span class=\"line\">    ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">break</span></span><br><span class=\"line\"><span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">[<span class=\"keyword\">function</span>] <span class=\"function\"><span class=\"title\">demoFun</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"demo\"</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> (<span class=\"variable\">$#</span>,$*); <span class=\"comment\"># </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#Shell /</span></span><br><span class=\"line\"></span><br><span class=\"line\">cat test.txt &gt; test1.txt</span><br><span class=\"line\">cat test.txt &gt;&gt; test1.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /dev/null</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null <span class=\"comment\">#\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null 2&gt;&amp;1  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">. ./test1.sh </span><br><span class=\"line\"><span class=\"built_in\">source</span> ./test1.sh</span><br></pre></td></tr></table></figure>"},{"title":"vagrant usage","date":"2016-11-10T06:46:53.000Z","updated":"2016-11-10T06:46:53.000Z","author":"change","_content":"\n### VirtualBox Vagrant\n[VirtualBox](https://www.virtualbox.org/wiki/Downloads), [vagrant](https://www.vagrantup.com/downloads.html)\n\n### Box \n Vagrant  Box  Box  CentOSUbuntu  Box Box\n\n `vagrant Box` Vagrant  , Box  Vagrant Vagrant  Box \n\n<!-- more -->\n\n> http://www.vagrantbox.es/\n> https://atlas.hashicorp.com/boxes/search\n\n```bash\nvagrant box add {title} {box}    # title boxURLbox\n\n```\n**box**`vagrant box remove {title}`,vagrant -h \n\n\n### box\n`vagrant box list`\n\n\n### \n``` bash\n# \ncd project\n# box\nvagrant box list\n\n# Vagrantfileruby\n\n`vagrant init {title}`  title`config.vm.box`title`config.vm.box=base`\n\n# demo\nvagrant box add centos6 https://github.com/tommy-muehle/puppet-vagrant-boxes/releases/download/1.0.0/centos-6.6-x86_64.box\n\n```\n\n\n###  \n```bash\nvagrant up\n\nvagrant status\n```\n\n### \n\n```bash\n# mac\nvagrant ssh\n\n\n# windows ssh\n\n Host127.0.0.1\n Port2200\n Usernamevagrant\n passwordvagrant\n\n```\n\n### box\n\n```bash\nvagrant package\n\n\n# boxbox \nvagrant box add hahaha ~/box/package.box  #  package.box  hahaha\n\ncd ~/dev  # ,\nvagrant init hahaha  \n\n```\n### \n\n Vagrant  Vagrantfile \n```bash\nconfig.vm.provision \"shell\", inline: <<-SHELL\n   apt-get update\n   apt-get install -y apache2\nSHELL\n```\n `vagrant reload --provision`  Vagrantfile [](https://www.vagrantup.com/docs/provisioning/)\n\n bootstrap.sh\n```bash\n#!/usr/bin/env bash\n\napt-get update\napt-get install -y apache2\nif ! [ -L /var/www ]; then\n  rm -rf /var/www\n  ln -fs /vagrant /var/www\nfi\n```\n Vagrantfile \n```bash\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  ...\n\n  config.vm.provision \"shell\", path: \"bootstrap.sh\"  # \nend\n```\n[](https://www.vagrantup.com/docs/cli/index.html)\n\n\n### yii2 vagrant  DEMO  \n```bash\nvagrant box add ubuntu/trusty64\n# vagrantfile vargrant init \n\nvagrant up\n\n\n```\n\nVagrantfile \n\n```Vagrantfile\nrequire 'yaml'\nrequire 'fileutils'\n\ndomains = {\n  frontend: 'y2aa-frontend.dev',\n  backend:  'y2aa-backend.dev'\n}\n\nconfig = {\n  local: './vagrant/config/vagrant-local.yml',\n  example: './vagrant/config/vagrant-local.example.yml'\n}\n\n# copy config from example if local config not exists\nFileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])\n# read config\noptions = YAML.load_file config[:local]\n\n# check github token\nif options['github_token'].nil? || options['github_token'].to_s.length != 40\n  puts \"You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml\"\n  exit\nend\n\n# vagrant configurate\nVagrant.configure(2) do |config|\n  # select the box\n  config.vm.box = 'ubuntu/trusty64'\n\n  # should we ask about box updates?\n  config.vm.box_check_update = options['box_check_update']\n\n  config.vm.provider 'virtualbox' do |vb|\n    # machine cpus count\n    vb.cpus = options['cpus']\n    # machine memory size\n    vb.memory = options['memory']\n    # machine name (for VirtualBox UI)\n    vb.name = options['machine_name']\n  end\n\n  # machine name (for vagrant console)\n  config.vm.define options['machine_name']\n\n  # machine name (for guest machine console)\n  config.vm.hostname = options['machine_name']\n\n  # network settings\n  config.vm.network 'private_network', ip: options['ip']\n\n  # sync: folder 'yii2-app-advanced' (host machine) -> folder '/app' (guest machine)\n  config.vm.synced_folder './', '/app', owner: 'vagrant', group: 'vagrant'\n\n  # disable folder '/vagrant' (guest machine)\n  config.vm.synced_folder '.', '/vagrant', disabled: true\n\n  # hosts settings (host machine)\n  config.vm.provision :hostmanager\n  config.hostmanager.enabled            = true\n  config.hostmanager.manage_host        = true\n  config.hostmanager.ignore_private_ip  = false\n  config.hostmanager.include_offline    = true\n  config.hostmanager.aliases            = domains.values\n\n  # provisioners\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-root.sh', args: [options['timezone']]\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-vagrant.sh', args: [options['github_token']], privileged: false\n  config.vm.provision 'shell', path: './vagrant/provision/always-as-root.sh', run: 'always'\n\n  # post-install message (vagrant console)\n  config.vm.post_up_message = \"Frontend URL: http://#{domains[:frontend]}\\nBackend URL: http://#{domains[:backend]}\"\nend\n\n```\n\n```once-as-vagrant.sh\n\n#!/usr/bin/env bash\n\n#== Import script args ==\n\ngithub_token=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Configure composer\"\ncomposer config --global github-oauth.github.com ${github_token}\necho \"Done!\"\n\ninfo \"Install plugins for composer\"\ncomposer global require \"fxp/composer-asset-plugin:~1.1.1\" --no-progress\n\ninfo \"Install codeception\"\ncomposer global require \"codeception/codeception=2.0.*\" \"codeception/specify=*\" \"codeception/verify=*\" --no-progress\necho 'export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH' | tee -a /home/vagrant/.profile\n\ninfo \"Install project dependencies\"\ncd /app\ncomposer --no-progress --prefer-dist install\n\ninfo \"Init project\"\n./init --env=Development --overwrite=y\n\ninfo \"Apply migrations\"\n./yii migrate <<< \"yes\"\n\ninfo \"Create bash-alias 'app' for vagrant user\"\necho 'alias app=\"cd /app\"' | tee /home/vagrant/.bash_aliases\n\ninfo \"Enabling colorized prompt for guest console\"\nsed -i \"s/#force_color_prompt=yes/force_color_prompt=yes/\" /home/vagrant/.bashrc\n\n```\n\n\n```once-as-root.sh\n\t#!/usr/bin/env bash\n\n#== Import script args ==\n\ntimezone=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Allocate swap for MySQL 5.6\"\nfallocate -l 2048M /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap defaults 0 0' >> /etc/fstab\n\ninfo \"Configure locales\"\nupdate-locale LC_ALL=\"C\"\ndpkg-reconfigure locales\n\ninfo \"Configure timezone\"\necho ${timezone} | tee /etc/timezone\ndpkg-reconfigure --frontend noninteractive tzdata\n\ninfo \"Prepare root password for MySQL\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password password \\\"''\\\"\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password_again password \\\"''\\\"\"\necho \"Done!\"\n\ninfo \"Update OS software\"\napt-get update\napt-get upgrade -y\n\ninfo \"Install additional software\"\napt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6\n\ninfo \"Configure MySQL\"\nsed -i \"s/.*bind-address.*/bind-address = 0.0.0.0/\" /etc/mysql/my.cnf\necho \"Done!\"\n\ninfo \"Configure PHP-FPM\"\nsed -i 's/user = www-data/user = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/group = www-data/group = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/owner = www-data/owner = vagrant/g' /etc/php5/fpm/pool.d/www.conf\necho \"Done!\"\n\ninfo \"Configure NGINX\"\nsed -i 's/user www-data/user vagrant/g' /etc/nginx/nginx.conf\necho \"Done!\"\n\ninfo \"Enabling site configuration\"\nln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf\necho \"Done!\"\n\ninfo \"Initailize databases for MySQL\"\nmysql -uroot <<< \"CREATE DATABASE yii2advanced\"\nmysql -uroot <<< \"CREATE DATABASE yii2_advanced_tests\"\necho \"Done!\"\n\ninfo \"Install composer\"\ncurl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n```\n\n[](http://www.yiichina.com/tutorial/979)\n[](https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/start-installation.md)","source":"_posts/2016/vagrant.md","raw":"---\ntitle: vagrant usage\ndate: 2016-11-10 14:46:53\nupdated: 2016-11-10 14:46:53\nauthor: change\ntags:\ncategories:\n---\n\n### VirtualBox Vagrant\n[VirtualBox](https://www.virtualbox.org/wiki/Downloads), [vagrant](https://www.vagrantup.com/downloads.html)\n\n### Box \n Vagrant  Box  Box  CentOSUbuntu  Box Box\n\n `vagrant Box` Vagrant  , Box  Vagrant Vagrant  Box \n\n<!-- more -->\n\n> http://www.vagrantbox.es/\n> https://atlas.hashicorp.com/boxes/search\n\n```bash\nvagrant box add {title} {box}    # title boxURLbox\n\n```\n**box**`vagrant box remove {title}`,vagrant -h \n\n\n### box\n`vagrant box list`\n\n\n### \n``` bash\n# \ncd project\n# box\nvagrant box list\n\n# Vagrantfileruby\n\n`vagrant init {title}`  title`config.vm.box`title`config.vm.box=base`\n\n# demo\nvagrant box add centos6 https://github.com/tommy-muehle/puppet-vagrant-boxes/releases/download/1.0.0/centos-6.6-x86_64.box\n\n```\n\n\n###  \n```bash\nvagrant up\n\nvagrant status\n```\n\n### \n\n```bash\n# mac\nvagrant ssh\n\n\n# windows ssh\n\n Host127.0.0.1\n Port2200\n Usernamevagrant\n passwordvagrant\n\n```\n\n### box\n\n```bash\nvagrant package\n\n\n# boxbox \nvagrant box add hahaha ~/box/package.box  #  package.box  hahaha\n\ncd ~/dev  # ,\nvagrant init hahaha  \n\n```\n### \n\n Vagrant  Vagrantfile \n```bash\nconfig.vm.provision \"shell\", inline: <<-SHELL\n   apt-get update\n   apt-get install -y apache2\nSHELL\n```\n `vagrant reload --provision`  Vagrantfile [](https://www.vagrantup.com/docs/provisioning/)\n\n bootstrap.sh\n```bash\n#!/usr/bin/env bash\n\napt-get update\napt-get install -y apache2\nif ! [ -L /var/www ]; then\n  rm -rf /var/www\n  ln -fs /vagrant /var/www\nfi\n```\n Vagrantfile \n```bash\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  ...\n\n  config.vm.provision \"shell\", path: \"bootstrap.sh\"  # \nend\n```\n[](https://www.vagrantup.com/docs/cli/index.html)\n\n\n### yii2 vagrant  DEMO  \n```bash\nvagrant box add ubuntu/trusty64\n# vagrantfile vargrant init \n\nvagrant up\n\n\n```\n\nVagrantfile \n\n```Vagrantfile\nrequire 'yaml'\nrequire 'fileutils'\n\ndomains = {\n  frontend: 'y2aa-frontend.dev',\n  backend:  'y2aa-backend.dev'\n}\n\nconfig = {\n  local: './vagrant/config/vagrant-local.yml',\n  example: './vagrant/config/vagrant-local.example.yml'\n}\n\n# copy config from example if local config not exists\nFileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])\n# read config\noptions = YAML.load_file config[:local]\n\n# check github token\nif options['github_token'].nil? || options['github_token'].to_s.length != 40\n  puts \"You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml\"\n  exit\nend\n\n# vagrant configurate\nVagrant.configure(2) do |config|\n  # select the box\n  config.vm.box = 'ubuntu/trusty64'\n\n  # should we ask about box updates?\n  config.vm.box_check_update = options['box_check_update']\n\n  config.vm.provider 'virtualbox' do |vb|\n    # machine cpus count\n    vb.cpus = options['cpus']\n    # machine memory size\n    vb.memory = options['memory']\n    # machine name (for VirtualBox UI)\n    vb.name = options['machine_name']\n  end\n\n  # machine name (for vagrant console)\n  config.vm.define options['machine_name']\n\n  # machine name (for guest machine console)\n  config.vm.hostname = options['machine_name']\n\n  # network settings\n  config.vm.network 'private_network', ip: options['ip']\n\n  # sync: folder 'yii2-app-advanced' (host machine) -> folder '/app' (guest machine)\n  config.vm.synced_folder './', '/app', owner: 'vagrant', group: 'vagrant'\n\n  # disable folder '/vagrant' (guest machine)\n  config.vm.synced_folder '.', '/vagrant', disabled: true\n\n  # hosts settings (host machine)\n  config.vm.provision :hostmanager\n  config.hostmanager.enabled            = true\n  config.hostmanager.manage_host        = true\n  config.hostmanager.ignore_private_ip  = false\n  config.hostmanager.include_offline    = true\n  config.hostmanager.aliases            = domains.values\n\n  # provisioners\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-root.sh', args: [options['timezone']]\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-vagrant.sh', args: [options['github_token']], privileged: false\n  config.vm.provision 'shell', path: './vagrant/provision/always-as-root.sh', run: 'always'\n\n  # post-install message (vagrant console)\n  config.vm.post_up_message = \"Frontend URL: http://#{domains[:frontend]}\\nBackend URL: http://#{domains[:backend]}\"\nend\n\n```\n\n```once-as-vagrant.sh\n\n#!/usr/bin/env bash\n\n#== Import script args ==\n\ngithub_token=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Configure composer\"\ncomposer config --global github-oauth.github.com ${github_token}\necho \"Done!\"\n\ninfo \"Install plugins for composer\"\ncomposer global require \"fxp/composer-asset-plugin:~1.1.1\" --no-progress\n\ninfo \"Install codeception\"\ncomposer global require \"codeception/codeception=2.0.*\" \"codeception/specify=*\" \"codeception/verify=*\" --no-progress\necho 'export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH' | tee -a /home/vagrant/.profile\n\ninfo \"Install project dependencies\"\ncd /app\ncomposer --no-progress --prefer-dist install\n\ninfo \"Init project\"\n./init --env=Development --overwrite=y\n\ninfo \"Apply migrations\"\n./yii migrate <<< \"yes\"\n\ninfo \"Create bash-alias 'app' for vagrant user\"\necho 'alias app=\"cd /app\"' | tee /home/vagrant/.bash_aliases\n\ninfo \"Enabling colorized prompt for guest console\"\nsed -i \"s/#force_color_prompt=yes/force_color_prompt=yes/\" /home/vagrant/.bashrc\n\n```\n\n\n```once-as-root.sh\n\t#!/usr/bin/env bash\n\n#== Import script args ==\n\ntimezone=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Allocate swap for MySQL 5.6\"\nfallocate -l 2048M /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap defaults 0 0' >> /etc/fstab\n\ninfo \"Configure locales\"\nupdate-locale LC_ALL=\"C\"\ndpkg-reconfigure locales\n\ninfo \"Configure timezone\"\necho ${timezone} | tee /etc/timezone\ndpkg-reconfigure --frontend noninteractive tzdata\n\ninfo \"Prepare root password for MySQL\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password password \\\"''\\\"\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password_again password \\\"''\\\"\"\necho \"Done!\"\n\ninfo \"Update OS software\"\napt-get update\napt-get upgrade -y\n\ninfo \"Install additional software\"\napt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6\n\ninfo \"Configure MySQL\"\nsed -i \"s/.*bind-address.*/bind-address = 0.0.0.0/\" /etc/mysql/my.cnf\necho \"Done!\"\n\ninfo \"Configure PHP-FPM\"\nsed -i 's/user = www-data/user = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/group = www-data/group = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/owner = www-data/owner = vagrant/g' /etc/php5/fpm/pool.d/www.conf\necho \"Done!\"\n\ninfo \"Configure NGINX\"\nsed -i 's/user www-data/user vagrant/g' /etc/nginx/nginx.conf\necho \"Done!\"\n\ninfo \"Enabling site configuration\"\nln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf\necho \"Done!\"\n\ninfo \"Initailize databases for MySQL\"\nmysql -uroot <<< \"CREATE DATABASE yii2advanced\"\nmysql -uroot <<< \"CREATE DATABASE yii2_advanced_tests\"\necho \"Done!\"\n\ninfo \"Install composer\"\ncurl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n```\n\n[](http://www.yiichina.com/tutorial/979)\n[](https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/start-installation.md)","slug":"vagrant","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fv002zhpwfej07yz2f","content":"<h3 id=\"VirtualBox-Vagrant\"><a href=\"#VirtualBox-Vagrant\" class=\"headerlink\" title=\"VirtualBox Vagrant\"></a>VirtualBox Vagrant</h3><p><a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"noopener\">VirtualBox</a>, <a href=\"https://www.vagrantup.com/downloads.html\" target=\"_blank\" rel=\"noopener\">vagrant</a></p>\n<h3 id=\"Box\"><a href=\"#Box\" class=\"headerlink\" title=\"Box\"></a>Box</h3><p> Vagrant  Box  Box  CentOSUbuntu  Box Box</p>\n<p> <code>vagrant Box</code> Vagrant  , Box  Vagrant Vagrant  Box </p>\n<a id=\"more\"></a>\n<blockquote>\n<p><a href=\"http://www.vagrantbox.es/\" target=\"_blank\" rel=\"noopener\">http://www.vagrantbox.es/</a><br><a href=\"https://atlas.hashicorp.com/boxes/search\" target=\"_blank\" rel=\"noopener\">https://atlas.hashicorp.com/boxes/search</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add &#123;title&#125; &#123;box&#125;    <span class=\"comment\"># title boxURLbox</span></span><br></pre></td></tr></table></figure>\n<p><strong>box</strong><code>vagrant box remove {title}</code>,vagrant -h </p>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><p><code>vagrant box list</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> project</span><br><span class=\"line\"><span class=\"comment\"># box</span></span><br><span class=\"line\">vagrant box list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Vagrantfileruby</span></span><br><span class=\"line\"></span><br><span class=\"line\">`vagrant init &#123;title&#125;`  title`config.vm.box`title`config.vm.box=base`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># demo</span></span><br><span class=\"line\">vagrant box add centos6 https://github.com/tommy-muehle/puppet-vagrant-boxes/releases/download/1.0.0/centos-6.6-x86_64.box</span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">vagrant status</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mac</span></span><br><span class=\"line\">vagrant ssh</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows ssh</span></span><br><span class=\"line\"></span><br><span class=\"line\"> Host127.0.0.1</span><br><span class=\"line\"> Port2200</span><br><span class=\"line\"> Usernamevagrant</span><br><span class=\"line\"> passwordvagrant</span><br></pre></td></tr></table></figure>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant package</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># boxbox </span></span><br><span class=\"line\">vagrant box add hahaha ~/box/package.box  <span class=\"comment\">#  package.box  hahaha</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/dev  <span class=\"comment\"># ,</span></span><br><span class=\"line\">vagrant init hahaha</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Vagrant  Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.vm.provision <span class=\"string\">\"shell\"</span>, inline: &lt;&lt;-SHELL</span><br><span class=\"line\">   apt-get update</span><br><span class=\"line\">   apt-get install -y apache2</span><br><span class=\"line\">SHELL</span><br></pre></td></tr></table></figure></p>\n<p> <code>vagrant reload --provision</code>  Vagrantfile <a href=\"https://www.vagrantup.com/docs/provisioning/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> bootstrap.sh<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span></span><br><span class=\"line\"></span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install -y apache2</span><br><span class=\"line\"><span class=\"keyword\">if</span> ! [ -L /var/www ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  rm -rf /var/www</span><br><span class=\"line\">  ln -fs /vagrant /var/www</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></p>\n<p> Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Vagrant.configure(<span class=\"string\">\"2\"</span>) <span class=\"keyword\">do</span> |config|</span><br><span class=\"line\">  config.vm.box = <span class=\"string\">\"hashicorp/precise64\"</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provision <span class=\"string\">\"shell\"</span>, path: <span class=\"string\">\"bootstrap.sh\"</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://www.vagrantup.com/docs/cli/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"yii2-vagrant--DEMO-\"><a href=\"#yii2-vagrant--DEMO-\" class=\"headerlink\" title=\"yii2 vagrant  DEMO  \"></a>yii2 vagrant  DEMO  </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add ubuntu/trusty64</span><br><span class=\"line\"><span class=\"comment\"># vagrantfile vargrant init </span></span><br><span class=\"line\"></span><br><span class=\"line\">vagrant up</span><br></pre></td></tr></table></figure>\n<p>Vagrantfile </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require &apos;yaml&apos;</span><br><span class=\"line\">require &apos;fileutils&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">domains = &#123;</span><br><span class=\"line\">  frontend: &apos;y2aa-frontend.dev&apos;,</span><br><span class=\"line\">  backend:  &apos;y2aa-backend.dev&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  local: &apos;./vagrant/config/vagrant-local.yml&apos;,</span><br><span class=\"line\">  example: &apos;./vagrant/config/vagrant-local.example.yml&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># copy config from example if local config not exists</span><br><span class=\"line\">FileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])</span><br><span class=\"line\"># read config</span><br><span class=\"line\">options = YAML.load_file config[:local]</span><br><span class=\"line\"></span><br><span class=\"line\"># check github token</span><br><span class=\"line\">if options[&apos;github_token&apos;].nil? || options[&apos;github_token&apos;].to_s.length != 40</span><br><span class=\"line\">  puts &quot;You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml&quot;</span><br><span class=\"line\">  exit</span><br><span class=\"line\">end</span><br><span class=\"line\"></span><br><span class=\"line\"># vagrant configurate</span><br><span class=\"line\">Vagrant.configure(2) do |config|</span><br><span class=\"line\">  # select the box</span><br><span class=\"line\">  config.vm.box = &apos;ubuntu/trusty64&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # should we ask about box updates?</span><br><span class=\"line\">  config.vm.box_check_update = options[&apos;box_check_update&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provider &apos;virtualbox&apos; do |vb|</span><br><span class=\"line\">    # machine cpus count</span><br><span class=\"line\">    vb.cpus = options[&apos;cpus&apos;]</span><br><span class=\"line\">    # machine memory size</span><br><span class=\"line\">    vb.memory = options[&apos;memory&apos;]</span><br><span class=\"line\">    # machine name (for VirtualBox UI)</span><br><span class=\"line\">    vb.name = options[&apos;machine_name&apos;]</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for vagrant console)</span><br><span class=\"line\">  config.vm.define options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for guest machine console)</span><br><span class=\"line\">  config.vm.hostname = options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # network settings</span><br><span class=\"line\">  config.vm.network &apos;private_network&apos;, ip: options[&apos;ip&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # sync: folder &apos;yii2-app-advanced&apos; (host machine) -&gt; folder &apos;/app&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;./&apos;, &apos;/app&apos;, owner: &apos;vagrant&apos;, group: &apos;vagrant&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # disable folder &apos;/vagrant&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;.&apos;, &apos;/vagrant&apos;, disabled: true</span><br><span class=\"line\"></span><br><span class=\"line\">  # hosts settings (host machine)</span><br><span class=\"line\">  config.vm.provision :hostmanager</span><br><span class=\"line\">  config.hostmanager.enabled            = true</span><br><span class=\"line\">  config.hostmanager.manage_host        = true</span><br><span class=\"line\">  config.hostmanager.ignore_private_ip  = false</span><br><span class=\"line\">  config.hostmanager.include_offline    = true</span><br><span class=\"line\">  config.hostmanager.aliases            = domains.values</span><br><span class=\"line\"></span><br><span class=\"line\">  # provisioners</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-root.sh&apos;, args: [options[&apos;timezone&apos;]]</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-vagrant.sh&apos;, args: [options[&apos;github_token&apos;]], privileged: false</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/always-as-root.sh&apos;, run: &apos;always&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # post-install message (vagrant console)</span><br><span class=\"line\">  config.vm.post_up_message = &quot;Frontend URL: http://#&#123;domains[:frontend]&#125;\\nBackend URL: http://#&#123;domains[:backend]&#125;&quot;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">github_token=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure composer&quot;</span><br><span class=\"line\">composer config --global github-oauth.github.com $&#123;github_token&#125;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install plugins for composer&quot;</span><br><span class=\"line\">composer global require &quot;fxp/composer-asset-plugin:~1.1.1&quot; --no-progress</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install codeception&quot;</span><br><span class=\"line\">composer global require &quot;codeception/codeception=2.0.*&quot; &quot;codeception/specify=*&quot; &quot;codeception/verify=*&quot; --no-progress</span><br><span class=\"line\">echo &apos;export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH&apos; | tee -a /home/vagrant/.profile</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install project dependencies&quot;</span><br><span class=\"line\">cd /app</span><br><span class=\"line\">composer --no-progress --prefer-dist install</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Init project&quot;</span><br><span class=\"line\">./init --env=Development --overwrite=y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Apply migrations&quot;</span><br><span class=\"line\">./yii migrate &lt;&lt;&lt; &quot;yes&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Create bash-alias &apos;app&apos; for vagrant user&quot;</span><br><span class=\"line\">echo &apos;alias app=&quot;cd /app&quot;&apos; | tee /home/vagrant/.bash_aliases</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling colorized prompt for guest console&quot;</span><br><span class=\"line\">sed -i &quot;s/#force_color_prompt=yes/force_color_prompt=yes/&quot; /home/vagrant/.bashrc</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">timezone=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Allocate swap for MySQL 5.6&quot;</span><br><span class=\"line\">fallocate -l 2048M /swapfile</span><br><span class=\"line\">chmod 600 /swapfile</span><br><span class=\"line\">mkswap /swapfile</span><br><span class=\"line\">swapon /swapfile</span><br><span class=\"line\">echo &apos;/swapfile none swap defaults 0 0&apos; &gt;&gt; /etc/fstab</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure locales&quot;</span><br><span class=\"line\">update-locale LC_ALL=&quot;C&quot;</span><br><span class=\"line\">dpkg-reconfigure locales</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure timezone&quot;</span><br><span class=\"line\">echo $&#123;timezone&#125; | tee /etc/timezone</span><br><span class=\"line\">dpkg-reconfigure --frontend noninteractive tzdata</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Prepare root password for MySQL&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password_again password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Update OS software&quot;</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get upgrade -y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install additional software&quot;</span><br><span class=\"line\">apt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure MySQL&quot;</span><br><span class=\"line\">sed -i &quot;s/.*bind-address.*/bind-address = 0.0.0.0/&quot; /etc/mysql/my.cnf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure PHP-FPM&quot;</span><br><span class=\"line\">sed -i &apos;s/user = www-data/user = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/group = www-data/group = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/owner = www-data/owner = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure NGINX&quot;</span><br><span class=\"line\">sed -i &apos;s/user www-data/user vagrant/g&apos; /etc/nginx/nginx.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling site configuration&quot;</span><br><span class=\"line\">ln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Initailize databases for MySQL&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2advanced&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2_advanced_tests&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install composer&quot;</span><br><span class=\"line\">curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.yiichina.com/tutorial/979\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/start-installation.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"VirtualBox-Vagrant\"><a href=\"#VirtualBox-Vagrant\" class=\"headerlink\" title=\"VirtualBox Vagrant\"></a>VirtualBox Vagrant</h3><p><a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"noopener\">VirtualBox</a>, <a href=\"https://www.vagrantup.com/downloads.html\" target=\"_blank\" rel=\"noopener\">vagrant</a></p>\n<h3 id=\"Box\"><a href=\"#Box\" class=\"headerlink\" title=\"Box\"></a>Box</h3><p> Vagrant  Box  Box  CentOSUbuntu  Box Box</p>\n<p> <code>vagrant Box</code> Vagrant  , Box  Vagrant Vagrant  Box </p>","more":"<blockquote>\n<p><a href=\"http://www.vagrantbox.es/\" target=\"_blank\" rel=\"noopener\">http://www.vagrantbox.es/</a><br><a href=\"https://atlas.hashicorp.com/boxes/search\" target=\"_blank\" rel=\"noopener\">https://atlas.hashicorp.com/boxes/search</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add &#123;title&#125; &#123;box&#125;    <span class=\"comment\"># title boxURLbox</span></span><br></pre></td></tr></table></figure>\n<p><strong>box</strong><code>vagrant box remove {title}</code>,vagrant -h </p>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><p><code>vagrant box list</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> project</span><br><span class=\"line\"><span class=\"comment\"># box</span></span><br><span class=\"line\">vagrant box list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Vagrantfileruby</span></span><br><span class=\"line\"></span><br><span class=\"line\">`vagrant init &#123;title&#125;`  title`config.vm.box`title`config.vm.box=base`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># demo</span></span><br><span class=\"line\">vagrant box add centos6 https://github.com/tommy-muehle/puppet-vagrant-boxes/releases/download/1.0.0/centos-6.6-x86_64.box</span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">vagrant status</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mac</span></span><br><span class=\"line\">vagrant ssh</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows ssh</span></span><br><span class=\"line\"></span><br><span class=\"line\"> Host127.0.0.1</span><br><span class=\"line\"> Port2200</span><br><span class=\"line\"> Usernamevagrant</span><br><span class=\"line\"> passwordvagrant</span><br></pre></td></tr></table></figure>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant package</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># boxbox </span></span><br><span class=\"line\">vagrant box add hahaha ~/box/package.box  <span class=\"comment\">#  package.box  hahaha</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/dev  <span class=\"comment\"># ,</span></span><br><span class=\"line\">vagrant init hahaha</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Vagrant  Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.vm.provision <span class=\"string\">\"shell\"</span>, inline: &lt;&lt;-SHELL</span><br><span class=\"line\">   apt-get update</span><br><span class=\"line\">   apt-get install -y apache2</span><br><span class=\"line\">SHELL</span><br></pre></td></tr></table></figure></p>\n<p> <code>vagrant reload --provision</code>  Vagrantfile <a href=\"https://www.vagrantup.com/docs/provisioning/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> bootstrap.sh<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span></span><br><span class=\"line\"></span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install -y apache2</span><br><span class=\"line\"><span class=\"keyword\">if</span> ! [ -L /var/www ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  rm -rf /var/www</span><br><span class=\"line\">  ln -fs /vagrant /var/www</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></p>\n<p> Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Vagrant.configure(<span class=\"string\">\"2\"</span>) <span class=\"keyword\">do</span> |config|</span><br><span class=\"line\">  config.vm.box = <span class=\"string\">\"hashicorp/precise64\"</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provision <span class=\"string\">\"shell\"</span>, path: <span class=\"string\">\"bootstrap.sh\"</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://www.vagrantup.com/docs/cli/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"yii2-vagrant--DEMO-\"><a href=\"#yii2-vagrant--DEMO-\" class=\"headerlink\" title=\"yii2 vagrant  DEMO  \"></a>yii2 vagrant  DEMO  </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add ubuntu/trusty64</span><br><span class=\"line\"><span class=\"comment\"># vagrantfile vargrant init </span></span><br><span class=\"line\"></span><br><span class=\"line\">vagrant up</span><br></pre></td></tr></table></figure>\n<p>Vagrantfile </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require &apos;yaml&apos;</span><br><span class=\"line\">require &apos;fileutils&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">domains = &#123;</span><br><span class=\"line\">  frontend: &apos;y2aa-frontend.dev&apos;,</span><br><span class=\"line\">  backend:  &apos;y2aa-backend.dev&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  local: &apos;./vagrant/config/vagrant-local.yml&apos;,</span><br><span class=\"line\">  example: &apos;./vagrant/config/vagrant-local.example.yml&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># copy config from example if local config not exists</span><br><span class=\"line\">FileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])</span><br><span class=\"line\"># read config</span><br><span class=\"line\">options = YAML.load_file config[:local]</span><br><span class=\"line\"></span><br><span class=\"line\"># check github token</span><br><span class=\"line\">if options[&apos;github_token&apos;].nil? || options[&apos;github_token&apos;].to_s.length != 40</span><br><span class=\"line\">  puts &quot;You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml&quot;</span><br><span class=\"line\">  exit</span><br><span class=\"line\">end</span><br><span class=\"line\"></span><br><span class=\"line\"># vagrant configurate</span><br><span class=\"line\">Vagrant.configure(2) do |config|</span><br><span class=\"line\">  # select the box</span><br><span class=\"line\">  config.vm.box = &apos;ubuntu/trusty64&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # should we ask about box updates?</span><br><span class=\"line\">  config.vm.box_check_update = options[&apos;box_check_update&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provider &apos;virtualbox&apos; do |vb|</span><br><span class=\"line\">    # machine cpus count</span><br><span class=\"line\">    vb.cpus = options[&apos;cpus&apos;]</span><br><span class=\"line\">    # machine memory size</span><br><span class=\"line\">    vb.memory = options[&apos;memory&apos;]</span><br><span class=\"line\">    # machine name (for VirtualBox UI)</span><br><span class=\"line\">    vb.name = options[&apos;machine_name&apos;]</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for vagrant console)</span><br><span class=\"line\">  config.vm.define options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for guest machine console)</span><br><span class=\"line\">  config.vm.hostname = options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # network settings</span><br><span class=\"line\">  config.vm.network &apos;private_network&apos;, ip: options[&apos;ip&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # sync: folder &apos;yii2-app-advanced&apos; (host machine) -&gt; folder &apos;/app&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;./&apos;, &apos;/app&apos;, owner: &apos;vagrant&apos;, group: &apos;vagrant&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # disable folder &apos;/vagrant&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;.&apos;, &apos;/vagrant&apos;, disabled: true</span><br><span class=\"line\"></span><br><span class=\"line\">  # hosts settings (host machine)</span><br><span class=\"line\">  config.vm.provision :hostmanager</span><br><span class=\"line\">  config.hostmanager.enabled            = true</span><br><span class=\"line\">  config.hostmanager.manage_host        = true</span><br><span class=\"line\">  config.hostmanager.ignore_private_ip  = false</span><br><span class=\"line\">  config.hostmanager.include_offline    = true</span><br><span class=\"line\">  config.hostmanager.aliases            = domains.values</span><br><span class=\"line\"></span><br><span class=\"line\">  # provisioners</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-root.sh&apos;, args: [options[&apos;timezone&apos;]]</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-vagrant.sh&apos;, args: [options[&apos;github_token&apos;]], privileged: false</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/always-as-root.sh&apos;, run: &apos;always&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # post-install message (vagrant console)</span><br><span class=\"line\">  config.vm.post_up_message = &quot;Frontend URL: http://#&#123;domains[:frontend]&#125;\\nBackend URL: http://#&#123;domains[:backend]&#125;&quot;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">github_token=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure composer&quot;</span><br><span class=\"line\">composer config --global github-oauth.github.com $&#123;github_token&#125;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install plugins for composer&quot;</span><br><span class=\"line\">composer global require &quot;fxp/composer-asset-plugin:~1.1.1&quot; --no-progress</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install codeception&quot;</span><br><span class=\"line\">composer global require &quot;codeception/codeception=2.0.*&quot; &quot;codeception/specify=*&quot; &quot;codeception/verify=*&quot; --no-progress</span><br><span class=\"line\">echo &apos;export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH&apos; | tee -a /home/vagrant/.profile</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install project dependencies&quot;</span><br><span class=\"line\">cd /app</span><br><span class=\"line\">composer --no-progress --prefer-dist install</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Init project&quot;</span><br><span class=\"line\">./init --env=Development --overwrite=y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Apply migrations&quot;</span><br><span class=\"line\">./yii migrate &lt;&lt;&lt; &quot;yes&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Create bash-alias &apos;app&apos; for vagrant user&quot;</span><br><span class=\"line\">echo &apos;alias app=&quot;cd /app&quot;&apos; | tee /home/vagrant/.bash_aliases</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling colorized prompt for guest console&quot;</span><br><span class=\"line\">sed -i &quot;s/#force_color_prompt=yes/force_color_prompt=yes/&quot; /home/vagrant/.bashrc</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">timezone=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Allocate swap for MySQL 5.6&quot;</span><br><span class=\"line\">fallocate -l 2048M /swapfile</span><br><span class=\"line\">chmod 600 /swapfile</span><br><span class=\"line\">mkswap /swapfile</span><br><span class=\"line\">swapon /swapfile</span><br><span class=\"line\">echo &apos;/swapfile none swap defaults 0 0&apos; &gt;&gt; /etc/fstab</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure locales&quot;</span><br><span class=\"line\">update-locale LC_ALL=&quot;C&quot;</span><br><span class=\"line\">dpkg-reconfigure locales</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure timezone&quot;</span><br><span class=\"line\">echo $&#123;timezone&#125; | tee /etc/timezone</span><br><span class=\"line\">dpkg-reconfigure --frontend noninteractive tzdata</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Prepare root password for MySQL&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password_again password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Update OS software&quot;</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get upgrade -y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install additional software&quot;</span><br><span class=\"line\">apt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure MySQL&quot;</span><br><span class=\"line\">sed -i &quot;s/.*bind-address.*/bind-address = 0.0.0.0/&quot; /etc/mysql/my.cnf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure PHP-FPM&quot;</span><br><span class=\"line\">sed -i &apos;s/user = www-data/user = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/group = www-data/group = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/owner = www-data/owner = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure NGINX&quot;</span><br><span class=\"line\">sed -i &apos;s/user www-data/user vagrant/g&apos; /etc/nginx/nginx.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling site configuration&quot;</span><br><span class=\"line\">ln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Initailize databases for MySQL&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2advanced&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2_advanced_tests&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install composer&quot;</span><br><span class=\"line\">curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.yiichina.com/tutorial/979\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/start-installation.md\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"YAML ","date":"2016-11-23T10:13:25.000Z","updated":"2016-11-23T10:13:25.000Z","_content":"\n\n\nYAML  JSON \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif)\n\n YAML  [JS-YAML](https://github.com/nodeca/js-yaml) [ Demo](http://nodeca.github.io/js-yaml/)\n<!-- more -->\n## \n\nYAML  /jml/ \n\n\n\n> - \n- \n- Tab\n- \n\n`#` \n\nYAML \n\n> - mapping/ hashes / dictionary\n- sequence / list\n- scalars\n\n\n\n## \n\n\n\n```yaml\nanimal: pets\n```\n\n JavaScript \n\n```javascript\n{ animal: 'pets' }\n```\n\nYaml \n\n```yaml\nhash: { name: Steve, foo: bar } \n```\n\n JavaScript \n\n```javascript\n{ hash: { name: 'Steve', foo: 'bar' } }\n```\n\n## \n\n\n\n```yaml\n- Cat\n- Dog\n- Goldfish\n```\n\n JavaScript \n\n```javascript\n[ 'Cat', 'Dog', 'Goldfish' ]\n```\n\n\n\n```yaml\n-\n - Cat\n - Dog\n - Goldfish\n```\n\n JavaScript \n\n```javascript\n[ [ 'Cat', 'Dog', 'Goldfish' ] ]\n```\n\n\n\n```yaml\nanimal: [Cat, Dog]\n```\n\n JavaScript \n\n```javascript\n{ animal: [ 'Cat', 'Dog' ] }\n```\n\n## \n\n\n\n```yaml\nlanguages:\n - Ruby\n - Perl\n - Python \nwebsites:\n YAML: yaml.org \n Ruby: ruby-lang.org \n Python: python.org \n Perl: use.perl.org \n```\n\n JavaScript \n\n```javascript\n{ languages: [ 'Ruby', 'Perl', 'Python' ],\n  websites: \n   { YAML: 'yaml.org',\n     Ruby: 'ruby-lang.org',\n     Python: 'python.org',\n     Perl: 'use.perl.org' } }\n```\n\n## \n\n JavaScript \n\n> - \n- \n- \n- \n- Null\n- \n- \n\n\n\n```yaml\nnumber: 12.30\n```\n\n JavaScript \n\n```javascript\n{ number: 12.30 }\n```\n\n`true``false`\n\n```yaml\nisSet: true\n```\n\n JavaScript \n\n```javascript\n{ isSet: true }\n```\n\n`null``~`\n\n```yaml\nparent: ~ \n```\n\n JavaScript \n\n```javascript\n{ parent: null }\n```\n\n ISO8601 \n\n```yaml\niso8601: 2001-12-14t21:59:43.10-05:00 \n```\n\n JavaScript \n\n```javascript\n{ iso8601: new Date('2001-12-14t21:59:43.10-05:00') }\n```\n\n iso8601 \n\n```yaml\ndate: 1976-07-31\n```\n\n JavaScript \n\n```javascript\n{ date: new Date('1976-07-31') }\n```\n\nYAML \n\n```yaml\ne: !!str 123\nf: !!str true\n```\n\n JavaScript \n\n```javascript\n{ e: '123', f: 'true' }\n```\n\n## \n\n\n\n\n\n```yaml\nstr: \n```\n\n JavaScript \n\n```javascript\n{ str: '' }\n```\n\n\n\n```yaml\nstr: ' '\n```\n\n JavaScript \n\n```javascript\nstr: ': '\n```\n\n\n\n```yaml\ns1: '\\n'\ns2: \"\\n\"\n```\n\n JavaScript \n\n```javascript\n{ s1: '\\\\n', s2: '\\n' }\n```\n\n\n\n```javascript\nstr: 'labor''s day' \n```\n\n JavaScript \n\n```javascript\n{ str: 'labor\\'s day' }\n```\n\n\n\n```yaml\nstr: \n  \n  \n```\n\n JavaScript \n\n```javascript\n{ str: '  ' }\n```\n\n`|``>`\n\n```javascript\nthis: |\n  Foo\n  Bar\nthat: >\n  Foo\n  Bar\n```\n\n JavaScript \n\n```javascript\n{ this: 'Foo\\nBar\\n', that: 'Foo Bar\\n' }\n```\n\n`+``-`\n\n```yaml\ns1: |\n  Foo\n\ns2: |+\n  Foo\n\n\ns3: |-\n  Foo\n```\n\n JavaScript \n\n```javascript\n{ s1: 'Foo\\n', s2: 'Foo\\n\\n\\n', s3: 'Foo' }\n```\n\n HTML \n\n```yaml\nmessage: |\n\n        <p style=\"color: red\">\n          \n        </p>\n```\n\n JavaScript \n\n```javascript\n{ message: '\\n<p style=\"color: red\">\\n  \\n</p>\\n' }\n```\n\n## \n\n`&``*`\n\n```yaml\ndefaults: &defaults\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  <<: *defaults\n\ntest:\n  database: myapp_test\n  <<: *defaults\n```\n\n\n\n```yaml\ndefaults:\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  adapter:  postgres\n  host:     localhost\n\ntest:\n  database: myapp_test\n  adapter:  postgres\n  host:     localhost\n```\n\n`&``defaults``<<``*`\n\n\n\n```yaml\n- &showell Steve \n- Clark \n- Brian \n- Oren \n- *showell \n``` \n\n JavaScript \n\n```javascript\n[ 'Steve', 'Clark', 'Brian', 'Oren', 'Steve' ]\n```\n\n## \n\n [JS-YAML](https://github.com/nodeca/js-yaml) \n\n```yaml\n# example.yml\nfn: function () { return 1 }\nreg: /test/\n```\n\n yml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\ntry {\n  var doc = yaml.load(\n    fs.readFileSync('./example.yml', 'utf8')\n  );\n  console.log(doc);\n} catch (e) {\n  console.log(e);\n}\n```\n\n JavaScript  yaml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\nvar obj = {\n  fn: function () { return 1 },\n  reg: /test/\n};\n\ntry {\n  fs.writeFileSync(\n    './example.yml',\n    yaml.dump(obj),\n    'utf8'\n  );\n} catch (e) {\n  console.log(e);\n}\n```\n\n## \n\n- [YAML 1.2 ](http://www.yaml.org/spec/1.2/spec.html)\n- [YAML from Wikipedia](https://en.wikipedia.org/wiki/YAML)\n- [YAML for Ruby](http://yaml.org/YAML_for_ruby.html)","source":"_posts/2016/yaml.md","raw":"---\ntitle: YAML \ndate: 2016-11-23 18:13:25\nupdated: 2016-11-23 18:13:25\ntags:\ncategories:\n---\n\n\n\nYAML  JSON \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif)\n\n YAML  [JS-YAML](https://github.com/nodeca/js-yaml) [ Demo](http://nodeca.github.io/js-yaml/)\n<!-- more -->\n## \n\nYAML  /jml/ \n\n\n\n> - \n- \n- Tab\n- \n\n`#` \n\nYAML \n\n> - mapping/ hashes / dictionary\n- sequence / list\n- scalars\n\n\n\n## \n\n\n\n```yaml\nanimal: pets\n```\n\n JavaScript \n\n```javascript\n{ animal: 'pets' }\n```\n\nYaml \n\n```yaml\nhash: { name: Steve, foo: bar } \n```\n\n JavaScript \n\n```javascript\n{ hash: { name: 'Steve', foo: 'bar' } }\n```\n\n## \n\n\n\n```yaml\n- Cat\n- Dog\n- Goldfish\n```\n\n JavaScript \n\n```javascript\n[ 'Cat', 'Dog', 'Goldfish' ]\n```\n\n\n\n```yaml\n-\n - Cat\n - Dog\n - Goldfish\n```\n\n JavaScript \n\n```javascript\n[ [ 'Cat', 'Dog', 'Goldfish' ] ]\n```\n\n\n\n```yaml\nanimal: [Cat, Dog]\n```\n\n JavaScript \n\n```javascript\n{ animal: [ 'Cat', 'Dog' ] }\n```\n\n## \n\n\n\n```yaml\nlanguages:\n - Ruby\n - Perl\n - Python \nwebsites:\n YAML: yaml.org \n Ruby: ruby-lang.org \n Python: python.org \n Perl: use.perl.org \n```\n\n JavaScript \n\n```javascript\n{ languages: [ 'Ruby', 'Perl', 'Python' ],\n  websites: \n   { YAML: 'yaml.org',\n     Ruby: 'ruby-lang.org',\n     Python: 'python.org',\n     Perl: 'use.perl.org' } }\n```\n\n## \n\n JavaScript \n\n> - \n- \n- \n- \n- Null\n- \n- \n\n\n\n```yaml\nnumber: 12.30\n```\n\n JavaScript \n\n```javascript\n{ number: 12.30 }\n```\n\n`true``false`\n\n```yaml\nisSet: true\n```\n\n JavaScript \n\n```javascript\n{ isSet: true }\n```\n\n`null``~`\n\n```yaml\nparent: ~ \n```\n\n JavaScript \n\n```javascript\n{ parent: null }\n```\n\n ISO8601 \n\n```yaml\niso8601: 2001-12-14t21:59:43.10-05:00 \n```\n\n JavaScript \n\n```javascript\n{ iso8601: new Date('2001-12-14t21:59:43.10-05:00') }\n```\n\n iso8601 \n\n```yaml\ndate: 1976-07-31\n```\n\n JavaScript \n\n```javascript\n{ date: new Date('1976-07-31') }\n```\n\nYAML \n\n```yaml\ne: !!str 123\nf: !!str true\n```\n\n JavaScript \n\n```javascript\n{ e: '123', f: 'true' }\n```\n\n## \n\n\n\n\n\n```yaml\nstr: \n```\n\n JavaScript \n\n```javascript\n{ str: '' }\n```\n\n\n\n```yaml\nstr: ' '\n```\n\n JavaScript \n\n```javascript\nstr: ': '\n```\n\n\n\n```yaml\ns1: '\\n'\ns2: \"\\n\"\n```\n\n JavaScript \n\n```javascript\n{ s1: '\\\\n', s2: '\\n' }\n```\n\n\n\n```javascript\nstr: 'labor''s day' \n```\n\n JavaScript \n\n```javascript\n{ str: 'labor\\'s day' }\n```\n\n\n\n```yaml\nstr: \n  \n  \n```\n\n JavaScript \n\n```javascript\n{ str: '  ' }\n```\n\n`|``>`\n\n```javascript\nthis: |\n  Foo\n  Bar\nthat: >\n  Foo\n  Bar\n```\n\n JavaScript \n\n```javascript\n{ this: 'Foo\\nBar\\n', that: 'Foo Bar\\n' }\n```\n\n`+``-`\n\n```yaml\ns1: |\n  Foo\n\ns2: |+\n  Foo\n\n\ns3: |-\n  Foo\n```\n\n JavaScript \n\n```javascript\n{ s1: 'Foo\\n', s2: 'Foo\\n\\n\\n', s3: 'Foo' }\n```\n\n HTML \n\n```yaml\nmessage: |\n\n        <p style=\"color: red\">\n          \n        </p>\n```\n\n JavaScript \n\n```javascript\n{ message: '\\n<p style=\"color: red\">\\n  \\n</p>\\n' }\n```\n\n## \n\n`&``*`\n\n```yaml\ndefaults: &defaults\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  <<: *defaults\n\ntest:\n  database: myapp_test\n  <<: *defaults\n```\n\n\n\n```yaml\ndefaults:\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  adapter:  postgres\n  host:     localhost\n\ntest:\n  database: myapp_test\n  adapter:  postgres\n  host:     localhost\n```\n\n`&``defaults``<<``*`\n\n\n\n```yaml\n- &showell Steve \n- Clark \n- Brian \n- Oren \n- *showell \n``` \n\n JavaScript \n\n```javascript\n[ 'Steve', 'Clark', 'Brian', 'Oren', 'Steve' ]\n```\n\n## \n\n [JS-YAML](https://github.com/nodeca/js-yaml) \n\n```yaml\n# example.yml\nfn: function () { return 1 }\nreg: /test/\n```\n\n yml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\ntry {\n  var doc = yaml.load(\n    fs.readFileSync('./example.yml', 'utf8')\n  );\n  console.log(doc);\n} catch (e) {\n  console.log(e);\n}\n```\n\n JavaScript  yaml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\nvar obj = {\n  fn: function () { return 1 },\n  reg: /test/\n};\n\ntry {\n  fs.writeFileSync(\n    './example.yml',\n    yaml.dump(obj),\n    'utf8'\n  );\n} catch (e) {\n  console.log(e);\n}\n```\n\n## \n\n- [YAML 1.2 ](http://www.yaml.org/spec/1.2/spec.html)\n- [YAML from Wikipedia](https://en.wikipedia.org/wiki/YAML)\n- [YAML for Ruby](http://yaml.org/YAML_for_ruby.html)","slug":"yaml","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fx0032hpwfw081385c","content":"<p></p>\n<p>YAML  JSON </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif\" alt=\"\"></p>\n<p> YAML  <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"noopener\">JS-YAML</a> <a href=\"http://nodeca.github.io/js-yaml/\" target=\"_blank\" rel=\"noopener\"> Demo</a><br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YAML  /jml/ </p>\n<p></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li>Tab</li>\n<li></li>\n</ul>\n</blockquote>\n<p><code>#</code> </p>\n<p>YAML </p>\n<blockquote>\n<ul>\n<li>mapping/ hashes / dictionary</li>\n<li>sequence / list</li>\n<li>scalars</li>\n</ul>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> <span class=\"string\">pets</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">animal</span>: <span class=\"string\">'pets'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p>Yaml </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">hash:</span> <span class=\"string\">&#123;</span> <span class=\"attr\">name:</span> <span class=\"string\">Steve,</span> <span class=\"attr\">foo:</span> <span class=\"string\">bar</span> <span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">hash</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">'Steve'</span>, <span class=\"attr\">foo</span>: <span class=\"string\">'bar'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Cat</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Dog</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Goldfish</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Cat</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Dog</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Goldfish</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ] ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> <span class=\"string\">[Cat,</span> <span class=\"string\">Dog]</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">animal</span>: [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span> ] &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">languages:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Ruby</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Perl</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Python</span> </span><br><span class=\"line\"><span class=\"attr\">websites:</span></span><br><span class=\"line\"><span class=\"attr\"> YAML:</span> <span class=\"string\">yaml.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Ruby:</span> <span class=\"string\">ruby-lang.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Python:</span> <span class=\"string\">python.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Perl:</span> <span class=\"string\">use.perl.org</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">languages</span>: [ <span class=\"string\">'Ruby'</span>, <span class=\"string\">'Perl'</span>, <span class=\"string\">'Python'</span> ],</span><br><span class=\"line\">  websites: </span><br><span class=\"line\">   &#123; <span class=\"attr\">YAML</span>: <span class=\"string\">'yaml.org'</span>,</span><br><span class=\"line\">     Ruby: <span class=\"string\">'ruby-lang.org'</span>,</span><br><span class=\"line\">     Python: <span class=\"string\">'python.org'</span>,</span><br><span class=\"line\">     Perl: <span class=\"string\">'use.perl.org'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JavaScript </p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Null</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">number:</span> <span class=\"number\">12.30</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">number</span>: <span class=\"number\">12.30</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>true</code><code>false</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">isSet:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">isSet</span>: <span class=\"literal\">true</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>null</code><code>~</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">parent:</span> <span class=\"string\">~</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">parent</span>: <span class=\"literal\">null</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> ISO8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">iso8601:</span> <span class=\"number\">2001</span><span class=\"bullet\">-12</span><span class=\"bullet\">-14</span><span class=\"attr\">t21:59:43.10-05:00</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">iso8601</span>: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'2001-12-14t21:59:43.10-05:00'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p> iso8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">1976</span><span class=\"bullet\">-07</span><span class=\"bullet\">-31</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'1976-07-31'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p>YAML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">e:</span> <span class=\"type\">!!str</span> <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"attr\">f:</span> <span class=\"type\">!!str</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">e</span>: <span class=\"string\">'123'</span>, <span class=\"attr\">f</span>: <span class=\"string\">'true'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">''</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\">' '</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">': '</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">'\\n'</span></span><br><span class=\"line\"><span class=\"attr\">s2:</span> <span class=\"string\">\"\\n\"</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">s1</span>: <span class=\"string\">'\\\\n'</span>, <span class=\"attr\">s2</span>: <span class=\"string\">'\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">'labor'</span><span class=\"string\">'s day'</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">'labor\\'s day'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">'  '</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>|</code><code>&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>: |</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br><span class=\"line\">that: &gt;</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">this</span>: <span class=\"string\">'Foo\\nBar\\n'</span>, <span class=\"attr\">that</span>: <span class=\"string\">'Foo Bar\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>+</code><code>-</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">  Foo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">s2:</span> <span class=\"string\">|+</span></span><br><span class=\"line\">  <span class=\"string\">Foo</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">s3:</span> <span class=\"string\">|-</span></span><br><span class=\"line\">  <span class=\"string\">Foo</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">s1</span>: <span class=\"string\">'Foo\\n'</span>, <span class=\"attr\">s2</span>: <span class=\"string\">'Foo\\n\\n\\n'</span>, <span class=\"attr\">s3</span>: <span class=\"string\">'Foo'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> HTML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">message:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        &lt;p style=\"color: red\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">          </span></span><br><span class=\"line\"><span class=\"string\">        &lt;/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">message</span>: <span class=\"string\">'\\n&lt;p style=\"color: red\"&gt;\\n  \\n&lt;/p&gt;\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>&amp;</code><code>*</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span> <span class=\"meta\">&amp;defaults</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_development</span></span><br><span class=\"line\">  <span class=\"string\">&lt;&lt;:</span> <span class=\"meta\">*defaults</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_test</span></span><br><span class=\"line\">  <span class=\"string\">&lt;&lt;:</span> <span class=\"meta\">*defaults</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_development</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_test</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br></pre></td></tr></table></figure>\n<p><code>&amp;</code><code>defaults</code><code>&lt;&lt;</code><code>*</code></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"meta\">&amp;showell</span> <span class=\"string\">Steve</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Clark</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Brian</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Oren</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"meta\">*showell</span> </span><br><span class=\"line\"><span class=\"string\">```</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">JavaScript</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">```javascript</span></span><br><span class=\"line\"><span class=\"string\">[</span> <span class=\"string\">'Steve'</span><span class=\"string\">,</span> <span class=\"string\">'Clark'</span><span class=\"string\">,</span> <span class=\"string\">'Brian'</span><span class=\"string\">,</span> <span class=\"string\">'Oren'</span><span class=\"string\">,</span> <span class=\"string\">'Steve'</span> <span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"noopener\">JS-YAML</a> </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># example.yml</span></span><br><span class=\"line\"><span class=\"attr\">fn:</span> <span class=\"string\">function</span> <span class=\"string\">()</span> <span class=\"string\">&#123;</span> <span class=\"string\">return</span> <span class=\"number\">1</span> <span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"attr\">reg:</span> <span class=\"string\">/test/</span></span><br></pre></td></tr></table></figure>\n<p> yml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> doc = yaml.load(</span><br><span class=\"line\">    fs.readFileSync(<span class=\"string\">'./example.yml'</span>, <span class=\"string\">'utf8'</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(doc);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript  yaml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  fn: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  reg: <span class=\"regexp\">/test/</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  fs.writeFileSync(</span><br><span class=\"line\">    <span class=\"string\">'./example.yml'</span>,</span><br><span class=\"line\">    yaml.dump(obj),</span><br><span class=\"line\">    <span class=\"string\">'utf8'</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.yaml.org/spec/1.2/spec.html\" target=\"_blank\" rel=\"noopener\">YAML 1.2 </a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML from Wikipedia</a></li>\n<li><a href=\"http://yaml.org/YAML_for_ruby.html\" target=\"_blank\" rel=\"noopener\">YAML for Ruby</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p></p>\n<p>YAML  JSON </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif\" alt=\"\"></p>\n<p> YAML  <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"noopener\">JS-YAML</a> <a href=\"http://nodeca.github.io/js-yaml/\" target=\"_blank\" rel=\"noopener\"> Demo</a><br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YAML  /jml/ </p>\n<p></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li>Tab</li>\n<li></li>\n</ul>\n</blockquote>\n<p><code>#</code> </p>\n<p>YAML </p>\n<blockquote>\n<ul>\n<li>mapping/ hashes / dictionary</li>\n<li>sequence / list</li>\n<li>scalars</li>\n</ul>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> <span class=\"string\">pets</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">animal</span>: <span class=\"string\">'pets'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p>Yaml </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">hash:</span> <span class=\"string\">&#123;</span> <span class=\"attr\">name:</span> <span class=\"string\">Steve,</span> <span class=\"attr\">foo:</span> <span class=\"string\">bar</span> <span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">hash</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">'Steve'</span>, <span class=\"attr\">foo</span>: <span class=\"string\">'bar'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Cat</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Dog</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Goldfish</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Cat</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Dog</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Goldfish</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ] ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> <span class=\"string\">[Cat,</span> <span class=\"string\">Dog]</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">animal</span>: [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span> ] &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">languages:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Ruby</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Perl</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> <span class=\"string\">Python</span> </span><br><span class=\"line\"><span class=\"attr\">websites:</span></span><br><span class=\"line\"><span class=\"attr\"> YAML:</span> <span class=\"string\">yaml.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Ruby:</span> <span class=\"string\">ruby-lang.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Python:</span> <span class=\"string\">python.org</span> </span><br><span class=\"line\"><span class=\"attr\"> Perl:</span> <span class=\"string\">use.perl.org</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">languages</span>: [ <span class=\"string\">'Ruby'</span>, <span class=\"string\">'Perl'</span>, <span class=\"string\">'Python'</span> ],</span><br><span class=\"line\">  websites: </span><br><span class=\"line\">   &#123; <span class=\"attr\">YAML</span>: <span class=\"string\">'yaml.org'</span>,</span><br><span class=\"line\">     Ruby: <span class=\"string\">'ruby-lang.org'</span>,</span><br><span class=\"line\">     Python: <span class=\"string\">'python.org'</span>,</span><br><span class=\"line\">     Perl: <span class=\"string\">'use.perl.org'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JavaScript </p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Null</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">number:</span> <span class=\"number\">12.30</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">number</span>: <span class=\"number\">12.30</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>true</code><code>false</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">isSet:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">isSet</span>: <span class=\"literal\">true</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>null</code><code>~</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">parent:</span> <span class=\"string\">~</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">parent</span>: <span class=\"literal\">null</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> ISO8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">iso8601:</span> <span class=\"number\">2001</span><span class=\"bullet\">-12</span><span class=\"bullet\">-14</span><span class=\"attr\">t21:59:43.10-05:00</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">iso8601</span>: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'2001-12-14t21:59:43.10-05:00'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p> iso8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">1976</span><span class=\"bullet\">-07</span><span class=\"bullet\">-31</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'1976-07-31'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p>YAML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">e:</span> <span class=\"type\">!!str</span> <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"attr\">f:</span> <span class=\"type\">!!str</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">e</span>: <span class=\"string\">'123'</span>, <span class=\"attr\">f</span>: <span class=\"string\">'true'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">''</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\">' '</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">': '</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">'\\n'</span></span><br><span class=\"line\"><span class=\"attr\">s2:</span> <span class=\"string\">\"\\n\"</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">s1</span>: <span class=\"string\">'\\\\n'</span>, <span class=\"attr\">s2</span>: <span class=\"string\">'\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">'labor'</span><span class=\"string\">'s day'</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">'labor\\'s day'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">str</span>: <span class=\"string\">'  '</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>|</code><code>&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>: |</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br><span class=\"line\">that: &gt;</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">this</span>: <span class=\"string\">'Foo\\nBar\\n'</span>, <span class=\"attr\">that</span>: <span class=\"string\">'Foo Bar\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>+</code><code>-</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">  Foo</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">s2:</span> <span class=\"string\">|+</span></span><br><span class=\"line\">  <span class=\"string\">Foo</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">s3:</span> <span class=\"string\">|-</span></span><br><span class=\"line\">  <span class=\"string\">Foo</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">s1</span>: <span class=\"string\">'Foo\\n'</span>, <span class=\"attr\">s2</span>: <span class=\"string\">'Foo\\n\\n\\n'</span>, <span class=\"attr\">s3</span>: <span class=\"string\">'Foo'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> HTML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">message:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        &lt;p style=\"color: red\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">          </span></span><br><span class=\"line\"><span class=\"string\">        &lt;/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">message</span>: <span class=\"string\">'\\n&lt;p style=\"color: red\"&gt;\\n  \\n&lt;/p&gt;\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>&amp;</code><code>*</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span> <span class=\"meta\">&amp;defaults</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_development</span></span><br><span class=\"line\">  <span class=\"string\">&lt;&lt;:</span> <span class=\"meta\">*defaults</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_test</span></span><br><span class=\"line\">  <span class=\"string\">&lt;&lt;:</span> <span class=\"meta\">*defaults</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_development</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> <span class=\"string\">myapp_test</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  <span class=\"string\">postgres</span></span><br><span class=\"line\"><span class=\"attr\">  host:</span>     <span class=\"string\">localhost</span></span><br></pre></td></tr></table></figure>\n<p><code>&amp;</code><code>defaults</code><code>&lt;&lt;</code><code>*</code></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"meta\">&amp;showell</span> <span class=\"string\">Steve</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Clark</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Brian</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Oren</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"meta\">*showell</span> </span><br><span class=\"line\"><span class=\"string\">```</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">JavaScript</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">```javascript</span></span><br><span class=\"line\"><span class=\"string\">[</span> <span class=\"string\">'Steve'</span><span class=\"string\">,</span> <span class=\"string\">'Clark'</span><span class=\"string\">,</span> <span class=\"string\">'Brian'</span><span class=\"string\">,</span> <span class=\"string\">'Oren'</span><span class=\"string\">,</span> <span class=\"string\">'Steve'</span> <span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"noopener\">JS-YAML</a> </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># example.yml</span></span><br><span class=\"line\"><span class=\"attr\">fn:</span> <span class=\"string\">function</span> <span class=\"string\">()</span> <span class=\"string\">&#123;</span> <span class=\"string\">return</span> <span class=\"number\">1</span> <span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"attr\">reg:</span> <span class=\"string\">/test/</span></span><br></pre></td></tr></table></figure>\n<p> yml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> doc = yaml.load(</span><br><span class=\"line\">    fs.readFileSync(<span class=\"string\">'./example.yml'</span>, <span class=\"string\">'utf8'</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(doc);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript  yaml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  fn: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  reg: <span class=\"regexp\">/test/</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  fs.writeFileSync(</span><br><span class=\"line\">    <span class=\"string\">'./example.yml'</span>,</span><br><span class=\"line\">    yaml.dump(obj),</span><br><span class=\"line\">    <span class=\"string\">'utf8'</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.yaml.org/spec/1.2/spec.html\" target=\"_blank\" rel=\"noopener\">YAML 1.2 </a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML from Wikipedia</a></li>\n<li><a href=\"http://yaml.org/YAML_for_ruby.html\" target=\"_blank\" rel=\"noopener\">YAML for Ruby</a></li>\n</ul>"},{"title":"awk","date":"2017-01-25T04:08:15.000Z","updated":"2017-01-25T04:08:15.000Z","_content":"\n## \n```bash\nawk '{pattern + action}' {filenames}\n\n\t \nARGC\t \nARGV\t \nFILENAME\t \nFNR\t \nFS\t \nRS\t \nNF\t \nNR\t \nOFS\t \nORS\t \n```\n\n<!--more-->\n\n## awk\n```bash\n\n1awk '/101/'               file file101 \n   awk '/101/,/105/'         file \n   awk '$1 == 5'             file \n   awk '$1 == \"CT\"'          file  \n   awk '$1 * $2 >100 '       file  \n   awk '$2 >5 && $2<=15'     file\n\n\n2awk '{print NR,NF,$1,$NF,}' file file \n   awk '/101/ {print $1,$2 + 10}' file file10 \n   awk '/101/ {print $1$2}'  file \n   awk '/101/ {print $1 $2}' file file\n\n\n3df | awk '$4>1000000 '         4\n\n\n4awk -F \"|\" '{print $1}'   file | \n   awk  'BEGIN { FS=\"[: \\t|]\" } \n   {print $1,$2,$3}' \t     file FS=\"[: \\t|]\" \n\n   Sep=\"|\" \n   awk -F $Sep '{print $1}'  file Sep    \n   awk -F '[ :\\t|]' '{print $1}' file :TAB| \n   awk -F '[][]'    '{print $1}' file []\n\n\n5awk -f awkfile \t     file awkfile \n   cat awkfile \n/101/{print \"\\047 Hello! \\047\"} -- ' Hello! '.\\047 \n{print $1,$2}                   --\n\n\n6awk '$1 ~ /101/ {print $1}' file 101\n\n\n7awk   'BEGIN { OFS=\"%\"} \n   {print $1,$2}'           file OFS=\"%\"\n\n\n8awk   'BEGIN { max=100 ;print \"max=\" max}             BEGIN  \n   {max=($1 >max ?$1:max); print $1,\"Now max is \"max}' file  \n   1?2:3  \n   if (1) \n       2 \n   else \n       3 \n   awk '{print ($1>4 ? \"high \"$1: \"low \"$1)}' file \n\n\n9awk '$1 * $2 >100 {print $1}' file 101\n\n\n10awk '{$1 == 'Chi' {$3 = 'China'; print}' file 3 \n    awk '{$7 %= 3; print $7}'  file 737\n\n\n11awk '/tom/ {wage=$2+$3; printf wage}' file wage\n\n\n12awk '/tom/ {count++;}  \n         END {print \"tom was found \"count\" times\"}' file END\n\n\n13awk 'gsub(/\\$/,\"\");gsub(/,/,\"\"); cost+=$4; \n         END {print \"The total is $\" cost>\"filename\"}'    file gsub$,filename \n    1 2 3 $1,200.00 \n    1 2 3 $2,300.00 \n    1 2 3 $4,000.00 \n\n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>1000&&$4<2000) c1+=$4; \n    else if ($4>2000&&$4<3000) c2+=$4; \n    else if ($4>3000&&$4<4000) c3+=$4; \n    else c4+=$4; } \n    END {printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4}\"' file \n    ifelse if \n\n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>3000&&$4<4000) exit; \n    else c4+=$4; } \n    END {printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4}\"' file \n    exitEND \n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>3000) next; \n    else c4+=$4; } \n    END {printf  \"c4=[%d]\\n\",c4}\"' file \n    next \n\n\n14awk '{ print FILENAME,$0 }' file1 file2 file3>fileall file1file2file3fileall \n    \n\n\n15awk ' $1!=previous { close(previous); previous=$1 }    \n    {print substr($0,index($0,\" \") +1)>$1}' fileall 3\n\n\n16awk 'BEGIN {\"date\"|getline d; print d}'         dategetlined \n\n\n17awk 'BEGIN {system(\"echo \\\"Input your name:\\\\c\\\"\"); getline d;print \"\\nYour name is\",d,\"\\b!\\n\"}' \n    getlinename \n    awk 'BEGIN {FS=\":\"; while(getline< \"/etc/passwd\" >0) { if($1~\"050[0-9]_\") print $1}}' \n    /etc/passwd050x_ \n\n18awk '{ i=1;while(i<NF) {print NF,$i;i++}}' file while \n    awk '{ for(i=1;i<NF;i++) {print NF,$i}}'   file for     \n    type file|awk -F \"/\" ' \n    { for(i=1;i<NF;i++) \n    { if(i==NF-1) { printf \"%s\",$i } \n    else { printf \"%s/\",$i } }}'                \n    forif \n    awk  'BEGIN { \nfor(j=1;j<=12;j++) \n{ flag=0; \n  printf \"\\n%d\\n\",j; \n        for(i=1;i<=31;i++) \n        { \n        if (j==2&&i>28) flag=1; \n        if ((j==4||j==6||j==9||j==11)&&i>30) flag=1; \n        if (flag==0) {printf \"%02d%02d \",j,i} \n        } \n} \n}'\n\n\n19awk \nFlag=abcd \nawk '{print '$Flag'}'   abcd \nawk '{print  \"$Flag\"}'   $Flag\n\n\n# a.txt\nawk 'BEGIN{total=0}{total+=$4}END{print total}' a.txt\n\n# noso\nawk '/^(no|so)/' test  \n\n# ns\nawk '/^[ns]/{print $1}' test\n\n# \nawk '$1 ~/[0-9][0-9]$/(print $1}' test \n\n# 10050\nawk '$1 == 100 || $2 < 50' test\n\n# 10\nawk '$1 != 10' test\n\n#test10\nawk '/test/{print $1 + 10}' test \n\n#5\nawk '{print ($1 > 5 ? \"ok \"$1: \"error\"$1)}' test \n\n\n#rootmysqlroot mysql\nawk '/^root/,/^mysql/' test \n\n```\n\n\n```\n# \nset -e\nlogin=\"-h192.168.1.70 -P3306 -uroot -proot\"\n#\ndatabases=$(mysql ${login} -N -e \"show databases like 'pre_%';\")\nif [ -e datasAll.txt ]; then\n    cat /dev/null >datasAll.txt\nfi\nfor i in ${databases}\ndo\n    echo ${i} >>log.txt\n    tables=$(mysql ${login} -N -e \"use ${i}; show tables;\")\n    for j in ${tables}\n    do\n        mysql ${login} -N --default-character-set=utf8 -e \"use ${i}; select uid, income, spend, create_at from ${j}\" >>datasAll.txt\n    done\ndone\n#\necho '-->step 1' >>log.txt\ngrep \"2014-\" datasAll.txt >datas2014.txt\necho '-->step 2' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{income[$1]+=$2;outlays[$1]+=$3;}END{for(key in income){print key,income[key],outlays[key] >\"sumAll.txt\"}}' datasAll.txt\necho '-->step 3' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{income[$1]+=$2;outlays[$1]+=$3;}END{for(key in income){print key,income[key],outlays[key] >\"sum2014.txt\"}}' datas2014.txt\necho '-->step 4' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{if(NR==FNR){uid[$1]=$2}else if(NR>FNR){if($1 in uid){margin=uid[$1]+$3;if(margin>0){print $1,$2+$3-margin,margin >\"baseDatas.txt\"}}}}' sum2014.txt sumAll.txt\n\n#\necho '-->step 6' >>log.txt\nrm -f datasAll.txt sumAll.txt datas2014.txt sum2014.txt log.txt\n#baseDatas.txt : ID |  | 2014 \n\necho '-->OVER' >>log.txt\n\n```","source":"_posts/2017/awk.md","raw":"---\ntitle: awk\ndate: 2017-01-25 12:08:15\nupdated: 2017-01-25 12:08:15\ntags:\ncategories:\n---\n\n## \n```bash\nawk '{pattern + action}' {filenames}\n\n\t \nARGC\t \nARGV\t \nFILENAME\t \nFNR\t \nFS\t \nRS\t \nNF\t \nNR\t \nOFS\t \nORS\t \n```\n\n<!--more-->\n\n## awk\n```bash\n\n1awk '/101/'               file file101 \n   awk '/101/,/105/'         file \n   awk '$1 == 5'             file \n   awk '$1 == \"CT\"'          file  \n   awk '$1 * $2 >100 '       file  \n   awk '$2 >5 && $2<=15'     file\n\n\n2awk '{print NR,NF,$1,$NF,}' file file \n   awk '/101/ {print $1,$2 + 10}' file file10 \n   awk '/101/ {print $1$2}'  file \n   awk '/101/ {print $1 $2}' file file\n\n\n3df | awk '$4>1000000 '         4\n\n\n4awk -F \"|\" '{print $1}'   file | \n   awk  'BEGIN { FS=\"[: \\t|]\" } \n   {print $1,$2,$3}' \t     file FS=\"[: \\t|]\" \n\n   Sep=\"|\" \n   awk -F $Sep '{print $1}'  file Sep    \n   awk -F '[ :\\t|]' '{print $1}' file :TAB| \n   awk -F '[][]'    '{print $1}' file []\n\n\n5awk -f awkfile \t     file awkfile \n   cat awkfile \n/101/{print \"\\047 Hello! \\047\"} -- ' Hello! '.\\047 \n{print $1,$2}                   --\n\n\n6awk '$1 ~ /101/ {print $1}' file 101\n\n\n7awk   'BEGIN { OFS=\"%\"} \n   {print $1,$2}'           file OFS=\"%\"\n\n\n8awk   'BEGIN { max=100 ;print \"max=\" max}             BEGIN  \n   {max=($1 >max ?$1:max); print $1,\"Now max is \"max}' file  \n   1?2:3  \n   if (1) \n       2 \n   else \n       3 \n   awk '{print ($1>4 ? \"high \"$1: \"low \"$1)}' file \n\n\n9awk '$1 * $2 >100 {print $1}' file 101\n\n\n10awk '{$1 == 'Chi' {$3 = 'China'; print}' file 3 \n    awk '{$7 %= 3; print $7}'  file 737\n\n\n11awk '/tom/ {wage=$2+$3; printf wage}' file wage\n\n\n12awk '/tom/ {count++;}  \n         END {print \"tom was found \"count\" times\"}' file END\n\n\n13awk 'gsub(/\\$/,\"\");gsub(/,/,\"\"); cost+=$4; \n         END {print \"The total is $\" cost>\"filename\"}'    file gsub$,filename \n    1 2 3 $1,200.00 \n    1 2 3 $2,300.00 \n    1 2 3 $4,000.00 \n\n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>1000&&$4<2000) c1+=$4; \n    else if ($4>2000&&$4<3000) c2+=$4; \n    else if ($4>3000&&$4<4000) c3+=$4; \n    else c4+=$4; } \n    END {printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4}\"' file \n    ifelse if \n\n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>3000&&$4<4000) exit; \n    else c4+=$4; } \n    END {printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4}\"' file \n    exitEND \n    awk '{gsub(/\\$/,\"\");gsub(/,/,\"\"); \n    if ($4>3000) next; \n    else c4+=$4; } \n    END {printf  \"c4=[%d]\\n\",c4}\"' file \n    next \n\n\n14awk '{ print FILENAME,$0 }' file1 file2 file3>fileall file1file2file3fileall \n    \n\n\n15awk ' $1!=previous { close(previous); previous=$1 }    \n    {print substr($0,index($0,\" \") +1)>$1}' fileall 3\n\n\n16awk 'BEGIN {\"date\"|getline d; print d}'         dategetlined \n\n\n17awk 'BEGIN {system(\"echo \\\"Input your name:\\\\c\\\"\"); getline d;print \"\\nYour name is\",d,\"\\b!\\n\"}' \n    getlinename \n    awk 'BEGIN {FS=\":\"; while(getline< \"/etc/passwd\" >0) { if($1~\"050[0-9]_\") print $1}}' \n    /etc/passwd050x_ \n\n18awk '{ i=1;while(i<NF) {print NF,$i;i++}}' file while \n    awk '{ for(i=1;i<NF;i++) {print NF,$i}}'   file for     \n    type file|awk -F \"/\" ' \n    { for(i=1;i<NF;i++) \n    { if(i==NF-1) { printf \"%s\",$i } \n    else { printf \"%s/\",$i } }}'                \n    forif \n    awk  'BEGIN { \nfor(j=1;j<=12;j++) \n{ flag=0; \n  printf \"\\n%d\\n\",j; \n        for(i=1;i<=31;i++) \n        { \n        if (j==2&&i>28) flag=1; \n        if ((j==4||j==6||j==9||j==11)&&i>30) flag=1; \n        if (flag==0) {printf \"%02d%02d \",j,i} \n        } \n} \n}'\n\n\n19awk \nFlag=abcd \nawk '{print '$Flag'}'   abcd \nawk '{print  \"$Flag\"}'   $Flag\n\n\n# a.txt\nawk 'BEGIN{total=0}{total+=$4}END{print total}' a.txt\n\n# noso\nawk '/^(no|so)/' test  \n\n# ns\nawk '/^[ns]/{print $1}' test\n\n# \nawk '$1 ~/[0-9][0-9]$/(print $1}' test \n\n# 10050\nawk '$1 == 100 || $2 < 50' test\n\n# 10\nawk '$1 != 10' test\n\n#test10\nawk '/test/{print $1 + 10}' test \n\n#5\nawk '{print ($1 > 5 ? \"ok \"$1: \"error\"$1)}' test \n\n\n#rootmysqlroot mysql\nawk '/^root/,/^mysql/' test \n\n```\n\n\n```\n# \nset -e\nlogin=\"-h192.168.1.70 -P3306 -uroot -proot\"\n#\ndatabases=$(mysql ${login} -N -e \"show databases like 'pre_%';\")\nif [ -e datasAll.txt ]; then\n    cat /dev/null >datasAll.txt\nfi\nfor i in ${databases}\ndo\n    echo ${i} >>log.txt\n    tables=$(mysql ${login} -N -e \"use ${i}; show tables;\")\n    for j in ${tables}\n    do\n        mysql ${login} -N --default-character-set=utf8 -e \"use ${i}; select uid, income, spend, create_at from ${j}\" >>datasAll.txt\n    done\ndone\n#\necho '-->step 1' >>log.txt\ngrep \"2014-\" datasAll.txt >datas2014.txt\necho '-->step 2' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{income[$1]+=$2;outlays[$1]+=$3;}END{for(key in income){print key,income[key],outlays[key] >\"sumAll.txt\"}}' datasAll.txt\necho '-->step 3' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{income[$1]+=$2;outlays[$1]+=$3;}END{for(key in income){print key,income[key],outlays[key] >\"sum2014.txt\"}}' datas2014.txt\necho '-->step 4' >>log.txt\nawk 'BEGIN{FS=\"\\t\";OFS=\"\\t\";}{if(NR==FNR){uid[$1]=$2}else if(NR>FNR){if($1 in uid){margin=uid[$1]+$3;if(margin>0){print $1,$2+$3-margin,margin >\"baseDatas.txt\"}}}}' sum2014.txt sumAll.txt\n\n#\necho '-->step 6' >>log.txt\nrm -f datasAll.txt sumAll.txt datas2014.txt sum2014.txt log.txt\n#baseDatas.txt : ID |  | 2014 \n\necho '-->OVER' >>log.txt\n\n```","slug":"awk","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138fz0034hpwf91934qcb","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">'&#123;pattern + action&#125;'</span> &#123;filenames&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t </span><br><span class=\"line\">ARGC\t </span><br><span class=\"line\">ARGV\t </span><br><span class=\"line\">FILENAME\t </span><br><span class=\"line\">FNR\t </span><br><span class=\"line\">FS\t </span><br><span class=\"line\">RS\t </span><br><span class=\"line\">NF\t </span><br><span class=\"line\">NR\t </span><br><span class=\"line\">OFS\t </span><br><span class=\"line\">ORS\t</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"awk\"><a href=\"#awk\" class=\"headerlink\" title=\"awk\"></a>awk</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">1awk <span class=\"string\">'/101/'</span>               file file101 </span><br><span class=\"line\">   awk <span class=\"string\">'/101/,/105/'</span>         file </span><br><span class=\"line\">   awk <span class=\"string\">'$1 == 5'</span>             file </span><br><span class=\"line\">   awk <span class=\"string\">'$1 == \"CT\"'</span>          file  </span><br><span class=\"line\">   awk <span class=\"string\">'$1 * $2 &gt;100 '</span>       file  </span><br><span class=\"line\">   awk <span class=\"string\">'$2 &gt;5 &amp;&amp; $2&lt;=15'</span>     file</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">2awk <span class=\"string\">'&#123;print NR,NF,$1,$NF,&#125;'</span> file file </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1,$2 + 10&#125;'</span> file file10 </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1$2&#125;'</span>  file </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1 $2&#125;'</span> file file</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">3df | awk <span class=\"string\">'$4&gt;1000000 '</span>         4</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">4awk -F <span class=\"string\">\"|\"</span> <span class=\"string\">'&#123;print $1&#125;'</span>   file | </span><br><span class=\"line\">   awk  <span class=\"string\">'BEGIN &#123; FS=\"[: \\t|]\" &#125; </span></span><br><span class=\"line\"><span class=\"string\">   &#123;print $1,$2,$3&#125;'</span> \t     file FS=<span class=\"string\">\"[: \\t|]\"</span> </span><br><span class=\"line\"></span><br><span class=\"line\">   Sep=<span class=\"string\">\"|\"</span> </span><br><span class=\"line\">   awk -F <span class=\"variable\">$Sep</span> <span class=\"string\">'&#123;print $1&#125;'</span>  file Sep    </span><br><span class=\"line\">   awk -F <span class=\"string\">'[ :\\t|]'</span> <span class=\"string\">'&#123;print $1&#125;'</span> file :TAB| </span><br><span class=\"line\">   awk -F <span class=\"string\">'[][]'</span>    <span class=\"string\">'&#123;print $1&#125;'</span> file []</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">5awk -f awkfile \t     file awkfile </span><br><span class=\"line\">   cat awkfile </span><br><span class=\"line\">/101/&#123;<span class=\"built_in\">print</span> <span class=\"string\">\"\\047 Hello! \\047\"</span>&#125; -- <span class=\"string\">' Hello! '</span>.\\047 </span><br><span class=\"line\">&#123;<span class=\"built_in\">print</span> <span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>&#125;                   --</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">6awk <span class=\"string\">'$1 ~ /101/ &#123;print $1&#125;'</span> file 101</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">7awk   <span class=\"string\">'BEGIN &#123; OFS=\"%\"&#125; </span></span><br><span class=\"line\"><span class=\"string\">   &#123;print $1,$2&#125;'</span>           file OFS=<span class=\"string\">\"%\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">8awk   <span class=\"string\">'BEGIN &#123; max=100 ;print \"max=\" max&#125;             BEGIN  </span></span><br><span class=\"line\"><span class=\"string\">   &#123;max=($1 &gt;max ?$1:max); print $1,\"Now max is \"max&#125;'</span> file  </span><br><span class=\"line\">   1?2:3  </span><br><span class=\"line\">   <span class=\"keyword\">if</span> (1) </span><br><span class=\"line\">       2 </span><br><span class=\"line\">   <span class=\"keyword\">else</span> </span><br><span class=\"line\">       3 </span><br><span class=\"line\">   awk <span class=\"string\">'&#123;print ($1&gt;4 ? \"high \"$1: \"low \"$1)&#125;'</span> file </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">9awk <span class=\"string\">'$1 * $2 &gt;100 &#123;print $1&#125;'</span> file 101</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">10awk <span class=\"string\">'&#123;$1 == '</span>Chi<span class=\"string\">' &#123;$3 = '</span>China<span class=\"string\">'; print&#125;'</span> file 3 </span><br><span class=\"line\">    awk <span class=\"string\">'&#123;$7 %= 3; print $7&#125;'</span>  file 737</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">11awk <span class=\"string\">'/tom/ &#123;wage=$2+$3; printf wage&#125;'</span> file wage</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">12awk <span class=\"string\">'/tom/ &#123;count++;&#125;  </span></span><br><span class=\"line\"><span class=\"string\">         END &#123;print \"tom was found \"count\" times\"&#125;'</span> file END</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">13awk <span class=\"string\">'gsub(/\\$/,\"\");gsub(/,/,\"\"); cost+=$4; </span></span><br><span class=\"line\"><span class=\"string\">         END &#123;print \"The total is $\" cost&gt;\"filename\"&#125;'</span>    file gsub$,filename </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$1</span>,200.00 </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$2</span>,300.00 </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$4</span>,000.00 </span><br><span class=\"line\"></span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;1000&amp;&amp;$4&lt;2000) c1+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else if ($4&gt;2000&amp;&amp;$4&lt;3000) c2+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else if ($4&gt;3000&amp;&amp;$4&lt;4000) c3+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4&#125;\"'</span> file </span><br><span class=\"line\">    <span class=\"keyword\">if</span><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> </span><br><span class=\"line\"></span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;3000&amp;&amp;$4&lt;4000) exit; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4&#125;\"'</span> file </span><br><span class=\"line\">    <span class=\"built_in\">exit</span>END </span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;3000) next; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c4=[%d]\\n\",c4&#125;\"'</span> file </span><br><span class=\"line\">    next </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">14awk <span class=\"string\">'&#123; print FILENAME,$0 &#125;'</span> file1 file2 file3&gt;fileall file1file2file3fileall </span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">15awk <span class=\"string\">' $1!=previous &#123; close(previous); previous=$1 &#125;    </span></span><br><span class=\"line\"><span class=\"string\">    &#123;print substr($0,index($0,\" \") +1)&gt;$1&#125;'</span> fileall 3</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">16awk <span class=\"string\">'BEGIN &#123;\"date\"|getline d; print d&#125;'</span>         dategetlined </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">17awk <span class=\"string\">'BEGIN &#123;system(\"echo \\\"Input your name:\\\\c\\\"\"); getline d;print \"\\nYour name is\",d,\"\\b!\\n\"&#125;'</span> </span><br><span class=\"line\">    getlinename </span><br><span class=\"line\">    awk <span class=\"string\">'BEGIN &#123;FS=\":\"; while(getline&lt; \"/etc/passwd\" &gt;0) &#123; if($1~\"050[0-9]_\") print $1&#125;&#125;'</span> </span><br><span class=\"line\">    /etc/passwd050x_ </span><br><span class=\"line\"></span><br><span class=\"line\">18awk <span class=\"string\">'&#123; i=1;while(i&lt;NF) &#123;print NF,$i;i++&#125;&#125;'</span> file <span class=\"keyword\">while</span> </span><br><span class=\"line\">    awk <span class=\"string\">'&#123; for(i=1;i&lt;NF;i++) &#123;print NF,$i&#125;&#125;'</span>   file <span class=\"keyword\">for</span>     </span><br><span class=\"line\">    <span class=\"built_in\">type</span> file|awk -F <span class=\"string\">\"/\"</span> <span class=\"string\">' </span></span><br><span class=\"line\"><span class=\"string\">    &#123; for(i=1;i&lt;NF;i++) </span></span><br><span class=\"line\"><span class=\"string\">    &#123; if(i==NF-1) &#123; printf \"%s\",$i &#125; </span></span><br><span class=\"line\"><span class=\"string\">    else &#123; printf \"%s/\",$i &#125; &#125;&#125;'</span>                </span><br><span class=\"line\">    <span class=\"keyword\">for</span><span class=\"keyword\">if</span> </span><br><span class=\"line\">    awk  <span class=\"string\">'BEGIN &#123; </span></span><br><span class=\"line\"><span class=\"string\">for(j=1;j&lt;=12;j++) </span></span><br><span class=\"line\"><span class=\"string\">&#123; flag=0; </span></span><br><span class=\"line\"><span class=\"string\">  printf \"\\n%d\\n\",j; </span></span><br><span class=\"line\"><span class=\"string\">        for(i=1;i&lt;=31;i++) </span></span><br><span class=\"line\"><span class=\"string\">        &#123; </span></span><br><span class=\"line\"><span class=\"string\">        if (j==2&amp;&amp;i&gt;28) flag=1; </span></span><br><span class=\"line\"><span class=\"string\">        if ((j==4||j==6||j==9||j==11)&amp;&amp;i&gt;30) flag=1; </span></span><br><span class=\"line\"><span class=\"string\">        if (flag==0) &#123;printf \"%02d%02d \",j,i&#125; </span></span><br><span class=\"line\"><span class=\"string\">        &#125; </span></span><br><span class=\"line\"><span class=\"string\">&#125; </span></span><br><span class=\"line\"><span class=\"string\">&#125;'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">19awk </span><br><span class=\"line\">Flag=abcd </span><br><span class=\"line\">awk <span class=\"string\">'&#123;print '</span><span class=\"variable\">$Flag</span><span class=\"string\">'&#125;'</span>   abcd </span><br><span class=\"line\">awk <span class=\"string\">'&#123;print  \"$Flag\"&#125;'</span>   <span class=\"variable\">$Flag</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># a.txt</span></span><br><span class=\"line\">awk <span class=\"string\">'BEGIN&#123;total=0&#125;&#123;total+=$4&#125;END&#123;print total&#125;'</span> a.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># noso</span></span><br><span class=\"line\">awk <span class=\"string\">'/^(no|so)/'</span> <span class=\"built_in\">test</span>  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ns</span></span><br><span class=\"line\">awk <span class=\"string\">'/^[ns]/&#123;print $1&#125;'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">awk <span class=\"string\">'$1 ~/[0-9][0-9]$/(print $1&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 10050</span></span><br><span class=\"line\">awk <span class=\"string\">'$1 == 100 || $2 &lt; 50'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 10</span></span><br><span class=\"line\">awk <span class=\"string\">'$1 != 10'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test10</span></span><br><span class=\"line\">awk <span class=\"string\">'/test/&#123;print $1 + 10&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#5</span></span><br><span class=\"line\">awk <span class=\"string\">'&#123;print ($1 &gt; 5 ? \"ok \"$1: \"error\"$1)&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rootmysqlroot mysql</span></span><br><span class=\"line\">awk <span class=\"string\">'/^root/,/^mysql/'</span> <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">set -e</span><br><span class=\"line\">login=&quot;-h192.168.1.70 -P3306 -uroot -proot&quot;</span><br><span class=\"line\">#</span><br><span class=\"line\">databases=$(mysql $&#123;login&#125; -N -e &quot;show databases like &apos;pre_%&apos;;&quot;)</span><br><span class=\"line\">if [ -e datasAll.txt ]; then</span><br><span class=\"line\">    cat /dev/null &gt;datasAll.txt</span><br><span class=\"line\">fi</span><br><span class=\"line\">for i in $&#123;databases&#125;</span><br><span class=\"line\">do</span><br><span class=\"line\">    echo $&#123;i&#125; &gt;&gt;log.txt</span><br><span class=\"line\">    tables=$(mysql $&#123;login&#125; -N -e &quot;use $&#123;i&#125;; show tables;&quot;)</span><br><span class=\"line\">    for j in $&#123;tables&#125;</span><br><span class=\"line\">    do</span><br><span class=\"line\">        mysql $&#123;login&#125; -N --default-character-set=utf8 -e &quot;use $&#123;i&#125;; select uid, income, spend, create_at from $&#123;j&#125;&quot; &gt;&gt;datasAll.txt</span><br><span class=\"line\">    done</span><br><span class=\"line\">done</span><br><span class=\"line\">#</span><br><span class=\"line\">echo &apos;--&gt;step 1&apos; &gt;&gt;log.txt</span><br><span class=\"line\">grep &quot;2014-&quot; datasAll.txt &gt;datas2014.txt</span><br><span class=\"line\">echo &apos;--&gt;step 2&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;income[$1]+=$2;outlays[$1]+=$3;&#125;END&#123;for(key in income)&#123;print key,income[key],outlays[key] &gt;&quot;sumAll.txt&quot;&#125;&#125;&apos; datasAll.txt</span><br><span class=\"line\">echo &apos;--&gt;step 3&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;income[$1]+=$2;outlays[$1]+=$3;&#125;END&#123;for(key in income)&#123;print key,income[key],outlays[key] &gt;&quot;sum2014.txt&quot;&#125;&#125;&apos; datas2014.txt</span><br><span class=\"line\">echo &apos;--&gt;step 4&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;if(NR==FNR)&#123;uid[$1]=$2&#125;else if(NR&gt;FNR)&#123;if($1 in uid)&#123;margin=uid[$1]+$3;if(margin&gt;0)&#123;print $1,$2+$3-margin,margin &gt;&quot;baseDatas.txt&quot;&#125;&#125;&#125;&#125;&apos; sum2014.txt sumAll.txt</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">echo &apos;--&gt;step 6&apos; &gt;&gt;log.txt</span><br><span class=\"line\">rm -f datasAll.txt sumAll.txt datas2014.txt sum2014.txt log.txt</span><br><span class=\"line\">#baseDatas.txt : ID |  | 2014 </span><br><span class=\"line\"></span><br><span class=\"line\">echo &apos;--&gt;OVER&apos; &gt;&gt;log.txt</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">'&#123;pattern + action&#125;'</span> &#123;filenames&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t </span><br><span class=\"line\">ARGC\t </span><br><span class=\"line\">ARGV\t </span><br><span class=\"line\">FILENAME\t </span><br><span class=\"line\">FNR\t </span><br><span class=\"line\">FS\t </span><br><span class=\"line\">RS\t </span><br><span class=\"line\">NF\t </span><br><span class=\"line\">NR\t </span><br><span class=\"line\">OFS\t </span><br><span class=\"line\">ORS\t</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"awk\"><a href=\"#awk\" class=\"headerlink\" title=\"awk\"></a>awk</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">1awk <span class=\"string\">'/101/'</span>               file file101 </span><br><span class=\"line\">   awk <span class=\"string\">'/101/,/105/'</span>         file </span><br><span class=\"line\">   awk <span class=\"string\">'$1 == 5'</span>             file </span><br><span class=\"line\">   awk <span class=\"string\">'$1 == \"CT\"'</span>          file  </span><br><span class=\"line\">   awk <span class=\"string\">'$1 * $2 &gt;100 '</span>       file  </span><br><span class=\"line\">   awk <span class=\"string\">'$2 &gt;5 &amp;&amp; $2&lt;=15'</span>     file</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">2awk <span class=\"string\">'&#123;print NR,NF,$1,$NF,&#125;'</span> file file </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1,$2 + 10&#125;'</span> file file10 </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1$2&#125;'</span>  file </span><br><span class=\"line\">   awk <span class=\"string\">'/101/ &#123;print $1 $2&#125;'</span> file file</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">3df | awk <span class=\"string\">'$4&gt;1000000 '</span>         4</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">4awk -F <span class=\"string\">\"|\"</span> <span class=\"string\">'&#123;print $1&#125;'</span>   file | </span><br><span class=\"line\">   awk  <span class=\"string\">'BEGIN &#123; FS=\"[: \\t|]\" &#125; </span></span><br><span class=\"line\"><span class=\"string\">   &#123;print $1,$2,$3&#125;'</span> \t     file FS=<span class=\"string\">\"[: \\t|]\"</span> </span><br><span class=\"line\"></span><br><span class=\"line\">   Sep=<span class=\"string\">\"|\"</span> </span><br><span class=\"line\">   awk -F <span class=\"variable\">$Sep</span> <span class=\"string\">'&#123;print $1&#125;'</span>  file Sep    </span><br><span class=\"line\">   awk -F <span class=\"string\">'[ :\\t|]'</span> <span class=\"string\">'&#123;print $1&#125;'</span> file :TAB| </span><br><span class=\"line\">   awk -F <span class=\"string\">'[][]'</span>    <span class=\"string\">'&#123;print $1&#125;'</span> file []</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">5awk -f awkfile \t     file awkfile </span><br><span class=\"line\">   cat awkfile </span><br><span class=\"line\">/101/&#123;<span class=\"built_in\">print</span> <span class=\"string\">\"\\047 Hello! \\047\"</span>&#125; -- <span class=\"string\">' Hello! '</span>.\\047 </span><br><span class=\"line\">&#123;<span class=\"built_in\">print</span> <span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>&#125;                   --</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">6awk <span class=\"string\">'$1 ~ /101/ &#123;print $1&#125;'</span> file 101</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">7awk   <span class=\"string\">'BEGIN &#123; OFS=\"%\"&#125; </span></span><br><span class=\"line\"><span class=\"string\">   &#123;print $1,$2&#125;'</span>           file OFS=<span class=\"string\">\"%\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">8awk   <span class=\"string\">'BEGIN &#123; max=100 ;print \"max=\" max&#125;             BEGIN  </span></span><br><span class=\"line\"><span class=\"string\">   &#123;max=($1 &gt;max ?$1:max); print $1,\"Now max is \"max&#125;'</span> file  </span><br><span class=\"line\">   1?2:3  </span><br><span class=\"line\">   <span class=\"keyword\">if</span> (1) </span><br><span class=\"line\">       2 </span><br><span class=\"line\">   <span class=\"keyword\">else</span> </span><br><span class=\"line\">       3 </span><br><span class=\"line\">   awk <span class=\"string\">'&#123;print ($1&gt;4 ? \"high \"$1: \"low \"$1)&#125;'</span> file </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">9awk <span class=\"string\">'$1 * $2 &gt;100 &#123;print $1&#125;'</span> file 101</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">10awk <span class=\"string\">'&#123;$1 == '</span>Chi<span class=\"string\">' &#123;$3 = '</span>China<span class=\"string\">'; print&#125;'</span> file 3 </span><br><span class=\"line\">    awk <span class=\"string\">'&#123;$7 %= 3; print $7&#125;'</span>  file 737</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">11awk <span class=\"string\">'/tom/ &#123;wage=$2+$3; printf wage&#125;'</span> file wage</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">12awk <span class=\"string\">'/tom/ &#123;count++;&#125;  </span></span><br><span class=\"line\"><span class=\"string\">         END &#123;print \"tom was found \"count\" times\"&#125;'</span> file END</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">13awk <span class=\"string\">'gsub(/\\$/,\"\");gsub(/,/,\"\"); cost+=$4; </span></span><br><span class=\"line\"><span class=\"string\">         END &#123;print \"The total is $\" cost&gt;\"filename\"&#125;'</span>    file gsub$,filename </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$1</span>,200.00 </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$2</span>,300.00 </span><br><span class=\"line\">    1 2 3 <span class=\"variable\">$4</span>,000.00 </span><br><span class=\"line\"></span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;1000&amp;&amp;$4&lt;2000) c1+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else if ($4&gt;2000&amp;&amp;$4&lt;3000) c2+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else if ($4&gt;3000&amp;&amp;$4&lt;4000) c3+=$4; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4&#125;\"'</span> file </span><br><span class=\"line\">    <span class=\"keyword\">if</span><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> </span><br><span class=\"line\"></span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;3000&amp;&amp;$4&lt;4000) exit; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c1=[%d];c2=[%d];c3=[%d];c4=[%d]\\n\",c1,c2,c3,c4&#125;\"'</span> file </span><br><span class=\"line\">    <span class=\"built_in\">exit</span>END </span><br><span class=\"line\">    awk <span class=\"string\">'&#123;gsub(/\\$/,\"\");gsub(/,/,\"\"); </span></span><br><span class=\"line\"><span class=\"string\">    if ($4&gt;3000) next; </span></span><br><span class=\"line\"><span class=\"string\">    else c4+=$4; &#125; </span></span><br><span class=\"line\"><span class=\"string\">    END &#123;printf  \"c4=[%d]\\n\",c4&#125;\"'</span> file </span><br><span class=\"line\">    next </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">14awk <span class=\"string\">'&#123; print FILENAME,$0 &#125;'</span> file1 file2 file3&gt;fileall file1file2file3fileall </span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">15awk <span class=\"string\">' $1!=previous &#123; close(previous); previous=$1 &#125;    </span></span><br><span class=\"line\"><span class=\"string\">    &#123;print substr($0,index($0,\" \") +1)&gt;$1&#125;'</span> fileall 3</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">16awk <span class=\"string\">'BEGIN &#123;\"date\"|getline d; print d&#125;'</span>         dategetlined </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">17awk <span class=\"string\">'BEGIN &#123;system(\"echo \\\"Input your name:\\\\c\\\"\"); getline d;print \"\\nYour name is\",d,\"\\b!\\n\"&#125;'</span> </span><br><span class=\"line\">    getlinename </span><br><span class=\"line\">    awk <span class=\"string\">'BEGIN &#123;FS=\":\"; while(getline&lt; \"/etc/passwd\" &gt;0) &#123; if($1~\"050[0-9]_\") print $1&#125;&#125;'</span> </span><br><span class=\"line\">    /etc/passwd050x_ </span><br><span class=\"line\"></span><br><span class=\"line\">18awk <span class=\"string\">'&#123; i=1;while(i&lt;NF) &#123;print NF,$i;i++&#125;&#125;'</span> file <span class=\"keyword\">while</span> </span><br><span class=\"line\">    awk <span class=\"string\">'&#123; for(i=1;i&lt;NF;i++) &#123;print NF,$i&#125;&#125;'</span>   file <span class=\"keyword\">for</span>     </span><br><span class=\"line\">    <span class=\"built_in\">type</span> file|awk -F <span class=\"string\">\"/\"</span> <span class=\"string\">' </span></span><br><span class=\"line\"><span class=\"string\">    &#123; for(i=1;i&lt;NF;i++) </span></span><br><span class=\"line\"><span class=\"string\">    &#123; if(i==NF-1) &#123; printf \"%s\",$i &#125; </span></span><br><span class=\"line\"><span class=\"string\">    else &#123; printf \"%s/\",$i &#125; &#125;&#125;'</span>                </span><br><span class=\"line\">    <span class=\"keyword\">for</span><span class=\"keyword\">if</span> </span><br><span class=\"line\">    awk  <span class=\"string\">'BEGIN &#123; </span></span><br><span class=\"line\"><span class=\"string\">for(j=1;j&lt;=12;j++) </span></span><br><span class=\"line\"><span class=\"string\">&#123; flag=0; </span></span><br><span class=\"line\"><span class=\"string\">  printf \"\\n%d\\n\",j; </span></span><br><span class=\"line\"><span class=\"string\">        for(i=1;i&lt;=31;i++) </span></span><br><span class=\"line\"><span class=\"string\">        &#123; </span></span><br><span class=\"line\"><span class=\"string\">        if (j==2&amp;&amp;i&gt;28) flag=1; </span></span><br><span class=\"line\"><span class=\"string\">        if ((j==4||j==6||j==9||j==11)&amp;&amp;i&gt;30) flag=1; </span></span><br><span class=\"line\"><span class=\"string\">        if (flag==0) &#123;printf \"%02d%02d \",j,i&#125; </span></span><br><span class=\"line\"><span class=\"string\">        &#125; </span></span><br><span class=\"line\"><span class=\"string\">&#125; </span></span><br><span class=\"line\"><span class=\"string\">&#125;'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">19awk </span><br><span class=\"line\">Flag=abcd </span><br><span class=\"line\">awk <span class=\"string\">'&#123;print '</span><span class=\"variable\">$Flag</span><span class=\"string\">'&#125;'</span>   abcd </span><br><span class=\"line\">awk <span class=\"string\">'&#123;print  \"$Flag\"&#125;'</span>   <span class=\"variable\">$Flag</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># a.txt</span></span><br><span class=\"line\">awk <span class=\"string\">'BEGIN&#123;total=0&#125;&#123;total+=$4&#125;END&#123;print total&#125;'</span> a.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># noso</span></span><br><span class=\"line\">awk <span class=\"string\">'/^(no|so)/'</span> <span class=\"built_in\">test</span>  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ns</span></span><br><span class=\"line\">awk <span class=\"string\">'/^[ns]/&#123;print $1&#125;'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">awk <span class=\"string\">'$1 ~/[0-9][0-9]$/(print $1&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 10050</span></span><br><span class=\"line\">awk <span class=\"string\">'$1 == 100 || $2 &lt; 50'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 10</span></span><br><span class=\"line\">awk <span class=\"string\">'$1 != 10'</span> <span class=\"built_in\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test10</span></span><br><span class=\"line\">awk <span class=\"string\">'/test/&#123;print $1 + 10&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#5</span></span><br><span class=\"line\">awk <span class=\"string\">'&#123;print ($1 &gt; 5 ? \"ok \"$1: \"error\"$1)&#125;'</span> <span class=\"built_in\">test</span> </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rootmysqlroot mysql</span></span><br><span class=\"line\">awk <span class=\"string\">'/^root/,/^mysql/'</span> <span class=\"built_in\">test</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">set -e</span><br><span class=\"line\">login=&quot;-h192.168.1.70 -P3306 -uroot -proot&quot;</span><br><span class=\"line\">#</span><br><span class=\"line\">databases=$(mysql $&#123;login&#125; -N -e &quot;show databases like &apos;pre_%&apos;;&quot;)</span><br><span class=\"line\">if [ -e datasAll.txt ]; then</span><br><span class=\"line\">    cat /dev/null &gt;datasAll.txt</span><br><span class=\"line\">fi</span><br><span class=\"line\">for i in $&#123;databases&#125;</span><br><span class=\"line\">do</span><br><span class=\"line\">    echo $&#123;i&#125; &gt;&gt;log.txt</span><br><span class=\"line\">    tables=$(mysql $&#123;login&#125; -N -e &quot;use $&#123;i&#125;; show tables;&quot;)</span><br><span class=\"line\">    for j in $&#123;tables&#125;</span><br><span class=\"line\">    do</span><br><span class=\"line\">        mysql $&#123;login&#125; -N --default-character-set=utf8 -e &quot;use $&#123;i&#125;; select uid, income, spend, create_at from $&#123;j&#125;&quot; &gt;&gt;datasAll.txt</span><br><span class=\"line\">    done</span><br><span class=\"line\">done</span><br><span class=\"line\">#</span><br><span class=\"line\">echo &apos;--&gt;step 1&apos; &gt;&gt;log.txt</span><br><span class=\"line\">grep &quot;2014-&quot; datasAll.txt &gt;datas2014.txt</span><br><span class=\"line\">echo &apos;--&gt;step 2&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;income[$1]+=$2;outlays[$1]+=$3;&#125;END&#123;for(key in income)&#123;print key,income[key],outlays[key] &gt;&quot;sumAll.txt&quot;&#125;&#125;&apos; datasAll.txt</span><br><span class=\"line\">echo &apos;--&gt;step 3&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;income[$1]+=$2;outlays[$1]+=$3;&#125;END&#123;for(key in income)&#123;print key,income[key],outlays[key] &gt;&quot;sum2014.txt&quot;&#125;&#125;&apos; datas2014.txt</span><br><span class=\"line\">echo &apos;--&gt;step 4&apos; &gt;&gt;log.txt</span><br><span class=\"line\">awk &apos;BEGIN&#123;FS=&quot;\\t&quot;;OFS=&quot;\\t&quot;;&#125;&#123;if(NR==FNR)&#123;uid[$1]=$2&#125;else if(NR&gt;FNR)&#123;if($1 in uid)&#123;margin=uid[$1]+$3;if(margin&gt;0)&#123;print $1,$2+$3-margin,margin &gt;&quot;baseDatas.txt&quot;&#125;&#125;&#125;&#125;&apos; sum2014.txt sumAll.txt</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">echo &apos;--&gt;step 6&apos; &gt;&gt;log.txt</span><br><span class=\"line\">rm -f datasAll.txt sumAll.txt datas2014.txt sum2014.txt log.txt</span><br><span class=\"line\">#baseDatas.txt : ID |  | 2014 </span><br><span class=\"line\"></span><br><span class=\"line\">echo &apos;--&gt;OVER&apos; &gt;&gt;log.txt</span><br></pre></td></tr></table></figure>"},{"title":"Docker","date":"2017-07-31T07:48:22.000Z","updated":"2017-07-31T07:48:22.000Z","_content":"\n## Docker\n\nDocker\n\nUbuntu\n\n<!-- more -->\n\n\nDocker deamon the kernel\n\n** DockerKubernetes **\n\nheader 1 |  | \n---|--- |---\n |  | \n |  |  (SOA)\n\n\n- `python` or `nodejs` or `php` \n- mongodb\n- elasticsearch \n- nginxweb\n\n\n\n\n## terminology\n- (images)DockerDockerHello World\n-  (containers) Docker`alpine image``docker ps`\n- Docker(Docker daemon) docker containers.\n- docker client Docker Deamon.\n- Docker Store  docker  \n\n## installion\n\n`uname -r` 3.1docker\n\n### ubuntu\n\n```bash\nwget -qO- https://get.docker.com/ | sh\nsudo usermod -aG docker runoob  // root\nsudo service docker start\n//hello-world \ndocker run hello-world\n```\n\n\n### centos\n\n```bash\nyum -y install docker\nservice docker start\ndocker run hello-world\n\n\n## \nsudo yum update\ncurl -fsSL https://get.docker.com/ | sh\nsudo service docker start\nsudo docker run hello-world\n\n```\n\n\n\n\n## Usage\n\n\n```bash\nsudo docker version\n> - Client:  \n> -  Version:      1.13.1\n> -  API version:  1.26\n> -  Go version:   go1.7.5\n> -  Git commit:   092cba3\n> -  Built:        Wed Feb  8 06:50:14 2017\n> -  OS/Arch:      linux/amd64\n> - \n> - Server:  \n> -  Version:      1.13.1\n> -  API version:  1.26 (minimum version 1.12)\n> -  Go version:   go1.7.5\n> -  Git commit:   092cba3\n> -  Built:        Wed Feb  8 06:50:14 2017\n> -  OS/Arch:      linux/amd64\n> -  Experimental: false\n\n\nsudo docker pull ubuntu\nsudo docker images\n\nsudo docker ps -a  \n\n\n//Docker\ndocker run -d -P training/webapp python app.py\ndocker run -d -p 5000:5000 training/webapp python app.py\ndocker run -d -p 127.0.0.1:5001:5002 training/webapp python app.py\ndocker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py\n//\ndocker run -d -P --name my_container_name training/webapp python app.py\n\ndocker run --name static-site -e AUTHOR=\"Your Name\" -d -P dockersamples/static-site\n\ndocker ps\ndocker ps -l\ndocker ps -a\n\n> -d: \n> -P: \n> -p: \n>- e: \n>- name:  \n\n```\n\n\n## webapps whit docker\n\n\n### Run a static website in a container\n\n[](https://github.com/docker/labs/tree/master/beginner/static-site) \n```\n docker run -d dockersamples/static-site\n docker ps // \n\t\n docker port static-site\n //run\n docker run --name static-site-2 -e AUTHOR=\"Your Name\" -d -p 8888:80 dockersamples/static-site\n open localhost:8888/\n\n //stop\n docker stop a7a0e504ca3e // \n docker rm a7a0e504ca3e   // \n\n //\n docker rm -f static-site-2\n\n\n docker ps\n docker images\n```\n\n## docker images\n\n[docker Store](https://store.docker.com/) \n```\n//ubuntu 16.04\ndocker pull ubuntu:16.04  \n// latest\ndocker pull ubuntu\n```\n\n## Other\n\nstore[app](https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md)\n\n\n[](https://github.com/docker/labs/blob/master/beginner/readme.md)","source":"_posts/2017/docker-tutorial.md","raw":"---\ntitle: Docker\ndate: 2017-07-31 15:48:22\nupdated: 2017-07-31 15:48:22\ntags:\ncategories:\n---\n\n## Docker\n\nDocker\n\nUbuntu\n\n<!-- more -->\n\n\nDocker deamon the kernel\n\n** DockerKubernetes **\n\nheader 1 |  | \n---|--- |---\n |  | \n |  |  (SOA)\n\n\n- `python` or `nodejs` or `php` \n- mongodb\n- elasticsearch \n- nginxweb\n\n\n\n\n## terminology\n- (images)DockerDockerHello World\n-  (containers) Docker`alpine image``docker ps`\n- Docker(Docker daemon) docker containers.\n- docker client Docker Deamon.\n- Docker Store  docker  \n\n## installion\n\n`uname -r` 3.1docker\n\n### ubuntu\n\n```bash\nwget -qO- https://get.docker.com/ | sh\nsudo usermod -aG docker runoob  // root\nsudo service docker start\n//hello-world \ndocker run hello-world\n```\n\n\n### centos\n\n```bash\nyum -y install docker\nservice docker start\ndocker run hello-world\n\n\n## \nsudo yum update\ncurl -fsSL https://get.docker.com/ | sh\nsudo service docker start\nsudo docker run hello-world\n\n```\n\n\n\n\n## Usage\n\n\n```bash\nsudo docker version\n> - Client:  \n> -  Version:      1.13.1\n> -  API version:  1.26\n> -  Go version:   go1.7.5\n> -  Git commit:   092cba3\n> -  Built:        Wed Feb  8 06:50:14 2017\n> -  OS/Arch:      linux/amd64\n> - \n> - Server:  \n> -  Version:      1.13.1\n> -  API version:  1.26 (minimum version 1.12)\n> -  Go version:   go1.7.5\n> -  Git commit:   092cba3\n> -  Built:        Wed Feb  8 06:50:14 2017\n> -  OS/Arch:      linux/amd64\n> -  Experimental: false\n\n\nsudo docker pull ubuntu\nsudo docker images\n\nsudo docker ps -a  \n\n\n//Docker\ndocker run -d -P training/webapp python app.py\ndocker run -d -p 5000:5000 training/webapp python app.py\ndocker run -d -p 127.0.0.1:5001:5002 training/webapp python app.py\ndocker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py\n//\ndocker run -d -P --name my_container_name training/webapp python app.py\n\ndocker run --name static-site -e AUTHOR=\"Your Name\" -d -P dockersamples/static-site\n\ndocker ps\ndocker ps -l\ndocker ps -a\n\n> -d: \n> -P: \n> -p: \n>- e: \n>- name:  \n\n```\n\n\n## webapps whit docker\n\n\n### Run a static website in a container\n\n[](https://github.com/docker/labs/tree/master/beginner/static-site) \n```\n docker run -d dockersamples/static-site\n docker ps // \n\t\n docker port static-site\n //run\n docker run --name static-site-2 -e AUTHOR=\"Your Name\" -d -p 8888:80 dockersamples/static-site\n open localhost:8888/\n\n //stop\n docker stop a7a0e504ca3e // \n docker rm a7a0e504ca3e   // \n\n //\n docker rm -f static-site-2\n\n\n docker ps\n docker images\n```\n\n## docker images\n\n[docker Store](https://store.docker.com/) \n```\n//ubuntu 16.04\ndocker pull ubuntu:16.04  \n// latest\ndocker pull ubuntu\n```\n\n## Other\n\nstore[app](https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md)\n\n\n[](https://github.com/docker/labs/blob/master/beginner/readme.md)","slug":"docker-tutorial","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g00035hpwf2hbzvksq","content":"<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><p>Docker</p>\n<p>Ubuntu</p>\n<a id=\"more\"></a>\n<p></p>\n<p>Docker deamon the kernel</p>\n<p><strong> DockerKubernetes </strong></p>\n<table>\n<thead>\n<tr>\n<th>header 1</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td> (SOA)</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<ul>\n<li><code>python</code> or <code>nodejs</code> or <code>php</code> </li>\n<li>mongodb</li>\n<li>elasticsearch </li>\n<li>nginxweb</li>\n</ul>\n<p></p>\n<h2 id=\"terminology\"><a href=\"#terminology\" class=\"headerlink\" title=\"terminology\"></a>terminology</h2><ul>\n<li>(images)DockerDockerHello World</li>\n<li> (containers) Docker<code>alpine image</code><code>docker ps</code></li>\n<li>Docker(Docker daemon) docker containers.</li>\n<li>docker client Docker Deamon.</li>\n<li>Docker Store  docker  </li>\n</ul>\n<h2 id=\"installion\"><a href=\"#installion\" class=\"headerlink\" title=\"installion\"></a>installion</h2><p><code>uname -r</code> 3.1docker</p>\n<h3 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://get.docker.com/ | sh</span><br><span class=\"line\">sudo usermod -aG docker runoob  // root</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\">//hello-world </span><br><span class=\"line\">docker run hello-world</span><br></pre></td></tr></table></figure>\n<h3 id=\"centos\"><a href=\"#centos\" class=\"headerlink\" title=\"centos\"></a>centos</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install docker</span><br><span class=\"line\">service docker start</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">sudo yum update</span><br><span class=\"line\">curl -fsSL https://get.docker.com/ | sh</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\">sudo docker run hello-world</span><br></pre></td></tr></table></figure>\n<h2 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker version</span><br><span class=\"line\">&gt; - Client:  </span><br><span class=\"line\">&gt; -  Version:      1.13.1</span><br><span class=\"line\">&gt; -  API version:  1.26</span><br><span class=\"line\">&gt; -  Go version:   go1.7.5</span><br><span class=\"line\">&gt; -  Git commit:   092cba3</span><br><span class=\"line\">&gt; -  Built:        Wed Feb  8 06:50:14 2017</span><br><span class=\"line\">&gt; -  OS/Arch:      linux/amd64</span><br><span class=\"line\">&gt; - </span><br><span class=\"line\">&gt; - Server:  </span><br><span class=\"line\">&gt; -  Version:      1.13.1</span><br><span class=\"line\">&gt; -  API version:  1.26 (minimum version 1.12)</span><br><span class=\"line\">&gt; -  Go version:   go1.7.5</span><br><span class=\"line\">&gt; -  Git commit:   092cba3</span><br><span class=\"line\">&gt; -  Built:        Wed Feb  8 06:50:14 2017</span><br><span class=\"line\">&gt; -  OS/Arch:      linux/amd64</span><br><span class=\"line\">&gt; -  Experimental: <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">sudo docker pull ubuntu</span><br><span class=\"line\">sudo docker images</span><br><span class=\"line\"></span><br><span class=\"line\">sudo docker ps -a  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//Docker</span><br><span class=\"line\">docker run -d -P training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 5000:5000 training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 127.0.0.1:5001:5002 training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py</span><br><span class=\"line\">//</span><br><span class=\"line\">docker run -d -P --name my_container_name training/webapp python app.py</span><br><span class=\"line\"></span><br><span class=\"line\">docker run --name static-site -e AUTHOR=<span class=\"string\">\"Your Name\"</span> -d -P dockersamples/static-site</span><br><span class=\"line\"></span><br><span class=\"line\">docker ps</span><br><span class=\"line\">docker ps -l</span><br><span class=\"line\">docker ps -a</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; -d: </span><br><span class=\"line\">&gt; -P: </span><br><span class=\"line\">&gt; -p: </span><br><span class=\"line\">&gt;- e: </span><br><span class=\"line\">&gt;- name:  </span><br></pre></td></tr></table></figure>\n<h2 id=\"webapps-whit-docker\"><a href=\"#webapps-whit-docker\" class=\"headerlink\" title=\"webapps whit docker\"></a>webapps whit docker</h2><h3 id=\"Run-a-static-website-in-a-container\"><a href=\"#Run-a-static-website-in-a-container\" class=\"headerlink\" title=\"Run a static website in a container\"></a>Run a static website in a container</h3><p><a href=\"https://github.com/docker/labs/tree/master/beginner/static-site\" target=\"_blank\" rel=\"noopener\"></a> <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d dockersamples/static-site</span><br><span class=\"line\">docker ps // </span><br><span class=\"line\"></span><br><span class=\"line\">docker port static-site</span><br><span class=\"line\">//run</span><br><span class=\"line\">docker run --name static-site-2 -e AUTHOR=&quot;Your Name&quot; -d -p 8888:80 dockersamples/static-site</span><br><span class=\"line\">open localhost:8888/</span><br><span class=\"line\"></span><br><span class=\"line\">//stop</span><br><span class=\"line\">docker stop a7a0e504ca3e // </span><br><span class=\"line\">docker rm a7a0e504ca3e   // </span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">docker rm -f static-site-2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">docker ps</span><br><span class=\"line\">docker images</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"docker-images\"><a href=\"#docker-images\" class=\"headerlink\" title=\"docker images\"></a>docker images</h2><p><a href=\"https://store.docker.com/\" target=\"_blank\" rel=\"noopener\">docker Store</a> <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//ubuntu 16.04</span><br><span class=\"line\">docker pull ubuntu:16.04  </span><br><span class=\"line\">// latest</span><br><span class=\"line\">docker pull ubuntu</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h2><p>store<a href=\"https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md\" target=\"_blank\" rel=\"noopener\">app</a></p>\n<p><a href=\"https://github.com/docker/labs/blob/master/beginner/readme.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><p>Docker</p>\n<p>Ubuntu</p>","more":"<p></p>\n<p>Docker deamon the kernel</p>\n<p><strong> DockerKubernetes </strong></p>\n<table>\n<thead>\n<tr>\n<th>header 1</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td> (SOA)</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<ul>\n<li><code>python</code> or <code>nodejs</code> or <code>php</code> </li>\n<li>mongodb</li>\n<li>elasticsearch </li>\n<li>nginxweb</li>\n</ul>\n<p></p>\n<h2 id=\"terminology\"><a href=\"#terminology\" class=\"headerlink\" title=\"terminology\"></a>terminology</h2><ul>\n<li>(images)DockerDockerHello World</li>\n<li> (containers) Docker<code>alpine image</code><code>docker ps</code></li>\n<li>Docker(Docker daemon) docker containers.</li>\n<li>docker client Docker Deamon.</li>\n<li>Docker Store  docker  </li>\n</ul>\n<h2 id=\"installion\"><a href=\"#installion\" class=\"headerlink\" title=\"installion\"></a>installion</h2><p><code>uname -r</code> 3.1docker</p>\n<h3 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://get.docker.com/ | sh</span><br><span class=\"line\">sudo usermod -aG docker runoob  // root</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\">//hello-world </span><br><span class=\"line\">docker run hello-world</span><br></pre></td></tr></table></figure>\n<h3 id=\"centos\"><a href=\"#centos\" class=\"headerlink\" title=\"centos\"></a>centos</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install docker</span><br><span class=\"line\">service docker start</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">sudo yum update</span><br><span class=\"line\">curl -fsSL https://get.docker.com/ | sh</span><br><span class=\"line\">sudo service docker start</span><br><span class=\"line\">sudo docker run hello-world</span><br></pre></td></tr></table></figure>\n<h2 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker version</span><br><span class=\"line\">&gt; - Client:  </span><br><span class=\"line\">&gt; -  Version:      1.13.1</span><br><span class=\"line\">&gt; -  API version:  1.26</span><br><span class=\"line\">&gt; -  Go version:   go1.7.5</span><br><span class=\"line\">&gt; -  Git commit:   092cba3</span><br><span class=\"line\">&gt; -  Built:        Wed Feb  8 06:50:14 2017</span><br><span class=\"line\">&gt; -  OS/Arch:      linux/amd64</span><br><span class=\"line\">&gt; - </span><br><span class=\"line\">&gt; - Server:  </span><br><span class=\"line\">&gt; -  Version:      1.13.1</span><br><span class=\"line\">&gt; -  API version:  1.26 (minimum version 1.12)</span><br><span class=\"line\">&gt; -  Go version:   go1.7.5</span><br><span class=\"line\">&gt; -  Git commit:   092cba3</span><br><span class=\"line\">&gt; -  Built:        Wed Feb  8 06:50:14 2017</span><br><span class=\"line\">&gt; -  OS/Arch:      linux/amd64</span><br><span class=\"line\">&gt; -  Experimental: <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">sudo docker pull ubuntu</span><br><span class=\"line\">sudo docker images</span><br><span class=\"line\"></span><br><span class=\"line\">sudo docker ps -a  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//Docker</span><br><span class=\"line\">docker run -d -P training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 5000:5000 training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 127.0.0.1:5001:5002 training/webapp python app.py</span><br><span class=\"line\">docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py</span><br><span class=\"line\">//</span><br><span class=\"line\">docker run -d -P --name my_container_name training/webapp python app.py</span><br><span class=\"line\"></span><br><span class=\"line\">docker run --name static-site -e AUTHOR=<span class=\"string\">\"Your Name\"</span> -d -P dockersamples/static-site</span><br><span class=\"line\"></span><br><span class=\"line\">docker ps</span><br><span class=\"line\">docker ps -l</span><br><span class=\"line\">docker ps -a</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; -d: </span><br><span class=\"line\">&gt; -P: </span><br><span class=\"line\">&gt; -p: </span><br><span class=\"line\">&gt;- e: </span><br><span class=\"line\">&gt;- name:  </span><br></pre></td></tr></table></figure>\n<h2 id=\"webapps-whit-docker\"><a href=\"#webapps-whit-docker\" class=\"headerlink\" title=\"webapps whit docker\"></a>webapps whit docker</h2><h3 id=\"Run-a-static-website-in-a-container\"><a href=\"#Run-a-static-website-in-a-container\" class=\"headerlink\" title=\"Run a static website in a container\"></a>Run a static website in a container</h3><p><a href=\"https://github.com/docker/labs/tree/master/beginner/static-site\" target=\"_blank\" rel=\"noopener\"></a> <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d dockersamples/static-site</span><br><span class=\"line\">docker ps // </span><br><span class=\"line\"></span><br><span class=\"line\">docker port static-site</span><br><span class=\"line\">//run</span><br><span class=\"line\">docker run --name static-site-2 -e AUTHOR=&quot;Your Name&quot; -d -p 8888:80 dockersamples/static-site</span><br><span class=\"line\">open localhost:8888/</span><br><span class=\"line\"></span><br><span class=\"line\">//stop</span><br><span class=\"line\">docker stop a7a0e504ca3e // </span><br><span class=\"line\">docker rm a7a0e504ca3e   // </span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">docker rm -f static-site-2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">docker ps</span><br><span class=\"line\">docker images</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"docker-images\"><a href=\"#docker-images\" class=\"headerlink\" title=\"docker images\"></a>docker images</h2><p><a href=\"https://store.docker.com/\" target=\"_blank\" rel=\"noopener\">docker Store</a> <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//ubuntu 16.04</span><br><span class=\"line\">docker pull ubuntu:16.04  </span><br><span class=\"line\">// latest</span><br><span class=\"line\">docker pull ubuntu</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h2><p>store<a href=\"https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md\" target=\"_blank\" rel=\"noopener\">app</a></p>\n<p><a href=\"https://github.com/docker/labs/blob/master/beginner/readme.md\" target=\"_blank\" rel=\"noopener\"></a></p>"},{"title":"javascript","date":"2017-01-25T04:08:15.000Z","updated":"2017-01-25T04:08:15.000Z","_content":"\n### \n\n\n\n```javascript\n\t(function(){\n\t\tconsole.log(123);\n\t}){};\n```\n\n```javascript\n\t(function(){\n\t\tconsole.log(123);\n\t}())\n```\n\n> ()\n\n\n```javascript\n\tfunction(){\n\t\tconsole.log(123);\n\t}()\n```\n()()\n\nJavaScript()functionfunctionfunction\n\n\n\n### \n\n```javascript\n\t(function() { \n\t    var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'], \n\t    today = new Date(), \n\t    msg = 'Today is ' + days[today.getDay()] + ', ' + today.getDate(); \n\t    alert(msg); \n\t} ());\n```\n\n> daystodaymsg\n\n### \n\n\n```javascript\n\t(function (global) { \n\t\t// access the global object via `global` \n\t}(this));\n```\n\n\n\n```javascript\n(function(who, when) { \n    console.log(\"I met \" + who + \" on \" + when); \n} (\"Joe Black\", new Date()));\n```\n\n> window()\n\n\n\n### \n\n\n```javascript\nvar result = (function () { \n    return 2 + 2; \n}()); \n\n\n```\n2\n\n```javascript\n\tvar result = (function(){\n\t\tvar res = 2 * 9;\n\t\treturn function() {\n\t\t\treturn res;\n\t\t}\n\t}());\n```\n\n3\n\n\n```javascript\n\tvar o = { \n\t    message: (function() { \n\t        var who = \"me\", \n\t        what = \"call\"; \n\t        return what + \" \" + who; \n\t    } ()), \n\t    getMsg: function() { \n\t        return this.message; \n\t    } \n\t}; \n\t// usage \n\to.getMsg(); // \"call me\" \n\to.message; // \"call me\" \n\n\t\n\t//jquery\n\tvar m = (function(e, t) {\n\t\tvar n = 1;\n\t\ttoArray: function(){\n\t\t\treturn h.call(this)\n\t\t},\n\t\tb.fn = {\n\t\t\t//\n\t\t}\n\t})(window);\n\n\n\tvar counter = (function(){\n\t  var i = 0;\n\n\t  return {\n\t    get: function(){\n\t      return i;\n\t    },\n\t    set: function( val ){\n\t      i = val;\n\t    },\n\t    increment: function() {\n\t      return ++i;\n\t    }\n\t  };\n\t}());\n\n\t//counter.get(); // 0\n\t//counter.set( 3 );\n\t//counter.increment(); // 4\n\t//counter.increment(); // 5\n\n\t//counter.i; // undefined icounter\n\t//i; // ReferenceError: i is not defined ()\n```\n\n[](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions)\n","source":"_posts/2017/js-now-exec-func.md","raw":"---\ntitle: javascript\ndate: 2017-01-25 12:08:15\nupdated: 2017-01-25 12:08:15\ntags:\ncategories:\n---\n\n### \n\n\n\n```javascript\n\t(function(){\n\t\tconsole.log(123);\n\t}){};\n```\n\n```javascript\n\t(function(){\n\t\tconsole.log(123);\n\t}())\n```\n\n> ()\n\n\n```javascript\n\tfunction(){\n\t\tconsole.log(123);\n\t}()\n```\n()()\n\nJavaScript()functionfunctionfunction\n\n\n\n### \n\n```javascript\n\t(function() { \n\t    var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'], \n\t    today = new Date(), \n\t    msg = 'Today is ' + days[today.getDay()] + ', ' + today.getDate(); \n\t    alert(msg); \n\t} ());\n```\n\n> daystodaymsg\n\n### \n\n\n```javascript\n\t(function (global) { \n\t\t// access the global object via `global` \n\t}(this));\n```\n\n\n\n```javascript\n(function(who, when) { \n    console.log(\"I met \" + who + \" on \" + when); \n} (\"Joe Black\", new Date()));\n```\n\n> window()\n\n\n\n### \n\n\n```javascript\nvar result = (function () { \n    return 2 + 2; \n}()); \n\n\n```\n2\n\n```javascript\n\tvar result = (function(){\n\t\tvar res = 2 * 9;\n\t\treturn function() {\n\t\t\treturn res;\n\t\t}\n\t}());\n```\n\n3\n\n\n```javascript\n\tvar o = { \n\t    message: (function() { \n\t        var who = \"me\", \n\t        what = \"call\"; \n\t        return what + \" \" + who; \n\t    } ()), \n\t    getMsg: function() { \n\t        return this.message; \n\t    } \n\t}; \n\t// usage \n\to.getMsg(); // \"call me\" \n\to.message; // \"call me\" \n\n\t\n\t//jquery\n\tvar m = (function(e, t) {\n\t\tvar n = 1;\n\t\ttoArray: function(){\n\t\t\treturn h.call(this)\n\t\t},\n\t\tb.fn = {\n\t\t\t//\n\t\t}\n\t})(window);\n\n\n\tvar counter = (function(){\n\t  var i = 0;\n\n\t  return {\n\t    get: function(){\n\t      return i;\n\t    },\n\t    set: function( val ){\n\t      i = val;\n\t    },\n\t    increment: function() {\n\t      return ++i;\n\t    }\n\t  };\n\t}());\n\n\t//counter.get(); // 0\n\t//counter.set( 3 );\n\t//counter.increment(); // 4\n\t//counter.increment(); // 5\n\n\t//counter.i; // undefined icounter\n\t//i; // ReferenceError: i is not defined ()\n```\n\n[](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions)\n","slug":"js-now-exec-func","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g10038hpwf244myd0o","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;)&#123;&#125;;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;())</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>()</p>\n</blockquote>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;()</span><br></pre></td></tr></table></figure></p>\n<p>()()</p>\n<p>JavaScript()functionfunctionfunction</p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">var</span> days = [<span class=\"string\">'Sun'</span>, <span class=\"string\">'Mon'</span>, <span class=\"string\">'Tue'</span>, <span class=\"string\">'Wed'</span>, <span class=\"string\">'Thu'</span>, <span class=\"string\">'Fri'</span>, <span class=\"string\">'Sat'</span>], </span><br><span class=\"line\">    today = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(), </span><br><span class=\"line\">    msg = <span class=\"string\">'Today is '</span> + days[today.getDay()] + <span class=\"string\">', '</span> + today.getDate(); </span><br><span class=\"line\">    alert(msg); </span><br><span class=\"line\">&#125; ());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>daystodaymsg</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">global</span>) </span>&#123; </span><br><span class=\"line\">\t<span class=\"comment\">// access the global object via `global` </span></span><br><span class=\"line\">&#125;(<span class=\"keyword\">this</span>));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">who, when</span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"I met \"</span> + who + <span class=\"string\">\" on \"</span> + when); </span><br><span class=\"line\">&#125; (<span class=\"string\">\"Joe Black\"</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()));</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>window()</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> + <span class=\"number\">2</span>; </span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure></p>\n<p>2<br><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> res = <span class=\"number\">2</span> * <span class=\"number\">9</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure></p>\n<p>3<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> o = &#123; </span><br><span class=\"line\">    message: (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">        <span class=\"keyword\">var</span> who = <span class=\"string\">\"me\"</span>, </span><br><span class=\"line\">        what = <span class=\"string\">\"call\"</span>; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> what + <span class=\"string\">\" \"</span> + who; </span><br><span class=\"line\">    &#125; ()), </span><br><span class=\"line\">    getMsg: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.message; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// usage </span></span><br><span class=\"line\">o.getMsg(); <span class=\"comment\">// \"call me\" </span></span><br><span class=\"line\">o.message; <span class=\"comment\">// \"call me\" </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//jquery</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> m = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e, t</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> n = <span class=\"number\">1</span>;</span><br><span class=\"line\">\ttoArray: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> h.call(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tb.fn = &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)(<span class=\"built_in\">window</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> counter = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    get: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    set: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> val </span>)</span>&#123;</span><br><span class=\"line\">      i = val;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    increment: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> ++i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//counter.get(); // 0</span></span><br><span class=\"line\"><span class=\"comment\">//counter.set( 3 );</span></span><br><span class=\"line\"><span class=\"comment\">//counter.increment(); // 4</span></span><br><span class=\"line\"><span class=\"comment\">//counter.increment(); // 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//counter.i; // undefined icounter</span></span><br><span class=\"line\"><span class=\"comment\">//i; // ReferenceError: i is not defined ()</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions\" target=\"_blank\" rel=\"noopener\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;)&#123;&#125;;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;())</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>()</p>\n</blockquote>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"number\">123</span>);</span><br><span class=\"line\">&#125;()</span><br></pre></td></tr></table></figure></p>\n<p>()()</p>\n<p>JavaScript()functionfunctionfunction</p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">var</span> days = [<span class=\"string\">'Sun'</span>, <span class=\"string\">'Mon'</span>, <span class=\"string\">'Tue'</span>, <span class=\"string\">'Wed'</span>, <span class=\"string\">'Thu'</span>, <span class=\"string\">'Fri'</span>, <span class=\"string\">'Sat'</span>], </span><br><span class=\"line\">    today = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(), </span><br><span class=\"line\">    msg = <span class=\"string\">'Today is '</span> + days[today.getDay()] + <span class=\"string\">', '</span> + today.getDate(); </span><br><span class=\"line\">    alert(msg); </span><br><span class=\"line\">&#125; ());</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>daystodaymsg</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">global</span>) </span>&#123; </span><br><span class=\"line\">\t<span class=\"comment\">// access the global object via `global` </span></span><br><span class=\"line\">&#125;(<span class=\"keyword\">this</span>));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">who, when</span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"I met \"</span> + who + <span class=\"string\">\" on \"</span> + when); </span><br><span class=\"line\">&#125; (<span class=\"string\">\"Joe Black\"</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()));</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>window()</p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> + <span class=\"number\">2</span>; </span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure></p>\n<p>2<br><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> res = <span class=\"number\">2</span> * <span class=\"number\">9</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;());</span><br></pre></td></tr></table></figure></p>\n<p>3<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> o = &#123; </span><br><span class=\"line\">    message: (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">        <span class=\"keyword\">var</span> who = <span class=\"string\">\"me\"</span>, </span><br><span class=\"line\">        what = <span class=\"string\">\"call\"</span>; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> what + <span class=\"string\">\" \"</span> + who; </span><br><span class=\"line\">    &#125; ()), </span><br><span class=\"line\">    getMsg: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.message; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// usage </span></span><br><span class=\"line\">o.getMsg(); <span class=\"comment\">// \"call me\" </span></span><br><span class=\"line\">o.message; <span class=\"comment\">// \"call me\" </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//jquery</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> m = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e, t</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> n = <span class=\"number\">1</span>;</span><br><span class=\"line\">\ttoArray: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> h.call(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tb.fn = &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)(<span class=\"built_in\">window</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> counter = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    get: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    set: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"> val </span>)</span>&#123;</span><br><span class=\"line\">      i = val;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    increment: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> ++i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//counter.get(); // 0</span></span><br><span class=\"line\"><span class=\"comment\">//counter.set( 3 );</span></span><br><span class=\"line\"><span class=\"comment\">//counter.increment(); // 4</span></span><br><span class=\"line\"><span class=\"comment\">//counter.increment(); // 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//counter.i; // undefined icounter</span></span><br><span class=\"line\"><span class=\"comment\">//i; // ReferenceError: i is not defined ()</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions\" target=\"_blank\" rel=\"noopener\"></a></p>\n"},{"title":"JavaScript Standard Style","date":"2017-07-11T01:59:17.000Z","updated":"2017-07-11T01:59:17.000Z","_content":"# JavaScript Standard Style\n\n JavaScript [standard](https://github.com/feross/standard) \n\n\n\n## \n\n* ****\n\n  eslint: [`indent`](http://eslint.org/docs/rules/indent)\n\n  ```js\n  function hello (name) {\n    console.log('hi', name)\n  }\n  ```\n\n  <!-- more -->\n\n* ****\n\n  eslint: [`quotes`](http://eslint.org/docs/rules/quotes)\n\n  ```js\n  console.log('hello there')\n  $(\"<div class='box'>\")\n  ```\n\n* ****\n\n  eslint: [`no-unused-vars`](http://eslint.org/docs/rules/no-unused-vars)\n\n  ```js\n  function myFunction () {\n    var result = something()   //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`keyword-spacing`](http://eslint.org/docs/rules/keyword-spacing)\n\n  ```js\n  if (condition) { ... }   //  ok\n  if(condition) { ... }    //  avoid\n  ```\n\n* ****\n\n  eslint: [`space-before-function-paren`](http://eslint.org/docs/rules/space-before-function-paren)\n\n  ```js\n  function name (arg) { ... }   //  ok\n  function name(arg) { ... }    //  avoid\n\n  run(function () { ... })      //  ok\n  run(function() { ... })       //  avoid\n  ```\n\n* **** `===`  `==`<br>\n   `obj == null`  `null || undefined`\n\n  eslint: [`eqeqeq`](http://eslint.org/docs/rules/eqeqeq)\n\n  ```js\n  if (name === 'John')   //  ok\n  if (name == 'John')    //  avoid\n  ```\n\n  ```js\n  if (name !== 'John')   //  ok\n  if (name != 'John')    //  avoid\n  ```\n\n* ** (Infix operators)** \n\n  eslint: [`space-infix-ops`](http://eslint.org/docs/rules/space-infix-ops)\n\n  ```js\n  //  ok\n  var x = 2\n  var message = 'hello, ' + name + '!'\n  ```\n\n  ```js\n  //  avoid\n  var x=2\n  var message = 'hello, '+name+'!'\n  ```\n\n* ****\n\n  eslint: [`comma-spacing`](http://eslint.org/docs/rules/comma-spacing)\n\n  ```js\n  //  ok\n  var list = [1, 2, 3, 4]\n  function greet (name, options) { ... }\n  ```\n\n  ```js\n  //  avoid\n  var list = [1,2,3,4]\n  function greet (name,options) { ... }\n  ```\n\n* **else **\n\n  eslint: [`brace-style`](http://eslint.org/docs/rules/brace-style)\n\n  ```js\n  //  ok\n  if (condition) {\n    // ...\n  } else {\n    // ...\n  }\n  ```\n\n  ```js\n  //  avoid\n  if (condition) {\n    // ...\n  }\n  else {\n    // ...\n  }\n  ```\n\n* ** if **\n\n  eslint: [`curly`](http://eslint.org/docs/rules/curly)\n\n  ```js\n  //  ok\n  if (options.quiet !== true) console.log('done')\n  ```\n\n  ```js\n  //  ok\n  if (options.quiet !== true) {\n    console.log('done')\n  }\n  ```\n\n  ```js\n  //  avoid\n  if (options.quiet !== true)\n    console.log('done')\n  ```\n\n* ****`err`\n\n  eslint: [`handle-callback-err`](http://eslint.org/docs/rules/handle-callback-err)\n  ```js\n  //  ok\n  run(function (err) {\n    if (err) throw err\n    window.alert('done')\n  })\n  ```\n\n  ```js\n  //  avoid\n  run(function (err) {\n    window.alert('done')\n  })\n  ```\n\n* **** `window.` <br>\n  Exceptions are: `document`, `console` and `navigator`.\n\n  eslint: [`no-undef`](http://eslint.org/docs/rules/no-undef)\n\n  ```js\n  window.alert('hi')   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-multiple-empty-lines`](http://eslint.org/docs/rules/no-multiple-empty-lines)\n\n  ```js\n  //  ok\n  var value = 'hello world'\n  console.log(value)\n  ```\n\n  ```js\n  //  avoid\n  var value = 'hello world'\n  ```\n\n\n  console.log(value)\n  ```\n\n* **** `?`  `:` \n\n  eslint: [`operator-linebreak`](http://eslint.org/docs/rules/operator-linebreak)\n\n  ```js\n  //  ok\n  var location = env.development ? 'localhost' : 'www.api.com'\n\n  //  ok\n  var location = env.development\n    ? 'localhost'\n    : 'www.api.com'\n\n  //  avoid\n  var location = env.development ?\n    'localhost' :\n    'www.api.com'\n  ```\n\n* ** var **\n\n  eslint: [`one-var`](http://eslint.org/docs/rules/one-var)\n\n  ```js\n  //  ok\n  var silent = true\n  var verbose = true\n\n  //  avoid\n  var silent = true, verbose = true\n\n  //  avoid\n  var silent = true,\n      verbose = true\n  ```\n\n* ****`===``=`\n\n  eslint: [`no-cond-assign`](http://eslint.org/docs/rules/no-cond-assign)\n\n  ```js\n  //  ok\n  while ((m = text.match(expr))) {\n    // ...\n  }\n\n  //  avoid\n  while (m = text.match(expr)) {\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`block-spacing`](http://eslint.org/docs/rules/block-spacing)\n\n  ```js\n    function foo () {return true}    //  avoid\n    function foo () { return true }  //  ok\n  ```\n\n* ****\n\n  eslint: [`camelcase`](http://eslint.org/docs/rules/camelcase)\n\n  ```js\n    function my_function () { }    //  avoid\n    function myFunction () { }     //  ok\n\n    var my_var = 'hello'           //  avoid\n    var myVar = 'hello'            //  ok\n  ```\n\n* ****\n\n  eslint: [`comma-dangle`](http://eslint.org/docs/rules/comma-dangle)\n\n  ```js\n    var obj = {\n      message: 'hello',   //  avoid\n    }\n  ```\n\n* ****\n\n  eslint: [`comma-style`](http://eslint.org/docs/rules/comma-style)\n\n  ```js\n    var obj = {\n      foo: 'foo'\n      ,bar: 'bar'   //  avoid\n    }\n\n    var obj = {\n      foo: 'foo',\n      bar: 'bar'   //  ok\n    }\n  ```\n\n* ****\n\n  eslint: [`dot-location`](http://eslint.org/docs/rules/dot-location)\n\n  ```js\n    console.\n      log('hello')  //  avoid\n\n    console\n      .log('hello') //  ok\n  ```\n\n* ****\n\n  elint: [`eol-last`](http://eslint.org/docs/rules/eol-last)\n\n* ****\n\n  eslint: [`func-call-spacing`](http://eslint.org/docs/rules/func-call-spacing)\n\n  ```js\n  console.log ('hello') //  avoid\n  console.log('hello')  //  ok\n  ```\n\n* ****\n\n  eslint: [`key-spacing`](http://eslint.org/docs/rules/key-spacing)\n\n  ```js\n  var obj = { 'key' : 'value' }    //  avoid\n  var obj = { 'key' :'value' }     //  avoid\n  var obj = { 'key':'value' }      //  avoid\n  var obj = { 'key': 'value' }     //  ok\n  ```\n\n* ****\n\n  eslint: [`new-cap`](http://eslint.org/docs/rules/new-cap)\n\n  ```js\n  function animal () {}\n  var dog = new animal()    //  avoid\n\n  function Animal () {}\n  var dog = new Animal()    //  ok\n  ```\n\n* ****\n\n  eslint: [`new-parens`](http://eslint.org/docs/rules/new-parens)\n\n  ```js\n  function Animal () {}\n  var dog = new Animal    //  avoid\n  var dog = new Animal()  //  ok\n  ```\n\n* ****\n\n  eslint: [`accessor-pairs`](http://eslint.org/docs/rules/accessor-pairs)\n\n  ```js\n  var person = {\n    set name (value) {    //  avoid\n      this.name = value\n    }\n  }\n\n  var person = {\n    set name (value) {\n      this.name = value\n    },\n    get name () {         //  ok\n      return this.name\n    }\n  }\n  ```\n\n* ** `super`**\n\n  eslint: [`constructor-super`](http://eslint.org/docs/rules/constructor-super)\n\n  ```js\n  class Dog {\n    constructor () {\n      super()   //  avoid\n    }\n  }\n\n  class Dog extends Mammal {\n    constructor () {\n      super()   //  ok\n    }\n  }\n  ```\n\n* ****\n\n  eslint: [`no-array-constructor`](http://eslint.org/docs/rules/no-array-constructor)\n\n  ```js\n  var nums = new Array(1, 2, 3)   //  avoid\n  var nums = [1, 2, 3]            //  ok\n  ```\n\n* ** `arguments.callee`  `arguments.caller`**\n\n  eslint: [`no-caller`](http://eslint.org/docs/rules/no-caller)\n\n  ```js\n  function foo (n) {\n    if (n <= 0) return\n\n    arguments.callee(n - 1)   //  avoid\n  }\n\n  function foo (n) {\n    if (n <= 0) return\n\n    foo(n - 1)\n  }\n  ```\n\n* ****\n\n  eslint: [`no-class-assign`](http://eslint.org/docs/rules/no-class-assign)\n\n  ```js\n  class Dog {}\n  Dog = 'Fido'    //  avoid\n  ```\n\n* ** `const` **\n\n  eslint: [`no-const-assign`](http://eslint.org/docs/rules/no-const-assign)\n\n  ```js\n  const score = 100\n  score = 125       //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-constant-condition`](http://eslint.org/docs/rules/no-constant-condition)\n\n  ```js\n  if (false) {    //  avoid\n    // ...\n  }\n\n  if (x === 0) {  //  ok\n    // ...\n  }\n\n  while (true) {  //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-control-regex`](http://eslint.org/docs/rules/no-control-regex)\n\n  ```js\n  var pattern = /\\x1f/    //  avoid\n  var pattern = /\\x20/    //  ok\n  ```\n\n* ** `debugger`**\n\n  eslint: [`no-debugger`](http://eslint.org/docs/rules/no-debugger)\n\n  ```js\n  function sum (a, b) {\n    debugger      //  avoid\n    return a + b\n  }\n  ```\n\n* ** `delete` **\n\n  eslint: [`no-delete-var`](http://eslint.org/docs/rules/no-delete-var)\n\n  ```js\n  var name\n  delete name     //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-dupe-args`](http://eslint.org/docs/rules/no-dupe-args)\n\n  ```js\n  function sum (a, b, a) {  //  avoid\n    // ...\n  }\n\n  function sum (a, b, c) {  //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-dupe-class-members`](http://eslint.org/docs/rules/no-dupe-class-members)\n\n  ```js\n  class Dog {\n    bark () {}\n    bark () {}    //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-dupe-keys`](http://eslint.org/docs/rules/no-dupe-keys)\n\n  ```js\n  var user = {\n    name: 'Jane Doe',\n    name: 'John Doe'    //  avoid\n  }\n  ```\n\n* **`switch`  `case` **\n\n  eslint: [`no-duplicate-case`](http://eslint.org/docs/rules/no-duplicate-case)\n\n  ```js\n  switch (id) {\n    case 1:\n      // ...\n    case 1:     //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-duplicate-imports`](http://eslint.org/docs/rules/no-duplicate-imports)\n\n  ```js\n  import { myFunc1 } from 'module'\n  import { myFunc2 } from 'module'          //  avoid\n\n  import { myFunc1, myFunc2 } from 'module' //  ok\n  ```\n\n* ****\n\n  eslint: [`no-empty-character-class`](http://eslint.org/docs/rules/no-empty-character-class)\n\n  ```js\n  const myRegex = /^abc[]/      //  avoid\n  const myRegex = /^abc[a-z]/   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-empty-pattern`](http://eslint.org/docs/rules/no-empty-pattern)\n\n  ```js\n  const { a: {} } = foo         //  avoid\n  const { a: { b } } = foo      //  ok\n  ```\n\n* ** `eval()`**\n\n  eslint: [`no-eval`](http://eslint.org/docs/rules/no-eval)\n\n  ```js\n  eval( \"var result = user.\" + propName ) //  avoid\n  var result = user[propName]             //  ok\n  ```\n\n* **`catch` **\n\n  eslint: [`no-ex-assign`](http://eslint.org/docs/rules/no-ex-assign)\n\n  ```js\n  try {\n    // ...\n  } catch (e) {\n    e = 'new value'             //  avoid\n  }\n\n  try {\n    // ...\n  } catch (e) {\n    const newVal = 'new value'  //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-extend-native`](http://eslint.org/docs/rules/no-extend-native)\n\n  ```js\n  Object.prototype.age = 21     //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-extra-bind`](http://eslint.org/docs/rules/no-extra-bind)\n\n  ```js\n  const name = function () {\n    getName()\n  }.bind(user)    //  avoid\n\n  const name = function () {\n    this.getName()\n  }.bind(user)    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-extra-boolean-cast`](http://eslint.org/docs/rules/no-extra-boolean-cast)\n\n  ```js\n  const result = true\n  if (!!result) {   //  avoid\n    // ...\n  }\n\n  const result = true\n  if (result) {     //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-extra-parens`](http://eslint.org/docs/rules/no-extra-parens)\n\n  ```js\n  const myFunc = (function () { })   //  avoid\n  const myFunc = function () { }     //  ok\n  ```\n\n* **`switch`  `break` **\n\n  eslint: [`no-fallthrough`](http://eslint.org/docs/rules/no-fallthrough)\n\n  ```js\n  switch (filter) {\n    case 1:\n      doSomething()    //  avoid\n    case 2:\n      doSomethingElse()\n  }\n\n  switch (filter) {\n    case 1:\n      doSomething()\n      break           //  ok\n    case 2:\n      doSomethingElse()\n  }\n\n  switch (filter) {\n    case 1:\n      doSomething()\n      // fallthrough  //  ok\n    case 2:\n      doSomethingElse()\n  }\n  ```\n\n* **0**\n\n  eslint: [`no-floating-decimal`](http://eslint.org/docs/rules/no-floating-decimal)\n\n  ```js\n  const discount = .5      //  avoid\n  const discount = 0.5     //  ok\n  ```\n\n* ****\n\n  eslint: [`no-func-assign`](http://eslint.org/docs/rules/no-func-assign)\n\n  ```js\n  function myFunc () { }\n  myFunc = myOtherFunc    //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-global-assign`](http://eslint.org/docs/rules/no-global-assign)\n\n  ```js\n  window = {}     //  avoid\n  ```\n\n* ** `eval()`**\n\n  eslint: [`no-implied-eval`](http://eslint.org/docs/rules/no-implied-eval)\n\n  ```js\n  setTimeout(\"alert('Hello world')\")                   //  avoid\n  setTimeout(function () { alert('Hello world') })     //  ok\n  ```\n\n* ****\n\n  eslint: [`no-inner-declarations`](http://eslint.org/docs/rules/no-inner-declarations)\n\n  ```js\n  if (authenticated) {\n    function setAuthUser () {}    //  avoid\n  }\n  ```\n\n* ** `RegExp` **\n\n  eslint: [`no-invalid-regexp`](http://eslint.org/docs/rules/no-invalid-regexp)\n\n  ```js\n  RegExp('[a-z')    //  avoid\n  RegExp('[a-z]')   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-irregular-whitespace`](http://eslint.org/docs/rules/no-irregular-whitespace)\n\n  ```js\n  function myFunc () /*<NBSP>*/{}   //  avoid\n  ```\n\n* ** `__iterator__`**\n\n  eslint: [`no-iterator`](http://eslint.org/docs/rules/no-iterator)\n\n  ```js\n  Foo.prototype.__iterator__ = function () {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-label-var`](http://eslint.org/docs/rules/no-label-var)\n\n  ```js\n  var score = 100\n  function game () {\n    score: 50         //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-labels`](http://eslint.org/docs/rules/no-labels)\n\n  ```js\n  label:\n    while (true) {\n      break label     //  avoid\n    }\n  ```\n\n* ****\n\n  eslint: [`no-lone-blocks`](http://eslint.org/docs/rules/no-lone-blocks)\n\n  ```js\n  function myFunc () {\n    {                   //  avoid\n      myOtherFunc()\n    }\n  }\n\n  function myFunc () {\n    myOtherFunc()       //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-mixed-spaces-and-tabs`](http://eslint.org/docs/rules/no-mixed-spaces-and-tabs)\n\n* ****\n\n  eslint: [`no-multi-spaces`](http://eslint.org/docs/rules/no-multi-spaces)\n\n  ```js\n  const id =    1234    //  avoid\n  const id = 1234       //  ok\n  ```\n\n* ****\n\n  eslint: [`no-multi-str`](http://eslint.org/docs/rules/no-multi-str)\n\n  ```js\n  const message = 'Hello \\\n                   world'     //  avoid\n  ```\n\n* **`new` **\n\n  eslint: [`no-new`](http://eslint.org/docs/rules/no-new)\n\n  ```js\n  new Character()                     //  avoid\n  const character = new Character()   //  ok\n  ```\n\n* ** `Function` **\n\n  eslint: [`no-new-func`](http://eslint.org/docs/rules/no-new-func)\n\n  ```js\n  var sum = new Function('a', 'b', 'return a + b')    //  avoid\n  ```\n\n* ** `Object` **\n\n  eslint: [`no-new-object`](http://eslint.org/docs/rules/no-new-object)\n\n  ```js\n  let config = new Object()   //  avoid\n  ```\n\n* ** `new require`**\n\n  eslint: [`no-new-require`](http://eslint.org/docs/rules/no-new-require)\n\n  ```js\n  const myModule = new require('my-module')    //  avoid\n  ```\n\n* ** `Symbol` **\n\n  eslint: [`no-new-symbol`](http://eslint.org/docs/rules/no-new-symbol)\n\n  ```js\n  const foo = new Symbol('foo')   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-new-wrappers`](http://eslint.org/docs/rules/no-new-wrappers)\n\n  ```js\n  const message = new String('hello')   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-obj-calls`](http://eslint.org/docs/rules/no-obj-calls)\n\n  ```js\n  const math = Math()   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-octal`](http://eslint.org/docs/rules/no-octal)\n\n  ```js\n  const num = 042     //  avoid\n  const num = '042'   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-octal-escape`](http://eslint.org/docs/rules/no-octal-escape)\n\n  ```js\n  const copyright = 'Copyright \\251'  //  avoid\n  ```\n\n* ** `__dirname`  `__filename` **\n\n  eslint: [`no-path-concat`](http://eslint.org/docs/rules/no-path-concat)\n\n  ```js\n  const pathToFile = __dirname + '/app.js'            //  avoid\n  const pathToFile = path.join(__dirname, 'app.js')   //  ok\n  ```\n\n*  `getPrototypeOf`  **`__proto__`**\n\n  eslint: [`no-proto`](http://eslint.org/docs/rules/no-proto)\n\n  ```js\n  const foo = obj.__proto__               //  avoid\n  const foo = Object.getPrototypeOf(obj)  //  ok\n  ```\n\n* ****\n\n  eslint: [`no-redeclare`](http://eslint.org/docs/rules/no-redeclare)\n\n  ```js\n  let name = 'John'\n  let name = 'Jane'     //  avoid\n\n  let name = 'John'\n  name = 'Jane'         //  ok\n  ```\n\n* ****\n\n  eslint: [`no-regex-spaces`](http://eslint.org/docs/rules/no-regex-spaces)\n\n  ```js\n  const regexp = /test   value/   //  avoid\n\n  const regexp = /test {3}value/  //  ok\n  const regexp = /test value/     //  ok\n  ```\n\n* **return **\n\n  eslint: [`no-return-assign`](http://eslint.org/docs/rules/no-return-assign)\n\n  ```js\n  function sum (a, b) {\n    return result = a + b     //  avoid\n  }\n\n  function sum (a, b) {\n    return (result = a + b)   //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-self-assign`](http://eslint.org/docs/rules/no-self-assign)\n\n  ```js\n  name = name   //  avoid\n  ```\n\n* ****\n\n  esint: [`no-self-compare`](http://eslint.org/docs/rules/no-self-compare)\n\n  ```js\n  if (score === score) {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-sequences`](http://eslint.org/docs/rules/no-sequences)\n\n  ```js\n  if (doSomething(), !!test) {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-shadow-restricted-names`](http://eslint.org/docs/rules/no-shadow-restricted-names)\n\n  ```js\n  let undefined = 'value'     //  avoid\n  ```\n\n* **Sparse arrays**\n\n  eslint: [`no-sparse-arrays`](http://eslint.org/docs/rules/no-sparse-arrays)\n\n  ```js\n  let fruits = ['apple',, 'orange']       //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-tabs`](http://eslint.org/docs/rules/no-tabs)\n\n* ** ES6 **\n\n  eslint: [`no-template-curly-in-string`](http://eslint.org/docs/rules/no-template-curly-in-string)\n\n  ```js\n  const message = 'Hello ${name}'   //  avoid\n  const message = `Hello ${name}`   //  ok\n  ```\n\n* ** `this`  `super()` **\n\n  eslint: [`no-this-before-super`](http://eslint.org/docs/rules/no-this-before-super)\n\n  ```js\n  class Dog extends Animal {\n    constructor () {\n      this.legs = 4     //  avoid\n      super()\n    }\n  }\n  ```\n\n* ** `throw`  `Error` **\n\n  eslint: [`no-throw-literal`](http://eslint.org/docs/rules/no-throw-literal)\n\n  ```js\n  throw 'error'               //  avoid\n  throw new Error('error')    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-trailing-spaces`](http://eslint.org/docs/rules/no-trailing-spaces)\n\n* ** `undefined` **\n\n  eslint: [`no-undef-init`](http://eslint.org/docs/rules/no-undef-init)\n\n  ```js\n  let name = undefined    //  avoid\n\n  let name\n  name = 'value'          //  ok\n  ```\n\n* ****\n\n  eslint: [`no-unmodified-loop-condition`](http://eslint.org/docs/rules/no-unmodified-loop-condition)\n\n  ```js\n  for (let i = 0; i < items.length; j++) {...}    //  avoid\n  for (let i = 0; i < items.length; i++) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-unneeded-ternary`](http://eslint.org/docs/rules/no-unneeded-ternary)\n\n  ```js\n  let score = val ? val : 0     //  avoid\n  let score = val || 0          //  ok\n  ```\n\n* **`return``throw``continue`  `break` **\n\n  eslint: [`no-unreachable`](http://eslint.org/docs/rules/no-unreachable)\n\n  ```js\n  function doSomething () {\n    return true\n    console.log('never called')     //  avoid\n  }\n  ```\n\n* **`finally` **\n\n  eslint: [`no-unsafe-finally`](http://eslint.org/docs/rules/no-unsafe-finally)\n\n  ```js\n  try {\n    // ...\n  } catch (e) {\n    // ...\n  } finally {\n    return 42     //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-unsafe-negation`](http://eslint.org/docs/rules/no-unsafe-negation)\n\n  ```js\n  if (!key in obj) {}       //  avoid\n  ```\n\n* ** `.call()`  `.apply()`**\n\n  eslint: [`no-useless-call`](http://eslint.org/docs/rules/no-useless-call)\n\n  ```js\n  sum.call(null, 1, 2, 3)   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-useless-computed-key`](http://eslint.org/docs/rules/no-useless-computed-key)\n\n  ```js\n  const user = { ['name']: 'John Doe' }   //  avoid\n  const user = { name: 'John Doe' }       //  ok\n  ```\n\n* ****\n\n  eslint: [`no-useless-constructor`](http://eslint.org/docs/rules/no-useless-constructor)\n\n  ```js\n  class Car {\n    constructor () {      //  avoid\n    }\n  }\n  ```\n\n* ****\n\n  eslint: [`no-useless-escape`](http://eslint.org/docs/rules/no-useless-escape)\n\n  ```js\n  let message = 'Hell\\o'  //  avoid\n  ```\n\n* **import, export **\n\n  eslint: [`no-useless-rename`](http://eslint.org/docs/rules/no-useless-rename)\n\n  ```js\n  import { config as config } from './config'     //  avoid\n  import { config } from './config'               //  ok\n  ```\n\n* ****\n\n  eslint: [`no-whitespace-before-property`](http://eslint.org/docs/rules/no-whitespace-before-property)\n\n  ```js\n  user .name      //  avoid\n  user.name       //  ok\n  ```\n\n* ** `with`**\n\n  eslint: [`no-with`](http://eslint.org/docs/rules/no-with)\n\n  ```js\n  with (val) {...}    //  avoid\n  ```\n\n* ****\n\n  eslint: [`object-property-newline`](http://eslint.org/docs/rules/object-property-newline)\n\n  ```js\n  const user = {\n    name: 'Jane Doe', age: 30,\n    username: 'jdoe86'            //  avoid\n  }\n\n  const user = { name: 'Jane Doe', age: 30, username: 'jdoe86' }    //  ok\n\n  const user = {\n    name: 'Jane Doe',\n    age: 30,\n    username: 'jdoe86'\n  }                                                                 //  ok\n  ```\n\n* ****\n\n  eslint: [`padded-blocks`](http://eslint.org/docs/rules/padded-blocks)\n\n  ```js\n  if (user) {\n                              //  avoid\n    const name = getName()\n\n  }\n\n  if (user) {\n    const name = getName()    //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`rest-spread-spacing`](http://eslint.org/docs/rules/rest-spread-spacing)\n\n  ```js\n  fn(... args)    //  avoid\n  fn(...args)     //  ok\n  ```\n\n* ****\n\n  eslint: [`semi-spacing`](http://eslint.org/docs/rules/semi-spacing)\n\n  ```js\n  for (let i = 0 ;i < items.length ;i++) {...}    //  avoid\n  for (let i = 0; i < items.length; i++) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`space-before-blocks`](http://eslint.org/docs/rules/space-before-blocks)\n\n  ```js\n  if (admin){...}     //  avoid\n  if (admin) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`space-in-parens`](http://eslint.org/docs/rules/space-in-parens)\n\n  ```js\n  getName( name )     //  avoid\n  getName(name)       //  ok\n  ```\n\n* ****\n\n  eslint: [`space-unary-ops`](http://eslint.org/docs/rules/space-unary-ops)\n\n  ```js\n  typeof!admin        //  avoid\n  typeof !admin        //  ok\n  ```\n\n* ****\n\n  eslint: [`spaced-comment`](http://eslint.org/docs/rules/spaced-comment)\n\n  ```js\n  //comment           //  avoid\n  // comment          //  ok\n\n  /*comment*/         //  avoid\n  /* comment */       //  ok\n  ```\n\n* ****\n\n  eslint: [`template-curly-spacing`](http://eslint.org/docs/rules/template-curly-spacing)\n\n  ```js\n  const message = `Hello, ${ name }`    //  avoid\n  const message = `Hello, ${name}`      //  ok\n  ```\n\n* ** `NaN`  `isNaN()`**\n\n  eslint: [`use-isnan`](http://eslint.org/docs/rules/use-isnan)\n\n  ```js\n  if (price === NaN) { }      //  avoid\n  if (isNaN(price)) { }       //  ok\n  ```\n\n* ** `typeof` **\n\n  eslint: [`valid-typeof`](http://eslint.org/docs/rules/valid-typeof)\n\n  ```js\n  typeof name === 'undefimed'     //  avoid\n  typeof name === 'undefined'     //  ok\n  ```\n\n* ** (IIFEs) **\n\n  eslint: [`wrap-iife`](http://eslint.org/docs/rules/wrap-iife)\n\n  ```js\n  const getName = function () { }()     //  avoid\n\n  const getName = (function () { }())   //  ok\n  const getName = (function () { })()   //  ok\n  ```\n\n* **`yield *`  `*` **\n\n  eslint: [`yield-star-spacing`](http://eslint.org/docs/rules/yield-star-spacing)\n\n  ```js\n  yield* increment()    //  avoid\n  yield * increment()   //  ok\n  ```\n\n* **avoid Yoda conditions**\n\n  eslint: [`yoda`](http://eslint.org/docs/rules/yoda)\n\n  ```js\n  if (42 === age) { }    //  avoid\n  if (age === 42) { }    //  ok\n  ```\n\n## \n\n*  ([1](http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding)[2](http://inimino.org/%7Einimino/blog/javascript_semicolons)[3](https://www.youtube.com/watch?v=gsfbh17Ax9I))\n\n  eslint: [`semi`](http://eslint.org/docs/rules/semi)\n\n  ```js\n  window.alert('hi')   //  ok\n  window.alert('hi');  //  avoid\n  ```\n\n*  `(`, `[`, or `` ` `` \n\n  eslint: [`no-unexpected-multiline`](http://eslint.org/docs/rules/no-unexpected-multiline)\n\n  ```js\n  //  ok\n  ;(function () {\n    window.alert('ok')\n  }())\n\n  //  avoid\n  (function () {\n    window.alert('ok')\n  }())\n  ```\n\n  ```js\n  //  ok\n  ;[1, 2, 3].forEach(bar)\n\n  //  avoid\n  [1, 2, 3].forEach(bar)\n  ```\n\n  ```js\n  //  ok\n  ;`hello`.indexOf('o')\n\n  //  avoid\n  `hello`.indexOf('o')\n  ```\n\n  \n\n  \n\n  \n\n  ```js\n  ;[1, 2, 3].forEach(bar)\n  ```\n\n  \n\n  ```js\n  var nums = [1, 2, 3]\n  nums.forEach(bar)\n  ```\n\n\n## \n\n- [An Open Letter to JavaScript Leaders Regarding Semicolons][1]\n- [JavaScript Semicolon Insertion  Everything you need to know][2]\n\n##### \n\n- [JavaScript - YouTube][3]\n\nAST-based JavaScript \n\n#####  *[\"An Open Letter to JavaScript Leaders Regarding Semicolons\"][1]* \n\n> [] Closure compiler, yuicompressor, packer  jsmin \n>\n> Javascript   JS \n>\n>  `\\n` \n>     1.     `.`  `,` \n>     2.  `--`  `++` \n>     3.  `for()``while()``do``if()`  `else`  `{`\n>     4.  `[``(``+``*``/``-``,``.` \n>\n>  JSLint  JSON `var`  `,`  `\\n`\n>\n>   `i\\n++\\nj`  `i; ++j` `i++; j`\n>\n>  `if (x)\\ny()`  `if (x) { y() }`\n>\n> `;`  JavaScript  `if(x);`  `if(x){}`  x   \n>\n>   \n>\n> ```js\n> foo();\n> [1,2,3].forEach(bar);\n> ```\n>\n> \n>\n> ```js\n> foo()\n> ;[1,2,3].forEach(bar)\n> ```\n>\n>  `(`  `[` \n\n[1]: http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\n[2]: http://inimino.org/~inimino/blog/javascript_semicolons\n[3]: https://www.youtube.com/watch?v=gsfbh17Ax9I\n","source":"_posts/2017/JavaScript-Standard-Style.md","raw":"---\ntitle: JavaScript Standard Style\ndate: 2017-07-11 09:59:17\nupdated: 2017-07-11 09:59:17\ntags:\ncategories:\n---\n# JavaScript Standard Style\n\n JavaScript [standard](https://github.com/feross/standard) \n\n\n\n## \n\n* ****\n\n  eslint: [`indent`](http://eslint.org/docs/rules/indent)\n\n  ```js\n  function hello (name) {\n    console.log('hi', name)\n  }\n  ```\n\n  <!-- more -->\n\n* ****\n\n  eslint: [`quotes`](http://eslint.org/docs/rules/quotes)\n\n  ```js\n  console.log('hello there')\n  $(\"<div class='box'>\")\n  ```\n\n* ****\n\n  eslint: [`no-unused-vars`](http://eslint.org/docs/rules/no-unused-vars)\n\n  ```js\n  function myFunction () {\n    var result = something()   //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`keyword-spacing`](http://eslint.org/docs/rules/keyword-spacing)\n\n  ```js\n  if (condition) { ... }   //  ok\n  if(condition) { ... }    //  avoid\n  ```\n\n* ****\n\n  eslint: [`space-before-function-paren`](http://eslint.org/docs/rules/space-before-function-paren)\n\n  ```js\n  function name (arg) { ... }   //  ok\n  function name(arg) { ... }    //  avoid\n\n  run(function () { ... })      //  ok\n  run(function() { ... })       //  avoid\n  ```\n\n* **** `===`  `==`<br>\n   `obj == null`  `null || undefined`\n\n  eslint: [`eqeqeq`](http://eslint.org/docs/rules/eqeqeq)\n\n  ```js\n  if (name === 'John')   //  ok\n  if (name == 'John')    //  avoid\n  ```\n\n  ```js\n  if (name !== 'John')   //  ok\n  if (name != 'John')    //  avoid\n  ```\n\n* ** (Infix operators)** \n\n  eslint: [`space-infix-ops`](http://eslint.org/docs/rules/space-infix-ops)\n\n  ```js\n  //  ok\n  var x = 2\n  var message = 'hello, ' + name + '!'\n  ```\n\n  ```js\n  //  avoid\n  var x=2\n  var message = 'hello, '+name+'!'\n  ```\n\n* ****\n\n  eslint: [`comma-spacing`](http://eslint.org/docs/rules/comma-spacing)\n\n  ```js\n  //  ok\n  var list = [1, 2, 3, 4]\n  function greet (name, options) { ... }\n  ```\n\n  ```js\n  //  avoid\n  var list = [1,2,3,4]\n  function greet (name,options) { ... }\n  ```\n\n* **else **\n\n  eslint: [`brace-style`](http://eslint.org/docs/rules/brace-style)\n\n  ```js\n  //  ok\n  if (condition) {\n    // ...\n  } else {\n    // ...\n  }\n  ```\n\n  ```js\n  //  avoid\n  if (condition) {\n    // ...\n  }\n  else {\n    // ...\n  }\n  ```\n\n* ** if **\n\n  eslint: [`curly`](http://eslint.org/docs/rules/curly)\n\n  ```js\n  //  ok\n  if (options.quiet !== true) console.log('done')\n  ```\n\n  ```js\n  //  ok\n  if (options.quiet !== true) {\n    console.log('done')\n  }\n  ```\n\n  ```js\n  //  avoid\n  if (options.quiet !== true)\n    console.log('done')\n  ```\n\n* ****`err`\n\n  eslint: [`handle-callback-err`](http://eslint.org/docs/rules/handle-callback-err)\n  ```js\n  //  ok\n  run(function (err) {\n    if (err) throw err\n    window.alert('done')\n  })\n  ```\n\n  ```js\n  //  avoid\n  run(function (err) {\n    window.alert('done')\n  })\n  ```\n\n* **** `window.` <br>\n  Exceptions are: `document`, `console` and `navigator`.\n\n  eslint: [`no-undef`](http://eslint.org/docs/rules/no-undef)\n\n  ```js\n  window.alert('hi')   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-multiple-empty-lines`](http://eslint.org/docs/rules/no-multiple-empty-lines)\n\n  ```js\n  //  ok\n  var value = 'hello world'\n  console.log(value)\n  ```\n\n  ```js\n  //  avoid\n  var value = 'hello world'\n  ```\n\n\n  console.log(value)\n  ```\n\n* **** `?`  `:` \n\n  eslint: [`operator-linebreak`](http://eslint.org/docs/rules/operator-linebreak)\n\n  ```js\n  //  ok\n  var location = env.development ? 'localhost' : 'www.api.com'\n\n  //  ok\n  var location = env.development\n    ? 'localhost'\n    : 'www.api.com'\n\n  //  avoid\n  var location = env.development ?\n    'localhost' :\n    'www.api.com'\n  ```\n\n* ** var **\n\n  eslint: [`one-var`](http://eslint.org/docs/rules/one-var)\n\n  ```js\n  //  ok\n  var silent = true\n  var verbose = true\n\n  //  avoid\n  var silent = true, verbose = true\n\n  //  avoid\n  var silent = true,\n      verbose = true\n  ```\n\n* ****`===``=`\n\n  eslint: [`no-cond-assign`](http://eslint.org/docs/rules/no-cond-assign)\n\n  ```js\n  //  ok\n  while ((m = text.match(expr))) {\n    // ...\n  }\n\n  //  avoid\n  while (m = text.match(expr)) {\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`block-spacing`](http://eslint.org/docs/rules/block-spacing)\n\n  ```js\n    function foo () {return true}    //  avoid\n    function foo () { return true }  //  ok\n  ```\n\n* ****\n\n  eslint: [`camelcase`](http://eslint.org/docs/rules/camelcase)\n\n  ```js\n    function my_function () { }    //  avoid\n    function myFunction () { }     //  ok\n\n    var my_var = 'hello'           //  avoid\n    var myVar = 'hello'            //  ok\n  ```\n\n* ****\n\n  eslint: [`comma-dangle`](http://eslint.org/docs/rules/comma-dangle)\n\n  ```js\n    var obj = {\n      message: 'hello',   //  avoid\n    }\n  ```\n\n* ****\n\n  eslint: [`comma-style`](http://eslint.org/docs/rules/comma-style)\n\n  ```js\n    var obj = {\n      foo: 'foo'\n      ,bar: 'bar'   //  avoid\n    }\n\n    var obj = {\n      foo: 'foo',\n      bar: 'bar'   //  ok\n    }\n  ```\n\n* ****\n\n  eslint: [`dot-location`](http://eslint.org/docs/rules/dot-location)\n\n  ```js\n    console.\n      log('hello')  //  avoid\n\n    console\n      .log('hello') //  ok\n  ```\n\n* ****\n\n  elint: [`eol-last`](http://eslint.org/docs/rules/eol-last)\n\n* ****\n\n  eslint: [`func-call-spacing`](http://eslint.org/docs/rules/func-call-spacing)\n\n  ```js\n  console.log ('hello') //  avoid\n  console.log('hello')  //  ok\n  ```\n\n* ****\n\n  eslint: [`key-spacing`](http://eslint.org/docs/rules/key-spacing)\n\n  ```js\n  var obj = { 'key' : 'value' }    //  avoid\n  var obj = { 'key' :'value' }     //  avoid\n  var obj = { 'key':'value' }      //  avoid\n  var obj = { 'key': 'value' }     //  ok\n  ```\n\n* ****\n\n  eslint: [`new-cap`](http://eslint.org/docs/rules/new-cap)\n\n  ```js\n  function animal () {}\n  var dog = new animal()    //  avoid\n\n  function Animal () {}\n  var dog = new Animal()    //  ok\n  ```\n\n* ****\n\n  eslint: [`new-parens`](http://eslint.org/docs/rules/new-parens)\n\n  ```js\n  function Animal () {}\n  var dog = new Animal    //  avoid\n  var dog = new Animal()  //  ok\n  ```\n\n* ****\n\n  eslint: [`accessor-pairs`](http://eslint.org/docs/rules/accessor-pairs)\n\n  ```js\n  var person = {\n    set name (value) {    //  avoid\n      this.name = value\n    }\n  }\n\n  var person = {\n    set name (value) {\n      this.name = value\n    },\n    get name () {         //  ok\n      return this.name\n    }\n  }\n  ```\n\n* ** `super`**\n\n  eslint: [`constructor-super`](http://eslint.org/docs/rules/constructor-super)\n\n  ```js\n  class Dog {\n    constructor () {\n      super()   //  avoid\n    }\n  }\n\n  class Dog extends Mammal {\n    constructor () {\n      super()   //  ok\n    }\n  }\n  ```\n\n* ****\n\n  eslint: [`no-array-constructor`](http://eslint.org/docs/rules/no-array-constructor)\n\n  ```js\n  var nums = new Array(1, 2, 3)   //  avoid\n  var nums = [1, 2, 3]            //  ok\n  ```\n\n* ** `arguments.callee`  `arguments.caller`**\n\n  eslint: [`no-caller`](http://eslint.org/docs/rules/no-caller)\n\n  ```js\n  function foo (n) {\n    if (n <= 0) return\n\n    arguments.callee(n - 1)   //  avoid\n  }\n\n  function foo (n) {\n    if (n <= 0) return\n\n    foo(n - 1)\n  }\n  ```\n\n* ****\n\n  eslint: [`no-class-assign`](http://eslint.org/docs/rules/no-class-assign)\n\n  ```js\n  class Dog {}\n  Dog = 'Fido'    //  avoid\n  ```\n\n* ** `const` **\n\n  eslint: [`no-const-assign`](http://eslint.org/docs/rules/no-const-assign)\n\n  ```js\n  const score = 100\n  score = 125       //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-constant-condition`](http://eslint.org/docs/rules/no-constant-condition)\n\n  ```js\n  if (false) {    //  avoid\n    // ...\n  }\n\n  if (x === 0) {  //  ok\n    // ...\n  }\n\n  while (true) {  //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-control-regex`](http://eslint.org/docs/rules/no-control-regex)\n\n  ```js\n  var pattern = /\\x1f/    //  avoid\n  var pattern = /\\x20/    //  ok\n  ```\n\n* ** `debugger`**\n\n  eslint: [`no-debugger`](http://eslint.org/docs/rules/no-debugger)\n\n  ```js\n  function sum (a, b) {\n    debugger      //  avoid\n    return a + b\n  }\n  ```\n\n* ** `delete` **\n\n  eslint: [`no-delete-var`](http://eslint.org/docs/rules/no-delete-var)\n\n  ```js\n  var name\n  delete name     //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-dupe-args`](http://eslint.org/docs/rules/no-dupe-args)\n\n  ```js\n  function sum (a, b, a) {  //  avoid\n    // ...\n  }\n\n  function sum (a, b, c) {  //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-dupe-class-members`](http://eslint.org/docs/rules/no-dupe-class-members)\n\n  ```js\n  class Dog {\n    bark () {}\n    bark () {}    //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-dupe-keys`](http://eslint.org/docs/rules/no-dupe-keys)\n\n  ```js\n  var user = {\n    name: 'Jane Doe',\n    name: 'John Doe'    //  avoid\n  }\n  ```\n\n* **`switch`  `case` **\n\n  eslint: [`no-duplicate-case`](http://eslint.org/docs/rules/no-duplicate-case)\n\n  ```js\n  switch (id) {\n    case 1:\n      // ...\n    case 1:     //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-duplicate-imports`](http://eslint.org/docs/rules/no-duplicate-imports)\n\n  ```js\n  import { myFunc1 } from 'module'\n  import { myFunc2 } from 'module'          //  avoid\n\n  import { myFunc1, myFunc2 } from 'module' //  ok\n  ```\n\n* ****\n\n  eslint: [`no-empty-character-class`](http://eslint.org/docs/rules/no-empty-character-class)\n\n  ```js\n  const myRegex = /^abc[]/      //  avoid\n  const myRegex = /^abc[a-z]/   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-empty-pattern`](http://eslint.org/docs/rules/no-empty-pattern)\n\n  ```js\n  const { a: {} } = foo         //  avoid\n  const { a: { b } } = foo      //  ok\n  ```\n\n* ** `eval()`**\n\n  eslint: [`no-eval`](http://eslint.org/docs/rules/no-eval)\n\n  ```js\n  eval( \"var result = user.\" + propName ) //  avoid\n  var result = user[propName]             //  ok\n  ```\n\n* **`catch` **\n\n  eslint: [`no-ex-assign`](http://eslint.org/docs/rules/no-ex-assign)\n\n  ```js\n  try {\n    // ...\n  } catch (e) {\n    e = 'new value'             //  avoid\n  }\n\n  try {\n    // ...\n  } catch (e) {\n    const newVal = 'new value'  //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-extend-native`](http://eslint.org/docs/rules/no-extend-native)\n\n  ```js\n  Object.prototype.age = 21     //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-extra-bind`](http://eslint.org/docs/rules/no-extra-bind)\n\n  ```js\n  const name = function () {\n    getName()\n  }.bind(user)    //  avoid\n\n  const name = function () {\n    this.getName()\n  }.bind(user)    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-extra-boolean-cast`](http://eslint.org/docs/rules/no-extra-boolean-cast)\n\n  ```js\n  const result = true\n  if (!!result) {   //  avoid\n    // ...\n  }\n\n  const result = true\n  if (result) {     //  ok\n    // ...\n  }\n  ```\n\n* ****\n\n  eslint: [`no-extra-parens`](http://eslint.org/docs/rules/no-extra-parens)\n\n  ```js\n  const myFunc = (function () { })   //  avoid\n  const myFunc = function () { }     //  ok\n  ```\n\n* **`switch`  `break` **\n\n  eslint: [`no-fallthrough`](http://eslint.org/docs/rules/no-fallthrough)\n\n  ```js\n  switch (filter) {\n    case 1:\n      doSomething()    //  avoid\n    case 2:\n      doSomethingElse()\n  }\n\n  switch (filter) {\n    case 1:\n      doSomething()\n      break           //  ok\n    case 2:\n      doSomethingElse()\n  }\n\n  switch (filter) {\n    case 1:\n      doSomething()\n      // fallthrough  //  ok\n    case 2:\n      doSomethingElse()\n  }\n  ```\n\n* **0**\n\n  eslint: [`no-floating-decimal`](http://eslint.org/docs/rules/no-floating-decimal)\n\n  ```js\n  const discount = .5      //  avoid\n  const discount = 0.5     //  ok\n  ```\n\n* ****\n\n  eslint: [`no-func-assign`](http://eslint.org/docs/rules/no-func-assign)\n\n  ```js\n  function myFunc () { }\n  myFunc = myOtherFunc    //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-global-assign`](http://eslint.org/docs/rules/no-global-assign)\n\n  ```js\n  window = {}     //  avoid\n  ```\n\n* ** `eval()`**\n\n  eslint: [`no-implied-eval`](http://eslint.org/docs/rules/no-implied-eval)\n\n  ```js\n  setTimeout(\"alert('Hello world')\")                   //  avoid\n  setTimeout(function () { alert('Hello world') })     //  ok\n  ```\n\n* ****\n\n  eslint: [`no-inner-declarations`](http://eslint.org/docs/rules/no-inner-declarations)\n\n  ```js\n  if (authenticated) {\n    function setAuthUser () {}    //  avoid\n  }\n  ```\n\n* ** `RegExp` **\n\n  eslint: [`no-invalid-regexp`](http://eslint.org/docs/rules/no-invalid-regexp)\n\n  ```js\n  RegExp('[a-z')    //  avoid\n  RegExp('[a-z]')   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-irregular-whitespace`](http://eslint.org/docs/rules/no-irregular-whitespace)\n\n  ```js\n  function myFunc () /*<NBSP>*/{}   //  avoid\n  ```\n\n* ** `__iterator__`**\n\n  eslint: [`no-iterator`](http://eslint.org/docs/rules/no-iterator)\n\n  ```js\n  Foo.prototype.__iterator__ = function () {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-label-var`](http://eslint.org/docs/rules/no-label-var)\n\n  ```js\n  var score = 100\n  function game () {\n    score: 50         //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-labels`](http://eslint.org/docs/rules/no-labels)\n\n  ```js\n  label:\n    while (true) {\n      break label     //  avoid\n    }\n  ```\n\n* ****\n\n  eslint: [`no-lone-blocks`](http://eslint.org/docs/rules/no-lone-blocks)\n\n  ```js\n  function myFunc () {\n    {                   //  avoid\n      myOtherFunc()\n    }\n  }\n\n  function myFunc () {\n    myOtherFunc()       //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-mixed-spaces-and-tabs`](http://eslint.org/docs/rules/no-mixed-spaces-and-tabs)\n\n* ****\n\n  eslint: [`no-multi-spaces`](http://eslint.org/docs/rules/no-multi-spaces)\n\n  ```js\n  const id =    1234    //  avoid\n  const id = 1234       //  ok\n  ```\n\n* ****\n\n  eslint: [`no-multi-str`](http://eslint.org/docs/rules/no-multi-str)\n\n  ```js\n  const message = 'Hello \\\n                   world'     //  avoid\n  ```\n\n* **`new` **\n\n  eslint: [`no-new`](http://eslint.org/docs/rules/no-new)\n\n  ```js\n  new Character()                     //  avoid\n  const character = new Character()   //  ok\n  ```\n\n* ** `Function` **\n\n  eslint: [`no-new-func`](http://eslint.org/docs/rules/no-new-func)\n\n  ```js\n  var sum = new Function('a', 'b', 'return a + b')    //  avoid\n  ```\n\n* ** `Object` **\n\n  eslint: [`no-new-object`](http://eslint.org/docs/rules/no-new-object)\n\n  ```js\n  let config = new Object()   //  avoid\n  ```\n\n* ** `new require`**\n\n  eslint: [`no-new-require`](http://eslint.org/docs/rules/no-new-require)\n\n  ```js\n  const myModule = new require('my-module')    //  avoid\n  ```\n\n* ** `Symbol` **\n\n  eslint: [`no-new-symbol`](http://eslint.org/docs/rules/no-new-symbol)\n\n  ```js\n  const foo = new Symbol('foo')   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-new-wrappers`](http://eslint.org/docs/rules/no-new-wrappers)\n\n  ```js\n  const message = new String('hello')   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-obj-calls`](http://eslint.org/docs/rules/no-obj-calls)\n\n  ```js\n  const math = Math()   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-octal`](http://eslint.org/docs/rules/no-octal)\n\n  ```js\n  const num = 042     //  avoid\n  const num = '042'   //  ok\n  ```\n\n* ****\n\n  eslint: [`no-octal-escape`](http://eslint.org/docs/rules/no-octal-escape)\n\n  ```js\n  const copyright = 'Copyright \\251'  //  avoid\n  ```\n\n* ** `__dirname`  `__filename` **\n\n  eslint: [`no-path-concat`](http://eslint.org/docs/rules/no-path-concat)\n\n  ```js\n  const pathToFile = __dirname + '/app.js'            //  avoid\n  const pathToFile = path.join(__dirname, 'app.js')   //  ok\n  ```\n\n*  `getPrototypeOf`  **`__proto__`**\n\n  eslint: [`no-proto`](http://eslint.org/docs/rules/no-proto)\n\n  ```js\n  const foo = obj.__proto__               //  avoid\n  const foo = Object.getPrototypeOf(obj)  //  ok\n  ```\n\n* ****\n\n  eslint: [`no-redeclare`](http://eslint.org/docs/rules/no-redeclare)\n\n  ```js\n  let name = 'John'\n  let name = 'Jane'     //  avoid\n\n  let name = 'John'\n  name = 'Jane'         //  ok\n  ```\n\n* ****\n\n  eslint: [`no-regex-spaces`](http://eslint.org/docs/rules/no-regex-spaces)\n\n  ```js\n  const regexp = /test   value/   //  avoid\n\n  const regexp = /test {3}value/  //  ok\n  const regexp = /test value/     //  ok\n  ```\n\n* **return **\n\n  eslint: [`no-return-assign`](http://eslint.org/docs/rules/no-return-assign)\n\n  ```js\n  function sum (a, b) {\n    return result = a + b     //  avoid\n  }\n\n  function sum (a, b) {\n    return (result = a + b)   //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`no-self-assign`](http://eslint.org/docs/rules/no-self-assign)\n\n  ```js\n  name = name   //  avoid\n  ```\n\n* ****\n\n  esint: [`no-self-compare`](http://eslint.org/docs/rules/no-self-compare)\n\n  ```js\n  if (score === score) {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-sequences`](http://eslint.org/docs/rules/no-sequences)\n\n  ```js\n  if (doSomething(), !!test) {}   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-shadow-restricted-names`](http://eslint.org/docs/rules/no-shadow-restricted-names)\n\n  ```js\n  let undefined = 'value'     //  avoid\n  ```\n\n* **Sparse arrays**\n\n  eslint: [`no-sparse-arrays`](http://eslint.org/docs/rules/no-sparse-arrays)\n\n  ```js\n  let fruits = ['apple',, 'orange']       //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-tabs`](http://eslint.org/docs/rules/no-tabs)\n\n* ** ES6 **\n\n  eslint: [`no-template-curly-in-string`](http://eslint.org/docs/rules/no-template-curly-in-string)\n\n  ```js\n  const message = 'Hello ${name}'   //  avoid\n  const message = `Hello ${name}`   //  ok\n  ```\n\n* ** `this`  `super()` **\n\n  eslint: [`no-this-before-super`](http://eslint.org/docs/rules/no-this-before-super)\n\n  ```js\n  class Dog extends Animal {\n    constructor () {\n      this.legs = 4     //  avoid\n      super()\n    }\n  }\n  ```\n\n* ** `throw`  `Error` **\n\n  eslint: [`no-throw-literal`](http://eslint.org/docs/rules/no-throw-literal)\n\n  ```js\n  throw 'error'               //  avoid\n  throw new Error('error')    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-trailing-spaces`](http://eslint.org/docs/rules/no-trailing-spaces)\n\n* ** `undefined` **\n\n  eslint: [`no-undef-init`](http://eslint.org/docs/rules/no-undef-init)\n\n  ```js\n  let name = undefined    //  avoid\n\n  let name\n  name = 'value'          //  ok\n  ```\n\n* ****\n\n  eslint: [`no-unmodified-loop-condition`](http://eslint.org/docs/rules/no-unmodified-loop-condition)\n\n  ```js\n  for (let i = 0; i < items.length; j++) {...}    //  avoid\n  for (let i = 0; i < items.length; i++) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`no-unneeded-ternary`](http://eslint.org/docs/rules/no-unneeded-ternary)\n\n  ```js\n  let score = val ? val : 0     //  avoid\n  let score = val || 0          //  ok\n  ```\n\n* **`return``throw``continue`  `break` **\n\n  eslint: [`no-unreachable`](http://eslint.org/docs/rules/no-unreachable)\n\n  ```js\n  function doSomething () {\n    return true\n    console.log('never called')     //  avoid\n  }\n  ```\n\n* **`finally` **\n\n  eslint: [`no-unsafe-finally`](http://eslint.org/docs/rules/no-unsafe-finally)\n\n  ```js\n  try {\n    // ...\n  } catch (e) {\n    // ...\n  } finally {\n    return 42     //  avoid\n  }\n  ```\n\n* ****\n\n  eslint: [`no-unsafe-negation`](http://eslint.org/docs/rules/no-unsafe-negation)\n\n  ```js\n  if (!key in obj) {}       //  avoid\n  ```\n\n* ** `.call()`  `.apply()`**\n\n  eslint: [`no-useless-call`](http://eslint.org/docs/rules/no-useless-call)\n\n  ```js\n  sum.call(null, 1, 2, 3)   //  avoid\n  ```\n\n* ****\n\n  eslint: [`no-useless-computed-key`](http://eslint.org/docs/rules/no-useless-computed-key)\n\n  ```js\n  const user = { ['name']: 'John Doe' }   //  avoid\n  const user = { name: 'John Doe' }       //  ok\n  ```\n\n* ****\n\n  eslint: [`no-useless-constructor`](http://eslint.org/docs/rules/no-useless-constructor)\n\n  ```js\n  class Car {\n    constructor () {      //  avoid\n    }\n  }\n  ```\n\n* ****\n\n  eslint: [`no-useless-escape`](http://eslint.org/docs/rules/no-useless-escape)\n\n  ```js\n  let message = 'Hell\\o'  //  avoid\n  ```\n\n* **import, export **\n\n  eslint: [`no-useless-rename`](http://eslint.org/docs/rules/no-useless-rename)\n\n  ```js\n  import { config as config } from './config'     //  avoid\n  import { config } from './config'               //  ok\n  ```\n\n* ****\n\n  eslint: [`no-whitespace-before-property`](http://eslint.org/docs/rules/no-whitespace-before-property)\n\n  ```js\n  user .name      //  avoid\n  user.name       //  ok\n  ```\n\n* ** `with`**\n\n  eslint: [`no-with`](http://eslint.org/docs/rules/no-with)\n\n  ```js\n  with (val) {...}    //  avoid\n  ```\n\n* ****\n\n  eslint: [`object-property-newline`](http://eslint.org/docs/rules/object-property-newline)\n\n  ```js\n  const user = {\n    name: 'Jane Doe', age: 30,\n    username: 'jdoe86'            //  avoid\n  }\n\n  const user = { name: 'Jane Doe', age: 30, username: 'jdoe86' }    //  ok\n\n  const user = {\n    name: 'Jane Doe',\n    age: 30,\n    username: 'jdoe86'\n  }                                                                 //  ok\n  ```\n\n* ****\n\n  eslint: [`padded-blocks`](http://eslint.org/docs/rules/padded-blocks)\n\n  ```js\n  if (user) {\n                              //  avoid\n    const name = getName()\n\n  }\n\n  if (user) {\n    const name = getName()    //  ok\n  }\n  ```\n\n* ****\n\n  eslint: [`rest-spread-spacing`](http://eslint.org/docs/rules/rest-spread-spacing)\n\n  ```js\n  fn(... args)    //  avoid\n  fn(...args)     //  ok\n  ```\n\n* ****\n\n  eslint: [`semi-spacing`](http://eslint.org/docs/rules/semi-spacing)\n\n  ```js\n  for (let i = 0 ;i < items.length ;i++) {...}    //  avoid\n  for (let i = 0; i < items.length; i++) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`space-before-blocks`](http://eslint.org/docs/rules/space-before-blocks)\n\n  ```js\n  if (admin){...}     //  avoid\n  if (admin) {...}    //  ok\n  ```\n\n* ****\n\n  eslint: [`space-in-parens`](http://eslint.org/docs/rules/space-in-parens)\n\n  ```js\n  getName( name )     //  avoid\n  getName(name)       //  ok\n  ```\n\n* ****\n\n  eslint: [`space-unary-ops`](http://eslint.org/docs/rules/space-unary-ops)\n\n  ```js\n  typeof!admin        //  avoid\n  typeof !admin        //  ok\n  ```\n\n* ****\n\n  eslint: [`spaced-comment`](http://eslint.org/docs/rules/spaced-comment)\n\n  ```js\n  //comment           //  avoid\n  // comment          //  ok\n\n  /*comment*/         //  avoid\n  /* comment */       //  ok\n  ```\n\n* ****\n\n  eslint: [`template-curly-spacing`](http://eslint.org/docs/rules/template-curly-spacing)\n\n  ```js\n  const message = `Hello, ${ name }`    //  avoid\n  const message = `Hello, ${name}`      //  ok\n  ```\n\n* ** `NaN`  `isNaN()`**\n\n  eslint: [`use-isnan`](http://eslint.org/docs/rules/use-isnan)\n\n  ```js\n  if (price === NaN) { }      //  avoid\n  if (isNaN(price)) { }       //  ok\n  ```\n\n* ** `typeof` **\n\n  eslint: [`valid-typeof`](http://eslint.org/docs/rules/valid-typeof)\n\n  ```js\n  typeof name === 'undefimed'     //  avoid\n  typeof name === 'undefined'     //  ok\n  ```\n\n* ** (IIFEs) **\n\n  eslint: [`wrap-iife`](http://eslint.org/docs/rules/wrap-iife)\n\n  ```js\n  const getName = function () { }()     //  avoid\n\n  const getName = (function () { }())   //  ok\n  const getName = (function () { })()   //  ok\n  ```\n\n* **`yield *`  `*` **\n\n  eslint: [`yield-star-spacing`](http://eslint.org/docs/rules/yield-star-spacing)\n\n  ```js\n  yield* increment()    //  avoid\n  yield * increment()   //  ok\n  ```\n\n* **avoid Yoda conditions**\n\n  eslint: [`yoda`](http://eslint.org/docs/rules/yoda)\n\n  ```js\n  if (42 === age) { }    //  avoid\n  if (age === 42) { }    //  ok\n  ```\n\n## \n\n*  ([1](http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding)[2](http://inimino.org/%7Einimino/blog/javascript_semicolons)[3](https://www.youtube.com/watch?v=gsfbh17Ax9I))\n\n  eslint: [`semi`](http://eslint.org/docs/rules/semi)\n\n  ```js\n  window.alert('hi')   //  ok\n  window.alert('hi');  //  avoid\n  ```\n\n*  `(`, `[`, or `` ` `` \n\n  eslint: [`no-unexpected-multiline`](http://eslint.org/docs/rules/no-unexpected-multiline)\n\n  ```js\n  //  ok\n  ;(function () {\n    window.alert('ok')\n  }())\n\n  //  avoid\n  (function () {\n    window.alert('ok')\n  }())\n  ```\n\n  ```js\n  //  ok\n  ;[1, 2, 3].forEach(bar)\n\n  //  avoid\n  [1, 2, 3].forEach(bar)\n  ```\n\n  ```js\n  //  ok\n  ;`hello`.indexOf('o')\n\n  //  avoid\n  `hello`.indexOf('o')\n  ```\n\n  \n\n  \n\n  \n\n  ```js\n  ;[1, 2, 3].forEach(bar)\n  ```\n\n  \n\n  ```js\n  var nums = [1, 2, 3]\n  nums.forEach(bar)\n  ```\n\n\n## \n\n- [An Open Letter to JavaScript Leaders Regarding Semicolons][1]\n- [JavaScript Semicolon Insertion  Everything you need to know][2]\n\n##### \n\n- [JavaScript - YouTube][3]\n\nAST-based JavaScript \n\n#####  *[\"An Open Letter to JavaScript Leaders Regarding Semicolons\"][1]* \n\n> [] Closure compiler, yuicompressor, packer  jsmin \n>\n> Javascript   JS \n>\n>  `\\n` \n>     1.     `.`  `,` \n>     2.  `--`  `++` \n>     3.  `for()``while()``do``if()`  `else`  `{`\n>     4.  `[``(``+``*``/``-``,``.` \n>\n>  JSLint  JSON `var`  `,`  `\\n`\n>\n>   `i\\n++\\nj`  `i; ++j` `i++; j`\n>\n>  `if (x)\\ny()`  `if (x) { y() }`\n>\n> `;`  JavaScript  `if(x);`  `if(x){}`  x   \n>\n>   \n>\n> ```js\n> foo();\n> [1,2,3].forEach(bar);\n> ```\n>\n> \n>\n> ```js\n> foo()\n> ;[1,2,3].forEach(bar)\n> ```\n>\n>  `(`  `[` \n\n[1]: http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\n[2]: http://inimino.org/~inimino/blog/javascript_semicolons\n[3]: https://www.youtube.com/watch?v=gsfbh17Ax9I\n","slug":"JavaScript-Standard-Style","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g30039hpwf7kope1q3","content":"<h1 id=\"JavaScript-Standard-Style\"><a href=\"#JavaScript-Standard-Style\" class=\"headerlink\" title=\"JavaScript Standard Style\"></a>JavaScript Standard Style</h1><p> JavaScript <a href=\"https://github.com/feross/standard\" target=\"_blank\" rel=\"noopener\">standard</a> </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/indent\" target=\"_blank\" rel=\"noopener\"><code>indent</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hello</span> (<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'hi'</span>, name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/quotes\" target=\"_blank\" rel=\"noopener\"><code>quotes</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'hello there'</span>)</span><br><span class=\"line\">$(<span class=\"string\">\"&lt;div class='box'&gt;\"</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unused-vars\" target=\"_blank\" rel=\"noopener\"><code>no-unused-vars</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> result = something()   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/keyword-spacing\" target=\"_blank\" rel=\"noopener\"><code>keyword-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123; ... &#125;   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(condition) &#123; ... &#125;    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-before-function-paren\" target=\"_blank\" rel=\"noopener\"><code>space-before-function-paren</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">name</span> (<span class=\"params\">arg</span>) </span>&#123; ... &#125;   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">name</span>(<span class=\"params\">arg</span>) </span>&#123; ... &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; ... &#125;)      <span class=\"comment\">//  ok</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;)       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong> <code>===</code>  <code>==</code><br><br> <code>obj == null</code>  <code>null || undefined</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/eqeqeq\" target=\"_blank\" rel=\"noopener\"><code>eqeqeq</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (name === <span class=\"string\">'John'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (name == <span class=\"string\">'John'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (name !== <span class=\"string\">'John'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (name != <span class=\"string\">'John'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> (Infix operators)</strong> </p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-infix-ops\" target=\"_blank\" rel=\"noopener\"><code>space-infix-ops</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> message = <span class=\"string\">'hello, '</span> + name + <span class=\"string\">'!'</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x=<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> message = <span class=\"string\">'hello, '</span>+name+<span class=\"string\">'!'</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-spacing\" target=\"_blank\" rel=\"noopener\"><code>comma-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> list = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">greet</span> (<span class=\"params\">name, options</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> list = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">greet</span> (<span class=\"params\">name,options</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>else </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/brace-style\" target=\"_blank\" rel=\"noopener\"><code>brace-style</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> if </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/curly\" target=\"_blank\" rel=\"noopener\"><code>curly</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>) <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong><code>err</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/handle-callback-err\" target=\"_blank\" rel=\"noopener\"><code>handle-callback-err</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (err) <span class=\"keyword\">throw</span> err</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong> <code>window.</code> <br><br>Exceptions are: <code>document</code>, <code>console</code> and <code>navigator</code>.</p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-undef\" target=\"_blank\" rel=\"noopener\"><code>no-undef</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multiple-empty-lines\" target=\"_blank\" rel=\"noopener\"><code>no-multiple-empty-lines</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> value = <span class=\"string\">'hello world'</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(value)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> value = <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n<p>console.log(value)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* **** `?`  `:` </span><br><span class=\"line\"></span><br><span class=\"line\">  eslint: [`operator-linebreak`](http://eslint.org/docs/rules/operator-linebreak)</span><br><span class=\"line\"></span><br><span class=\"line\">  ```js</span><br><span class=\"line\">  //  ok</span><br><span class=\"line\">  var location = env.development ? &apos;localhost&apos; : &apos;www.api.com&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  ok</span><br><span class=\"line\">  var location = env.development</span><br><span class=\"line\">    ? &apos;localhost&apos;</span><br><span class=\"line\">    : &apos;www.api.com&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  avoid</span><br><span class=\"line\">  var location = env.development ?</span><br><span class=\"line\">    &apos;localhost&apos; :</span><br><span class=\"line\">    &apos;www.api.com&apos;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> var </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/one-var\" target=\"_blank\" rel=\"noopener\"><code>one-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> verbose = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span>, verbose = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span>,</span><br><span class=\"line\">    verbose = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong><code>===</code><code>=</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-cond-assign\" target=\"_blank\" rel=\"noopener\"><code>no-cond-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> ((m = text.match(expr))) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> (m = text.match(expr)) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/block-spacing\" target=\"_blank\" rel=\"noopener\"><code>block-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\"></span>) </span>&#123;<span class=\"keyword\">return</span> <span class=\"literal\">true</span>&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"literal\">true</span> &#125;  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/camelcase\" target=\"_blank\" rel=\"noopener\"><code>camelcase</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">my_function</span> (<span class=\"params\"></span>) </span>&#123; &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span> (<span class=\"params\"></span>) </span>&#123; &#125;     <span class=\"comment\">//  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> my_var = <span class=\"string\">'hello'</span>           <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> myVar = <span class=\"string\">'hello'</span>            <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-dangle\" target=\"_blank\" rel=\"noopener\"><code>comma-dangle</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  message: <span class=\"string\">'hello'</span>,   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-style\" target=\"_blank\" rel=\"noopener\"><code>comma-style</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  foo: <span class=\"string\">'foo'</span></span><br><span class=\"line\">  ,<span class=\"attr\">bar</span>: <span class=\"string\">'bar'</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  foo: <span class=\"string\">'foo'</span>,</span><br><span class=\"line\">  bar: <span class=\"string\">'bar'</span>   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/dot-location\" target=\"_blank\" rel=\"noopener\"><code>dot-location</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.</span><br><span class=\"line\">  log(<span class=\"string\">'hello'</span>)  <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span></span><br><span class=\"line\">  .log(<span class=\"string\">'hello'</span>) <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>elint: <a href=\"http://eslint.org/docs/rules/eol-last\" target=\"_blank\" rel=\"noopener\"><code>eol-last</code></a></p>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/func-call-spacing\" target=\"_blank\" rel=\"noopener\"><code>func-call-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log (<span class=\"string\">'hello'</span>) <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'hello'</span>)  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/key-spacing\" target=\"_blank\" rel=\"noopener\"><code>key-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span> : <span class=\"string\">'value'</span> &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span> :<span class=\"string\">'value'</span> &#125;     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span>:<span class=\"string\">'value'</span> &#125;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span>: <span class=\"string\">'value'</span> &#125;     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/new-cap\" target=\"_blank\" rel=\"noopener\"><code>new-cap</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> animal()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal()    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/new-parens\" target=\"_blank\" rel=\"noopener\"><code>new-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal()  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/accessor-pairs\" target=\"_blank\" rel=\"noopener\"><code>accessor-pairs</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;</span><br><span class=\"line\">  set name (value) &#123;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = value</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;</span><br><span class=\"line\">  set name (value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  get name () &#123;         <span class=\"comment\">//  ok</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.name</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>super</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/constructor-super\" target=\"_blank\" rel=\"noopener\"><code>constructor-super</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>()   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> <span class=\"keyword\">extends</span> <span class=\"title\">Mammal</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>()   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-array-constructor\" target=\"_blank\" rel=\"noopener\"><code>no-array-constructor</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nums = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> nums = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]            <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>arguments.callee</code>  <code>arguments.caller</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-caller\" target=\"_blank\" rel=\"noopener\"><code>no-caller</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">arguments</span>.callee(n - <span class=\"number\">1</span>)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">  foo(n - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-class-assign\" target=\"_blank\" rel=\"noopener\"><code>no-class-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;&#125;</span><br><span class=\"line\">Dog = <span class=\"string\">'Fido'</span>    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>const</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-const-assign\" target=\"_blank\" rel=\"noopener\"><code>no-const-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> score = <span class=\"number\">100</span></span><br><span class=\"line\">score = <span class=\"number\">125</span>       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-constant-condition\" target=\"_blank\" rel=\"noopener\"><code>no-constant-condition</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (x === <span class=\"number\">0</span>) &#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-control-regex\" target=\"_blank\" rel=\"noopener\"><code>no-control-regex</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\x1f/</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\x20/</span>    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>debugger</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-debugger\" target=\"_blank\" rel=\"noopener\"><code>no-debugger</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">debugger</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> a + b</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>delete</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-delete-var\" target=\"_blank\" rel=\"noopener\"><code>no-delete-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name</span><br><span class=\"line\"><span class=\"keyword\">delete</span> name     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-args\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-args</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b, a</span>) </span>&#123;  <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b, c</span>) </span>&#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-class-members\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-class-members</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;</span><br><span class=\"line\">  bark () &#123;&#125;</span><br><span class=\"line\">  bark () &#123;&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-keys\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-keys</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'John Doe'</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>switch</code>  <code>case</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-duplicate-case\" target=\"_blank\" rel=\"noopener\"><code>no-duplicate-case</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch</span> (id) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-duplicate-imports\" target=\"_blank\" rel=\"noopener\"><code>no-duplicate-imports</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc1 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span>          <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc1, myFunc2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span> <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-empty-character-class\" target=\"_blank\" rel=\"noopener\"><code>no-empty-character-class</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myRegex = <span class=\"regexp\">/^abc[]/</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myRegex = <span class=\"regexp\">/^abc[a-z]/</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-empty-pattern\" target=\"_blank\" rel=\"noopener\"><code>no-empty-pattern</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"attr\">a</span>: &#123;&#125; &#125; = foo         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"attr\">a</span>: &#123; b &#125; &#125; = foo      <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>eval()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-eval\" target=\"_blank\" rel=\"noopener\"><code>no-eval</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">eval</span>( <span class=\"string\">\"var result = user.\"</span> + propName ) <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = user[propName]             <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>catch</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-ex-assign\" target=\"_blank\" rel=\"noopener\"><code>no-ex-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  e = <span class=\"string\">'new value'</span>             <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> newVal = <span class=\"string\">'new value'</span>  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extend-native\" target=\"_blank\" rel=\"noopener\"><code>no-extend-native</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.prototype.age = <span class=\"number\">21</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-bind\" target=\"_blank\" rel=\"noopener\"><code>no-extra-bind</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  getName()</span><br><span class=\"line\">&#125;.bind(user)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.getName()</span><br><span class=\"line\">&#125;.bind(user)    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-boolean-cast\" target=\"_blank\" rel=\"noopener\"><code>no-extra-boolean-cast</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> result = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!!result) &#123;   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (result) &#123;     <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-parens\" target=\"_blank\" rel=\"noopener\"><code>no-extra-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myFunc = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myFunc = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>switch</code>  <code>break</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-fallthrough\" target=\"_blank\" rel=\"noopener\"><code>no-fallthrough</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()</span><br><span class=\"line\">    <span class=\"keyword\">break</span>           <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()</span><br><span class=\"line\">    <span class=\"comment\">// fallthrough  //  ok</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>0</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-floating-decimal\" target=\"_blank\" rel=\"noopener\"><code>no-floating-decimal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> discount = <span class=\"number\">.5</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> discount = <span class=\"number\">0.5</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-func-assign\" target=\"_blank\" rel=\"noopener\"><code>no-func-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123; &#125;</span><br><span class=\"line\">myFunc = myOtherFunc    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-global-assign\" target=\"_blank\" rel=\"noopener\"><code>no-global-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span> = &#123;&#125;     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>eval()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-implied-eval\" target=\"_blank\" rel=\"noopener\"><code>no-implied-eval</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setTimeout(<span class=\"string\">\"alert('Hello world')\"</span>)                   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; alert(<span class=\"string\">'Hello world'</span>) &#125;)     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-inner-declarations\" target=\"_blank\" rel=\"noopener\"><code>no-inner-declarations</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (authenticated) &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setAuthUser</span> (<span class=\"params\"></span>) </span>&#123;&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>RegExp</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-invalid-regexp\" target=\"_blank\" rel=\"noopener\"><code>no-invalid-regexp</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">RegExp</span>(<span class=\"string\">'[a-z'</span>)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"built_in\">RegExp</span>(<span class=\"string\">'[a-z]'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-irregular-whitespace\" target=\"_blank\" rel=\"noopener\"><code>no-irregular-whitespace</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) /*&lt;<span class=\"title\">NBSP</span>&gt;*/</span>&#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>__iterator__</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-iterator\" target=\"_blank\" rel=\"noopener\"><code>no-iterator</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Foo.prototype.__iterator__ = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-label-var\" target=\"_blank\" rel=\"noopener\"><code>no-label-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> score = <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">game</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  score: <span class=\"number\">50</span>         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-labels\" target=\"_blank\" rel=\"noopener\"><code>no-labels</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">label:</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">break</span> label     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-lone-blocks\" target=\"_blank\" rel=\"noopener\"><code>no-lone-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  &#123;                   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    myOtherFunc()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  myOtherFunc()       <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-mixed-spaces-and-tabs\" target=\"_blank\" rel=\"noopener\"><code>no-mixed-spaces-and-tabs</code></a></p>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multi-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-multi-spaces</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> id =    <span class=\"number\">1234</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> id = <span class=\"number\">1234</span>       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multi-str\" target=\"_blank\" rel=\"noopener\"><code>no-multi-str</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">'Hello \\</span></span><br><span class=\"line\"><span class=\"string\">                 world'</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>new</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new\" target=\"_blank\" rel=\"noopener\"><code>no-new</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Character()                     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> character = <span class=\"keyword\">new</span> Character()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Function</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-func\" target=\"_blank\" rel=\"noopener\"><code>no-new-func</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sum = <span class=\"keyword\">new</span> <span class=\"built_in\">Function</span>(<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'return a + b'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Object</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-object\" target=\"_blank\" rel=\"noopener\"><code>no-new-object</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> config = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>()   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>new require</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-require\" target=\"_blank\" rel=\"noopener\"><code>no-new-require</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myModule = <span class=\"keyword\">new</span> <span class=\"built_in\">require</span>(<span class=\"string\">'my-module'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Symbol</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-symbol\" target=\"_blank\" rel=\"noopener\"><code>no-new-symbol</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(<span class=\"string\">'foo'</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-wrappers\" target=\"_blank\" rel=\"noopener\"><code>no-new-wrappers</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">'hello'</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-obj-calls\" target=\"_blank\" rel=\"noopener\"><code>no-obj-calls</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> math = <span class=\"built_in\">Math</span>()   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-octal\" target=\"_blank\" rel=\"noopener\"><code>no-octal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> num = <span class=\"number\">042</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num = <span class=\"string\">'042'</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-octal-escape\" target=\"_blank\" rel=\"noopener\"><code>no-octal-escape</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> copyright = <span class=\"string\">'Copyright \\251'</span>  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>__dirname</code>  <code>__filename</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-path-concat\" target=\"_blank\" rel=\"noopener\"><code>no-path-concat</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> pathToFile = __dirname + <span class=\"string\">'/app.js'</span>            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> pathToFile = path.join(__dirname, <span class=\"string\">'app.js'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p> <code>getPrototypeOf</code>  <strong><code>__proto__</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-proto\" target=\"_blank\" rel=\"noopener\"><code>no-proto</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = obj.__proto__               <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"built_in\">Object</span>.getPrototypeOf(obj)  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-redeclare\" target=\"_blank\" rel=\"noopener\"><code>no-redeclare</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'John'</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'Jane'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'John'</span></span><br><span class=\"line\">name = <span class=\"string\">'Jane'</span>         <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-regex-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-regex-spaces</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test   value/</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test &#123;3&#125;value/</span>  <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test value/</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>return </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-return-assign\" target=\"_blank\" rel=\"noopener\"><code>no-return-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result = a + b     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (result = a + b)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-self-assign\" target=\"_blank\" rel=\"noopener\"><code>no-self-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = name   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>esint: <a href=\"http://eslint.org/docs/rules/no-self-compare\" target=\"_blank\" rel=\"noopener\"><code>no-self-compare</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (score === score) &#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-sequences\" target=\"_blank\" rel=\"noopener\"><code>no-sequences</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (doSomething(), !!test) &#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-shadow-restricted-names\" target=\"_blank\" rel=\"noopener\"><code>no-shadow-restricted-names</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"literal\">undefined</span> = <span class=\"string\">'value'</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Sparse arrays</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-sparse-arrays\" target=\"_blank\" rel=\"noopener\"><code>no-sparse-arrays</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> fruits = [<span class=\"string\">'apple'</span>,, <span class=\"string\">'orange'</span>]       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-tabs\" target=\"_blank\" rel=\"noopener\"><code>no-tabs</code></a></p>\n</li>\n<li><p><strong> ES6 </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-template-curly-in-string\" target=\"_blank\" rel=\"noopener\"><code>no-template-curly-in-string</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">'Hello $&#123;name&#125;'</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello <span class=\"subst\">$&#123;name&#125;</span>`</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>this</code>  <code>super()</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-this-before-super\" target=\"_blank\" rel=\"noopener\"><code>no-this-before-super</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> <span class=\"keyword\">extends</span> <span class=\"title\">Animal</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.legs = <span class=\"number\">4</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    <span class=\"keyword\">super</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>throw</code>  <code>Error</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-throw-literal\" target=\"_blank\" rel=\"noopener\"><code>no-throw-literal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"string\">'error'</span>               <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'error'</span>)    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-trailing-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-trailing-spaces</code></a></p>\n</li>\n<li><p><strong> <code>undefined</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-undef-init\" target=\"_blank\" rel=\"noopener\"><code>no-undef-init</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"literal\">undefined</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> name</span><br><span class=\"line\">name = <span class=\"string\">'value'</span>          <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unmodified-loop-condition\" target=\"_blank\" rel=\"noopener\"><code>no-unmodified-loop-condition</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; j++) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unneeded-ternary\" target=\"_blank\" rel=\"noopener\"><code>no-unneeded-ternary</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> score = val ? val : <span class=\"number\">0</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> score = val || <span class=\"number\">0</span>          <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>return</code><code>throw</code><code>continue</code>  <code>break</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unreachable\" target=\"_blank\" rel=\"noopener\"><code>no-unreachable</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">doSomething</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'never called'</span>)     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>finally</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unsafe-finally\" target=\"_blank\" rel=\"noopener\"><code>no-unsafe-finally</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">42</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unsafe-negation\" target=\"_blank\" rel=\"noopener\"><code>no-unsafe-negation</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (!key <span class=\"keyword\">in</span> obj) &#123;&#125;       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>.call()</code>  <code>.apply()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-call\" target=\"_blank\" rel=\"noopener\"><code>no-useless-call</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sum.call(<span class=\"literal\">null</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-computed-key\" target=\"_blank\" rel=\"noopener\"><code>no-useless-computed-key</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; [<span class=\"string\">'name'</span>]: <span class=\"string\">'John Doe'</span> &#125;   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'John Doe'</span> &#125;       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-constructor\" target=\"_blank\" rel=\"noopener\"><code>no-useless-constructor</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-escape\" target=\"_blank\" rel=\"noopener\"><code>no-useless-escape</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> message = <span class=\"string\">'Hell\\o'</span>  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>import, export </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-rename\" target=\"_blank\" rel=\"noopener\"><code>no-useless-rename</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; config <span class=\"keyword\">as</span> config &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./config'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; config &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./config'</span>               <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-whitespace-before-property\" target=\"_blank\" rel=\"noopener\"><code>no-whitespace-before-property</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user .name      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">user.name       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>with</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-with\" target=\"_blank\" rel=\"noopener\"><code>no-with</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">with</span> (val) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/object-property-newline\" target=\"_blank\" rel=\"noopener\"><code>object-property-newline</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">  username: <span class=\"string\">'jdoe86'</span>            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'Jane Doe'</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span>, <span class=\"attr\">username</span>: <span class=\"string\">'jdoe86'</span> &#125;    <span class=\"comment\">//  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>,</span><br><span class=\"line\">  age: <span class=\"number\">30</span>,</span><br><span class=\"line\">  username: <span class=\"string\">'jdoe86'</span></span><br><span class=\"line\">&#125;                                                                 <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/padded-blocks\" target=\"_blank\" rel=\"noopener\"><code>padded-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (user) &#123;</span><br><span class=\"line\">                            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> name = getName()</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (user) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> name = getName()    <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/rest-spread-spacing\" target=\"_blank\" rel=\"noopener\"><code>rest-spread-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fn(... args)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">fn(...args)     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/semi-spacing\" target=\"_blank\" rel=\"noopener\"><code>semi-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span> ;i &lt; items.length ;i++) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-before-blocks\" target=\"_blank\" rel=\"noopener\"><code>space-before-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (admin)&#123;...&#125;     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (admin) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-in-parens\" target=\"_blank\" rel=\"noopener\"><code>space-in-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getName( name )     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">getName(name)       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-unary-ops\" target=\"_blank\" rel=\"noopener\"><code>space-unary-ops</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typeof</span>!admin        <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> !admin        <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/spaced-comment\" target=\"_blank\" rel=\"noopener\"><code>spaced-comment</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//comment           //  avoid</span></span><br><span class=\"line\"><span class=\"comment\">// comment          //  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*comment*/</span>         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"comment\">/* comment */</span>       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/template-curly-spacing\" target=\"_blank\" rel=\"noopener\"><code>template-curly-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello, <span class=\"subst\">$&#123; name &#125;</span>`</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello, <span class=\"subst\">$&#123;name&#125;</span>`</span>      <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>NaN</code>  <code>isNaN()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/use-isnan\" target=\"_blank\" rel=\"noopener\"><code>use-isnan</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (price === <span class=\"literal\">NaN</span>) &#123; &#125;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">isNaN</span>(price)) &#123; &#125;       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>typeof</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/valid-typeof\" target=\"_blank\" rel=\"noopener\"><code>valid-typeof</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typeof</span> name === <span class=\"string\">'undefimed'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> name === <span class=\"string\">'undefined'</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> (IIFEs) </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/wrap-iife\" target=\"_blank\" rel=\"noopener\"><code>wrap-iife</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;()     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getName = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;())   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> getName = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;)()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>yield *</code>  <code>*</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/yield-star-spacing\" target=\"_blank\" rel=\"noopener\"><code>yield-star-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">yield</span>* increment()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">yield</span> * increment()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>avoid Yoda conditions</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/yoda\" target=\"_blank\" rel=\"noopener\"><code>yoda</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"number\">42</span> === age) &#123; &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (age === <span class=\"number\">42</span>) &#123; &#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p> (<a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">1</a><a href=\"http://inimino.org/%7Einimino/blog/javascript_semicolons\" target=\"_blank\" rel=\"noopener\">2</a><a href=\"https://www.youtube.com/watch?v=gsfbh17Ax9I\" target=\"_blank\" rel=\"noopener\">3</a>)</p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/semi\" target=\"_blank\" rel=\"noopener\"><code>semi</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>);  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p> <code>(</code>, <code>[</code>, or <code>`</code> </p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unexpected-multiline\" target=\"_blank\" rel=\"noopener\"><code>no-unexpected-multiline</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'ok'</span>)</span><br><span class=\"line\">&#125;())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'ok'</span>)</span><br><span class=\"line\">&#125;())</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;<span class=\"string\">`hello`</span>.indexOf(<span class=\"string\">'o'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"string\">`hello`</span>.indexOf(<span class=\"string\">'o'</span>)</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nums = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\">nums.forEach(bar)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">An Open Letter to JavaScript Leaders Regarding Semicolons</a></li>\n<li><a href=\"http://inimino.org/~inimino/blog/javascript_semicolons\" target=\"_blank\" rel=\"noopener\">JavaScript Semicolon Insertion  Everything you need to know</a></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><a href=\"https://www.youtube.com/watch?v=gsfbh17Ax9I\" target=\"_blank\" rel=\"noopener\">JavaScript - YouTube</a></li>\n</ul>\n<p>AST-based JavaScript </p>\n<h5 id=\"-An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons-\"><a href=\"#-An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons-\" class=\"headerlink\" title=\" An Open Letter to JavaScript Leaders Regarding Semicolons \"></a> <em><a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">An Open Letter to JavaScript Leaders Regarding Semicolons</a></em> </h5><blockquote>\n<p>[] Closure compiler, yuicompressor, packer  jsmin </p>\n<p>Javascript   JS </p>\n<p> <code>\\n</code> </p>\n<pre><code>1.     `.`  `,` \n2.  `--`  `++` \n3.  `for()``while()``do``if()`  `else`  `{`\n4.  `[``(``+``*``/``-``,``.` \n</code></pre><p> JSLint  JSON <code>var</code>  <code>,</code>  <code>\\n</code></p>\n<p>  <code>i\\n++\\nj</code>  <code>i; ++j</code> <code>i++; j</code></p>\n<p> <code>if (x)\\ny()</code>  <code>if (x) { y() }</code></p>\n<p><code>;</code>  JavaScript  <code>if(x);</code>  <code>if(x){}</code>  x   </p>\n<p>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; foo();</span><br><span class=\"line\">&gt; [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].forEach(bar);</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; foo()</span><br><span class=\"line\">&gt; ;[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].forEach(bar)</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p> <code>(</code>  <code>[</code> </p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h1 id=\"JavaScript-Standard-Style\"><a href=\"#JavaScript-Standard-Style\" class=\"headerlink\" title=\"JavaScript Standard Style\"></a>JavaScript Standard Style</h1><p> JavaScript <a href=\"https://github.com/feross/standard\" target=\"_blank\" rel=\"noopener\">standard</a> </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/indent\" target=\"_blank\" rel=\"noopener\"><code>indent</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hello</span> (<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'hi'</span>, name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","more":"</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/quotes\" target=\"_blank\" rel=\"noopener\"><code>quotes</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'hello there'</span>)</span><br><span class=\"line\">$(<span class=\"string\">\"&lt;div class='box'&gt;\"</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unused-vars\" target=\"_blank\" rel=\"noopener\"><code>no-unused-vars</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> result = something()   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/keyword-spacing\" target=\"_blank\" rel=\"noopener\"><code>keyword-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123; ... &#125;   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(condition) &#123; ... &#125;    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-before-function-paren\" target=\"_blank\" rel=\"noopener\"><code>space-before-function-paren</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">name</span> (<span class=\"params\">arg</span>) </span>&#123; ... &#125;   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">name</span>(<span class=\"params\">arg</span>) </span>&#123; ... &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; ... &#125;)      <span class=\"comment\">//  ok</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;)       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong> <code>===</code>  <code>==</code><br><br> <code>obj == null</code>  <code>null || undefined</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/eqeqeq\" target=\"_blank\" rel=\"noopener\"><code>eqeqeq</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (name === <span class=\"string\">'John'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (name == <span class=\"string\">'John'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (name !== <span class=\"string\">'John'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (name != <span class=\"string\">'John'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> (Infix operators)</strong> </p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-infix-ops\" target=\"_blank\" rel=\"noopener\"><code>space-infix-ops</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> message = <span class=\"string\">'hello, '</span> + name + <span class=\"string\">'!'</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> x=<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> message = <span class=\"string\">'hello, '</span>+name+<span class=\"string\">'!'</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-spacing\" target=\"_blank\" rel=\"noopener\"><code>comma-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> list = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">greet</span> (<span class=\"params\">name, options</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> list = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">greet</span> (<span class=\"params\">name,options</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>else </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/brace-style\" target=\"_blank\" rel=\"noopener\"><code>brace-style</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (condition) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> if </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/curly\" target=\"_blank\" rel=\"noopener\"><code>curly</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>) <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (options.quiet !== <span class=\"literal\">true</span>)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong><code>err</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/handle-callback-err\" target=\"_blank\" rel=\"noopener\"><code>handle-callback-err</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (err) <span class=\"keyword\">throw</span> err</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">run(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'done'</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong> <code>window.</code> <br><br>Exceptions are: <code>document</code>, <code>console</code> and <code>navigator</code>.</p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-undef\" target=\"_blank\" rel=\"noopener\"><code>no-undef</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multiple-empty-lines\" target=\"_blank\" rel=\"noopener\"><code>no-multiple-empty-lines</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> value = <span class=\"string\">'hello world'</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(value)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> value = <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n<p>console.log(value)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">* **** `?`  `:` </span><br><span class=\"line\"></span><br><span class=\"line\">  eslint: [`operator-linebreak`](http://eslint.org/docs/rules/operator-linebreak)</span><br><span class=\"line\"></span><br><span class=\"line\">  ```js</span><br><span class=\"line\">  //  ok</span><br><span class=\"line\">  var location = env.development ? &apos;localhost&apos; : &apos;www.api.com&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  ok</span><br><span class=\"line\">  var location = env.development</span><br><span class=\"line\">    ? &apos;localhost&apos;</span><br><span class=\"line\">    : &apos;www.api.com&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  avoid</span><br><span class=\"line\">  var location = env.development ?</span><br><span class=\"line\">    &apos;localhost&apos; :</span><br><span class=\"line\">    &apos;www.api.com&apos;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> var </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/one-var\" target=\"_blank\" rel=\"noopener\"><code>one-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> verbose = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span>, verbose = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> silent = <span class=\"literal\">true</span>,</span><br><span class=\"line\">    verbose = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong><code>===</code><code>=</code></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-cond-assign\" target=\"_blank\" rel=\"noopener\"><code>no-cond-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> ((m = text.match(expr))) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> (m = text.match(expr)) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/block-spacing\" target=\"_blank\" rel=\"noopener\"><code>block-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\"></span>) </span>&#123;<span class=\"keyword\">return</span> <span class=\"literal\">true</span>&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"literal\">true</span> &#125;  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/camelcase\" target=\"_blank\" rel=\"noopener\"><code>camelcase</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">my_function</span> (<span class=\"params\"></span>) </span>&#123; &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span> (<span class=\"params\"></span>) </span>&#123; &#125;     <span class=\"comment\">//  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> my_var = <span class=\"string\">'hello'</span>           <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> myVar = <span class=\"string\">'hello'</span>            <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-dangle\" target=\"_blank\" rel=\"noopener\"><code>comma-dangle</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  message: <span class=\"string\">'hello'</span>,   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/comma-style\" target=\"_blank\" rel=\"noopener\"><code>comma-style</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  foo: <span class=\"string\">'foo'</span></span><br><span class=\"line\">  ,<span class=\"attr\">bar</span>: <span class=\"string\">'bar'</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  foo: <span class=\"string\">'foo'</span>,</span><br><span class=\"line\">  bar: <span class=\"string\">'bar'</span>   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/dot-location\" target=\"_blank\" rel=\"noopener\"><code>dot-location</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.</span><br><span class=\"line\">  log(<span class=\"string\">'hello'</span>)  <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span></span><br><span class=\"line\">  .log(<span class=\"string\">'hello'</span>) <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>elint: <a href=\"http://eslint.org/docs/rules/eol-last\" target=\"_blank\" rel=\"noopener\"><code>eol-last</code></a></p>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/func-call-spacing\" target=\"_blank\" rel=\"noopener\"><code>func-call-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log (<span class=\"string\">'hello'</span>) <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'hello'</span>)  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/key-spacing\" target=\"_blank\" rel=\"noopener\"><code>key-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span> : <span class=\"string\">'value'</span> &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span> :<span class=\"string\">'value'</span> &#125;     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span>:<span class=\"string\">'value'</span> &#125;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"string\">'key'</span>: <span class=\"string\">'value'</span> &#125;     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/new-cap\" target=\"_blank\" rel=\"noopener\"><code>new-cap</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> animal()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal()    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/new-parens\" target=\"_blank\" rel=\"noopener\"><code>new-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Animal</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> dog = <span class=\"keyword\">new</span> Animal()  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/accessor-pairs\" target=\"_blank\" rel=\"noopener\"><code>accessor-pairs</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;</span><br><span class=\"line\">  set name (value) &#123;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = value</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person = &#123;</span><br><span class=\"line\">  set name (value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  get name () &#123;         <span class=\"comment\">//  ok</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.name</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>super</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/constructor-super\" target=\"_blank\" rel=\"noopener\"><code>constructor-super</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>()   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> <span class=\"keyword\">extends</span> <span class=\"title\">Mammal</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>()   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-array-constructor\" target=\"_blank\" rel=\"noopener\"><code>no-array-constructor</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nums = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> nums = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]            <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>arguments.callee</code>  <code>arguments.caller</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-caller\" target=\"_blank\" rel=\"noopener\"><code>no-caller</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">arguments</span>.callee(n - <span class=\"number\">1</span>)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">0</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">  foo(n - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-class-assign\" target=\"_blank\" rel=\"noopener\"><code>no-class-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;&#125;</span><br><span class=\"line\">Dog = <span class=\"string\">'Fido'</span>    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>const</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-const-assign\" target=\"_blank\" rel=\"noopener\"><code>no-const-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> score = <span class=\"number\">100</span></span><br><span class=\"line\">score = <span class=\"number\">125</span>       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-constant-condition\" target=\"_blank\" rel=\"noopener\"><code>no-constant-condition</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (x === <span class=\"number\">0</span>) &#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-control-regex\" target=\"_blank\" rel=\"noopener\"><code>no-control-regex</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\x1f/</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\x20/</span>    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>debugger</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-debugger\" target=\"_blank\" rel=\"noopener\"><code>no-debugger</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">debugger</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> a + b</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>delete</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-delete-var\" target=\"_blank\" rel=\"noopener\"><code>no-delete-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name</span><br><span class=\"line\"><span class=\"keyword\">delete</span> name     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-args\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-args</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b, a</span>) </span>&#123;  <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b, c</span>) </span>&#123;  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-class-members\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-class-members</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> </span>&#123;</span><br><span class=\"line\">  bark () &#123;&#125;</span><br><span class=\"line\">  bark () &#123;&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-dupe-keys\" target=\"_blank\" rel=\"noopener\"><code>no-dupe-keys</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>,</span><br><span class=\"line\">  name: <span class=\"string\">'John Doe'</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>switch</code>  <code>case</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-duplicate-case\" target=\"_blank\" rel=\"noopener\"><code>no-duplicate-case</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch</span> (id) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-duplicate-imports\" target=\"_blank\" rel=\"noopener\"><code>no-duplicate-imports</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc1 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span>          <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; myFunc1, myFunc2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'module'</span> <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-empty-character-class\" target=\"_blank\" rel=\"noopener\"><code>no-empty-character-class</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myRegex = <span class=\"regexp\">/^abc[]/</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myRegex = <span class=\"regexp\">/^abc[a-z]/</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-empty-pattern\" target=\"_blank\" rel=\"noopener\"><code>no-empty-pattern</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"attr\">a</span>: &#123;&#125; &#125; = foo         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"attr\">a</span>: &#123; b &#125; &#125; = foo      <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>eval()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-eval\" target=\"_blank\" rel=\"noopener\"><code>no-eval</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">eval</span>( <span class=\"string\">\"var result = user.\"</span> + propName ) <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = user[propName]             <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>catch</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-ex-assign\" target=\"_blank\" rel=\"noopener\"><code>no-ex-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  e = <span class=\"string\">'new value'</span>             <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> newVal = <span class=\"string\">'new value'</span>  <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extend-native\" target=\"_blank\" rel=\"noopener\"><code>no-extend-native</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.prototype.age = <span class=\"number\">21</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-bind\" target=\"_blank\" rel=\"noopener\"><code>no-extra-bind</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  getName()</span><br><span class=\"line\">&#125;.bind(user)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.getName()</span><br><span class=\"line\">&#125;.bind(user)    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-boolean-cast\" target=\"_blank\" rel=\"noopener\"><code>no-extra-boolean-cast</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> result = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!!result) &#123;   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (result) &#123;     <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-extra-parens\" target=\"_blank\" rel=\"noopener\"><code>no-extra-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myFunc = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;)   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myFunc = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>switch</code>  <code>break</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-fallthrough\" target=\"_blank\" rel=\"noopener\"><code>no-fallthrough</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()</span><br><span class=\"line\">    <span class=\"keyword\">break</span>           <span class=\"comment\">//  ok</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (filter) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    doSomething()</span><br><span class=\"line\">    <span class=\"comment\">// fallthrough  //  ok</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">    doSomethingElse()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>0</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-floating-decimal\" target=\"_blank\" rel=\"noopener\"><code>no-floating-decimal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> discount = <span class=\"number\">.5</span>      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> discount = <span class=\"number\">0.5</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-func-assign\" target=\"_blank\" rel=\"noopener\"><code>no-func-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123; &#125;</span><br><span class=\"line\">myFunc = myOtherFunc    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-global-assign\" target=\"_blank\" rel=\"noopener\"><code>no-global-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span> = &#123;&#125;     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>eval()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-implied-eval\" target=\"_blank\" rel=\"noopener\"><code>no-implied-eval</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setTimeout(<span class=\"string\">\"alert('Hello world')\"</span>)                   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; alert(<span class=\"string\">'Hello world'</span>) &#125;)     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-inner-declarations\" target=\"_blank\" rel=\"noopener\"><code>no-inner-declarations</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (authenticated) &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setAuthUser</span> (<span class=\"params\"></span>) </span>&#123;&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>RegExp</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-invalid-regexp\" target=\"_blank\" rel=\"noopener\"><code>no-invalid-regexp</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">RegExp</span>(<span class=\"string\">'[a-z'</span>)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"built_in\">RegExp</span>(<span class=\"string\">'[a-z]'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-irregular-whitespace\" target=\"_blank\" rel=\"noopener\"><code>no-irregular-whitespace</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) /*&lt;<span class=\"title\">NBSP</span>&gt;*/</span>&#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>__iterator__</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-iterator\" target=\"_blank\" rel=\"noopener\"><code>no-iterator</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Foo.prototype.__iterator__ = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-label-var\" target=\"_blank\" rel=\"noopener\"><code>no-label-var</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> score = <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">game</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  score: <span class=\"number\">50</span>         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-labels\" target=\"_blank\" rel=\"noopener\"><code>no-labels</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">label:</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">break</span> label     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-lone-blocks\" target=\"_blank\" rel=\"noopener\"><code>no-lone-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  &#123;                   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    myOtherFunc()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunc</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  myOtherFunc()       <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-mixed-spaces-and-tabs\" target=\"_blank\" rel=\"noopener\"><code>no-mixed-spaces-and-tabs</code></a></p>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multi-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-multi-spaces</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> id =    <span class=\"number\">1234</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> id = <span class=\"number\">1234</span>       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-multi-str\" target=\"_blank\" rel=\"noopener\"><code>no-multi-str</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">'Hello \\</span></span><br><span class=\"line\"><span class=\"string\">                 world'</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>new</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new\" target=\"_blank\" rel=\"noopener\"><code>no-new</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Character()                     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> character = <span class=\"keyword\">new</span> Character()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Function</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-func\" target=\"_blank\" rel=\"noopener\"><code>no-new-func</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sum = <span class=\"keyword\">new</span> <span class=\"built_in\">Function</span>(<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'return a + b'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Object</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-object\" target=\"_blank\" rel=\"noopener\"><code>no-new-object</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> config = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>()   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>new require</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-require\" target=\"_blank\" rel=\"noopener\"><code>no-new-require</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myModule = <span class=\"keyword\">new</span> <span class=\"built_in\">require</span>(<span class=\"string\">'my-module'</span>)    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>Symbol</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-symbol\" target=\"_blank\" rel=\"noopener\"><code>no-new-symbol</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(<span class=\"string\">'foo'</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-new-wrappers\" target=\"_blank\" rel=\"noopener\"><code>no-new-wrappers</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">'hello'</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-obj-calls\" target=\"_blank\" rel=\"noopener\"><code>no-obj-calls</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> math = <span class=\"built_in\">Math</span>()   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-octal\" target=\"_blank\" rel=\"noopener\"><code>no-octal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> num = <span class=\"number\">042</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num = <span class=\"string\">'042'</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-octal-escape\" target=\"_blank\" rel=\"noopener\"><code>no-octal-escape</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> copyright = <span class=\"string\">'Copyright \\251'</span>  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>__dirname</code>  <code>__filename</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-path-concat\" target=\"_blank\" rel=\"noopener\"><code>no-path-concat</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> pathToFile = __dirname + <span class=\"string\">'/app.js'</span>            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> pathToFile = path.join(__dirname, <span class=\"string\">'app.js'</span>)   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p> <code>getPrototypeOf</code>  <strong><code>__proto__</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-proto\" target=\"_blank\" rel=\"noopener\"><code>no-proto</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = obj.__proto__               <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"built_in\">Object</span>.getPrototypeOf(obj)  <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-redeclare\" target=\"_blank\" rel=\"noopener\"><code>no-redeclare</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'John'</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'Jane'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'John'</span></span><br><span class=\"line\">name = <span class=\"string\">'Jane'</span>         <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-regex-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-regex-spaces</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test   value/</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test &#123;3&#125;value/</span>  <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> regexp = <span class=\"regexp\">/test value/</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>return </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-return-assign\" target=\"_blank\" rel=\"noopener\"><code>no-return-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result = a + b     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (result = a + b)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-self-assign\" target=\"_blank\" rel=\"noopener\"><code>no-self-assign</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = name   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>esint: <a href=\"http://eslint.org/docs/rules/no-self-compare\" target=\"_blank\" rel=\"noopener\"><code>no-self-compare</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (score === score) &#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-sequences\" target=\"_blank\" rel=\"noopener\"><code>no-sequences</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (doSomething(), !!test) &#123;&#125;   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-shadow-restricted-names\" target=\"_blank\" rel=\"noopener\"><code>no-shadow-restricted-names</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"literal\">undefined</span> = <span class=\"string\">'value'</span>     <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Sparse arrays</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-sparse-arrays\" target=\"_blank\" rel=\"noopener\"><code>no-sparse-arrays</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> fruits = [<span class=\"string\">'apple'</span>,, <span class=\"string\">'orange'</span>]       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-tabs\" target=\"_blank\" rel=\"noopener\"><code>no-tabs</code></a></p>\n</li>\n<li><p><strong> ES6 </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-template-curly-in-string\" target=\"_blank\" rel=\"noopener\"><code>no-template-curly-in-string</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">'Hello $&#123;name&#125;'</span>   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello <span class=\"subst\">$&#123;name&#125;</span>`</span>   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>this</code>  <code>super()</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-this-before-super\" target=\"_blank\" rel=\"noopener\"><code>no-this-before-super</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dog</span> <span class=\"keyword\">extends</span> <span class=\"title\">Animal</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.legs = <span class=\"number\">4</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">    <span class=\"keyword\">super</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>throw</code>  <code>Error</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-throw-literal\" target=\"_blank\" rel=\"noopener\"><code>no-throw-literal</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"string\">'error'</span>               <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'error'</span>)    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-trailing-spaces\" target=\"_blank\" rel=\"noopener\"><code>no-trailing-spaces</code></a></p>\n</li>\n<li><p><strong> <code>undefined</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-undef-init\" target=\"_blank\" rel=\"noopener\"><code>no-undef-init</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"literal\">undefined</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> name</span><br><span class=\"line\">name = <span class=\"string\">'value'</span>          <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unmodified-loop-condition\" target=\"_blank\" rel=\"noopener\"><code>no-unmodified-loop-condition</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; j++) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unneeded-ternary\" target=\"_blank\" rel=\"noopener\"><code>no-unneeded-ternary</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> score = val ? val : <span class=\"number\">0</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> score = val || <span class=\"number\">0</span>          <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>return</code><code>throw</code><code>continue</code>  <code>break</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unreachable\" target=\"_blank\" rel=\"noopener\"><code>no-unreachable</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">doSomething</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'never called'</span>)     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>finally</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unsafe-finally\" target=\"_blank\" rel=\"noopener\"><code>no-unsafe-finally</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">42</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unsafe-negation\" target=\"_blank\" rel=\"noopener\"><code>no-unsafe-negation</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (!key <span class=\"keyword\">in</span> obj) &#123;&#125;       <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>.call()</code>  <code>.apply()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-call\" target=\"_blank\" rel=\"noopener\"><code>no-useless-call</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sum.call(<span class=\"literal\">null</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)   <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-computed-key\" target=\"_blank\" rel=\"noopener\"><code>no-useless-computed-key</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; [<span class=\"string\">'name'</span>]: <span class=\"string\">'John Doe'</span> &#125;   <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'John Doe'</span> &#125;       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-constructor\" target=\"_blank\" rel=\"noopener\"><code>no-useless-constructor</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span> () &#123;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-escape\" target=\"_blank\" rel=\"noopener\"><code>no-useless-escape</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> message = <span class=\"string\">'Hell\\o'</span>  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>import, export </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-useless-rename\" target=\"_blank\" rel=\"noopener\"><code>no-useless-rename</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; config <span class=\"keyword\">as</span> config &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./config'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; config &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./config'</span>               <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-whitespace-before-property\" target=\"_blank\" rel=\"noopener\"><code>no-whitespace-before-property</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user .name      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">user.name       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>with</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-with\" target=\"_blank\" rel=\"noopener\"><code>no-with</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">with</span> (val) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/object-property-newline\" target=\"_blank\" rel=\"noopener\"><code>object-property-newline</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">  username: <span class=\"string\">'jdoe86'</span>            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; <span class=\"attr\">name</span>: <span class=\"string\">'Jane Doe'</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span>, <span class=\"attr\">username</span>: <span class=\"string\">'jdoe86'</span> &#125;    <span class=\"comment\">//  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Jane Doe'</span>,</span><br><span class=\"line\">  age: <span class=\"number\">30</span>,</span><br><span class=\"line\">  username: <span class=\"string\">'jdoe86'</span></span><br><span class=\"line\">&#125;                                                                 <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/padded-blocks\" target=\"_blank\" rel=\"noopener\"><code>padded-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (user) &#123;</span><br><span class=\"line\">                            <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> name = getName()</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (user) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> name = getName()    <span class=\"comment\">//  ok</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/rest-spread-spacing\" target=\"_blank\" rel=\"noopener\"><code>rest-spread-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fn(... args)    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">fn(...args)     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/semi-spacing\" target=\"_blank\" rel=\"noopener\"><code>semi-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span> ;i &lt; items.length ;i++) &#123;...&#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-before-blocks\" target=\"_blank\" rel=\"noopener\"><code>space-before-blocks</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (admin)&#123;...&#125;     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (admin) &#123;...&#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-in-parens\" target=\"_blank\" rel=\"noopener\"><code>space-in-parens</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getName( name )     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\">getName(name)       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/space-unary-ops\" target=\"_blank\" rel=\"noopener\"><code>space-unary-ops</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typeof</span>!admin        <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> !admin        <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/spaced-comment\" target=\"_blank\" rel=\"noopener\"><code>spaced-comment</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//comment           //  avoid</span></span><br><span class=\"line\"><span class=\"comment\">// comment          //  ok</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*comment*/</span>         <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"comment\">/* comment */</span>       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/template-curly-spacing\" target=\"_blank\" rel=\"noopener\"><code>template-curly-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello, <span class=\"subst\">$&#123; name &#125;</span>`</span>    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">`Hello, <span class=\"subst\">$&#123;name&#125;</span>`</span>      <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>NaN</code>  <code>isNaN()</code></strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/use-isnan\" target=\"_blank\" rel=\"noopener\"><code>use-isnan</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (price === <span class=\"literal\">NaN</span>) &#123; &#125;      <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">isNaN</span>(price)) &#123; &#125;       <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> <code>typeof</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/valid-typeof\" target=\"_blank\" rel=\"noopener\"><code>valid-typeof</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typeof</span> name === <span class=\"string\">'undefimed'</span>     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> name === <span class=\"string\">'undefined'</span>     <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong> (IIFEs) </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/wrap-iife\" target=\"_blank\" rel=\"noopener\"><code>wrap-iife</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;()     <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getName = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;())   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> getName = (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; &#125;)()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong><code>yield *</code>  <code>*</code> </strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/yield-star-spacing\" target=\"_blank\" rel=\"noopener\"><code>yield-star-spacing</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">yield</span>* increment()    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">yield</span> * increment()   <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>avoid Yoda conditions</strong></p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/yoda\" target=\"_blank\" rel=\"noopener\"><code>yoda</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"number\">42</span> === age) &#123; &#125;    <span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (age === <span class=\"number\">42</span>) &#123; &#125;    <span class=\"comment\">//  ok</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p> (<a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">1</a><a href=\"http://inimino.org/%7Einimino/blog/javascript_semicolons\" target=\"_blank\" rel=\"noopener\">2</a><a href=\"https://www.youtube.com/watch?v=gsfbh17Ax9I\" target=\"_blank\" rel=\"noopener\">3</a>)</p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/semi\" target=\"_blank\" rel=\"noopener\"><code>semi</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>)   <span class=\"comment\">//  ok</span></span><br><span class=\"line\"><span class=\"built_in\">window</span>.alert(<span class=\"string\">'hi'</span>);  <span class=\"comment\">//  avoid</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p> <code>(</code>, <code>[</code>, or <code>`</code> </p>\n<p>eslint: <a href=\"http://eslint.org/docs/rules/no-unexpected-multiline\" target=\"_blank\" rel=\"noopener\"><code>no-unexpected-multiline</code></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'ok'</span>)</span><br><span class=\"line\">&#125;())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">window</span>.alert(<span class=\"string\">'ok'</span>)</span><br><span class=\"line\">&#125;())</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ok</span></span><br><span class=\"line\">;<span class=\"string\">`hello`</span>.indexOf(<span class=\"string\">'o'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  avoid</span></span><br><span class=\"line\"><span class=\"string\">`hello`</span>.indexOf(<span class=\"string\">'o'</span>)</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].forEach(bar)</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> nums = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\">nums.forEach(bar)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">An Open Letter to JavaScript Leaders Regarding Semicolons</a></li>\n<li><a href=\"http://inimino.org/~inimino/blog/javascript_semicolons\" target=\"_blank\" rel=\"noopener\">JavaScript Semicolon Insertion  Everything you need to know</a></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><a href=\"https://www.youtube.com/watch?v=gsfbh17Ax9I\" target=\"_blank\" rel=\"noopener\">JavaScript - YouTube</a></li>\n</ul>\n<p>AST-based JavaScript </p>\n<h5 id=\"-An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons-\"><a href=\"#-An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons-\" class=\"headerlink\" title=\" An Open Letter to JavaScript Leaders Regarding Semicolons \"></a> <em><a href=\"http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding\" target=\"_blank\" rel=\"noopener\">An Open Letter to JavaScript Leaders Regarding Semicolons</a></em> </h5><blockquote>\n<p>[] Closure compiler, yuicompressor, packer  jsmin </p>\n<p>Javascript   JS </p>\n<p> <code>\\n</code> </p>\n<pre><code>1.     `.`  `,` \n2.  `--`  `++` \n3.  `for()``while()``do``if()`  `else`  `{`\n4.  `[``(``+``*``/``-``,``.` \n</code></pre><p> JSLint  JSON <code>var</code>  <code>,</code>  <code>\\n</code></p>\n<p>  <code>i\\n++\\nj</code>  <code>i; ++j</code> <code>i++; j</code></p>\n<p> <code>if (x)\\ny()</code>  <code>if (x) { y() }</code></p>\n<p><code>;</code>  JavaScript  <code>if(x);</code>  <code>if(x){}</code>  x   </p>\n<p>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; foo();</span><br><span class=\"line\">&gt; [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].forEach(bar);</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; foo()</span><br><span class=\"line\">&gt; ;[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].forEach(bar)</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<blockquote>\n<p> <code>(</code>  <code>[</code> </p>\n</blockquote>"},{"title":"","date":"2017-03-15T02:17:50.000Z","updated":"2017-03-15T02:17:50.000Z","_content":"### \n\nFormSession\n\nhashsession\n\n#### Hash\nhashNodejsbcryptjshashcompare\n\n#### Session\nSessionCookieCookiesessionidcookiecookie\nSessionSession\n\n### \n\n www.site.compassport.site.comwww.site.com/login  passport.site.com/loginpassportpassporttokenwww.site.com\ntokensite\n\n### \n\nABCEFG\nAB\n`siteA.site.com``siteB.site.com`cookie`.site.com`siteAsiteBcookiecookiehttp only\nAB`www.siteA.com``www.siteB.com`cookiejsonpsiteAjsonpsiteBjsonp\n\nSSOSingle Sign On\n\n>- \n>- \n\n#### Cookie\n\ncookie\ncookiecookiecookie\n\nCookie\n\n>- Cookie\n>- \n\nCookieCookieCookie\n\n\n#### JSONP\nJSONP\nSessionCookieJSONPCookie\n![img](http://upload-images.jianshu.io/upload_images/79702-7ddba46df098374b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n####  \n\n\nGETTokenToken\n\n\n### OAuth2.0\n\nQQGithub,\nOAuth2.0\ncodecodecode(code)`access_token``access_token`API`access_token`token\n`access_token``refresh_token``access_token`refresh_token`access_token``refresh_token`\nNodejspassport[passport](https://www.npmjs.com/package/passport)[wechat-oauth](https://www.npmjs.com/package/wechat-oauth)\n\n\n### \n\nSessiontokentokentoken\n\n`hash sha1`,`JWT(Json Web Token)`\nsha1Nodejs`crypto`,php  `sha1 `JWT[json web token](https://jwt.io/)\n\n","source":"_posts/2017/login-more.md","raw":"---\ntitle: \ndate: 2017-03-15 10:17:50\nupdated: 2017-03-15 10:17:50\ntags:\ncategories:\n---\n### \n\nFormSession\n\nhashsession\n\n#### Hash\nhashNodejsbcryptjshashcompare\n\n#### Session\nSessionCookieCookiesessionidcookiecookie\nSessionSession\n\n### \n\n www.site.compassport.site.comwww.site.com/login  passport.site.com/loginpassportpassporttokenwww.site.com\ntokensite\n\n### \n\nABCEFG\nAB\n`siteA.site.com``siteB.site.com`cookie`.site.com`siteAsiteBcookiecookiehttp only\nAB`www.siteA.com``www.siteB.com`cookiejsonpsiteAjsonpsiteBjsonp\n\nSSOSingle Sign On\n\n>- \n>- \n\n#### Cookie\n\ncookie\ncookiecookiecookie\n\nCookie\n\n>- Cookie\n>- \n\nCookieCookieCookie\n\n\n#### JSONP\nJSONP\nSessionCookieJSONPCookie\n![img](http://upload-images.jianshu.io/upload_images/79702-7ddba46df098374b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n####  \n\n\nGETTokenToken\n\n\n### OAuth2.0\n\nQQGithub,\nOAuth2.0\ncodecodecode(code)`access_token``access_token`API`access_token`token\n`access_token``refresh_token``access_token`refresh_token`access_token``refresh_token`\nNodejspassport[passport](https://www.npmjs.com/package/passport)[wechat-oauth](https://www.npmjs.com/package/wechat-oauth)\n\n\n### \n\nSessiontokentokentoken\n\n`hash sha1`,`JWT(Json Web Token)`\nsha1Nodejs`crypto`,php  `sha1 `JWT[json web token](https://jwt.io/)\n\n","slug":"login-more","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g5003bhpwfmmhdjjxc","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>FormSession<br><br>hashsession</p>\n<h4 id=\"Hash\"><a href=\"#Hash\" class=\"headerlink\" title=\"Hash\"></a>Hash</h4><p>hashNodejsbcryptjshashcompare</p>\n<h4 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h4><p>SessionCookieCookiesessionidcookiecookie<br>SessionSession</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"http://www.site.compassport.site.comwww.site.com/login\" target=\"_blank\" rel=\"noopener\">www.site.compassport.site.comwww.site.com/login</a>  passport.site.com/loginpassportpassporttoken<a href=\"http://www.site.com\" target=\"_blank\" rel=\"noopener\">www.site.com</a><br>tokensite</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ABCEFG<br>AB<br><code>siteA.site.com</code><code>siteB.site.com</code>cookie<code>.site.com</code>siteAsiteBcookiecookiehttp only<br>AB<code>www.siteA.com</code><code>www.siteB.com</code>cookiejsonpsiteAjsonpsiteBjsonp</p>\n<p>SSOSingle Sign On</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h4 id=\"Cookie\"><a href=\"#Cookie\" class=\"headerlink\" title=\"Cookie\"></a>Cookie</h4><p>cookie<br>cookiecookiecookie</p>\n<p>Cookie</p>\n<blockquote>\n<ul>\n<li>Cookie</li>\n<li></li>\n</ul>\n</blockquote>\n<p>CookieCookieCookie<br></p>\n<h4 id=\"JSONP\"><a href=\"#JSONP\" class=\"headerlink\" title=\"JSONP\"></a>JSONP</h4><p>JSONP<br>SessionCookieJSONPCookie<br><img src=\"http://upload-images.jianshu.io/upload_images/79702-7ddba46df098374b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"img\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>GETTokenToken</p>\n<h3 id=\"OAuth2-0\"><a href=\"#OAuth2-0\" class=\"headerlink\" title=\"OAuth2.0\"></a>OAuth2.0</h3><p>QQGithub,<br>OAuth2.0<br>codecodecode(code)<code>access_token</code><code>access_token</code>API<code>access_token</code>token<br><code>access_token</code><code>refresh_token</code><code>access_token</code>refresh_token<code>access_token</code><code>refresh_token</code><br>Nodejspassport<a href=\"https://www.npmjs.com/package/passport\" target=\"_blank\" rel=\"noopener\">passport</a><a href=\"https://www.npmjs.com/package/wechat-oauth\" target=\"_blank\" rel=\"noopener\">wechat-oauth</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Sessiontokentokentoken</p>\n<p><code>hash sha1</code>,<code>JWT(Json Web Token)</code><br>sha1Nodejs<code>crypto</code>,php  <code>sha1</code>JWT<a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">json web token</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>FormSession<br><br>hashsession</p>\n<h4 id=\"Hash\"><a href=\"#Hash\" class=\"headerlink\" title=\"Hash\"></a>Hash</h4><p>hashNodejsbcryptjshashcompare</p>\n<h4 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h4><p>SessionCookieCookiesessionidcookiecookie<br>SessionSession</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"http://www.site.compassport.site.comwww.site.com/login\" target=\"_blank\" rel=\"noopener\">www.site.compassport.site.comwww.site.com/login</a>  passport.site.com/loginpassportpassporttoken<a href=\"http://www.site.com\" target=\"_blank\" rel=\"noopener\">www.site.com</a><br>tokensite</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ABCEFG<br>AB<br><code>siteA.site.com</code><code>siteB.site.com</code>cookie<code>.site.com</code>siteAsiteBcookiecookiehttp only<br>AB<code>www.siteA.com</code><code>www.siteB.com</code>cookiejsonpsiteAjsonpsiteBjsonp</p>\n<p>SSOSingle Sign On</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h4 id=\"Cookie\"><a href=\"#Cookie\" class=\"headerlink\" title=\"Cookie\"></a>Cookie</h4><p>cookie<br>cookiecookiecookie</p>\n<p>Cookie</p>\n<blockquote>\n<ul>\n<li>Cookie</li>\n<li></li>\n</ul>\n</blockquote>\n<p>CookieCookieCookie<br></p>\n<h4 id=\"JSONP\"><a href=\"#JSONP\" class=\"headerlink\" title=\"JSONP\"></a>JSONP</h4><p>JSONP<br>SessionCookieJSONPCookie<br><img src=\"http://upload-images.jianshu.io/upload_images/79702-7ddba46df098374b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"img\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>GETTokenToken</p>\n<h3 id=\"OAuth2-0\"><a href=\"#OAuth2-0\" class=\"headerlink\" title=\"OAuth2.0\"></a>OAuth2.0</h3><p>QQGithub,<br>OAuth2.0<br>codecodecode(code)<code>access_token</code><code>access_token</code>API<code>access_token</code>token<br><code>access_token</code><code>refresh_token</code><code>access_token</code>refresh_token<code>access_token</code><code>refresh_token</code><br>Nodejspassport<a href=\"https://www.npmjs.com/package/passport\" target=\"_blank\" rel=\"noopener\">passport</a><a href=\"https://www.npmjs.com/package/wechat-oauth\" target=\"_blank\" rel=\"noopener\">wechat-oauth</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Sessiontokentokentoken</p>\n<p><code>hash sha1</code>,<code>JWT(Json Web Token)</code><br>sha1Nodejs<code>crypto</code>,php  <code>sha1</code>JWT<a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">json web token</a></p>\n"},{"title":"Mysql MRG_MyISAM","date":"2017-01-25T04:08:15.000Z","updated":"2017-01-25T04:08:15.000Z","_content":"\n100wMYISAMINNODB\n\nid0-91010md5\n\n\n\n \n \n\n```sql\nCREATE TABLE `test`.`article_0` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_1` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_2` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_3` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_4` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_5` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_6` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_7` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_8` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_9` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci   \n```\n \n\n 10idid\n\n```sql\nCREATE TABLE `test`.`article` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE=MRG_MyISAM DEFAULT CHARSET=utf8 INSERT_METHOD=0 UNION=(`article_0`,`article_1`,`article_2`,`article_3`,`article_4`,`article_5`,`article_6`,`article_7`,`article_8`,`article_9`); \n```\n    INSERT_METHOD=0INSERT_METHOD=NO\n\n`INSERT_METHOD=0`insertarticleselect\n\ninsertidid\n```\nCREATE TABLE `test`.`create_id` (  \n`id` BIGINT( 20 ) NOT NULL AUTO_INCREMENT PRIMARY KEY  \n) ENGINE = MYISAM   \n   idphp\n\nfunction get_AI_ID() {  \n    $sql  = \"insert into create_id (id) values('')\";  \n    $this->db->query($sql);  \n    return $this->db->insertID();  \n}   \n```\n  \n\n```sql\nfunction new_Article() {  \n    $id  = $this->get_AI_ID();  \n    $table_name = $this->get_Table_Name($id);  \n    $sql = \"insert into {$table_name} (id,subject,content) values('{$id}','','')\";  \n    $this->db->query($sql);  \n}  \n\n\n/** \n * id \n */  \nfunction get_Table_Name($id) {  \n    return 'article_'.intval($id)%10;  \n}   \n```\nidid\n\nupdateidupdate","source":"_posts/2017/mrg_myisam.md","raw":"---\ntitle: Mysql MRG_MyISAM\ndate: 2017-01-25 12:08:15\nupdated: 2017-01-25 12:08:15\ntags:\ncategories:\n---\n\n100wMYISAMINNODB\n\nid0-91010md5\n\n\n\n \n \n\n```sql\nCREATE TABLE `test`.`article_0` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_1` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_2` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_3` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_4` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_5` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_6` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_7` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_8` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci  \n  \nCREATE TABLE `test`.`article_9` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE = MYISAM CHARACTER SET utf8 COLLATE utf8_general_ci   \n```\n \n\n 10idid\n\n```sql\nCREATE TABLE `test`.`article` (  \n`id` BIGINT( 20 ) NOT NULL ,  \n`subject` VARCHAR( 200 ) NOT NULL ,  \n`content` TEXT NOT NULL ,  \nPRIMARY KEY ( `id` )  \n) ENGINE=MRG_MyISAM DEFAULT CHARSET=utf8 INSERT_METHOD=0 UNION=(`article_0`,`article_1`,`article_2`,`article_3`,`article_4`,`article_5`,`article_6`,`article_7`,`article_8`,`article_9`); \n```\n    INSERT_METHOD=0INSERT_METHOD=NO\n\n`INSERT_METHOD=0`insertarticleselect\n\ninsertidid\n```\nCREATE TABLE `test`.`create_id` (  \n`id` BIGINT( 20 ) NOT NULL AUTO_INCREMENT PRIMARY KEY  \n) ENGINE = MYISAM   \n   idphp\n\nfunction get_AI_ID() {  \n    $sql  = \"insert into create_id (id) values('')\";  \n    $this->db->query($sql);  \n    return $this->db->insertID();  \n}   \n```\n  \n\n```sql\nfunction new_Article() {  \n    $id  = $this->get_AI_ID();  \n    $table_name = $this->get_Table_Name($id);  \n    $sql = \"insert into {$table_name} (id,subject,content) values('{$id}','','')\";  \n    $this->db->query($sql);  \n}  \n\n\n/** \n * id \n */  \nfunction get_Table_Name($id) {  \n    return 'article_'.intval($id)%10;  \n}   \n```\nidid\n\nupdateidupdate","slug":"mrg_myisam","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g7003dhpwfrv28qn8d","content":"<p>100wMYISAMINNODB</p>\n<p>id0-91010md5</p>\n<p></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_0`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_1`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_2`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_3`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_4`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_5`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_6`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_7`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_8`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_9`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci</span><br></pre></td></tr></table></figure>\n<p> 10idid</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=MRG_MyISAM <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8 INSERT_METHOD=<span class=\"number\">0</span> <span class=\"keyword\">UNION</span>=(<span class=\"string\">`article_0`</span>,<span class=\"string\">`article_1`</span>,<span class=\"string\">`article_2`</span>,<span class=\"string\">`article_3`</span>,<span class=\"string\">`article_4`</span>,<span class=\"string\">`article_5`</span>,<span class=\"string\">`article_6`</span>,<span class=\"string\">`article_7`</span>,<span class=\"string\">`article_8`</span>,<span class=\"string\">`article_9`</span>);</span><br></pre></td></tr></table></figure>\n<pre><code>INSERT_METHOD=0INSERT_METHOD=NO\n</code></pre><p><code>INSERT_METHOD=0</code>insertarticleselect</p>\n<p>insertidid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE `test`.`create_id` (  </span><br><span class=\"line\">`id` BIGINT( 20 ) NOT NULL AUTO_INCREMENT PRIMARY KEY  </span><br><span class=\"line\">) ENGINE = MYISAM   </span><br><span class=\"line\">   idphp</span><br><span class=\"line\"></span><br><span class=\"line\">function get_AI_ID() &#123;  </span><br><span class=\"line\">    $sql  = &quot;insert into create_id (id) values(&apos;&apos;)&quot;;  </span><br><span class=\"line\">    $this-&gt;db-&gt;query($sql);  </span><br><span class=\"line\">    return $this-&gt;db-&gt;insertID();  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>  </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function new_Article() &#123;  </span><br><span class=\"line\">    $id  = $this-&gt;get_AI_ID();  </span><br><span class=\"line\">    $table_name = $this-&gt;get_Table_Name($id);  </span><br><span class=\"line\">    $sql = \"<span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> &#123;$table_name&#125; (<span class=\"keyword\">id</span>,subject,<span class=\"keyword\">content</span>) <span class=\"keyword\">values</span>(<span class=\"string\">'&#123;$id&#125;'</span>,<span class=\"string\">''</span>,<span class=\"string\">''</span>)<span class=\"string\">\";  </span></span><br><span class=\"line\"><span class=\"string\">    $this-&gt;db-&gt;query($sql);  </span></span><br><span class=\"line\"><span class=\"string\">&#125;  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">/** </span></span><br><span class=\"line\"><span class=\"string\"> * id </span></span><br><span class=\"line\"><span class=\"string\"> */  </span></span><br><span class=\"line\"><span class=\"string\">function get_Table_Name($id) &#123;  </span></span><br><span class=\"line\"><span class=\"string\">    return 'article_'.intval($id)%10;  </span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>idid</p>\n<p>updateidupdate</p>\n","site":{"data":{}},"excerpt":"","more":"<p>100wMYISAMINNODB</p>\n<p>id0-91010md5</p>\n<p></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_0`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_1`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_2`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_3`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_4`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_5`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_6`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_7`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_8`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article_9`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span> = MYISAM <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci</span><br></pre></td></tr></table></figure>\n<p> 10idid</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`test`</span>.<span class=\"string\">`article`</span> (  </span><br><span class=\"line\"><span class=\"string\">`id`</span> <span class=\"built_in\">BIGINT</span>( <span class=\"number\">20</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`subject`</span> <span class=\"built_in\">VARCHAR</span>( <span class=\"number\">200</span> ) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\"><span class=\"string\">`content`</span> <span class=\"built_in\">TEXT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> ,  </span><br><span class=\"line\">PRIMARY <span class=\"keyword\">KEY</span> ( <span class=\"string\">`id`</span> )  </span><br><span class=\"line\">) <span class=\"keyword\">ENGINE</span>=MRG_MyISAM <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CHARSET</span>=utf8 INSERT_METHOD=<span class=\"number\">0</span> <span class=\"keyword\">UNION</span>=(<span class=\"string\">`article_0`</span>,<span class=\"string\">`article_1`</span>,<span class=\"string\">`article_2`</span>,<span class=\"string\">`article_3`</span>,<span class=\"string\">`article_4`</span>,<span class=\"string\">`article_5`</span>,<span class=\"string\">`article_6`</span>,<span class=\"string\">`article_7`</span>,<span class=\"string\">`article_8`</span>,<span class=\"string\">`article_9`</span>);</span><br></pre></td></tr></table></figure>\n<pre><code>INSERT_METHOD=0INSERT_METHOD=NO\n</code></pre><p><code>INSERT_METHOD=0</code>insertarticleselect</p>\n<p>insertidid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE `test`.`create_id` (  </span><br><span class=\"line\">`id` BIGINT( 20 ) NOT NULL AUTO_INCREMENT PRIMARY KEY  </span><br><span class=\"line\">) ENGINE = MYISAM   </span><br><span class=\"line\">   idphp</span><br><span class=\"line\"></span><br><span class=\"line\">function get_AI_ID() &#123;  </span><br><span class=\"line\">    $sql  = &quot;insert into create_id (id) values(&apos;&apos;)&quot;;  </span><br><span class=\"line\">    $this-&gt;db-&gt;query($sql);  </span><br><span class=\"line\">    return $this-&gt;db-&gt;insertID();  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>  </p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function new_Article() &#123;  </span><br><span class=\"line\">    $id  = $this-&gt;get_AI_ID();  </span><br><span class=\"line\">    $table_name = $this-&gt;get_Table_Name($id);  </span><br><span class=\"line\">    $sql = \"<span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> &#123;$table_name&#125; (<span class=\"keyword\">id</span>,subject,<span class=\"keyword\">content</span>) <span class=\"keyword\">values</span>(<span class=\"string\">'&#123;$id&#125;'</span>,<span class=\"string\">''</span>,<span class=\"string\">''</span>)<span class=\"string\">\";  </span></span><br><span class=\"line\"><span class=\"string\">    $this-&gt;db-&gt;query($sql);  </span></span><br><span class=\"line\"><span class=\"string\">&#125;  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">/** </span></span><br><span class=\"line\"><span class=\"string\"> * id </span></span><br><span class=\"line\"><span class=\"string\"> */  </span></span><br><span class=\"line\"><span class=\"string\">function get_Table_Name($id) &#123;  </span></span><br><span class=\"line\"><span class=\"string\">    return 'article_'.intval($id)%10;  </span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>idid</p>\n<p>updateidupdate</p>\n"},{"title":"","date":"2017-09-02T11:30:05.000Z","updated":"2017-09-02T11:30:05.000Z","_content":"\n \n\n \n\n****\n<!--more-->\n\n:\n\n1. \n2. \n\n****\n\n\n1) \n2) \n3) .\n\n\n1:\n2\n3\n4r\n   r\n   > -1\n   > -2\n   > -3 LSD\n\n\n1\n2\n3\n4\n  \n  \n\n  \n\n  \n\n   .","source":"_posts/2017/daohuo.md","raw":"---\ntitle: \ndate: 2017-09-02 19:30:05\nupdated: 2017-09-02 19:30:05\ntags:\ncategories:\n---\n\n \n\n \n\n****\n<!--more-->\n\n:\n\n1. \n2. \n\n****\n\n\n1) \n2) \n3) .\n\n\n1:\n2\n3\n4r\n   r\n   > -1\n   > -2\n   > -3 LSD\n\n\n1\n2\n3\n4\n  \n  \n\n  \n\n  \n\n   .","slug":"daohuo","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138g8003ehpwfj12h1v61","content":"<p> </p>\n<p> </p>\n<p><strong></strong><br><a id=\"more\"></a></p>\n<p>:</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p><strong></strong></p>\n<p><br>1) <br>2) <br>3) .</p>\n<p><br>1:<br>2<br>3<br>4r<br>   r</p>\n<blockquote>\n<p>-1<br>-2<br>-3 LSD</p>\n</blockquote>\n<p><br>1<br>2<br>3<br>4</p>\n<p>  </p>\n<p>  </p>\n<p>  </p>\n<p>   .</p>\n","site":{"data":{}},"excerpt":"<p> </p>\n<p> </p>\n<p><strong></strong><br>","more":"</p>\n<p>:</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p><strong></strong></p>\n<p><br>1) <br>2) <br>3) .</p>\n<p><br>1:<br>2<br>3<br>4r<br>   r</p>\n<blockquote>\n<p>-1<br>-2<br>-3 LSD</p>\n</blockquote>\n<p><br>1<br>2<br>3<br>4</p>\n<p>  </p>\n<p>  </p>\n<p>  </p>\n<p>   .</p>"},{"title":"1","date":"2017-07-11T02:10:25.000Z","updated":"2017-07-11T02:10:25.000Z","_content":"\n1\n  - \n  - \n  - \n \n1\n111-ER\n \n <!-- more -->\n11\n  - \n  - uidlogin_namelogin_nameuid\n11\n \n1\n  - \n  - uidmsg_idmsg_iduid\n1\n \n\n  - \n  - \n\n \n\n\n1\n \n\n\n \n\n \n////\n \n\n  - (insert)\n  - (update)\n  - (delete)\n \n\n  - tid(select)\n  - uid(select)\n  - (search)\n \n\n\n\n  - tiezi-center\n  - tiezi-db\n  - tiezi-search\n  - tiezi-index\n  - MQtiezi-centertiezi-searchRPCMQMQ\n \ntiezi-centertiezi-search\n\n\n  - tiduidtiezi-center\n  - tiezi-search\n \n\n\n\n  - tiezi-center\n  - tiezi-center\n  - tiezi-centerMQ\n  - tiezi-searchMQ\n  - tiezi-search\n \ntiezi-search1001\n \n\n\nTiezi(tid, uid, time, title, content, );\n\n  - tidID\n  - uidID\n  - time, title, content \n \n\n\n  - tiezi-centerRPC\n  - tiezi-db\n \n\n  - tid90%\nselect * from t_tiezi where tid=$tid\n  - uid10%\nselect * from t_tiezi where uid=$uid\n \n-tid\n\n\n90%tid\n\n\n  - 100%\n  - 90%\n \n\n  - 10%uid\n\nuid\n \n-uid\n\nuid\n \nuidtid\ntidtiduid\n \n\nt_mapping(tid, uid);\n  - \n  - tid\n  - kvcache\n  - tiduidcache\n \nuidtiduiduid\n\nuid\n \ntid\n\n  - tiduid\n  - uid\n \n\n  - \n  - 10%uid\n  - cachetiduid\n \n\n  - 90%tid100%5ms\n  - \n \n-\nuid1\n \n\nuid16uid%16uid%16uid4bit4bit\n \n\n11idid1\n\nuid=6666661010011010\n  - uid%16\n  - uid4bit1010\n  - tidID60bit\n  - tid4bit\n  - 64bittid\n60bitIDID\n\ntidtid4bit\n  - uid%16\n  - tid%16\n \nuidtid\nuid\n \n164bit325bit\n52568bit\n \n\n1\n  - uidtid\n  - \n \n\n  - tidtiduid\n  - uiduidtiduidtiduiduid\n  - uidtiduiduidtid\n\n1","source":"_posts/2017/one2more-db-separation.md","raw":"---\ntitle: 1\ndate: 2017-07-11 10:10:25\nupdated: 2017-07-11 10:10:25\ntags:\ncategories:\n---\n\n1\n  - \n  - \n  - \n \n1\n111-ER\n \n <!-- more -->\n11\n  - \n  - uidlogin_namelogin_nameuid\n11\n \n1\n  - \n  - uidmsg_idmsg_iduid\n1\n \n\n  - \n  - \n\n \n\n\n1\n \n\n\n \n\n \n////\n \n\n  - (insert)\n  - (update)\n  - (delete)\n \n\n  - tid(select)\n  - uid(select)\n  - (search)\n \n\n\n\n  - tiezi-center\n  - tiezi-db\n  - tiezi-search\n  - tiezi-index\n  - MQtiezi-centertiezi-searchRPCMQMQ\n \ntiezi-centertiezi-search\n\n\n  - tiduidtiezi-center\n  - tiezi-search\n \n\n\n\n  - tiezi-center\n  - tiezi-center\n  - tiezi-centerMQ\n  - tiezi-searchMQ\n  - tiezi-search\n \ntiezi-search1001\n \n\n\nTiezi(tid, uid, time, title, content, );\n\n  - tidID\n  - uidID\n  - time, title, content \n \n\n\n  - tiezi-centerRPC\n  - tiezi-db\n \n\n  - tid90%\nselect * from t_tiezi where tid=$tid\n  - uid10%\nselect * from t_tiezi where uid=$uid\n \n-tid\n\n\n90%tid\n\n\n  - 100%\n  - 90%\n \n\n  - 10%uid\n\nuid\n \n-uid\n\nuid\n \nuidtid\ntidtiduid\n \n\nt_mapping(tid, uid);\n  - \n  - tid\n  - kvcache\n  - tiduidcache\n \nuidtiduiduid\n\nuid\n \ntid\n\n  - tiduid\n  - uid\n \n\n  - \n  - 10%uid\n  - cachetiduid\n \n\n  - 90%tid100%5ms\n  - \n \n-\nuid1\n \n\nuid16uid%16uid%16uid4bit4bit\n \n\n11idid1\n\nuid=6666661010011010\n  - uid%16\n  - uid4bit1010\n  - tidID60bit\n  - tid4bit\n  - 64bittid\n60bitIDID\n\ntidtid4bit\n  - uid%16\n  - tid%16\n \nuidtid\nuid\n \n164bit325bit\n52568bit\n \n\n1\n  - uidtid\n  - \n \n\n  - tidtiduid\n  - uiduidtiduidtiduiduid\n  - uidtiduiduidtid\n\n1","slug":"one2more-db-separation","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gd003ghpwfvuz9vctc","content":"<p>1</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>1<br>111-ER</p>\n <a id=\"more\"></a>\n<p>11</p>\n<ul>\n<li></li>\n<li>uidlogin_namelogin_nameuid<br>11</li>\n</ul>\n<p>1</p>\n<ul>\n<li></li>\n<li>uidmsg_idmsg_iduid<br>1</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li><br></li>\n</ul>\n<p></p>\n<p>1</p>\n<p></p>\n<p></p>\n<p>////</p>\n<p></p>\n<ul>\n<li>(insert)</li>\n<li>(update)</li>\n<li>(delete)</li>\n</ul>\n<p></p>\n<ul>\n<li>tid(select)</li>\n<li>uid(select)</li>\n<li>(search)</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li>tiezi-center</li>\n<li>tiezi-db</li>\n<li>tiezi-search</li>\n<li>tiezi-index</li>\n<li>MQtiezi-centertiezi-searchRPCMQMQ</li>\n</ul>\n<p>tiezi-centertiezi-search</p>\n<p></p>\n<ul>\n<li>tiduidtiezi-center</li>\n<li>tiezi-search</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li>tiezi-center</li>\n<li>tiezi-center</li>\n<li>tiezi-centerMQ</li>\n<li>tiezi-searchMQ</li>\n<li>tiezi-search</li>\n</ul>\n<p>tiezi-search1001</p>\n<p><br><br>Tiezi(tid, uid, time, title, content, );<br></p>\n<ul>\n<li>tidID</li>\n<li>uidID</li>\n<li>time, title, content </li>\n</ul>\n<p></p>\n<ul>\n<li>tiezi-centerRPC</li>\n<li>tiezi-db</li>\n</ul>\n<p></p>\n<ul>\n<li>tid90%<br>select * from t_tiezi where tid=$tid</li>\n<li>uid10%<br>select * from t_tiezi where uid=$uid</li>\n</ul>\n<p>-tid<br></p>\n<p>90%tid</p>\n<p></p>\n<ul>\n<li>100%</li>\n<li>90%</li>\n</ul>\n<p></p>\n<ul>\n<li>10%uid</li>\n</ul>\n<p>uid</p>\n<p>-uid<br><br>uid</p>\n<p>uidtid<br>tidtiduid</p>\n<p><br>t_mapping(tid, uid);</p>\n<ul>\n<li></li>\n<li>tid</li>\n<li>kvcache</li>\n<li>tiduidcache</li>\n</ul>\n<p>uidtiduiduid</p>\n<p>uid</p>\n<p>tid</p>\n<ul>\n<li>tiduid</li>\n<li>uid</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>10%uid</li>\n<li>cachetiduid</li>\n</ul>\n<p></p>\n<ul>\n<li>90%tid100%5ms</li>\n<li></li>\n</ul>\n<p>-<br>uid1</p>\n<p><br>uid16uid%16uid%16uid4bit4bit</p>\n<p><br>11idid1</p>\n<p>uid=6666661010011010</p>\n<ul>\n<li>uid%16</li>\n<li>uid4bit1010</li>\n<li>tidID60bit</li>\n<li>tid4bit</li>\n<li>64bittid<br>60bitIDID</li>\n</ul>\n<p>tidtid4bit</p>\n<ul>\n<li>uid%16</li>\n<li>tid%16</li>\n</ul>\n<p>uidtid<br>uid</p>\n<p>164bit325bit<br>52568bit</p>\n<p><br>1</p>\n<ul>\n<li>uidtid</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>tidtiduid</li>\n<li>uiduidtiduidtiduiduid</li>\n<li>uidtiduiduidtid</li>\n</ul>\n<p>1</p>\n","site":{"data":{}},"excerpt":"<p>1</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>1<br>111-ER</p>","more":"<p>11</p>\n<ul>\n<li></li>\n<li>uidlogin_namelogin_nameuid<br>11</li>\n</ul>\n<p>1</p>\n<ul>\n<li></li>\n<li>uidmsg_idmsg_iduid<br>1</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li><br></li>\n</ul>\n<p></p>\n<p>1</p>\n<p></p>\n<p></p>\n<p>////</p>\n<p></p>\n<ul>\n<li>(insert)</li>\n<li>(update)</li>\n<li>(delete)</li>\n</ul>\n<p></p>\n<ul>\n<li>tid(select)</li>\n<li>uid(select)</li>\n<li>(search)</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li>tiezi-center</li>\n<li>tiezi-db</li>\n<li>tiezi-search</li>\n<li>tiezi-index</li>\n<li>MQtiezi-centertiezi-searchRPCMQMQ</li>\n</ul>\n<p>tiezi-centertiezi-search</p>\n<p></p>\n<ul>\n<li>tiduidtiezi-center</li>\n<li>tiezi-search</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li>tiezi-center</li>\n<li>tiezi-center</li>\n<li>tiezi-centerMQ</li>\n<li>tiezi-searchMQ</li>\n<li>tiezi-search</li>\n</ul>\n<p>tiezi-search1001</p>\n<p><br><br>Tiezi(tid, uid, time, title, content, );<br></p>\n<ul>\n<li>tidID</li>\n<li>uidID</li>\n<li>time, title, content </li>\n</ul>\n<p></p>\n<ul>\n<li>tiezi-centerRPC</li>\n<li>tiezi-db</li>\n</ul>\n<p></p>\n<ul>\n<li>tid90%<br>select * from t_tiezi where tid=$tid</li>\n<li>uid10%<br>select * from t_tiezi where uid=$uid</li>\n</ul>\n<p>-tid<br></p>\n<p>90%tid</p>\n<p></p>\n<ul>\n<li>100%</li>\n<li>90%</li>\n</ul>\n<p></p>\n<ul>\n<li>10%uid</li>\n</ul>\n<p>uid</p>\n<p>-uid<br><br>uid</p>\n<p>uidtid<br>tidtiduid</p>\n<p><br>t_mapping(tid, uid);</p>\n<ul>\n<li></li>\n<li>tid</li>\n<li>kvcache</li>\n<li>tiduidcache</li>\n</ul>\n<p>uidtiduiduid</p>\n<p>uid</p>\n<p>tid</p>\n<ul>\n<li>tiduid</li>\n<li>uid</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>10%uid</li>\n<li>cachetiduid</li>\n</ul>\n<p></p>\n<ul>\n<li>90%tid100%5ms</li>\n<li></li>\n</ul>\n<p>-<br>uid1</p>\n<p><br>uid16uid%16uid%16uid4bit4bit</p>\n<p><br>11idid1</p>\n<p>uid=6666661010011010</p>\n<ul>\n<li>uid%16</li>\n<li>uid4bit1010</li>\n<li>tidID60bit</li>\n<li>tid4bit</li>\n<li>64bittid<br>60bitIDID</li>\n</ul>\n<p>tidtid4bit</p>\n<ul>\n<li>uid%16</li>\n<li>tid%16</li>\n</ul>\n<p>uidtid<br>uid</p>\n<p>164bit325bit<br>52568bit</p>\n<p><br>1</p>\n<ul>\n<li>uidtid</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>tidtiduid</li>\n<li>uiduidtiduidtiduiduid</li>\n<li>uidtiduiduidtid</li>\n</ul>\n<p>1</p>"},{"title":"Yii2GridView","date":"2017-01-25T04:08:15.000Z","updated":"2017-01-25T04:08:15.000Z","_content":"\n\n\ngettype\ntype1name\n<!--more-->\n\n```php\n[\n'attribute' => 'name',\n'value' => $model->name,\n'visible' => intval(Yii::$app->request->get('type')) == 1,\n],\n```\n\n\n\n```php\n[\n'attribute' => 'order_id',\n'value' => function ($model) {\nreturn Html::a($model->order_id, \"/order?id={$model->order_id}\", ['target' => '_blank']);\n},\n'format' => 'raw',\n],\n```\n\nformatimageformat\n```php\n[\n'label' => '',\n'format' => [\n'image', \n[\n'width'=>'84',\n'height'=>'84'\n]\n],\n'value' => function ($model) { \nreturn $model->image; \n}\n],\n\n\n```\n\nhtml\n\n```php\n[\n'attribute' => 'title',\n\t'value' => function ($model) { \n\treturn Html::encode($model->title); \n\t},\n\t'format' => 'raw',\n],\n\n```\n\n\n\n```php\n[\n'class' => 'yii\\grid\\ActionColumn',\n'template' => '{get-xxx} {view} {update}',\n'header' => '',\n'buttons' => [\n'get-xxx' => function ($url, $model, $key) { \nreturn Html::a('xxx', $url, ['title' => 'xxx'] ); \n},\n],\n],\n\n```\n\n\n\n```php\n[\n'attribute' => 'title',\n'value' => 'title',\n'headerOptions' => ['width' => '100'],\n'contentOptions'=>['width'=>20]\n],\n\n\n'rowOptions' => function($model, $key, $index, $grid) {\nreturn ['class' => $index % 2 ==0 ? 'label-red' : 'label-green'];\n},\n\n\n```\n\njs\n\n```php\n[\n'class' => 'yii\\grid\\ActionColumn',\n'header' => '',\n'template' => '{view} {update} {update-status}',\n'buttons' => [\n'update-status' => function ($url, $model, $key) {\nreturn Html::a('', 'javascript:;', ['onclick'=>'update_status(this, '.$model->id.');']); },\n],\n],\n\n```\n\n\n\n1. \n yii\\grid\\DataColumn::format \n \\yii\\i18n\\Formatter \n```\n[\n'label'=>'',\n'format' => ['date', 'php:Y-m-d'],\n'value' => 'updated_at'\n],\n//or\n[\n//'attribute' => 'created_at',\n'label'=>'',\n'value'=>function($model){\nreturn date('Y-m-d H:i:s',$model->created_at); \n},\n'headerOptions' => ['width' => '170'],\n],\n```\n2. \n```\n[\n'label'=>'',\n'format'=>'raw',\n'value'=>function($m){\nreturn Html::img($m->cover,\n['class' => 'img-circle',\n'width' => 30]\n);\n}\n],\n```\n\n3. \n```\n[\n'attribute' => 'title',\n'value' => function ($model, $key, $index, $column) {\nreturn Html::a($model->title, \n['article/view', 'id' => $key]);\n},\n'format' => 'raw',\n],\n```\n4. (/\n```\n[\n'attribute' => 'sex', \n'value'=>function ($model,$key,$index,$column){\nreturn $model->sex==1?'':''; \n}\n//\n'filter' => ['1'=>'','0'=>''],\n//or\n'filter' => Html::activeDropDownList($searchModel,\n'sex',['1'=>'','0'=>''],\n['prompt'=>'']\n)\n],\n[\n'label'=>'', \n'attribute' => 'pro_name', \n'value' => function ($model) {\n$state = [\n'0' => '',\n'1' => '',\n'9' => '',\n];\nreturn $state[$model->pro_name];\n},\n'headerOptions' => ['width' => '120'] \n]\n\n```\n\n","source":"_posts/2017/yii-girdview.md","raw":"---\ntitle: Yii2GridView\ndate: 2017-01-25 12:08:15\nupdated: 2017-01-25 12:08:15\ntags:\ncategories:\n---\n\n\n\ngettype\ntype1name\n<!--more-->\n\n```php\n[\n'attribute' => 'name',\n'value' => $model->name,\n'visible' => intval(Yii::$app->request->get('type')) == 1,\n],\n```\n\n\n\n```php\n[\n'attribute' => 'order_id',\n'value' => function ($model) {\nreturn Html::a($model->order_id, \"/order?id={$model->order_id}\", ['target' => '_blank']);\n},\n'format' => 'raw',\n],\n```\n\nformatimageformat\n```php\n[\n'label' => '',\n'format' => [\n'image', \n[\n'width'=>'84',\n'height'=>'84'\n]\n],\n'value' => function ($model) { \nreturn $model->image; \n}\n],\n\n\n```\n\nhtml\n\n```php\n[\n'attribute' => 'title',\n\t'value' => function ($model) { \n\treturn Html::encode($model->title); \n\t},\n\t'format' => 'raw',\n],\n\n```\n\n\n\n```php\n[\n'class' => 'yii\\grid\\ActionColumn',\n'template' => '{get-xxx} {view} {update}',\n'header' => '',\n'buttons' => [\n'get-xxx' => function ($url, $model, $key) { \nreturn Html::a('xxx', $url, ['title' => 'xxx'] ); \n},\n],\n],\n\n```\n\n\n\n```php\n[\n'attribute' => 'title',\n'value' => 'title',\n'headerOptions' => ['width' => '100'],\n'contentOptions'=>['width'=>20]\n],\n\n\n'rowOptions' => function($model, $key, $index, $grid) {\nreturn ['class' => $index % 2 ==0 ? 'label-red' : 'label-green'];\n},\n\n\n```\n\njs\n\n```php\n[\n'class' => 'yii\\grid\\ActionColumn',\n'header' => '',\n'template' => '{view} {update} {update-status}',\n'buttons' => [\n'update-status' => function ($url, $model, $key) {\nreturn Html::a('', 'javascript:;', ['onclick'=>'update_status(this, '.$model->id.');']); },\n],\n],\n\n```\n\n\n\n1. \n yii\\grid\\DataColumn::format \n \\yii\\i18n\\Formatter \n```\n[\n'label'=>'',\n'format' => ['date', 'php:Y-m-d'],\n'value' => 'updated_at'\n],\n//or\n[\n//'attribute' => 'created_at',\n'label'=>'',\n'value'=>function($model){\nreturn date('Y-m-d H:i:s',$model->created_at); \n},\n'headerOptions' => ['width' => '170'],\n],\n```\n2. \n```\n[\n'label'=>'',\n'format'=>'raw',\n'value'=>function($m){\nreturn Html::img($m->cover,\n['class' => 'img-circle',\n'width' => 30]\n);\n}\n],\n```\n\n3. \n```\n[\n'attribute' => 'title',\n'value' => function ($model, $key, $index, $column) {\nreturn Html::a($model->title, \n['article/view', 'id' => $key]);\n},\n'format' => 'raw',\n],\n```\n4. (/\n```\n[\n'attribute' => 'sex', \n'value'=>function ($model,$key,$index,$column){\nreturn $model->sex==1?'':''; \n}\n//\n'filter' => ['1'=>'','0'=>''],\n//or\n'filter' => Html::activeDropDownList($searchModel,\n'sex',['1'=>'','0'=>''],\n['prompt'=>'']\n)\n],\n[\n'label'=>'', \n'attribute' => 'pro_name', \n'value' => function ($model) {\n$state = [\n'0' => '',\n'1' => '',\n'9' => '',\n];\nreturn $state[$model->pro_name];\n},\n'headerOptions' => ['width' => '120'] \n]\n\n```\n\n","slug":"yii-girdview","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gg003hhpwfax801bsi","content":"<p><br><br>gettype<br>type1name<br><a id=\"more\"></a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'name'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; $model-&gt;name,</span><br><span class=\"line\"><span class=\"string\">'visible'</span> =&gt; intval(Yii::$app-&gt;request-&gt;get(<span class=\"string\">'type'</span>)) == <span class=\"number\">1</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'order_id'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a($model-&gt;order_id, <span class=\"string\">\"/order?id=&#123;$model-&gt;order_id&#125;\"</span>, [<span class=\"string\">'target'</span> =&gt; <span class=\"string\">'_blank'</span>]);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">'format'</span> =&gt; <span class=\"string\">'raw'</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p>formatimageformat<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'label'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'format'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'image'</span>, </span><br><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'width'</span>=&gt;<span class=\"string\">'84'</span>,</span><br><span class=\"line\"><span class=\"string\">'height'</span>=&gt;<span class=\"string\">'84'</span></span><br><span class=\"line\">]</span><br><span class=\"line\">],</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">return</span> $model-&gt;image; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure></p>\n<p>html</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\">\t<span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123; </span><br><span class=\"line\">\t<span class=\"keyword\">return</span> Html::encode($model-&gt;title); </span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"string\">'format'</span> =&gt; <span class=\"string\">'raw'</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'class'</span> =&gt; <span class=\"string\">'yii\\grid\\ActionColumn'</span>,</span><br><span class=\"line\"><span class=\"string\">'template'</span> =&gt; <span class=\"string\">'&#123;get-xxx&#125; &#123;view&#125; &#123;update&#125;'</span>,</span><br><span class=\"line\"><span class=\"string\">'header'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'buttons'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'get-xxx'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($url, $model, $key)</span> </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a(<span class=\"string\">'xxx'</span>, $url, [<span class=\"string\">'title'</span> =&gt; <span class=\"string\">'xxx'</span>] ); </span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\"><span class=\"string\">'headerOptions'</span> =&gt; [<span class=\"string\">'width'</span> =&gt; <span class=\"string\">'100'</span>],</span><br><span class=\"line\"><span class=\"string\">'contentOptions'</span>=&gt;[<span class=\"string\">'width'</span>=&gt;<span class=\"number\">20</span>]</span><br><span class=\"line\">],</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">'rowOptions'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($model, $key, $index, $grid)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> [<span class=\"string\">'class'</span> =&gt; $index % <span class=\"number\">2</span> ==<span class=\"number\">0</span> ? <span class=\"string\">'label-red'</span> : <span class=\"string\">'label-green'</span>];</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>js</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'class'</span> =&gt; <span class=\"string\">'yii\\grid\\ActionColumn'</span>,</span><br><span class=\"line\"><span class=\"string\">'header'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'template'</span> =&gt; <span class=\"string\">'&#123;view&#125; &#123;update&#125; &#123;update-status&#125;'</span>,</span><br><span class=\"line\"><span class=\"string\">'buttons'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'update-status'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($url, $model, $key)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a(<span class=\"string\">''</span>, <span class=\"string\">'javascript:;'</span>, [<span class=\"string\">'onclick'</span>=&gt;<span class=\"string\">'update_status(this, '</span>.$model-&gt;id.<span class=\"string\">');'</span>]); &#125;,</span><br><span class=\"line\">],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<ol>\n<li><p><br> yii\\grid\\DataColumn::format <br> \\yii\\i18n\\Formatter </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;format&apos; =&gt; [&apos;date&apos;, &apos;php:Y-m-d&apos;],</span><br><span class=\"line\">&apos;value&apos; =&gt; &apos;updated_at&apos;</span><br><span class=\"line\">],</span><br><span class=\"line\">//or</span><br><span class=\"line\">[</span><br><span class=\"line\">//&apos;attribute&apos; =&gt; &apos;created_at&apos;,</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;value&apos;=&gt;function($model)&#123;</span><br><span class=\"line\">return date(&apos;Y-m-d H:i:s&apos;,$model-&gt;created_at); </span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;headerOptions&apos; =&gt; [&apos;width&apos; =&gt; &apos;170&apos;],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;format&apos;=&gt;&apos;raw&apos;,</span><br><span class=\"line\">&apos;value&apos;=&gt;function($m)&#123;</span><br><span class=\"line\">return Html::img($m-&gt;cover,</span><br><span class=\"line\">[&apos;class&apos; =&gt; &apos;img-circle&apos;,</span><br><span class=\"line\">&apos;width&apos; =&gt; 30]</span><br><span class=\"line\">);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;title&apos;,</span><br><span class=\"line\">&apos;value&apos; =&gt; function ($model, $key, $index, $column) &#123;</span><br><span class=\"line\">return Html::a($model-&gt;title, </span><br><span class=\"line\">[&apos;article/view&apos;, &apos;id&apos; =&gt; $key]);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;format&apos; =&gt; &apos;raw&apos;,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>(/</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;sex&apos;, </span><br><span class=\"line\">&apos;value&apos;=&gt;function ($model,$key,$index,$column)&#123;</span><br><span class=\"line\">return $model-&gt;sex==1?&apos;&apos;:&apos;&apos;; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">&apos;filter&apos; =&gt; [&apos;1&apos;=&gt;&apos;&apos;,&apos;0&apos;=&gt;&apos;&apos;],</span><br><span class=\"line\">//or</span><br><span class=\"line\">&apos;filter&apos; =&gt; Html::activeDropDownList($searchModel,</span><br><span class=\"line\">&apos;sex&apos;,[&apos;1&apos;=&gt;&apos;&apos;,&apos;0&apos;=&gt;&apos;&apos;],</span><br><span class=\"line\">[&apos;prompt&apos;=&gt;&apos;&apos;]</span><br><span class=\"line\">)</span><br><span class=\"line\">],</span><br><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;, </span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;pro_name&apos;, </span><br><span class=\"line\">&apos;value&apos; =&gt; function ($model) &#123;</span><br><span class=\"line\">$state = [</span><br><span class=\"line\">&apos;0&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">&apos;1&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">&apos;9&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">];</span><br><span class=\"line\">return $state[$model-&gt;pro_name];</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;headerOptions&apos; =&gt; [&apos;width&apos; =&gt; &apos;120&apos;] </span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><br><br>gettype<br>type1name<br>","more":"</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'name'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; $model-&gt;name,</span><br><span class=\"line\"><span class=\"string\">'visible'</span> =&gt; intval(Yii::$app-&gt;request-&gt;get(<span class=\"string\">'type'</span>)) == <span class=\"number\">1</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'order_id'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a($model-&gt;order_id, <span class=\"string\">\"/order?id=&#123;$model-&gt;order_id&#125;\"</span>, [<span class=\"string\">'target'</span> =&gt; <span class=\"string\">'_blank'</span>]);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">'format'</span> =&gt; <span class=\"string\">'raw'</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p>formatimageformat<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'label'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'format'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'image'</span>, </span><br><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'width'</span>=&gt;<span class=\"string\">'84'</span>,</span><br><span class=\"line\"><span class=\"string\">'height'</span>=&gt;<span class=\"string\">'84'</span></span><br><span class=\"line\">]</span><br><span class=\"line\">],</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">return</span> $model-&gt;image; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure></p>\n<p>html</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\">\t<span class=\"string\">'value'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($model)</span> </span>&#123; </span><br><span class=\"line\">\t<span class=\"keyword\">return</span> Html::encode($model-&gt;title); </span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"string\">'format'</span> =&gt; <span class=\"string\">'raw'</span>,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'class'</span> =&gt; <span class=\"string\">'yii\\grid\\ActionColumn'</span>,</span><br><span class=\"line\"><span class=\"string\">'template'</span> =&gt; <span class=\"string\">'&#123;get-xxx&#125; &#123;view&#125; &#123;update&#125;'</span>,</span><br><span class=\"line\"><span class=\"string\">'header'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'buttons'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'get-xxx'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($url, $model, $key)</span> </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a(<span class=\"string\">'xxx'</span>, $url, [<span class=\"string\">'title'</span> =&gt; <span class=\"string\">'xxx'</span>] ); </span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'attribute'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\"><span class=\"string\">'value'</span> =&gt; <span class=\"string\">'title'</span>,</span><br><span class=\"line\"><span class=\"string\">'headerOptions'</span> =&gt; [<span class=\"string\">'width'</span> =&gt; <span class=\"string\">'100'</span>],</span><br><span class=\"line\"><span class=\"string\">'contentOptions'</span>=&gt;[<span class=\"string\">'width'</span>=&gt;<span class=\"number\">20</span>]</span><br><span class=\"line\">],</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">'rowOptions'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($model, $key, $index, $grid)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> [<span class=\"string\">'class'</span> =&gt; $index % <span class=\"number\">2</span> ==<span class=\"number\">0</span> ? <span class=\"string\">'label-red'</span> : <span class=\"string\">'label-green'</span>];</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>js</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\"><span class=\"string\">'class'</span> =&gt; <span class=\"string\">'yii\\grid\\ActionColumn'</span>,</span><br><span class=\"line\"><span class=\"string\">'header'</span> =&gt; <span class=\"string\">''</span>,</span><br><span class=\"line\"><span class=\"string\">'template'</span> =&gt; <span class=\"string\">'&#123;view&#125; &#123;update&#125; &#123;update-status&#125;'</span>,</span><br><span class=\"line\"><span class=\"string\">'buttons'</span> =&gt; [</span><br><span class=\"line\"><span class=\"string\">'update-status'</span> =&gt; <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($url, $model, $key)</span> </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> Html::a(<span class=\"string\">''</span>, <span class=\"string\">'javascript:;'</span>, [<span class=\"string\">'onclick'</span>=&gt;<span class=\"string\">'update_status(this, '</span>.$model-&gt;id.<span class=\"string\">');'</span>]); &#125;,</span><br><span class=\"line\">],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n<ol>\n<li><p><br> yii\\grid\\DataColumn::format <br> \\yii\\i18n\\Formatter </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;format&apos; =&gt; [&apos;date&apos;, &apos;php:Y-m-d&apos;],</span><br><span class=\"line\">&apos;value&apos; =&gt; &apos;updated_at&apos;</span><br><span class=\"line\">],</span><br><span class=\"line\">//or</span><br><span class=\"line\">[</span><br><span class=\"line\">//&apos;attribute&apos; =&gt; &apos;created_at&apos;,</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;value&apos;=&gt;function($model)&#123;</span><br><span class=\"line\">return date(&apos;Y-m-d H:i:s&apos;,$model-&gt;created_at); </span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;headerOptions&apos; =&gt; [&apos;width&apos; =&gt; &apos;170&apos;],</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">&apos;format&apos;=&gt;&apos;raw&apos;,</span><br><span class=\"line\">&apos;value&apos;=&gt;function($m)&#123;</span><br><span class=\"line\">return Html::img($m-&gt;cover,</span><br><span class=\"line\">[&apos;class&apos; =&gt; &apos;img-circle&apos;,</span><br><span class=\"line\">&apos;width&apos; =&gt; 30]</span><br><span class=\"line\">);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;title&apos;,</span><br><span class=\"line\">&apos;value&apos; =&gt; function ($model, $key, $index, $column) &#123;</span><br><span class=\"line\">return Html::a($model-&gt;title, </span><br><span class=\"line\">[&apos;article/view&apos;, &apos;id&apos; =&gt; $key]);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;format&apos; =&gt; &apos;raw&apos;,</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>(/</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;sex&apos;, </span><br><span class=\"line\">&apos;value&apos;=&gt;function ($model,$key,$index,$column)&#123;</span><br><span class=\"line\">return $model-&gt;sex==1?&apos;&apos;:&apos;&apos;; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">&apos;filter&apos; =&gt; [&apos;1&apos;=&gt;&apos;&apos;,&apos;0&apos;=&gt;&apos;&apos;],</span><br><span class=\"line\">//or</span><br><span class=\"line\">&apos;filter&apos; =&gt; Html::activeDropDownList($searchModel,</span><br><span class=\"line\">&apos;sex&apos;,[&apos;1&apos;=&gt;&apos;&apos;,&apos;0&apos;=&gt;&apos;&apos;],</span><br><span class=\"line\">[&apos;prompt&apos;=&gt;&apos;&apos;]</span><br><span class=\"line\">)</span><br><span class=\"line\">],</span><br><span class=\"line\">[</span><br><span class=\"line\">&apos;label&apos;=&gt;&apos;&apos;, </span><br><span class=\"line\">&apos;attribute&apos; =&gt; &apos;pro_name&apos;, </span><br><span class=\"line\">&apos;value&apos; =&gt; function ($model) &#123;</span><br><span class=\"line\">$state = [</span><br><span class=\"line\">&apos;0&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">&apos;1&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">&apos;9&apos; =&gt; &apos;&apos;,</span><br><span class=\"line\">];</span><br><span class=\"line\">return $state[$model-&gt;pro_name];</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&apos;headerOptions&apos; =&gt; [&apos;width&apos; =&gt; &apos;120&apos;] </span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</li>\n</ol>"},{"title":"Redis is configured to save RDB snapshots","date":"2017-01-25T04:08:15.000Z","updated":"2017-01-25T04:08:15.000Z","_content":"\n`redis``setrange name 1 chun` \n\n`(error) MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error`\n\n`misconf redis``misconf redis`\n\n\n1. \n2. `redis`\n\ninfo`redis`\n\n```bash\nrdb_last_bgsave_status:err\n```\n\n\n\n\n`config set stop-writes-on-bgsave-error no`\n\n`stop-writes-on-bgsave-error`","source":"_posts/2017/redis-snapshots-bug.md","raw":"---\ntitle: Redis is configured to save RDB snapshots\ndate: 2017-01-25 12:08:15\nupdated: 2017-01-25 12:08:15\ntags:\ncategories:\n---\n\n`redis``setrange name 1 chun` \n\n`(error) MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error`\n\n`misconf redis``misconf redis`\n\n\n1. \n2. `redis`\n\ninfo`redis`\n\n```bash\nrdb_last_bgsave_status:err\n```\n\n\n\n\n`config set stop-writes-on-bgsave-error no`\n\n`stop-writes-on-bgsave-error`","slug":"redis-snapshots-bug","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gh003ihpwflot5n8fi","content":"<p><code>redis</code><code>setrange name 1 chun</code> </p>\n<p><code>(error) MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error</code></p>\n<p><code>misconf redis</code><code>misconf redis</code></p>\n<ol>\n<li></li>\n<li><code>redis</code></li>\n</ol>\n<p>info<code>redis</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rdb_last_bgsave_status:err</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>config set stop-writes-on-bgsave-error no</code></p>\n<p><code>stop-writes-on-bgsave-error</code></p>\n","site":{"data":{}},"excerpt":"","more":"<p><code>redis</code><code>setrange name 1 chun</code> </p>\n<p><code>(error) MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk. Commands that may modify the data set are disabled. Please check Redis logs for details about the error</code></p>\n<p><code>misconf redis</code><code>misconf redis</code></p>\n<ol>\n<li></li>\n<li><code>redis</code></li>\n</ol>\n<p>info<code>redis</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rdb_last_bgsave_status:err</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>config set stop-writes-on-bgsave-error no</code></p>\n<p><code>stop-writes-on-bgsave-error</code></p>\n"},{"title":"Go ","date":"2020-05-02T07:13:48.000Z","updated":"2020-05-02T07:13:48.000Z","_content":"\n# :\n\napache C10K \n\n> - nginx,nodejs  \n\n> - golang luaerlang \n\ngolang goroutine channels goroutine selectchannels\n\n\n# \n\n \n\n \n\n> [](https://www.youtube.com/watch?v=cN_DpYBzKso)  \n\ngoroutine\n\n> Coroutine \n\n* & \n\n\n\n<!-- more -->","source":"_posts/2020/go-concurrency.md","raw":"---\ntitle: Go \ndate: 2020-05-02 15:13:48\nupdated: 2020-05-02 15:13:48\ntags:\n- Go\ncategories:\n---\n\n# :\n\napache C10K \n\n> - nginx,nodejs  \n\n> - golang luaerlang \n\ngolang goroutine channels goroutine selectchannels\n\n\n# \n\n \n\n \n\n> [](https://www.youtube.com/watch?v=cN_DpYBzKso)  \n\ngoroutine\n\n> Coroutine \n\n* & \n\n\n\n<!-- more -->","slug":"go-concurrency","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gj003jhpwffiw1w5m3","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h1><p>apache C10K </p>\n<blockquote>\n<ul>\n<li>nginx,nodejs  </li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>golang luaerlang </li>\n</ul>\n</blockquote>\n<p>golang goroutine channels goroutine selectchannels</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> </p>\n<p> </p>\n<blockquote>\n<p><a href=\"https://www.youtube.com/watch?v=cN_DpYBzKso\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n</blockquote>\n<p>goroutine</p>\n<blockquote>\n<p>Coroutine </p>\n</blockquote>\n<ul>\n<li>&amp; </li>\n</ul>\n<p></p>\n<a id=\"more\"></a>","site":{"data":{}},"excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h1><p>apache C10K </p>\n<blockquote>\n<ul>\n<li>nginx,nodejs  </li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>golang luaerlang </li>\n</ul>\n</blockquote>\n<p>golang goroutine channels goroutine selectchannels</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> </p>\n<p> </p>\n<blockquote>\n<p><a href=\"https://www.youtube.com/watch?v=cN_DpYBzKso\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n</blockquote>\n<p>goroutine</p>\n<blockquote>\n<p>Coroutine </p>\n</blockquote>\n<ul>\n<li>&amp; </li>\n</ul>\n<p></p>","more":""},{"title":"Go Cheat Sheet","date":"2020-05-02T07:12:31.000Z","updated":"2020-05-02T07:12:31.000Z","_content":"\n\n# Go Cheat Sheet\n\n[cs](https://devhints.io/)\n\n[GO cheatsheet](https://devhints.io/go)\n\n[GO cheatsheet](https://dev.to/devmount/a-cheatsheet-of-128-cheatsheets-for-developers-f4m)\n\n[](https://github.com/golang/go/wiki/LearnServerProgramming)\n\n# Index\n1. [Basic Syntax](#basic-syntax)\n2. [Operators](#operators)\n    * [Arithmetic](#arithmetic)\n    * [Comparison](#comparison)\n    * [Logical](#logical)\n    * [Other](#other)\n3. [Declarations](#declarations)\n4. [Functions](#functions)\n    * [Functions as values and closures](#functions-as-values-and-closures)\n    * [Variadic Functions](#variadic-functions)\n5. [Built-in Types](#built-in-types)\n6. [Type Conversions](#type-conversions)\n7. [Packages](#packages)\n8. [Control structures](#control-structures)\n    * [If](#if)\n    * [Loops](#loops)\n    * [Switch](#switch)\n9. [Arrays, Slices, Ranges](#arrays-slices-ranges)\n    * [Arrays](#arrays)\n    * [Slices](#slices)\n    * [Operations on Arrays and Slices](#operations-on-arrays-and-slices)\n10. [Maps](#maps)\n11. [Structs](#structs)\n12. [Pointers](#pointers)\n13. [Interfaces](#interfaces)\n14. [Embedding](#embedding)\n15. [Errors](#errors)\n16. [Concurrency](#concurrency)\n    * [Goroutines](#goroutines)\n    * [Channels](#channels)\n    * [Channel Axioms](#channel-axioms)\n17. [Printing](#printing)\n18. [Reflection](#reflection)\n    * [Type Switch](#type-switch)\n    * [Examples](https://github.com/a8m/reflect-examples)\n19. [Snippets](#snippets)\n    * [Http-Server](#http-server)\n\n\n<!-- more -->\n\n## Credits\n\nMost example code taken from [A Tour of Go](http://tour.golang.org/), which is an excellent introduction to Go.\nIf you're new to Go, do that tour. Seriously.\n\n## Go in a Nutshell\n\n* Imperative language\n* Statically typed\n* Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2\n* Compiles to native code (no JVM)\n* No classes, but structs with methods\n* Interfaces\n* No implementation inheritance. There's [type embedding](http://golang.org/doc/effective%5Fgo.html#embedding), though.\n* Functions are first class citizens\n* Functions can return multiple values\n* Has closures\n* Pointers, but not pointer arithmetic\n* Built-in concurrency primitives: Goroutines and Channels\n\n# Basic Syntax\n\n## Hello World\nFile `hello.go`:\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"Hello Go\")\n}\n```\n`$ go run hello.go`\n\n## Operators\n### Arithmetic\n|Operator|Description|\n|--------|-----------|\n|`+`|addition|\n|`-`|subtraction|\n|`*`|multiplication|\n|`/`|quotient|\n|`%`|remainder|\n|`&`|bitwise and|\n|`\\|`|bitwise or|\n|`^`|bitwise xor|\n|`&^`|bit clear (and not)|\n|`<<`|left shift|\n|`>>`|right shift|\n\n### Comparison\n|Operator|Description|\n|--------|-----------|\n|`==`|equal|\n|`!=`|not equal|\n|`<`|less than|\n|`<=`|less than or equal|\n|`>`|greater than|\n|`>=`|greater than or equal|\n\n### Logical\n|Operator|Description|\n|--------|-----------|\n|`&&`|logical and|\n|`\\|\\|`|logical or|\n|`!`|logical not|\n\n### Other\n|Operator|Description|\n|--------|-----------|\n|`&`|address of / create pointer|\n|`*`|dereference pointer|\n|`<-`|send / receive operator (see 'Channels' below)|\n\n## Declarations\nType goes after identifier!\n```go\nvar foo int // declaration without initialization\nvar foo int = 42 // declaration with initialization\nvar foo, bar int = 42, 1302 // declare and init multiple vars at once\nvar foo = 42 // type omitted, will be inferred\nfoo := 42 // shorthand, only in func bodies, omit var keyword, type is always implicit\nconst constant = \"This is a constant\"\n\n// iota can be used for incrementing numbers, starting from 0\nconst (\n    _ = iota\n    a\n    b\n    c = 1 << iota\n    d\n)\n    fmt.Println(a, b) // 1 2 (0 is skipped)\n    fmt.Println(c, d) // 8 16 (2^3, 2^4)\n```\n\n## Functions\n```go\n// a simple function\nfunc functionName() {}\n\n// function with parameters (again, types go after identifiers)\nfunc functionName(param1 string, param2 int) {}\n\n// multiple parameters of the same type\nfunc functionName(param1, param2 int) {}\n\n// return type declaration\nfunc functionName() int {\n    return 42\n}\n\n// Can return multiple values at once\nfunc returnMulti() (int, string) {\n    return 42, \"foobar\"\n}\nvar x, str = returnMulti()\n\n// Return multiple named results simply by return\nfunc returnMulti2() (n int, s string) {\n    n = 42\n    s = \"foobar\"\n    // n and s will be returned\n    return\n}\nvar x, str = returnMulti2()\n\n```\n\n### Functions As Values And Closures\n```go\nfunc main() {\n    // assign a function to a name\n    add := func(a, b int) int {\n        return a + b\n    }\n    // use the name to call the function\n    fmt.Println(add(3, 4))\n}\n\n// Closures, lexically scoped: Functions can access values that were\n// in scope when defining the function\nfunc scope() func() int{\n    outer_var := 2\n    foo := func() int { return outer_var}\n    return foo\n}\n\nfunc another_scope() func() int{\n    // won't compile because outer_var and foo not defined in this scope\n    outer_var = 444\n    return foo\n}\n\n\n// Closures\nfunc outer() (func() int, int) {\n    outer_var := 2\n    inner := func() int {\n        outer_var += 99 // outer_var from outer scope is mutated.\n        return outer_var\n    }\n    inner()\n    return inner, outer_var // return inner func and mutated outer_var 101\n}\n```\n\n### Variadic Functions\n```go\nfunc main() {\n\tfmt.Println(adder(1, 2, 3)) \t// 6\n\tfmt.Println(adder(9, 9))\t// 18\n\n\tnums := []int{10, 20, 30}\n\tfmt.Println(adder(nums...))\t// 60\n}\n\n// By using ... before the type name of the last parameter you can indicate that it takes zero or more of those parameters.\n// The function is invoked like any other function except we can pass as many arguments as we want.\nfunc adder(args ...int) int {\n\ttotal := 0\n\tfor _, v := range args { // Iterates over the arguments whatever the number.\n\t\ttotal += v\n\t}\n\treturn total\n}\n```\n\n## Built-in Types\n```\nbool\n\nstring\n\nint  int8  int16  int32  int64\nuint uint8 uint16 uint32 uint64 uintptr\n\nbyte // alias for uint8\n\nrune // alias for int32 ~= a character (Unicode code point) - very Viking\n\nfloat32 float64\n\ncomplex64 complex128\n```\n\n## Type Conversions\n```go\nvar i int = 42\nvar f float64 = float64(i)\nvar u uint = uint(f)\n\n// alternative syntax\ni := 42\nf := float64(i)\nu := uint(f)\n```\n\n## Packages\n* Package declaration at top of every source file\n* Executables are in package `main`\n* Convention: package name == last name of import path (import path `math/rand` => package `rand`)\n* Upper case identifier: exported (visible from other packages)\n* Lower case identifier: private (not visible from other packages)\n\n## Control structures\n\n### If\n```go\nfunc main() {\n\t// Basic one\n\tif x > 10 {\n\t\treturn x\n\t} else if x == 10 {\n\t\treturn 10\n\t} else {\n\t\treturn -x\n\t}\n\n\t// You can put one statement before the condition\n\tif a := b + c; a < 42 {\n\t\treturn a\n\t} else {\n\t\treturn a - 42\n\t}\n\n\t// Type assertion inside if\n\tvar val interface{}\n\tval = \"foo\"\n\tif str, ok := val.(string); ok {\n\t\tfmt.Println(str)\n\t}\n}\n```\n\n### Loops\n```go\n    // There's only `for`, no `while`, no `until`\n    for i := 1; i < 10; i++ {\n    }\n    for ; i < 10;  { // while - loop\n    }\n    for i < 10  { // you can omit semicolons if there is only a condition\n    }\n    for { // you can omit the condition ~ while (true)\n    }\n    \n    // use break/continue on current loop\n    // use break/continue with label on outer loop\nhere:\n    for i := 0; i < 2; i++ {\n        for j := i + 1; j < 3; j++ {\n            if i == 0 {\n                continue here\n            }\n            fmt.Println(j)\n            if j == 2 {\n                break\n            }\n        }\n    }\n\nthere:\n    for i := 0; i < 2; i++ {\n        for j := i + 1; j < 3; j++ {\n            if j == 1 {\n                continue\n            }\n            fmt.Println(j)\n            if j == 2 {\n                break there\n            }\n        }\n    }\n```\n\n### Switch\n```go\n    // switch statement\n    switch operatingSystem {\n    case \"darwin\":\n        fmt.Println(\"Mac OS Hipster\")\n        // cases break automatically, no fallthrough by default\n    case \"linux\":\n        fmt.Println(\"Linux Geek\")\n    default:\n        // Windows, BSD, ...\n        fmt.Println(\"Other\")\n    }\n\n    // as with for and if, you can have an assignment statement before the switch value\n    switch os := runtime.GOOS; os {\n    case \"darwin\": ...\n    }\n\n    // you can also make comparisons in switch cases\n    number := 42\n    switch {\n        case number < 42:\n            fmt.Println(\"Smaller\")\n        case number == 42:\n            fmt.Println(\"Equal\")\n        case number > 42:\n            fmt.Println(\"Greater\")\n    }\n\n    // cases can be presented in comma-separated lists\n    var char byte = '?'\n    switch char {\n        case ' ', '?', '&', '=', '#', '+', '%':\n            fmt.Println(\"Should escape\")\n    }\n```\n\n## Arrays, Slices, Ranges\n\n### Arrays\n```go\nvar a [10]int // declare an int array with length 10. Array length is part of the type!\na[3] = 42     // set elements\ni := a[3]     // read elements\n\n// declare and initialize\nvar a = [2]int{1, 2}\na := [2]int{1, 2} //shorthand\na := [...]int{1, 2} // elipsis -> Compiler figures out array length\n```\n\n### Slices\n```go\nvar a []int                              // declare a slice - similar to an array, but length is unspecified\nvar a = []int {1, 2, 3, 4}               // declare and initialize a slice (backed by the array given implicitly)\na := []int{1, 2, 3, 4}                   // shorthand\nchars := []string{0:\"a\", 2:\"c\", 1: \"b\"}  // [\"a\", \"b\", \"c\"]\n\nvar b = a[lo:hi]\t// creates a slice (view of the array) from index lo to hi-1\nvar b = a[1:4]\t\t// slice from index 1 to 3\nvar b = a[:3]\t\t// missing low index implies 0\nvar b = a[3:]\t\t// missing high index implies len(a)\na =  append(a,17,3)\t// append items to slice a\nc := append(a,b...)\t// concatenate slices a and b\n\n// create a slice with make\na = make([]byte, 5, 5)\t// first arg length, second capacity\na = make([]byte, 5)\t// capacity is optional\n\n// create a slice from an array\nx := [3]string{\"\", \"\", \"\"}\ns := x[:] // a slice referencing the storage of x\n```\n\n### Operations on Arrays and Slices\n`len(a)` gives you the length of an array/a slice. It's a built-in function, not a attribute/method on the array.\n\n```go\n// loop over an array/a slice\nfor i, e := range a {\n    // i is the index, e the element\n}\n\n// if you only need e:\nfor _, e := range a {\n    // e is the element\n}\n\n// ...and if you only need the index\nfor i := range a {\n}\n\n// In Go pre-1.4, you'll get a compiler error if you're not using i and e.\n// Go 1.4 introduced a variable-free form, so that you can do this\nfor range time.Tick(time.Second) {\n    // do it once a sec\n}\n\n```\n\n## Maps\n\n```go\nvar m map[string]int\nm = make(map[string]int)\nm[\"key\"] = 42\nfmt.Println(m[\"key\"])\n\ndelete(m, \"key\")\n\nelem, ok := m[\"key\"] // test if key \"key\" is present and retrieve it, if so\n\n// map literal\nvar m = map[string]Vertex{\n    \"Bell Labs\": {40.68433, -74.39967},\n    \"Google\":    {37.42202, -122.08408},\n}\n\n// iterate over map content\nfor key, value := range m {\n}\n\n```\n\n## Structs\n\nThere are no classes, only structs. Structs can have methods.\n```go\n// A struct is a type. It's also a collection of fields\n\n// Declaration\ntype Vertex struct {\n    X, Y int\n}\n\n// Creating\nvar v = Vertex{1, 2}\nvar v = Vertex{X: 1, Y: 2} // Creates a struct by defining values with keys\nvar v = []Vertex{{1,2},{5,2},{5,5}} // Initialize a slice of structs\n\n// Accessing members\nv.X = 4\n\n// You can declare methods on structs. The struct you want to declare the\n// method on (the receiving type) comes between the the func keyword and\n// the method name. The struct is copied on each method call(!)\nfunc (v Vertex) Abs() float64 {\n    return math.Sqrt(v.X*v.X + v.Y*v.Y)\n}\n\n// Call method\nv.Abs()\n\n// For mutating methods, you need to use a pointer (see below) to the Struct\n// as the type. With this, the struct value is not copied for the method call.\nfunc (v *Vertex) add(n float64) {\n    v.X += n\n    v.Y += n\n}\n\n```\n**Anonymous structs:**\nCheaper and safer than using `map[string]interface{}`.\n```go\npoint := struct {\n\tX, Y int\n}{1, 2}\n```\n\n## Pointers\n```go\np := Vertex{1, 2}  // p is a Vertex\nq := &p            // q is a pointer to a Vertex\nr := &Vertex{1, 2} // r is also a pointer to a Vertex\n\n// The type of a pointer to a Vertex is *Vertex\n\nvar s *Vertex = new(Vertex) // new creates a pointer to a new struct instance\n```\n\n## Interfaces\n```go\n// interface declaration\ntype Awesomizer interface {\n    Awesomize() string\n}\n\n// types do *not* declare to implement interfaces\ntype Foo struct {}\n\n// instead, types implicitly satisfy an interface if they implement all required methods\nfunc (foo Foo) Awesomize() string {\n    return \"Awesome!\"\n}\n```\n\n## Embedding\n\nThere is no subclassing in Go. Instead, there is interface and struct embedding.\n\n```go\n// ReadWriter implementations must satisfy both Reader and Writer\ntype ReadWriter interface {\n    Reader\n    Writer\n}\n\n// Server exposes all the methods that Logger has\ntype Server struct {\n    Host string\n    Port int\n    *log.Logger\n}\n\n// initialize the embedded type the usual way\nserver := &Server{\"localhost\", 80, log.New(...)}\n\n// methods implemented on the embedded struct are passed through\nserver.Log(...) // calls server.Logger.Log(...)\n\n// the field name of the embedded type is its type name (in this case Logger)\nvar logger *log.Logger = server.Logger\n```\n\n## Errors\nThere is no exception handling. Functions that might produce an error just declare an additional return value of type `Error`. This is the `Error` interface:\n```go\ntype error interface {\n    Error() string\n}\n```\n\nA function that might return an error:\n```go\nfunc doStuff() (int, error) {\n}\n\nfunc main() {\n    result, err := doStuff()\n    if err != nil {\n        // handle error\n    } else {\n        // all is good, use result\n    }\n}\n```\n\n# Concurrency\n\n## Goroutines\nGoroutines are lightweight threads (managed by Go, not OS threads). `go f(a, b)` starts a new goroutine which runs `f` (given `f` is a function).\n\n```go\n// just a function (which can be later started as a goroutine)\nfunc doStuff(s string) {\n}\n\nfunc main() {\n    // using a named function in a goroutine\n    go doStuff(\"foobar\")\n\n    // using an anonymous inner function in a goroutine\n    go func (x int) {\n        // function body goes here\n    }(42)\n}\n```\n\n## Channels\n```go\nch := make(chan int) // create a channel of type int\nch <- 42             // Send a value to the channel ch.\nv := <-ch            // Receive a value from ch\n\n// Non-buffered channels block. Read blocks when no value is available, write blocks until there is a read.\n\n// Create a buffered channel. Writing to a buffered channels does not block if less than <buffer size> unread values have been written.\nch := make(chan int, 100)\n\nclose(ch) // closes the channel (only sender should close)\n\n// read from channel and test if it has been closed\nv, ok := <-ch\n\n// if ok is false, channel has been closed\n\n// Read from channel until it is closed\nfor i := range ch {\n    fmt.Println(i)\n}\n\n// select blocks on multiple channel operations, if one unblocks, the corresponding case is executed\nfunc doStuff(channelOut, channelIn chan int) {\n    select {\n    case channelOut <- 42:\n        fmt.Println(\"We could write to channelOut!\")\n    case x := <- channelIn:\n        fmt.Println(\"We could read from channelIn\")\n    case <-time.After(time.Second * 1):\n        fmt.Println(\"timeout\")\n    }\n}\n```\n\n### Channel Axioms\n- A send to a nil channel blocks forever\n\n  ```go\n  var c chan string\n  c <- \"Hello, World!\"\n  // fatal error: all goroutines are asleep - deadlock!\n  ```\n- A receive from a nil channel blocks forever\n\n  ```go\n  var c chan string\n  fmt.Println(<-c)\n  // fatal error: all goroutines are asleep - deadlock!\n  ```\n- A send to a closed channel panics\n\n  ```go\n  var c = make(chan string, 1)\n  c <- \"Hello, World!\"\n  close(c)\n  c <- \"Hello, Panic!\"\n  // panic: send on closed channel\n  ```\n- A receive from a closed channel returns the zero value immediately\n\n  ```go\n  var c = make(chan int, 2)\n  c <- 1\n  c <- 2\n  close(c)\n  for i := 0; i < 3; i++ {\n      fmt.Printf(\"%d \", <-c)\n  }\n  // 1 2 0\n  ```\n\n## Printing\n\n```go\nfmt.Println(\"Hello, , , , \") // basic print, plus newline\np := struct { X, Y int }{ 17, 2 }\nfmt.Println( \"My point:\", p, \"x coord=\", p.X ) // print structs, ints, etc\ns := fmt.Sprintln( \"My point:\", p, \"x coord=\", p.X ) // print to string variable\n\nfmt.Printf(\"%d hex:%x bin:%b fp:%f sci:%e\",17,17,17,17.0,17.0) // c-ish format\ns2 := fmt.Sprintf( \"%d %f\", 17, 17.0 ) // formatted print to string variable\n\nhellomsg := `\n \"Hello\" in Chinese is  ('Ni Hao')\n \"Hello\" in Hindi is  ('Namaste')\n` // multi-line string literal, using back-tick at beginning and end\n```\n\n## Reflection\n### Type Switch\nA type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.\n```go\nfunc do(i interface{}) {\n\tswitch v := i.(type) {\n\tcase int:\n\t\tfmt.Printf(\"Twice %v is %v\\n\", v, v*2)\n\tcase string:\n\t\tfmt.Printf(\"%q is %v bytes long\\n\", v, len(v))\n\tdefault:\n\t\tfmt.Printf(\"I don't know about type %T!\\n\", v)\n\t}\n}\n\nfunc main() {\n\tdo(21)\n\tdo(\"hello\")\n\tdo(true)\n}\n```\n\n# Snippets\n\n## HTTP Server\n```go\npackage main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n\n// define a type for the response\ntype Hello struct{}\n\n// let that type implement the ServeHTTP method (defined in interface http.Handler)\nfunc (h Hello) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprint(w, \"Hello!\")\n}\n\nfunc main() {\n    var h Hello\n    http.ListenAndServe(\"localhost:4000\", h)\n}\n\n// Here's the method signature of http.ServeHTTP:\n// type Handler interface {\n//     ServeHTTP(w http.ResponseWriter, r *http.Request)\n// }\n```\n\n\n","source":"_posts/2020/go-cheatsheet.md","raw":"---\ntitle: Go Cheat Sheet\ndate: 2020-05-02 15:12:31\nupdated: 2020-05-02 15:12:31\ntags:\n- Go\ncategories:\n---\n\n\n# Go Cheat Sheet\n\n[cs](https://devhints.io/)\n\n[GO cheatsheet](https://devhints.io/go)\n\n[GO cheatsheet](https://dev.to/devmount/a-cheatsheet-of-128-cheatsheets-for-developers-f4m)\n\n[](https://github.com/golang/go/wiki/LearnServerProgramming)\n\n# Index\n1. [Basic Syntax](#basic-syntax)\n2. [Operators](#operators)\n    * [Arithmetic](#arithmetic)\n    * [Comparison](#comparison)\n    * [Logical](#logical)\n    * [Other](#other)\n3. [Declarations](#declarations)\n4. [Functions](#functions)\n    * [Functions as values and closures](#functions-as-values-and-closures)\n    * [Variadic Functions](#variadic-functions)\n5. [Built-in Types](#built-in-types)\n6. [Type Conversions](#type-conversions)\n7. [Packages](#packages)\n8. [Control structures](#control-structures)\n    * [If](#if)\n    * [Loops](#loops)\n    * [Switch](#switch)\n9. [Arrays, Slices, Ranges](#arrays-slices-ranges)\n    * [Arrays](#arrays)\n    * [Slices](#slices)\n    * [Operations on Arrays and Slices](#operations-on-arrays-and-slices)\n10. [Maps](#maps)\n11. [Structs](#structs)\n12. [Pointers](#pointers)\n13. [Interfaces](#interfaces)\n14. [Embedding](#embedding)\n15. [Errors](#errors)\n16. [Concurrency](#concurrency)\n    * [Goroutines](#goroutines)\n    * [Channels](#channels)\n    * [Channel Axioms](#channel-axioms)\n17. [Printing](#printing)\n18. [Reflection](#reflection)\n    * [Type Switch](#type-switch)\n    * [Examples](https://github.com/a8m/reflect-examples)\n19. [Snippets](#snippets)\n    * [Http-Server](#http-server)\n\n\n<!-- more -->\n\n## Credits\n\nMost example code taken from [A Tour of Go](http://tour.golang.org/), which is an excellent introduction to Go.\nIf you're new to Go, do that tour. Seriously.\n\n## Go in a Nutshell\n\n* Imperative language\n* Statically typed\n* Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2\n* Compiles to native code (no JVM)\n* No classes, but structs with methods\n* Interfaces\n* No implementation inheritance. There's [type embedding](http://golang.org/doc/effective%5Fgo.html#embedding), though.\n* Functions are first class citizens\n* Functions can return multiple values\n* Has closures\n* Pointers, but not pointer arithmetic\n* Built-in concurrency primitives: Goroutines and Channels\n\n# Basic Syntax\n\n## Hello World\nFile `hello.go`:\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"Hello Go\")\n}\n```\n`$ go run hello.go`\n\n## Operators\n### Arithmetic\n|Operator|Description|\n|--------|-----------|\n|`+`|addition|\n|`-`|subtraction|\n|`*`|multiplication|\n|`/`|quotient|\n|`%`|remainder|\n|`&`|bitwise and|\n|`\\|`|bitwise or|\n|`^`|bitwise xor|\n|`&^`|bit clear (and not)|\n|`<<`|left shift|\n|`>>`|right shift|\n\n### Comparison\n|Operator|Description|\n|--------|-----------|\n|`==`|equal|\n|`!=`|not equal|\n|`<`|less than|\n|`<=`|less than or equal|\n|`>`|greater than|\n|`>=`|greater than or equal|\n\n### Logical\n|Operator|Description|\n|--------|-----------|\n|`&&`|logical and|\n|`\\|\\|`|logical or|\n|`!`|logical not|\n\n### Other\n|Operator|Description|\n|--------|-----------|\n|`&`|address of / create pointer|\n|`*`|dereference pointer|\n|`<-`|send / receive operator (see 'Channels' below)|\n\n## Declarations\nType goes after identifier!\n```go\nvar foo int // declaration without initialization\nvar foo int = 42 // declaration with initialization\nvar foo, bar int = 42, 1302 // declare and init multiple vars at once\nvar foo = 42 // type omitted, will be inferred\nfoo := 42 // shorthand, only in func bodies, omit var keyword, type is always implicit\nconst constant = \"This is a constant\"\n\n// iota can be used for incrementing numbers, starting from 0\nconst (\n    _ = iota\n    a\n    b\n    c = 1 << iota\n    d\n)\n    fmt.Println(a, b) // 1 2 (0 is skipped)\n    fmt.Println(c, d) // 8 16 (2^3, 2^4)\n```\n\n## Functions\n```go\n// a simple function\nfunc functionName() {}\n\n// function with parameters (again, types go after identifiers)\nfunc functionName(param1 string, param2 int) {}\n\n// multiple parameters of the same type\nfunc functionName(param1, param2 int) {}\n\n// return type declaration\nfunc functionName() int {\n    return 42\n}\n\n// Can return multiple values at once\nfunc returnMulti() (int, string) {\n    return 42, \"foobar\"\n}\nvar x, str = returnMulti()\n\n// Return multiple named results simply by return\nfunc returnMulti2() (n int, s string) {\n    n = 42\n    s = \"foobar\"\n    // n and s will be returned\n    return\n}\nvar x, str = returnMulti2()\n\n```\n\n### Functions As Values And Closures\n```go\nfunc main() {\n    // assign a function to a name\n    add := func(a, b int) int {\n        return a + b\n    }\n    // use the name to call the function\n    fmt.Println(add(3, 4))\n}\n\n// Closures, lexically scoped: Functions can access values that were\n// in scope when defining the function\nfunc scope() func() int{\n    outer_var := 2\n    foo := func() int { return outer_var}\n    return foo\n}\n\nfunc another_scope() func() int{\n    // won't compile because outer_var and foo not defined in this scope\n    outer_var = 444\n    return foo\n}\n\n\n// Closures\nfunc outer() (func() int, int) {\n    outer_var := 2\n    inner := func() int {\n        outer_var += 99 // outer_var from outer scope is mutated.\n        return outer_var\n    }\n    inner()\n    return inner, outer_var // return inner func and mutated outer_var 101\n}\n```\n\n### Variadic Functions\n```go\nfunc main() {\n\tfmt.Println(adder(1, 2, 3)) \t// 6\n\tfmt.Println(adder(9, 9))\t// 18\n\n\tnums := []int{10, 20, 30}\n\tfmt.Println(adder(nums...))\t// 60\n}\n\n// By using ... before the type name of the last parameter you can indicate that it takes zero or more of those parameters.\n// The function is invoked like any other function except we can pass as many arguments as we want.\nfunc adder(args ...int) int {\n\ttotal := 0\n\tfor _, v := range args { // Iterates over the arguments whatever the number.\n\t\ttotal += v\n\t}\n\treturn total\n}\n```\n\n## Built-in Types\n```\nbool\n\nstring\n\nint  int8  int16  int32  int64\nuint uint8 uint16 uint32 uint64 uintptr\n\nbyte // alias for uint8\n\nrune // alias for int32 ~= a character (Unicode code point) - very Viking\n\nfloat32 float64\n\ncomplex64 complex128\n```\n\n## Type Conversions\n```go\nvar i int = 42\nvar f float64 = float64(i)\nvar u uint = uint(f)\n\n// alternative syntax\ni := 42\nf := float64(i)\nu := uint(f)\n```\n\n## Packages\n* Package declaration at top of every source file\n* Executables are in package `main`\n* Convention: package name == last name of import path (import path `math/rand` => package `rand`)\n* Upper case identifier: exported (visible from other packages)\n* Lower case identifier: private (not visible from other packages)\n\n## Control structures\n\n### If\n```go\nfunc main() {\n\t// Basic one\n\tif x > 10 {\n\t\treturn x\n\t} else if x == 10 {\n\t\treturn 10\n\t} else {\n\t\treturn -x\n\t}\n\n\t// You can put one statement before the condition\n\tif a := b + c; a < 42 {\n\t\treturn a\n\t} else {\n\t\treturn a - 42\n\t}\n\n\t// Type assertion inside if\n\tvar val interface{}\n\tval = \"foo\"\n\tif str, ok := val.(string); ok {\n\t\tfmt.Println(str)\n\t}\n}\n```\n\n### Loops\n```go\n    // There's only `for`, no `while`, no `until`\n    for i := 1; i < 10; i++ {\n    }\n    for ; i < 10;  { // while - loop\n    }\n    for i < 10  { // you can omit semicolons if there is only a condition\n    }\n    for { // you can omit the condition ~ while (true)\n    }\n    \n    // use break/continue on current loop\n    // use break/continue with label on outer loop\nhere:\n    for i := 0; i < 2; i++ {\n        for j := i + 1; j < 3; j++ {\n            if i == 0 {\n                continue here\n            }\n            fmt.Println(j)\n            if j == 2 {\n                break\n            }\n        }\n    }\n\nthere:\n    for i := 0; i < 2; i++ {\n        for j := i + 1; j < 3; j++ {\n            if j == 1 {\n                continue\n            }\n            fmt.Println(j)\n            if j == 2 {\n                break there\n            }\n        }\n    }\n```\n\n### Switch\n```go\n    // switch statement\n    switch operatingSystem {\n    case \"darwin\":\n        fmt.Println(\"Mac OS Hipster\")\n        // cases break automatically, no fallthrough by default\n    case \"linux\":\n        fmt.Println(\"Linux Geek\")\n    default:\n        // Windows, BSD, ...\n        fmt.Println(\"Other\")\n    }\n\n    // as with for and if, you can have an assignment statement before the switch value\n    switch os := runtime.GOOS; os {\n    case \"darwin\": ...\n    }\n\n    // you can also make comparisons in switch cases\n    number := 42\n    switch {\n        case number < 42:\n            fmt.Println(\"Smaller\")\n        case number == 42:\n            fmt.Println(\"Equal\")\n        case number > 42:\n            fmt.Println(\"Greater\")\n    }\n\n    // cases can be presented in comma-separated lists\n    var char byte = '?'\n    switch char {\n        case ' ', '?', '&', '=', '#', '+', '%':\n            fmt.Println(\"Should escape\")\n    }\n```\n\n## Arrays, Slices, Ranges\n\n### Arrays\n```go\nvar a [10]int // declare an int array with length 10. Array length is part of the type!\na[3] = 42     // set elements\ni := a[3]     // read elements\n\n// declare and initialize\nvar a = [2]int{1, 2}\na := [2]int{1, 2} //shorthand\na := [...]int{1, 2} // elipsis -> Compiler figures out array length\n```\n\n### Slices\n```go\nvar a []int                              // declare a slice - similar to an array, but length is unspecified\nvar a = []int {1, 2, 3, 4}               // declare and initialize a slice (backed by the array given implicitly)\na := []int{1, 2, 3, 4}                   // shorthand\nchars := []string{0:\"a\", 2:\"c\", 1: \"b\"}  // [\"a\", \"b\", \"c\"]\n\nvar b = a[lo:hi]\t// creates a slice (view of the array) from index lo to hi-1\nvar b = a[1:4]\t\t// slice from index 1 to 3\nvar b = a[:3]\t\t// missing low index implies 0\nvar b = a[3:]\t\t// missing high index implies len(a)\na =  append(a,17,3)\t// append items to slice a\nc := append(a,b...)\t// concatenate slices a and b\n\n// create a slice with make\na = make([]byte, 5, 5)\t// first arg length, second capacity\na = make([]byte, 5)\t// capacity is optional\n\n// create a slice from an array\nx := [3]string{\"\", \"\", \"\"}\ns := x[:] // a slice referencing the storage of x\n```\n\n### Operations on Arrays and Slices\n`len(a)` gives you the length of an array/a slice. It's a built-in function, not a attribute/method on the array.\n\n```go\n// loop over an array/a slice\nfor i, e := range a {\n    // i is the index, e the element\n}\n\n// if you only need e:\nfor _, e := range a {\n    // e is the element\n}\n\n// ...and if you only need the index\nfor i := range a {\n}\n\n// In Go pre-1.4, you'll get a compiler error if you're not using i and e.\n// Go 1.4 introduced a variable-free form, so that you can do this\nfor range time.Tick(time.Second) {\n    // do it once a sec\n}\n\n```\n\n## Maps\n\n```go\nvar m map[string]int\nm = make(map[string]int)\nm[\"key\"] = 42\nfmt.Println(m[\"key\"])\n\ndelete(m, \"key\")\n\nelem, ok := m[\"key\"] // test if key \"key\" is present and retrieve it, if so\n\n// map literal\nvar m = map[string]Vertex{\n    \"Bell Labs\": {40.68433, -74.39967},\n    \"Google\":    {37.42202, -122.08408},\n}\n\n// iterate over map content\nfor key, value := range m {\n}\n\n```\n\n## Structs\n\nThere are no classes, only structs. Structs can have methods.\n```go\n// A struct is a type. It's also a collection of fields\n\n// Declaration\ntype Vertex struct {\n    X, Y int\n}\n\n// Creating\nvar v = Vertex{1, 2}\nvar v = Vertex{X: 1, Y: 2} // Creates a struct by defining values with keys\nvar v = []Vertex{{1,2},{5,2},{5,5}} // Initialize a slice of structs\n\n// Accessing members\nv.X = 4\n\n// You can declare methods on structs. The struct you want to declare the\n// method on (the receiving type) comes between the the func keyword and\n// the method name. The struct is copied on each method call(!)\nfunc (v Vertex) Abs() float64 {\n    return math.Sqrt(v.X*v.X + v.Y*v.Y)\n}\n\n// Call method\nv.Abs()\n\n// For mutating methods, you need to use a pointer (see below) to the Struct\n// as the type. With this, the struct value is not copied for the method call.\nfunc (v *Vertex) add(n float64) {\n    v.X += n\n    v.Y += n\n}\n\n```\n**Anonymous structs:**\nCheaper and safer than using `map[string]interface{}`.\n```go\npoint := struct {\n\tX, Y int\n}{1, 2}\n```\n\n## Pointers\n```go\np := Vertex{1, 2}  // p is a Vertex\nq := &p            // q is a pointer to a Vertex\nr := &Vertex{1, 2} // r is also a pointer to a Vertex\n\n// The type of a pointer to a Vertex is *Vertex\n\nvar s *Vertex = new(Vertex) // new creates a pointer to a new struct instance\n```\n\n## Interfaces\n```go\n// interface declaration\ntype Awesomizer interface {\n    Awesomize() string\n}\n\n// types do *not* declare to implement interfaces\ntype Foo struct {}\n\n// instead, types implicitly satisfy an interface if they implement all required methods\nfunc (foo Foo) Awesomize() string {\n    return \"Awesome!\"\n}\n```\n\n## Embedding\n\nThere is no subclassing in Go. Instead, there is interface and struct embedding.\n\n```go\n// ReadWriter implementations must satisfy both Reader and Writer\ntype ReadWriter interface {\n    Reader\n    Writer\n}\n\n// Server exposes all the methods that Logger has\ntype Server struct {\n    Host string\n    Port int\n    *log.Logger\n}\n\n// initialize the embedded type the usual way\nserver := &Server{\"localhost\", 80, log.New(...)}\n\n// methods implemented on the embedded struct are passed through\nserver.Log(...) // calls server.Logger.Log(...)\n\n// the field name of the embedded type is its type name (in this case Logger)\nvar logger *log.Logger = server.Logger\n```\n\n## Errors\nThere is no exception handling. Functions that might produce an error just declare an additional return value of type `Error`. This is the `Error` interface:\n```go\ntype error interface {\n    Error() string\n}\n```\n\nA function that might return an error:\n```go\nfunc doStuff() (int, error) {\n}\n\nfunc main() {\n    result, err := doStuff()\n    if err != nil {\n        // handle error\n    } else {\n        // all is good, use result\n    }\n}\n```\n\n# Concurrency\n\n## Goroutines\nGoroutines are lightweight threads (managed by Go, not OS threads). `go f(a, b)` starts a new goroutine which runs `f` (given `f` is a function).\n\n```go\n// just a function (which can be later started as a goroutine)\nfunc doStuff(s string) {\n}\n\nfunc main() {\n    // using a named function in a goroutine\n    go doStuff(\"foobar\")\n\n    // using an anonymous inner function in a goroutine\n    go func (x int) {\n        // function body goes here\n    }(42)\n}\n```\n\n## Channels\n```go\nch := make(chan int) // create a channel of type int\nch <- 42             // Send a value to the channel ch.\nv := <-ch            // Receive a value from ch\n\n// Non-buffered channels block. Read blocks when no value is available, write blocks until there is a read.\n\n// Create a buffered channel. Writing to a buffered channels does not block if less than <buffer size> unread values have been written.\nch := make(chan int, 100)\n\nclose(ch) // closes the channel (only sender should close)\n\n// read from channel and test if it has been closed\nv, ok := <-ch\n\n// if ok is false, channel has been closed\n\n// Read from channel until it is closed\nfor i := range ch {\n    fmt.Println(i)\n}\n\n// select blocks on multiple channel operations, if one unblocks, the corresponding case is executed\nfunc doStuff(channelOut, channelIn chan int) {\n    select {\n    case channelOut <- 42:\n        fmt.Println(\"We could write to channelOut!\")\n    case x := <- channelIn:\n        fmt.Println(\"We could read from channelIn\")\n    case <-time.After(time.Second * 1):\n        fmt.Println(\"timeout\")\n    }\n}\n```\n\n### Channel Axioms\n- A send to a nil channel blocks forever\n\n  ```go\n  var c chan string\n  c <- \"Hello, World!\"\n  // fatal error: all goroutines are asleep - deadlock!\n  ```\n- A receive from a nil channel blocks forever\n\n  ```go\n  var c chan string\n  fmt.Println(<-c)\n  // fatal error: all goroutines are asleep - deadlock!\n  ```\n- A send to a closed channel panics\n\n  ```go\n  var c = make(chan string, 1)\n  c <- \"Hello, World!\"\n  close(c)\n  c <- \"Hello, Panic!\"\n  // panic: send on closed channel\n  ```\n- A receive from a closed channel returns the zero value immediately\n\n  ```go\n  var c = make(chan int, 2)\n  c <- 1\n  c <- 2\n  close(c)\n  for i := 0; i < 3; i++ {\n      fmt.Printf(\"%d \", <-c)\n  }\n  // 1 2 0\n  ```\n\n## Printing\n\n```go\nfmt.Println(\"Hello, , , , \") // basic print, plus newline\np := struct { X, Y int }{ 17, 2 }\nfmt.Println( \"My point:\", p, \"x coord=\", p.X ) // print structs, ints, etc\ns := fmt.Sprintln( \"My point:\", p, \"x coord=\", p.X ) // print to string variable\n\nfmt.Printf(\"%d hex:%x bin:%b fp:%f sci:%e\",17,17,17,17.0,17.0) // c-ish format\ns2 := fmt.Sprintf( \"%d %f\", 17, 17.0 ) // formatted print to string variable\n\nhellomsg := `\n \"Hello\" in Chinese is  ('Ni Hao')\n \"Hello\" in Hindi is  ('Namaste')\n` // multi-line string literal, using back-tick at beginning and end\n```\n\n## Reflection\n### Type Switch\nA type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.\n```go\nfunc do(i interface{}) {\n\tswitch v := i.(type) {\n\tcase int:\n\t\tfmt.Printf(\"Twice %v is %v\\n\", v, v*2)\n\tcase string:\n\t\tfmt.Printf(\"%q is %v bytes long\\n\", v, len(v))\n\tdefault:\n\t\tfmt.Printf(\"I don't know about type %T!\\n\", v)\n\t}\n}\n\nfunc main() {\n\tdo(21)\n\tdo(\"hello\")\n\tdo(true)\n}\n```\n\n# Snippets\n\n## HTTP Server\n```go\npackage main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n\n// define a type for the response\ntype Hello struct{}\n\n// let that type implement the ServeHTTP method (defined in interface http.Handler)\nfunc (h Hello) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprint(w, \"Hello!\")\n}\n\nfunc main() {\n    var h Hello\n    http.ListenAndServe(\"localhost:4000\", h)\n}\n\n// Here's the method signature of http.ServeHTTP:\n// type Handler interface {\n//     ServeHTTP(w http.ResponseWriter, r *http.Request)\n// }\n```\n\n\n","slug":"go-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gm003khpwf3wa84mj2","content":"<h1 id=\"Go-Cheat-Sheet\"><a href=\"#Go-Cheat-Sheet\" class=\"headerlink\" title=\"Go Cheat Sheet\"></a>Go Cheat Sheet</h1><p><a href=\"https://devhints.io/\" target=\"_blank\" rel=\"noopener\">cs</a></p>\n<p><a href=\"https://devhints.io/go\" target=\"_blank\" rel=\"noopener\">GO cheatsheet</a></p>\n<p><a href=\"https://dev.to/devmount/a-cheatsheet-of-128-cheatsheets-for-developers-f4m\" target=\"_blank\" rel=\"noopener\">GO cheatsheet</a></p>\n<p><a href=\"https://github.com/golang/go/wiki/LearnServerProgramming\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"Index\"><a href=\"#Index\" class=\"headerlink\" title=\"Index\"></a>Index</h1><ol>\n<li><a href=\"#basic-syntax\">Basic Syntax</a></li>\n<li><a href=\"#operators\">Operators</a><ul>\n<li><a href=\"#arithmetic\">Arithmetic</a></li>\n<li><a href=\"#comparison\">Comparison</a></li>\n<li><a href=\"#logical\">Logical</a></li>\n<li><a href=\"#other\">Other</a></li>\n</ul>\n</li>\n<li><a href=\"#declarations\">Declarations</a></li>\n<li><a href=\"#functions\">Functions</a><ul>\n<li><a href=\"#functions-as-values-and-closures\">Functions as values and closures</a></li>\n<li><a href=\"#variadic-functions\">Variadic Functions</a></li>\n</ul>\n</li>\n<li><a href=\"#built-in-types\">Built-in Types</a></li>\n<li><a href=\"#type-conversions\">Type Conversions</a></li>\n<li><a href=\"#packages\">Packages</a></li>\n<li><a href=\"#control-structures\">Control structures</a><ul>\n<li><a href=\"#if\">If</a></li>\n<li><a href=\"#loops\">Loops</a></li>\n<li><a href=\"#switch\">Switch</a></li>\n</ul>\n</li>\n<li><a href=\"#arrays-slices-ranges\">Arrays, Slices, Ranges</a><ul>\n<li><a href=\"#arrays\">Arrays</a></li>\n<li><a href=\"#slices\">Slices</a></li>\n<li><a href=\"#operations-on-arrays-and-slices\">Operations on Arrays and Slices</a></li>\n</ul>\n</li>\n<li><a href=\"#maps\">Maps</a></li>\n<li><a href=\"#structs\">Structs</a></li>\n<li><a href=\"#pointers\">Pointers</a></li>\n<li><a href=\"#interfaces\">Interfaces</a></li>\n<li><a href=\"#embedding\">Embedding</a></li>\n<li><a href=\"#errors\">Errors</a></li>\n<li><a href=\"#concurrency\">Concurrency</a><ul>\n<li><a href=\"#goroutines\">Goroutines</a></li>\n<li><a href=\"#channels\">Channels</a></li>\n<li><a href=\"#channel-axioms\">Channel Axioms</a></li>\n</ul>\n</li>\n<li><a href=\"#printing\">Printing</a></li>\n<li><a href=\"#reflection\">Reflection</a><ul>\n<li><a href=\"#type-switch\">Type Switch</a></li>\n<li><a href=\"https://github.com/a8m/reflect-examples\" target=\"_blank\" rel=\"noopener\">Examples</a></li>\n</ul>\n</li>\n<li><a href=\"#snippets\">Snippets</a><ul>\n<li><a href=\"#http-server\">Http-Server</a></li>\n</ul>\n</li>\n</ol>\n<a id=\"more\"></a>\n<h2 id=\"Credits\"><a href=\"#Credits\" class=\"headerlink\" title=\"Credits\"></a>Credits</h2><p>Most example code taken from <a href=\"http://tour.golang.org/\" target=\"_blank\" rel=\"noopener\">A Tour of Go</a>, which is an excellent introduction to Go.<br>If youre new to Go, do that tour. Seriously.</p>\n<h2 id=\"Go-in-a-Nutshell\"><a href=\"#Go-in-a-Nutshell\" class=\"headerlink\" title=\"Go in a Nutshell\"></a>Go in a Nutshell</h2><ul>\n<li>Imperative language</li>\n<li>Statically typed</li>\n<li>Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2</li>\n<li>Compiles to native code (no JVM)</li>\n<li>No classes, but structs with methods</li>\n<li>Interfaces</li>\n<li>No implementation inheritance. Theres <a href=\"http://golang.org/doc/effective%5Fgo.html#embedding\" target=\"_blank\" rel=\"noopener\">type embedding</a>, though.</li>\n<li>Functions are first class citizens</li>\n<li>Functions can return multiple values</li>\n<li>Has closures</li>\n<li>Pointers, but not pointer arithmetic</li>\n<li>Built-in concurrency primitives: Goroutines and Channels</li>\n</ul>\n<h1 id=\"Basic-Syntax\"><a href=\"#Basic-Syntax\" class=\"headerlink\" title=\"Basic Syntax\"></a>Basic Syntax</h1><h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p>File <code>hello.go</code>:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">\"fmt\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Hello Go\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>$ go run hello.go</code></p>\n<h2 id=\"Operators\"><a href=\"#Operators\" class=\"headerlink\" title=\"Operators\"></a>Operators</h2><h3 id=\"Arithmetic\"><a href=\"#Arithmetic\" class=\"headerlink\" title=\"Arithmetic\"></a>Arithmetic</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>+</code></td>\n<td>addition</td>\n</tr>\n<tr>\n<td><code>-</code></td>\n<td>subtraction</td>\n</tr>\n<tr>\n<td><code>*</code></td>\n<td>multiplication</td>\n</tr>\n<tr>\n<td><code>/</code></td>\n<td>quotient</td>\n</tr>\n<tr>\n<td><code>%</code></td>\n<td>remainder</td>\n</tr>\n<tr>\n<td><code>&amp;</code></td>\n<td>bitwise and</td>\n</tr>\n<tr>\n<td>`\\</td>\n<td>`</td>\n<td>bitwise or</td>\n</tr>\n<tr>\n<td><code>^</code></td>\n<td>bitwise xor</td>\n</tr>\n<tr>\n<td><code>&amp;^</code></td>\n<td>bit clear (and not)</td>\n</tr>\n<tr>\n<td><code>&lt;&lt;</code></td>\n<td>left shift</td>\n</tr>\n<tr>\n<td><code>&gt;&gt;</code></td>\n<td>right shift</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Comparison\"><a href=\"#Comparison\" class=\"headerlink\" title=\"Comparison\"></a>Comparison</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>==</code></td>\n<td>equal</td>\n</tr>\n<tr>\n<td><code>!=</code></td>\n<td>not equal</td>\n</tr>\n<tr>\n<td><code>&lt;</code></td>\n<td>less than</td>\n</tr>\n<tr>\n<td><code>&lt;=</code></td>\n<td>less than or equal</td>\n</tr>\n<tr>\n<td><code>&gt;</code></td>\n<td>greater than</td>\n</tr>\n<tr>\n<td><code>&gt;=</code></td>\n<td>greater than or equal</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Logical\"><a href=\"#Logical\" class=\"headerlink\" title=\"Logical\"></a>Logical</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&amp;&amp;</code></td>\n<td>logical and</td>\n</tr>\n<tr>\n<td>`\\</td>\n<td>\\</td>\n<td>`</td>\n<td>logical or</td>\n</tr>\n<tr>\n<td><code>!</code></td>\n<td>logical not</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&amp;</code></td>\n<td>address of / create pointer</td>\n</tr>\n<tr>\n<td><code>*</code></td>\n<td>dereference pointer</td>\n</tr>\n<tr>\n<td><code>&lt;-</code></td>\n<td>send / receive operator (see Channels below)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Declarations\"><a href=\"#Declarations\" class=\"headerlink\" title=\"Declarations\"></a>Declarations</h2><p>Type goes after identifier!<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> foo <span class=\"keyword\">int</span> <span class=\"comment\">// declaration without initialization</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo <span class=\"keyword\">int</span> = <span class=\"number\">42</span> <span class=\"comment\">// declaration with initialization</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo, bar <span class=\"keyword\">int</span> = <span class=\"number\">42</span>, <span class=\"number\">1302</span> <span class=\"comment\">// declare and init multiple vars at once</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"number\">42</span> <span class=\"comment\">// type omitted, will be inferred</span></span><br><span class=\"line\">foo := <span class=\"number\">42</span> <span class=\"comment\">// shorthand, only in func bodies, omit var keyword, type is always implicit</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> constant = <span class=\"string\">\"This is a constant\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// iota can be used for incrementing numbers, starting from 0</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> (</span><br><span class=\"line\">    _ = <span class=\"literal\">iota</span></span><br><span class=\"line\">    a</span><br><span class=\"line\">    b</span><br><span class=\"line\">    c = <span class=\"number\">1</span> &lt;&lt; <span class=\"literal\">iota</span></span><br><span class=\"line\">    d</span><br><span class=\"line\">)</span><br><span class=\"line\">    fmt.Println(a, b) <span class=\"comment\">// 1 2 (0 is skipped)</span></span><br><span class=\"line\">    fmt.Println(c, d) <span class=\"comment\">// 8 16 (2^3, 2^4)</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Functions\"><a href=\"#Functions\" class=\"headerlink\" title=\"Functions\"></a>Functions</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// a simple function</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">()</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// function with parameters (again, types go after identifiers)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">(param1 <span class=\"keyword\">string</span>, param2 <span class=\"keyword\">int</span>)</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// multiple parameters of the same type</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">(param1, param2 <span class=\"keyword\">int</span>)</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// return type declaration</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">42</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Can return multiple values at once</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">returnMulti</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">int</span>, <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">42</span>, <span class=\"string\">\"foobar\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> x, str = returnMulti()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return multiple named results simply by return</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">returnMulti2</span><span class=\"params\">()</span> <span class=\"params\">(n <span class=\"keyword\">int</span>, s <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    n = <span class=\"number\">42</span></span><br><span class=\"line\">    s = <span class=\"string\">\"foobar\"</span></span><br><span class=\"line\">    <span class=\"comment\">// n and s will be returned</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> x, str = returnMulti2()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Functions-As-Values-And-Closures\"><a href=\"#Functions-As-Values-And-Closures\" class=\"headerlink\" title=\"Functions As Values And Closures\"></a>Functions As Values And Closures</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// assign a function to a name</span></span><br><span class=\"line\">    add := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(a, b <span class=\"keyword\">int</span>)</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a + b</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// use the name to call the function</span></span><br><span class=\"line\">    fmt.Println(add(<span class=\"number\">3</span>, <span class=\"number\">4</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Closures, lexically scoped: Functions can access values that were</span></span><br><span class=\"line\"><span class=\"comment\">// in scope when defining the function</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">scope</span><span class=\"params\">()</span> <span class=\"title\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    outer_var := <span class=\"number\">2</span></span><br><span class=\"line\">    foo := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123; <span class=\"keyword\">return</span> outer_var&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">another_scope</span><span class=\"params\">()</span> <span class=\"title\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// won't compile because outer_var and foo not defined in this scope</span></span><br><span class=\"line\">    outer_var = <span class=\"number\">444</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Closures</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">outer</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">func</span>()</span> <span class=\"title\">int</span>, <span class=\"title\">int</span>)</span> &#123;</span><br><span class=\"line\">    outer_var := <span class=\"number\">2</span></span><br><span class=\"line\">    inner := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">        outer_var += <span class=\"number\">99</span> <span class=\"comment\">// outer_var from outer scope is mutated.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> outer_var</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    inner()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> inner, outer_var <span class=\"comment\">// return inner func and mutated outer_var 101</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Variadic-Functions\"><a href=\"#Variadic-Functions\" class=\"headerlink\" title=\"Variadic Functions\"></a>Variadic Functions</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\tfmt.Println(adder(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)) \t<span class=\"comment\">// 6</span></span><br><span class=\"line\">\tfmt.Println(adder(<span class=\"number\">9</span>, <span class=\"number\">9</span>))\t<span class=\"comment\">// 18</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tnums := []<span class=\"keyword\">int</span>&#123;<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>&#125;</span><br><span class=\"line\">\tfmt.Println(adder(nums...))\t<span class=\"comment\">// 60</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// By using ... before the type name of the last parameter you can indicate that it takes zero or more of those parameters.</span></span><br><span class=\"line\"><span class=\"comment\">// The function is invoked like any other function except we can pass as many arguments as we want.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">adder</span><span class=\"params\">(args ...<span class=\"keyword\">int</span>)</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">\ttotal := <span class=\"number\">0</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, v := <span class=\"keyword\">range</span> args &#123; <span class=\"comment\">// Iterates over the arguments whatever the number.</span></span><br><span class=\"line\">\t\ttotal += v</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> total</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Built-in-Types\"><a href=\"#Built-in-Types\" class=\"headerlink\" title=\"Built-in Types\"></a>Built-in Types</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bool</span><br><span class=\"line\"></span><br><span class=\"line\">string</span><br><span class=\"line\"></span><br><span class=\"line\">int  int8  int16  int32  int64</span><br><span class=\"line\">uint uint8 uint16 uint32 uint64 uintptr</span><br><span class=\"line\"></span><br><span class=\"line\">byte // alias for uint8</span><br><span class=\"line\"></span><br><span class=\"line\">rune // alias for int32 ~= a character (Unicode code point) - very Viking</span><br><span class=\"line\"></span><br><span class=\"line\">float32 float64</span><br><span class=\"line\"></span><br><span class=\"line\">complex64 complex128</span><br></pre></td></tr></table></figure>\n<h2 id=\"Type-Conversions\"><a href=\"#Type-Conversions\" class=\"headerlink\" title=\"Type Conversions\"></a>Type Conversions</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> i <span class=\"keyword\">int</span> = <span class=\"number\">42</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> f <span class=\"keyword\">float64</span> = <span class=\"keyword\">float64</span>(i)</span><br><span class=\"line\"><span class=\"keyword\">var</span> u <span class=\"keyword\">uint</span> = <span class=\"keyword\">uint</span>(f)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// alternative syntax</span></span><br><span class=\"line\">i := <span class=\"number\">42</span></span><br><span class=\"line\">f := <span class=\"keyword\">float64</span>(i)</span><br><span class=\"line\">u := <span class=\"keyword\">uint</span>(f)</span><br></pre></td></tr></table></figure>\n<h2 id=\"Packages\"><a href=\"#Packages\" class=\"headerlink\" title=\"Packages\"></a>Packages</h2><ul>\n<li>Package declaration at top of every source file</li>\n<li>Executables are in package <code>main</code></li>\n<li>Convention: package name == last name of import path (import path <code>math/rand</code> =&gt; package <code>rand</code>)</li>\n<li>Upper case identifier: exported (visible from other packages)</li>\n<li>Lower case identifier: private (not visible from other packages)</li>\n</ul>\n<h2 id=\"Control-structures\"><a href=\"#Control-structures\" class=\"headerlink\" title=\"Control structures\"></a>Control structures</h2><h3 id=\"If\"><a href=\"#If\" class=\"headerlink\" title=\"If\"></a>If</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// Basic one</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> x &gt; <span class=\"number\">10</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> x == <span class=\"number\">10</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">10</span></span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> -x</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// You can put one statement before the condition</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> a := b + c; a &lt; <span class=\"number\">42</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> a</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> a - <span class=\"number\">42</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Type assertion inside if</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> val <span class=\"keyword\">interface</span>&#123;&#125;</span><br><span class=\"line\">\tval = <span class=\"string\">\"foo\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> str, ok := val.(<span class=\"keyword\">string</span>); ok &#123;</span><br><span class=\"line\">\t\tfmt.Println(str)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loops\"><a href=\"#Loops\" class=\"headerlink\" title=\"Loops\"></a>Loops</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// There's only `for`, no `while`, no `until`</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">1</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> ; i &lt; <span class=\"number\">10</span>;  &#123; <span class=\"comment\">// while - loop</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i &lt; <span class=\"number\">10</span>  &#123; <span class=\"comment\">// you can omit semicolons if there is only a condition</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> &#123; <span class=\"comment\">// you can omit the condition ~ while (true)</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// use break/continue on current loop</span></span><br><span class=\"line\">    <span class=\"comment\">// use break/continue with label on outer loop</span></span><br><span class=\"line\">here:</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++ &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j := i + <span class=\"number\">1</span>; j &lt; <span class=\"number\">3</span>; j++ &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span> here</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fmt.Println(j)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">there:</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++ &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j := i + <span class=\"number\">1</span>; j &lt; <span class=\"number\">3</span>; j++ &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fmt.Println(j)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span> there</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Switch\"><a href=\"#Switch\" class=\"headerlink\" title=\"Switch\"></a>Switch</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// switch statement</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> operatingSystem &#123;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"darwin\"</span>:</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Mac OS Hipster\"</span>)</span><br><span class=\"line\">    <span class=\"comment\">// cases break automatically, no fallthrough by default</span></span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"linux\"</span>:</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Linux Geek\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">default</span>:</span><br><span class=\"line\">    <span class=\"comment\">// Windows, BSD, ...</span></span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Other\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// as with for and if, you can have an assignment statement before the switch value</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> os := runtime.GOOS; os &#123;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"darwin\"</span>: ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// you can also make comparisons in switch cases</span></span><br><span class=\"line\">number := <span class=\"number\">42</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number &lt; <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Smaller\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number == <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Equal\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number &gt; <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Greater\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// cases can be presented in comma-separated lists</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> char <span class=\"keyword\">byte</span> = <span class=\"string\">'?'</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> char &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">' '</span>, <span class=\"string\">'?'</span>, <span class=\"string\">'&amp;'</span>, <span class=\"string\">'='</span>, <span class=\"string\">'#'</span>, <span class=\"string\">'+'</span>, <span class=\"string\">'%'</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Should escape\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Arrays-Slices-Ranges\"><a href=\"#Arrays-Slices-Ranges\" class=\"headerlink\" title=\"Arrays, Slices, Ranges\"></a>Arrays, Slices, Ranges</h2><h3 id=\"Arrays\"><a href=\"#Arrays\" class=\"headerlink\" title=\"Arrays\"></a>Arrays</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a [<span class=\"number\">10</span>]<span class=\"keyword\">int</span> <span class=\"comment\">// declare an int array with length 10. Array length is part of the type!</span></span><br><span class=\"line\">a[<span class=\"number\">3</span>] = <span class=\"number\">42</span>     <span class=\"comment\">// set elements</span></span><br><span class=\"line\">i := a[<span class=\"number\">3</span>]     <span class=\"comment\">// read elements</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// declare and initialize</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">2</span>]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br><span class=\"line\">a := [<span class=\"number\">2</span>]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">//shorthand</span></span><br><span class=\"line\">a := [...]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">// elipsis -&gt; Compiler figures out array length</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Slices\"><a href=\"#Slices\" class=\"headerlink\" title=\"Slices\"></a>Slices</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a []<span class=\"keyword\">int</span>                              <span class=\"comment\">// declare a slice - similar to an array, but length is unspecified</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = []<span class=\"keyword\">int</span> &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>&#125;               <span class=\"comment\">// declare and initialize a slice (backed by the array given implicitly)</span></span><br><span class=\"line\">a := []<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>&#125;                   <span class=\"comment\">// shorthand</span></span><br><span class=\"line\">chars := []<span class=\"keyword\">string</span>&#123;<span class=\"number\">0</span>:<span class=\"string\">\"a\"</span>, <span class=\"number\">2</span>:<span class=\"string\">\"c\"</span>, <span class=\"number\">1</span>: <span class=\"string\">\"b\"</span>&#125;  <span class=\"comment\">// [\"a\", \"b\", \"c\"]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[lo:hi]\t<span class=\"comment\">// creates a slice (view of the array) from index lo to hi-1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[<span class=\"number\">1</span>:<span class=\"number\">4</span>]\t\t<span class=\"comment\">// slice from index 1 to 3</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[:<span class=\"number\">3</span>]\t\t<span class=\"comment\">// missing low index implies 0</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[<span class=\"number\">3</span>:]\t\t<span class=\"comment\">// missing high index implies len(a)</span></span><br><span class=\"line\">a =  <span class=\"built_in\">append</span>(a,<span class=\"number\">17</span>,<span class=\"number\">3</span>)\t<span class=\"comment\">// append items to slice a</span></span><br><span class=\"line\">c := <span class=\"built_in\">append</span>(a,b...)\t<span class=\"comment\">// concatenate slices a and b</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a slice with make</span></span><br><span class=\"line\">a = <span class=\"built_in\">make</span>([]<span class=\"keyword\">byte</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>)\t<span class=\"comment\">// first arg length, second capacity</span></span><br><span class=\"line\">a = <span class=\"built_in\">make</span>([]<span class=\"keyword\">byte</span>, <span class=\"number\">5</span>)\t<span class=\"comment\">// capacity is optional</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a slice from an array</span></span><br><span class=\"line\">x := [<span class=\"number\">3</span>]<span class=\"keyword\">string</span>&#123;<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>&#125;</span><br><span class=\"line\">s := x[:] <span class=\"comment\">// a slice referencing the storage of x</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Operations-on-Arrays-and-Slices\"><a href=\"#Operations-on-Arrays-and-Slices\" class=\"headerlink\" title=\"Operations on Arrays and Slices\"></a>Operations on Arrays and Slices</h3><p><code>len(a)</code> gives you the length of an array/a slice. Its a built-in function, not a attribute/method on the array.</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// loop over an array/a slice</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i, e := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">    <span class=\"comment\">// i is the index, e the element</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// if you only need e:</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> _, e := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">    <span class=\"comment\">// e is the element</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...and if you only need the index</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// In Go pre-1.4, you'll get a compiler error if you're not using i and e.</span></span><br><span class=\"line\"><span class=\"comment\">// Go 1.4 introduced a variable-free form, so that you can do this</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"keyword\">range</span> time.Tick(time.Second) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do it once a sec</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Maps\"><a href=\"#Maps\" class=\"headerlink\" title=\"Maps\"></a>Maps</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> m <span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]<span class=\"keyword\">int</span></span><br><span class=\"line\">m = <span class=\"built_in\">make</span>(<span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]<span class=\"keyword\">int</span>)</span><br><span class=\"line\">m[<span class=\"string\">\"key\"</span>] = <span class=\"number\">42</span></span><br><span class=\"line\">fmt.Println(m[<span class=\"string\">\"key\"</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">delete</span>(m, <span class=\"string\">\"key\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">elem, ok := m[<span class=\"string\">\"key\"</span>] <span class=\"comment\">// test if key \"key\" is present and retrieve it, if so</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// map literal</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]Vertex&#123;</span><br><span class=\"line\">    <span class=\"string\">\"Bell Labs\"</span>: &#123;<span class=\"number\">40.68433</span>, <span class=\"number\">-74.39967</span>&#125;,</span><br><span class=\"line\">    <span class=\"string\">\"Google\"</span>:    &#123;<span class=\"number\">37.42202</span>, <span class=\"number\">-122.08408</span>&#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// iterate over map content</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> key, value := <span class=\"keyword\">range</span> m &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Structs\"><a href=\"#Structs\" class=\"headerlink\" title=\"Structs\"></a>Structs</h2><p>There are no classes, only structs. Structs can have methods.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A struct is a type. It's also a collection of fields</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Declaration</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Vertex <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    X, Y <span class=\"keyword\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Creating</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> v = Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> v = Vertex&#123;X: <span class=\"number\">1</span>, Y: <span class=\"number\">2</span>&#125; <span class=\"comment\">// Creates a struct by defining values with keys</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> v = []Vertex&#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">5</span>&#125;&#125; <span class=\"comment\">// Initialize a slice of structs</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Accessing members</span></span><br><span class=\"line\">v.X = <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// You can declare methods on structs. The struct you want to declare the</span></span><br><span class=\"line\"><span class=\"comment\">// method on (the receiving type) comes between the the func keyword and</span></span><br><span class=\"line\"><span class=\"comment\">// the method name. The struct is copied on each method call(!)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(v Vertex)</span> <span class=\"title\">Abs</span><span class=\"params\">()</span> <span class=\"title\">float64</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call method</span></span><br><span class=\"line\">v.Abs()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// For mutating methods, you need to use a pointer (see below) to the Struct</span></span><br><span class=\"line\"><span class=\"comment\">// as the type. With this, the struct value is not copied for the method call.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(v *Vertex)</span> <span class=\"title\">add</span><span class=\"params\">(n <span class=\"keyword\">float64</span>)</span></span> &#123;</span><br><span class=\"line\">    v.X += n</span><br><span class=\"line\">    v.Y += n</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>Anonymous structs:</strong><br>Cheaper and safer than using <code>map[string]interface{}</code>.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">point := <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tX, Y <span class=\"keyword\">int</span></span><br><span class=\"line\">&#125;&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Pointers\"><a href=\"#Pointers\" class=\"headerlink\" title=\"Pointers\"></a>Pointers</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p := Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;  <span class=\"comment\">// p is a Vertex</span></span><br><span class=\"line\">q := &amp;p            <span class=\"comment\">// q is a pointer to a Vertex</span></span><br><span class=\"line\">r := &amp;Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">// r is also a pointer to a Vertex</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// The type of a pointer to a Vertex is *Vertex</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> s *Vertex = <span class=\"built_in\">new</span>(Vertex) <span class=\"comment\">// new creates a pointer to a new struct instance</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Interfaces\"><a href=\"#Interfaces\" class=\"headerlink\" title=\"Interfaces\"></a>Interfaces</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// interface declaration</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Awesomizer <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Awesomize() <span class=\"keyword\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// types do *not* declare to implement interfaces</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Foo <span class=\"keyword\">struct</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// instead, types implicitly satisfy an interface if they implement all required methods</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(foo Foo)</span> <span class=\"title\">Awesomize</span><span class=\"params\">()</span> <span class=\"title\">string</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"Awesome!\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Embedding\"><a href=\"#Embedding\" class=\"headerlink\" title=\"Embedding\"></a>Embedding</h2><p>There is no subclassing in Go. Instead, there is interface and struct embedding.</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ReadWriter implementations must satisfy both Reader and Writer</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ReadWriter <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Reader</span><br><span class=\"line\">    Writer</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Server exposes all the methods that Logger has</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Server <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Host <span class=\"keyword\">string</span></span><br><span class=\"line\">    Port <span class=\"keyword\">int</span></span><br><span class=\"line\">    *log.Logger</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// initialize the embedded type the usual way</span></span><br><span class=\"line\">server := &amp;Server&#123;<span class=\"string\">\"localhost\"</span>, <span class=\"number\">80</span>, log.New(...)&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// methods implemented on the embedded struct are passed through</span></span><br><span class=\"line\">server.Log(...) <span class=\"comment\">// calls server.Logger.Log(...)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// the field name of the embedded type is its type name (in this case Logger)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> logger *log.Logger = server.Logger</span><br></pre></td></tr></table></figure>\n<h2 id=\"Errors\"><a href=\"#Errors\" class=\"headerlink\" title=\"Errors\"></a>Errors</h2><p>There is no exception handling. Functions that might produce an error just declare an additional return value of type <code>Error</code>. This is the <code>Error</code> interface:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> error <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Error() <span class=\"keyword\">string</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>A function that might return an error:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">int</span>, error)</span></span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    result, err := doStuff()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// handle error</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// all is good, use result</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Concurrency\"><a href=\"#Concurrency\" class=\"headerlink\" title=\"Concurrency\"></a>Concurrency</h1><h2 id=\"Goroutines\"><a href=\"#Goroutines\" class=\"headerlink\" title=\"Goroutines\"></a>Goroutines</h2><p>Goroutines are lightweight threads (managed by Go, not OS threads). <code>go f(a, b)</code> starts a new goroutine which runs <code>f</code> (given <code>f</code> is a function).</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// just a function (which can be later started as a goroutine)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">(s <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// using a named function in a goroutine</span></span><br><span class=\"line\">    <span class=\"keyword\">go</span> doStuff(<span class=\"string\">\"foobar\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// using an anonymous inner function in a goroutine</span></span><br><span class=\"line\">    <span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(x <span class=\"keyword\">int</span>)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// function body goes here</span></span><br><span class=\"line\">    &#125;(<span class=\"number\">42</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Channels\"><a href=\"#Channels\" class=\"headerlink\" title=\"Channels\"></a>Channels</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ch := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>) <span class=\"comment\">// create a channel of type int</span></span><br><span class=\"line\">ch &lt;- <span class=\"number\">42</span>             <span class=\"comment\">// Send a value to the channel ch.</span></span><br><span class=\"line\">v := &lt;-ch            <span class=\"comment\">// Receive a value from ch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Non-buffered channels block. Read blocks when no value is available, write blocks until there is a read.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Create a buffered channel. Writing to a buffered channels does not block if less than &lt;buffer size&gt; unread values have been written.</span></span><br><span class=\"line\">ch := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">close</span>(ch) <span class=\"comment\">// closes the channel (only sender should close)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// read from channel and test if it has been closed</span></span><br><span class=\"line\">v, ok := &lt;-ch</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// if ok is false, channel has been closed</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Read from channel until it is closed</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"keyword\">range</span> ch &#123;</span><br><span class=\"line\">    fmt.Println(i)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// select blocks on multiple channel operations, if one unblocks, the corresponding case is executed</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">(channelOut, channelIn <span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> channelOut &lt;- <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"We could write to channelOut!\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> x := &lt;- channelIn:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"We could read from channelIn\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> &lt;-time.After(time.Second * <span class=\"number\">1</span>):</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"timeout\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Channel-Axioms\"><a href=\"#Channel-Axioms\" class=\"headerlink\" title=\"Channel Axioms\"></a>Channel Axioms</h3><ul>\n<li><p>A send to a nil channel blocks forever</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c <span class=\"keyword\">chan</span> <span class=\"keyword\">string</span></span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, World!\"</span></span><br><span class=\"line\"><span class=\"comment\">// fatal error: all goroutines are asleep - deadlock!</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A receive from a nil channel blocks forever</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c <span class=\"keyword\">chan</span> <span class=\"keyword\">string</span></span><br><span class=\"line\">fmt.Println(&lt;-c)</span><br><span class=\"line\"><span class=\"comment\">// fatal error: all goroutines are asleep - deadlock!</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A send to a closed channel panics</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">string</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, World!\"</span></span><br><span class=\"line\"><span class=\"built_in\">close</span>(c)</span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, Panic!\"</span></span><br><span class=\"line\"><span class=\"comment\">// panic: send on closed channel</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A receive from a closed channel returns the zero value immediately</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">c &lt;- <span class=\"number\">1</span></span><br><span class=\"line\">c &lt;- <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">close</span>(c)</span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++ &#123;</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">\"%d \"</span>, &lt;-c)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1 2 0</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"Printing\"><a href=\"#Printing\" class=\"headerlink\" title=\"Printing\"></a>Printing</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fmt.Println(<span class=\"string\">\"Hello, , , , \"</span>) <span class=\"comment\">// basic print, plus newline</span></span><br><span class=\"line\">p := <span class=\"keyword\">struct</span> &#123; X, Y <span class=\"keyword\">int</span> &#125;&#123; <span class=\"number\">17</span>, <span class=\"number\">2</span> &#125;</span><br><span class=\"line\">fmt.Println( <span class=\"string\">\"My point:\"</span>, p, <span class=\"string\">\"x coord=\"</span>, p.X ) <span class=\"comment\">// print structs, ints, etc</span></span><br><span class=\"line\">s := fmt.Sprintln( <span class=\"string\">\"My point:\"</span>, p, <span class=\"string\">\"x coord=\"</span>, p.X ) <span class=\"comment\">// print to string variable</span></span><br><span class=\"line\"></span><br><span class=\"line\">fmt.Printf(<span class=\"string\">\"%d hex:%x bin:%b fp:%f sci:%e\"</span>,<span class=\"number\">17</span>,<span class=\"number\">17</span>,<span class=\"number\">17</span>,<span class=\"number\">17.0</span>,<span class=\"number\">17.0</span>) <span class=\"comment\">// c-ish format</span></span><br><span class=\"line\">s2 := fmt.Sprintf( <span class=\"string\">\"%d %f\"</span>, <span class=\"number\">17</span>, <span class=\"number\">17.0</span> ) <span class=\"comment\">// formatted print to string variable</span></span><br><span class=\"line\"></span><br><span class=\"line\">hellomsg := <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\"> \"Hello\" in Chinese is  ('Ni Hao')</span></span><br><span class=\"line\"><span class=\"string\"> \"Hello\" in Hindi is  ('Namaste')</span></span><br><span class=\"line\"><span class=\"string\">`</span> <span class=\"comment\">// multi-line string literal, using back-tick at beginning and end</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Reflection\"><a href=\"#Reflection\" class=\"headerlink\" title=\"Reflection\"></a>Reflection</h2><h3 id=\"Type-Switch\"><a href=\"#Type-Switch\" class=\"headerlink\" title=\"Type Switch\"></a>Type Switch</h3><p>A type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">do</span><span class=\"params\">(i <span class=\"keyword\">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> v := i.(<span class=\"keyword\">type</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"keyword\">int</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"Twice %v is %v\\n\"</span>, v, v*<span class=\"number\">2</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"keyword\">string</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"%q is %v bytes long\\n\"</span>, v, <span class=\"built_in\">len</span>(v))</span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"I don't know about type %T!\\n\"</span>, v)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\tdo(<span class=\"number\">21</span>)</span><br><span class=\"line\">\tdo(<span class=\"string\">\"hello\"</span>)</span><br><span class=\"line\">\tdo(<span class=\"literal\">true</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Snippets\"><a href=\"#Snippets\" class=\"headerlink\" title=\"Snippets\"></a>Snippets</h1><h2 id=\"HTTP-Server\"><a href=\"#HTTP-Server\" class=\"headerlink\" title=\"HTTP Server\"></a>HTTP Server</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">    <span class=\"string\">\"net/http\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// define a type for the response</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Hello <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// let that type implement the ServeHTTP method (defined in interface http.Handler)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(h Hello)</span> <span class=\"title\">ServeHTTP</span><span class=\"params\">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class=\"line\">    fmt.Fprint(w, <span class=\"string\">\"Hello!\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> h Hello</span><br><span class=\"line\">    http.ListenAndServe(<span class=\"string\">\"localhost:4000\"</span>, h)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Here's the method signature of http.ServeHTTP:</span></span><br><span class=\"line\"><span class=\"comment\">// type Handler interface &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     ServeHTTP(w http.ResponseWriter, r *http.Request)</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h1 id=\"Go-Cheat-Sheet\"><a href=\"#Go-Cheat-Sheet\" class=\"headerlink\" title=\"Go Cheat Sheet\"></a>Go Cheat Sheet</h1><p><a href=\"https://devhints.io/\" target=\"_blank\" rel=\"noopener\">cs</a></p>\n<p><a href=\"https://devhints.io/go\" target=\"_blank\" rel=\"noopener\">GO cheatsheet</a></p>\n<p><a href=\"https://dev.to/devmount/a-cheatsheet-of-128-cheatsheets-for-developers-f4m\" target=\"_blank\" rel=\"noopener\">GO cheatsheet</a></p>\n<p><a href=\"https://github.com/golang/go/wiki/LearnServerProgramming\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h1 id=\"Index\"><a href=\"#Index\" class=\"headerlink\" title=\"Index\"></a>Index</h1><ol>\n<li><a href=\"#basic-syntax\">Basic Syntax</a></li>\n<li><a href=\"#operators\">Operators</a><ul>\n<li><a href=\"#arithmetic\">Arithmetic</a></li>\n<li><a href=\"#comparison\">Comparison</a></li>\n<li><a href=\"#logical\">Logical</a></li>\n<li><a href=\"#other\">Other</a></li>\n</ul>\n</li>\n<li><a href=\"#declarations\">Declarations</a></li>\n<li><a href=\"#functions\">Functions</a><ul>\n<li><a href=\"#functions-as-values-and-closures\">Functions as values and closures</a></li>\n<li><a href=\"#variadic-functions\">Variadic Functions</a></li>\n</ul>\n</li>\n<li><a href=\"#built-in-types\">Built-in Types</a></li>\n<li><a href=\"#type-conversions\">Type Conversions</a></li>\n<li><a href=\"#packages\">Packages</a></li>\n<li><a href=\"#control-structures\">Control structures</a><ul>\n<li><a href=\"#if\">If</a></li>\n<li><a href=\"#loops\">Loops</a></li>\n<li><a href=\"#switch\">Switch</a></li>\n</ul>\n</li>\n<li><a href=\"#arrays-slices-ranges\">Arrays, Slices, Ranges</a><ul>\n<li><a href=\"#arrays\">Arrays</a></li>\n<li><a href=\"#slices\">Slices</a></li>\n<li><a href=\"#operations-on-arrays-and-slices\">Operations on Arrays and Slices</a></li>\n</ul>\n</li>\n<li><a href=\"#maps\">Maps</a></li>\n<li><a href=\"#structs\">Structs</a></li>\n<li><a href=\"#pointers\">Pointers</a></li>\n<li><a href=\"#interfaces\">Interfaces</a></li>\n<li><a href=\"#embedding\">Embedding</a></li>\n<li><a href=\"#errors\">Errors</a></li>\n<li><a href=\"#concurrency\">Concurrency</a><ul>\n<li><a href=\"#goroutines\">Goroutines</a></li>\n<li><a href=\"#channels\">Channels</a></li>\n<li><a href=\"#channel-axioms\">Channel Axioms</a></li>\n</ul>\n</li>\n<li><a href=\"#printing\">Printing</a></li>\n<li><a href=\"#reflection\">Reflection</a><ul>\n<li><a href=\"#type-switch\">Type Switch</a></li>\n<li><a href=\"https://github.com/a8m/reflect-examples\" target=\"_blank\" rel=\"noopener\">Examples</a></li>\n</ul>\n</li>\n<li><a href=\"#snippets\">Snippets</a><ul>\n<li><a href=\"#http-server\">Http-Server</a></li>\n</ul>\n</li>\n</ol>","more":"<h2 id=\"Credits\"><a href=\"#Credits\" class=\"headerlink\" title=\"Credits\"></a>Credits</h2><p>Most example code taken from <a href=\"http://tour.golang.org/\" target=\"_blank\" rel=\"noopener\">A Tour of Go</a>, which is an excellent introduction to Go.<br>If youre new to Go, do that tour. Seriously.</p>\n<h2 id=\"Go-in-a-Nutshell\"><a href=\"#Go-in-a-Nutshell\" class=\"headerlink\" title=\"Go in a Nutshell\"></a>Go in a Nutshell</h2><ul>\n<li>Imperative language</li>\n<li>Statically typed</li>\n<li>Syntax tokens similar to C (but less parentheses and no semicolons) and the structure to Oberon-2</li>\n<li>Compiles to native code (no JVM)</li>\n<li>No classes, but structs with methods</li>\n<li>Interfaces</li>\n<li>No implementation inheritance. Theres <a href=\"http://golang.org/doc/effective%5Fgo.html#embedding\" target=\"_blank\" rel=\"noopener\">type embedding</a>, though.</li>\n<li>Functions are first class citizens</li>\n<li>Functions can return multiple values</li>\n<li>Has closures</li>\n<li>Pointers, but not pointer arithmetic</li>\n<li>Built-in concurrency primitives: Goroutines and Channels</li>\n</ul>\n<h1 id=\"Basic-Syntax\"><a href=\"#Basic-Syntax\" class=\"headerlink\" title=\"Basic Syntax\"></a>Basic Syntax</h1><h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h2><p>File <code>hello.go</code>:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">\"fmt\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Hello Go\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>$ go run hello.go</code></p>\n<h2 id=\"Operators\"><a href=\"#Operators\" class=\"headerlink\" title=\"Operators\"></a>Operators</h2><h3 id=\"Arithmetic\"><a href=\"#Arithmetic\" class=\"headerlink\" title=\"Arithmetic\"></a>Arithmetic</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>+</code></td>\n<td>addition</td>\n</tr>\n<tr>\n<td><code>-</code></td>\n<td>subtraction</td>\n</tr>\n<tr>\n<td><code>*</code></td>\n<td>multiplication</td>\n</tr>\n<tr>\n<td><code>/</code></td>\n<td>quotient</td>\n</tr>\n<tr>\n<td><code>%</code></td>\n<td>remainder</td>\n</tr>\n<tr>\n<td><code>&amp;</code></td>\n<td>bitwise and</td>\n</tr>\n<tr>\n<td>`\\</td>\n<td>`</td>\n<td>bitwise or</td>\n</tr>\n<tr>\n<td><code>^</code></td>\n<td>bitwise xor</td>\n</tr>\n<tr>\n<td><code>&amp;^</code></td>\n<td>bit clear (and not)</td>\n</tr>\n<tr>\n<td><code>&lt;&lt;</code></td>\n<td>left shift</td>\n</tr>\n<tr>\n<td><code>&gt;&gt;</code></td>\n<td>right shift</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Comparison\"><a href=\"#Comparison\" class=\"headerlink\" title=\"Comparison\"></a>Comparison</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>==</code></td>\n<td>equal</td>\n</tr>\n<tr>\n<td><code>!=</code></td>\n<td>not equal</td>\n</tr>\n<tr>\n<td><code>&lt;</code></td>\n<td>less than</td>\n</tr>\n<tr>\n<td><code>&lt;=</code></td>\n<td>less than or equal</td>\n</tr>\n<tr>\n<td><code>&gt;</code></td>\n<td>greater than</td>\n</tr>\n<tr>\n<td><code>&gt;=</code></td>\n<td>greater than or equal</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Logical\"><a href=\"#Logical\" class=\"headerlink\" title=\"Logical\"></a>Logical</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&amp;&amp;</code></td>\n<td>logical and</td>\n</tr>\n<tr>\n<td>`\\</td>\n<td>\\</td>\n<td>`</td>\n<td>logical or</td>\n</tr>\n<tr>\n<td><code>!</code></td>\n<td>logical not</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h3><table>\n<thead>\n<tr>\n<th>Operator</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&amp;</code></td>\n<td>address of / create pointer</td>\n</tr>\n<tr>\n<td><code>*</code></td>\n<td>dereference pointer</td>\n</tr>\n<tr>\n<td><code>&lt;-</code></td>\n<td>send / receive operator (see Channels below)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Declarations\"><a href=\"#Declarations\" class=\"headerlink\" title=\"Declarations\"></a>Declarations</h2><p>Type goes after identifier!<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> foo <span class=\"keyword\">int</span> <span class=\"comment\">// declaration without initialization</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo <span class=\"keyword\">int</span> = <span class=\"number\">42</span> <span class=\"comment\">// declaration with initialization</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo, bar <span class=\"keyword\">int</span> = <span class=\"number\">42</span>, <span class=\"number\">1302</span> <span class=\"comment\">// declare and init multiple vars at once</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"number\">42</span> <span class=\"comment\">// type omitted, will be inferred</span></span><br><span class=\"line\">foo := <span class=\"number\">42</span> <span class=\"comment\">// shorthand, only in func bodies, omit var keyword, type is always implicit</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> constant = <span class=\"string\">\"This is a constant\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// iota can be used for incrementing numbers, starting from 0</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> (</span><br><span class=\"line\">    _ = <span class=\"literal\">iota</span></span><br><span class=\"line\">    a</span><br><span class=\"line\">    b</span><br><span class=\"line\">    c = <span class=\"number\">1</span> &lt;&lt; <span class=\"literal\">iota</span></span><br><span class=\"line\">    d</span><br><span class=\"line\">)</span><br><span class=\"line\">    fmt.Println(a, b) <span class=\"comment\">// 1 2 (0 is skipped)</span></span><br><span class=\"line\">    fmt.Println(c, d) <span class=\"comment\">// 8 16 (2^3, 2^4)</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Functions\"><a href=\"#Functions\" class=\"headerlink\" title=\"Functions\"></a>Functions</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// a simple function</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">()</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// function with parameters (again, types go after identifiers)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">(param1 <span class=\"keyword\">string</span>, param2 <span class=\"keyword\">int</span>)</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// multiple parameters of the same type</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">(param1, param2 <span class=\"keyword\">int</span>)</span></span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// return type declaration</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">functionName</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">42</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Can return multiple values at once</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">returnMulti</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">int</span>, <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">42</span>, <span class=\"string\">\"foobar\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> x, str = returnMulti()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return multiple named results simply by return</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">returnMulti2</span><span class=\"params\">()</span> <span class=\"params\">(n <span class=\"keyword\">int</span>, s <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    n = <span class=\"number\">42</span></span><br><span class=\"line\">    s = <span class=\"string\">\"foobar\"</span></span><br><span class=\"line\">    <span class=\"comment\">// n and s will be returned</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> x, str = returnMulti2()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Functions-As-Values-And-Closures\"><a href=\"#Functions-As-Values-And-Closures\" class=\"headerlink\" title=\"Functions As Values And Closures\"></a>Functions As Values And Closures</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// assign a function to a name</span></span><br><span class=\"line\">    add := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(a, b <span class=\"keyword\">int</span>)</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a + b</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// use the name to call the function</span></span><br><span class=\"line\">    fmt.Println(add(<span class=\"number\">3</span>, <span class=\"number\">4</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Closures, lexically scoped: Functions can access values that were</span></span><br><span class=\"line\"><span class=\"comment\">// in scope when defining the function</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">scope</span><span class=\"params\">()</span> <span class=\"title\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    outer_var := <span class=\"number\">2</span></span><br><span class=\"line\">    foo := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123; <span class=\"keyword\">return</span> outer_var&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">another_scope</span><span class=\"params\">()</span> <span class=\"title\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// won't compile because outer_var and foo not defined in this scope</span></span><br><span class=\"line\">    outer_var = <span class=\"number\">444</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Closures</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">outer</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">func</span>()</span> <span class=\"title\">int</span>, <span class=\"title\">int</span>)</span> &#123;</span><br><span class=\"line\">    outer_var := <span class=\"number\">2</span></span><br><span class=\"line\">    inner := <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">        outer_var += <span class=\"number\">99</span> <span class=\"comment\">// outer_var from outer scope is mutated.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> outer_var</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    inner()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> inner, outer_var <span class=\"comment\">// return inner func and mutated outer_var 101</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Variadic-Functions\"><a href=\"#Variadic-Functions\" class=\"headerlink\" title=\"Variadic Functions\"></a>Variadic Functions</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\tfmt.Println(adder(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)) \t<span class=\"comment\">// 6</span></span><br><span class=\"line\">\tfmt.Println(adder(<span class=\"number\">9</span>, <span class=\"number\">9</span>))\t<span class=\"comment\">// 18</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tnums := []<span class=\"keyword\">int</span>&#123;<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>&#125;</span><br><span class=\"line\">\tfmt.Println(adder(nums...))\t<span class=\"comment\">// 60</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// By using ... before the type name of the last parameter you can indicate that it takes zero or more of those parameters.</span></span><br><span class=\"line\"><span class=\"comment\">// The function is invoked like any other function except we can pass as many arguments as we want.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">adder</span><span class=\"params\">(args ...<span class=\"keyword\">int</span>)</span> <span class=\"title\">int</span></span> &#123;</span><br><span class=\"line\">\ttotal := <span class=\"number\">0</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, v := <span class=\"keyword\">range</span> args &#123; <span class=\"comment\">// Iterates over the arguments whatever the number.</span></span><br><span class=\"line\">\t\ttotal += v</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> total</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Built-in-Types\"><a href=\"#Built-in-Types\" class=\"headerlink\" title=\"Built-in Types\"></a>Built-in Types</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bool</span><br><span class=\"line\"></span><br><span class=\"line\">string</span><br><span class=\"line\"></span><br><span class=\"line\">int  int8  int16  int32  int64</span><br><span class=\"line\">uint uint8 uint16 uint32 uint64 uintptr</span><br><span class=\"line\"></span><br><span class=\"line\">byte // alias for uint8</span><br><span class=\"line\"></span><br><span class=\"line\">rune // alias for int32 ~= a character (Unicode code point) - very Viking</span><br><span class=\"line\"></span><br><span class=\"line\">float32 float64</span><br><span class=\"line\"></span><br><span class=\"line\">complex64 complex128</span><br></pre></td></tr></table></figure>\n<h2 id=\"Type-Conversions\"><a href=\"#Type-Conversions\" class=\"headerlink\" title=\"Type Conversions\"></a>Type Conversions</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> i <span class=\"keyword\">int</span> = <span class=\"number\">42</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> f <span class=\"keyword\">float64</span> = <span class=\"keyword\">float64</span>(i)</span><br><span class=\"line\"><span class=\"keyword\">var</span> u <span class=\"keyword\">uint</span> = <span class=\"keyword\">uint</span>(f)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// alternative syntax</span></span><br><span class=\"line\">i := <span class=\"number\">42</span></span><br><span class=\"line\">f := <span class=\"keyword\">float64</span>(i)</span><br><span class=\"line\">u := <span class=\"keyword\">uint</span>(f)</span><br></pre></td></tr></table></figure>\n<h2 id=\"Packages\"><a href=\"#Packages\" class=\"headerlink\" title=\"Packages\"></a>Packages</h2><ul>\n<li>Package declaration at top of every source file</li>\n<li>Executables are in package <code>main</code></li>\n<li>Convention: package name == last name of import path (import path <code>math/rand</code> =&gt; package <code>rand</code>)</li>\n<li>Upper case identifier: exported (visible from other packages)</li>\n<li>Lower case identifier: private (not visible from other packages)</li>\n</ul>\n<h2 id=\"Control-structures\"><a href=\"#Control-structures\" class=\"headerlink\" title=\"Control structures\"></a>Control structures</h2><h3 id=\"If\"><a href=\"#If\" class=\"headerlink\" title=\"If\"></a>If</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// Basic one</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> x &gt; <span class=\"number\">10</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> x == <span class=\"number\">10</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">10</span></span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> -x</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// You can put one statement before the condition</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> a := b + c; a &lt; <span class=\"number\">42</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> a</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> a - <span class=\"number\">42</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Type assertion inside if</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> val <span class=\"keyword\">interface</span>&#123;&#125;</span><br><span class=\"line\">\tval = <span class=\"string\">\"foo\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> str, ok := val.(<span class=\"keyword\">string</span>); ok &#123;</span><br><span class=\"line\">\t\tfmt.Println(str)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loops\"><a href=\"#Loops\" class=\"headerlink\" title=\"Loops\"></a>Loops</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// There's only `for`, no `while`, no `until`</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">1</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> ; i &lt; <span class=\"number\">10</span>;  &#123; <span class=\"comment\">// while - loop</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i &lt; <span class=\"number\">10</span>  &#123; <span class=\"comment\">// you can omit semicolons if there is only a condition</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> &#123; <span class=\"comment\">// you can omit the condition ~ while (true)</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// use break/continue on current loop</span></span><br><span class=\"line\">    <span class=\"comment\">// use break/continue with label on outer loop</span></span><br><span class=\"line\">here:</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++ &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j := i + <span class=\"number\">1</span>; j &lt; <span class=\"number\">3</span>; j++ &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span> here</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fmt.Println(j)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">there:</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">2</span>; i++ &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j := i + <span class=\"number\">1</span>; j &lt; <span class=\"number\">3</span>; j++ &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fmt.Println(j)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span> there</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Switch\"><a href=\"#Switch\" class=\"headerlink\" title=\"Switch\"></a>Switch</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// switch statement</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> operatingSystem &#123;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"darwin\"</span>:</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Mac OS Hipster\"</span>)</span><br><span class=\"line\">    <span class=\"comment\">// cases break automatically, no fallthrough by default</span></span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"linux\"</span>:</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Linux Geek\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">default</span>:</span><br><span class=\"line\">    <span class=\"comment\">// Windows, BSD, ...</span></span><br><span class=\"line\">    fmt.Println(<span class=\"string\">\"Other\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// as with for and if, you can have an assignment statement before the switch value</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> os := runtime.GOOS; os &#123;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"darwin\"</span>: ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// you can also make comparisons in switch cases</span></span><br><span class=\"line\">number := <span class=\"number\">42</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number &lt; <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Smaller\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number == <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Equal\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> number &gt; <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Greater\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// cases can be presented in comma-separated lists</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> char <span class=\"keyword\">byte</span> = <span class=\"string\">'?'</span></span><br><span class=\"line\"><span class=\"keyword\">switch</span> char &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">' '</span>, <span class=\"string\">'?'</span>, <span class=\"string\">'&amp;'</span>, <span class=\"string\">'='</span>, <span class=\"string\">'#'</span>, <span class=\"string\">'+'</span>, <span class=\"string\">'%'</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"Should escape\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Arrays-Slices-Ranges\"><a href=\"#Arrays-Slices-Ranges\" class=\"headerlink\" title=\"Arrays, Slices, Ranges\"></a>Arrays, Slices, Ranges</h2><h3 id=\"Arrays\"><a href=\"#Arrays\" class=\"headerlink\" title=\"Arrays\"></a>Arrays</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a [<span class=\"number\">10</span>]<span class=\"keyword\">int</span> <span class=\"comment\">// declare an int array with length 10. Array length is part of the type!</span></span><br><span class=\"line\">a[<span class=\"number\">3</span>] = <span class=\"number\">42</span>     <span class=\"comment\">// set elements</span></span><br><span class=\"line\">i := a[<span class=\"number\">3</span>]     <span class=\"comment\">// read elements</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// declare and initialize</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">2</span>]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br><span class=\"line\">a := [<span class=\"number\">2</span>]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">//shorthand</span></span><br><span class=\"line\">a := [...]<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">// elipsis -&gt; Compiler figures out array length</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Slices\"><a href=\"#Slices\" class=\"headerlink\" title=\"Slices\"></a>Slices</h3><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a []<span class=\"keyword\">int</span>                              <span class=\"comment\">// declare a slice - similar to an array, but length is unspecified</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = []<span class=\"keyword\">int</span> &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>&#125;               <span class=\"comment\">// declare and initialize a slice (backed by the array given implicitly)</span></span><br><span class=\"line\">a := []<span class=\"keyword\">int</span>&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>&#125;                   <span class=\"comment\">// shorthand</span></span><br><span class=\"line\">chars := []<span class=\"keyword\">string</span>&#123;<span class=\"number\">0</span>:<span class=\"string\">\"a\"</span>, <span class=\"number\">2</span>:<span class=\"string\">\"c\"</span>, <span class=\"number\">1</span>: <span class=\"string\">\"b\"</span>&#125;  <span class=\"comment\">// [\"a\", \"b\", \"c\"]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[lo:hi]\t<span class=\"comment\">// creates a slice (view of the array) from index lo to hi-1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[<span class=\"number\">1</span>:<span class=\"number\">4</span>]\t\t<span class=\"comment\">// slice from index 1 to 3</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[:<span class=\"number\">3</span>]\t\t<span class=\"comment\">// missing low index implies 0</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a[<span class=\"number\">3</span>:]\t\t<span class=\"comment\">// missing high index implies len(a)</span></span><br><span class=\"line\">a =  <span class=\"built_in\">append</span>(a,<span class=\"number\">17</span>,<span class=\"number\">3</span>)\t<span class=\"comment\">// append items to slice a</span></span><br><span class=\"line\">c := <span class=\"built_in\">append</span>(a,b...)\t<span class=\"comment\">// concatenate slices a and b</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a slice with make</span></span><br><span class=\"line\">a = <span class=\"built_in\">make</span>([]<span class=\"keyword\">byte</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>)\t<span class=\"comment\">// first arg length, second capacity</span></span><br><span class=\"line\">a = <span class=\"built_in\">make</span>([]<span class=\"keyword\">byte</span>, <span class=\"number\">5</span>)\t<span class=\"comment\">// capacity is optional</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// create a slice from an array</span></span><br><span class=\"line\">x := [<span class=\"number\">3</span>]<span class=\"keyword\">string</span>&#123;<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>&#125;</span><br><span class=\"line\">s := x[:] <span class=\"comment\">// a slice referencing the storage of x</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Operations-on-Arrays-and-Slices\"><a href=\"#Operations-on-Arrays-and-Slices\" class=\"headerlink\" title=\"Operations on Arrays and Slices\"></a>Operations on Arrays and Slices</h3><p><code>len(a)</code> gives you the length of an array/a slice. Its a built-in function, not a attribute/method on the array.</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// loop over an array/a slice</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i, e := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">    <span class=\"comment\">// i is the index, e the element</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// if you only need e:</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> _, e := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">    <span class=\"comment\">// e is the element</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...and if you only need the index</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"keyword\">range</span> a &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// In Go pre-1.4, you'll get a compiler error if you're not using i and e.</span></span><br><span class=\"line\"><span class=\"comment\">// Go 1.4 introduced a variable-free form, so that you can do this</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"keyword\">range</span> time.Tick(time.Second) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do it once a sec</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Maps\"><a href=\"#Maps\" class=\"headerlink\" title=\"Maps\"></a>Maps</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> m <span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]<span class=\"keyword\">int</span></span><br><span class=\"line\">m = <span class=\"built_in\">make</span>(<span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]<span class=\"keyword\">int</span>)</span><br><span class=\"line\">m[<span class=\"string\">\"key\"</span>] = <span class=\"number\">42</span></span><br><span class=\"line\">fmt.Println(m[<span class=\"string\">\"key\"</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">delete</span>(m, <span class=\"string\">\"key\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">elem, ok := m[<span class=\"string\">\"key\"</span>] <span class=\"comment\">// test if key \"key\" is present and retrieve it, if so</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// map literal</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> m = <span class=\"keyword\">map</span>[<span class=\"keyword\">string</span>]Vertex&#123;</span><br><span class=\"line\">    <span class=\"string\">\"Bell Labs\"</span>: &#123;<span class=\"number\">40.68433</span>, <span class=\"number\">-74.39967</span>&#125;,</span><br><span class=\"line\">    <span class=\"string\">\"Google\"</span>:    &#123;<span class=\"number\">37.42202</span>, <span class=\"number\">-122.08408</span>&#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// iterate over map content</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> key, value := <span class=\"keyword\">range</span> m &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Structs\"><a href=\"#Structs\" class=\"headerlink\" title=\"Structs\"></a>Structs</h2><p>There are no classes, only structs. Structs can have methods.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A struct is a type. It's also a collection of fields</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Declaration</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Vertex <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    X, Y <span class=\"keyword\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Creating</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> v = Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> v = Vertex&#123;X: <span class=\"number\">1</span>, Y: <span class=\"number\">2</span>&#125; <span class=\"comment\">// Creates a struct by defining values with keys</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> v = []Vertex&#123;&#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">5</span>&#125;&#125; <span class=\"comment\">// Initialize a slice of structs</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Accessing members</span></span><br><span class=\"line\">v.X = <span class=\"number\">4</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// You can declare methods on structs. The struct you want to declare the</span></span><br><span class=\"line\"><span class=\"comment\">// method on (the receiving type) comes between the the func keyword and</span></span><br><span class=\"line\"><span class=\"comment\">// the method name. The struct is copied on each method call(!)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(v Vertex)</span> <span class=\"title\">Abs</span><span class=\"params\">()</span> <span class=\"title\">float64</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call method</span></span><br><span class=\"line\">v.Abs()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// For mutating methods, you need to use a pointer (see below) to the Struct</span></span><br><span class=\"line\"><span class=\"comment\">// as the type. With this, the struct value is not copied for the method call.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(v *Vertex)</span> <span class=\"title\">add</span><span class=\"params\">(n <span class=\"keyword\">float64</span>)</span></span> &#123;</span><br><span class=\"line\">    v.X += n</span><br><span class=\"line\">    v.Y += n</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>Anonymous structs:</strong><br>Cheaper and safer than using <code>map[string]interface{}</code>.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">point := <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tX, Y <span class=\"keyword\">int</span></span><br><span class=\"line\">&#125;&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Pointers\"><a href=\"#Pointers\" class=\"headerlink\" title=\"Pointers\"></a>Pointers</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p := Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;  <span class=\"comment\">// p is a Vertex</span></span><br><span class=\"line\">q := &amp;p            <span class=\"comment\">// q is a pointer to a Vertex</span></span><br><span class=\"line\">r := &amp;Vertex&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>&#125; <span class=\"comment\">// r is also a pointer to a Vertex</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// The type of a pointer to a Vertex is *Vertex</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> s *Vertex = <span class=\"built_in\">new</span>(Vertex) <span class=\"comment\">// new creates a pointer to a new struct instance</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Interfaces\"><a href=\"#Interfaces\" class=\"headerlink\" title=\"Interfaces\"></a>Interfaces</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// interface declaration</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Awesomizer <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Awesomize() <span class=\"keyword\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// types do *not* declare to implement interfaces</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Foo <span class=\"keyword\">struct</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// instead, types implicitly satisfy an interface if they implement all required methods</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(foo Foo)</span> <span class=\"title\">Awesomize</span><span class=\"params\">()</span> <span class=\"title\">string</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"Awesome!\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Embedding\"><a href=\"#Embedding\" class=\"headerlink\" title=\"Embedding\"></a>Embedding</h2><p>There is no subclassing in Go. Instead, there is interface and struct embedding.</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ReadWriter implementations must satisfy both Reader and Writer</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ReadWriter <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Reader</span><br><span class=\"line\">    Writer</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Server exposes all the methods that Logger has</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Server <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Host <span class=\"keyword\">string</span></span><br><span class=\"line\">    Port <span class=\"keyword\">int</span></span><br><span class=\"line\">    *log.Logger</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// initialize the embedded type the usual way</span></span><br><span class=\"line\">server := &amp;Server&#123;<span class=\"string\">\"localhost\"</span>, <span class=\"number\">80</span>, log.New(...)&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// methods implemented on the embedded struct are passed through</span></span><br><span class=\"line\">server.Log(...) <span class=\"comment\">// calls server.Logger.Log(...)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// the field name of the embedded type is its type name (in this case Logger)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> logger *log.Logger = server.Logger</span><br></pre></td></tr></table></figure>\n<h2 id=\"Errors\"><a href=\"#Errors\" class=\"headerlink\" title=\"Errors\"></a>Errors</h2><p>There is no exception handling. Functions that might produce an error just declare an additional return value of type <code>Error</code>. This is the <code>Error</code> interface:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> error <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Error() <span class=\"keyword\">string</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>A function that might return an error:<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">()</span> <span class=\"params\">(<span class=\"keyword\">int</span>, error)</span></span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    result, err := doStuff()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// handle error</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// all is good, use result</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Concurrency\"><a href=\"#Concurrency\" class=\"headerlink\" title=\"Concurrency\"></a>Concurrency</h1><h2 id=\"Goroutines\"><a href=\"#Goroutines\" class=\"headerlink\" title=\"Goroutines\"></a>Goroutines</h2><p>Goroutines are lightweight threads (managed by Go, not OS threads). <code>go f(a, b)</code> starts a new goroutine which runs <code>f</code> (given <code>f</code> is a function).</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// just a function (which can be later started as a goroutine)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">(s <span class=\"keyword\">string</span>)</span></span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// using a named function in a goroutine</span></span><br><span class=\"line\">    <span class=\"keyword\">go</span> doStuff(<span class=\"string\">\"foobar\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// using an anonymous inner function in a goroutine</span></span><br><span class=\"line\">    <span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(x <span class=\"keyword\">int</span>)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// function body goes here</span></span><br><span class=\"line\">    &#125;(<span class=\"number\">42</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Channels\"><a href=\"#Channels\" class=\"headerlink\" title=\"Channels\"></a>Channels</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ch := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>) <span class=\"comment\">// create a channel of type int</span></span><br><span class=\"line\">ch &lt;- <span class=\"number\">42</span>             <span class=\"comment\">// Send a value to the channel ch.</span></span><br><span class=\"line\">v := &lt;-ch            <span class=\"comment\">// Receive a value from ch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Non-buffered channels block. Read blocks when no value is available, write blocks until there is a read.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Create a buffered channel. Writing to a buffered channels does not block if less than &lt;buffer size&gt; unread values have been written.</span></span><br><span class=\"line\">ch := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">close</span>(ch) <span class=\"comment\">// closes the channel (only sender should close)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// read from channel and test if it has been closed</span></span><br><span class=\"line\">v, ok := &lt;-ch</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// if ok is false, channel has been closed</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Read from channel until it is closed</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"keyword\">range</span> ch &#123;</span><br><span class=\"line\">    fmt.Println(i)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// select blocks on multiple channel operations, if one unblocks, the corresponding case is executed</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">doStuff</span><span class=\"params\">(channelOut, channelIn <span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> channelOut &lt;- <span class=\"number\">42</span>:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"We could write to channelOut!\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> x := &lt;- channelIn:</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"We could read from channelIn\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">case</span> &lt;-time.After(time.Second * <span class=\"number\">1</span>):</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">\"timeout\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Channel-Axioms\"><a href=\"#Channel-Axioms\" class=\"headerlink\" title=\"Channel Axioms\"></a>Channel Axioms</h3><ul>\n<li><p>A send to a nil channel blocks forever</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c <span class=\"keyword\">chan</span> <span class=\"keyword\">string</span></span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, World!\"</span></span><br><span class=\"line\"><span class=\"comment\">// fatal error: all goroutines are asleep - deadlock!</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A receive from a nil channel blocks forever</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c <span class=\"keyword\">chan</span> <span class=\"keyword\">string</span></span><br><span class=\"line\">fmt.Println(&lt;-c)</span><br><span class=\"line\"><span class=\"comment\">// fatal error: all goroutines are asleep - deadlock!</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A send to a closed channel panics</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">string</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, World!\"</span></span><br><span class=\"line\"><span class=\"built_in\">close</span>(c)</span><br><span class=\"line\">c &lt;- <span class=\"string\">\"Hello, Panic!\"</span></span><br><span class=\"line\"><span class=\"comment\">// panic: send on closed channel</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>A receive from a closed channel returns the zero value immediately</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"keyword\">int</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">c &lt;- <span class=\"number\">1</span></span><br><span class=\"line\">c &lt;- <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">close</span>(c)</span><br><span class=\"line\"><span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++ &#123;</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">\"%d \"</span>, &lt;-c)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1 2 0</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"Printing\"><a href=\"#Printing\" class=\"headerlink\" title=\"Printing\"></a>Printing</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fmt.Println(<span class=\"string\">\"Hello, , , , \"</span>) <span class=\"comment\">// basic print, plus newline</span></span><br><span class=\"line\">p := <span class=\"keyword\">struct</span> &#123; X, Y <span class=\"keyword\">int</span> &#125;&#123; <span class=\"number\">17</span>, <span class=\"number\">2</span> &#125;</span><br><span class=\"line\">fmt.Println( <span class=\"string\">\"My point:\"</span>, p, <span class=\"string\">\"x coord=\"</span>, p.X ) <span class=\"comment\">// print structs, ints, etc</span></span><br><span class=\"line\">s := fmt.Sprintln( <span class=\"string\">\"My point:\"</span>, p, <span class=\"string\">\"x coord=\"</span>, p.X ) <span class=\"comment\">// print to string variable</span></span><br><span class=\"line\"></span><br><span class=\"line\">fmt.Printf(<span class=\"string\">\"%d hex:%x bin:%b fp:%f sci:%e\"</span>,<span class=\"number\">17</span>,<span class=\"number\">17</span>,<span class=\"number\">17</span>,<span class=\"number\">17.0</span>,<span class=\"number\">17.0</span>) <span class=\"comment\">// c-ish format</span></span><br><span class=\"line\">s2 := fmt.Sprintf( <span class=\"string\">\"%d %f\"</span>, <span class=\"number\">17</span>, <span class=\"number\">17.0</span> ) <span class=\"comment\">// formatted print to string variable</span></span><br><span class=\"line\"></span><br><span class=\"line\">hellomsg := <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\"> \"Hello\" in Chinese is  ('Ni Hao')</span></span><br><span class=\"line\"><span class=\"string\"> \"Hello\" in Hindi is  ('Namaste')</span></span><br><span class=\"line\"><span class=\"string\">`</span> <span class=\"comment\">// multi-line string literal, using back-tick at beginning and end</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Reflection\"><a href=\"#Reflection\" class=\"headerlink\" title=\"Reflection\"></a>Reflection</h2><h3 id=\"Type-Switch\"><a href=\"#Type-Switch\" class=\"headerlink\" title=\"Type Switch\"></a>Type Switch</h3><p>A type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.<br><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">do</span><span class=\"params\">(i <span class=\"keyword\">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> v := i.(<span class=\"keyword\">type</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"keyword\">int</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"Twice %v is %v\\n\"</span>, v, v*<span class=\"number\">2</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"keyword\">string</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"%q is %v bytes long\\n\"</span>, v, <span class=\"built_in\">len</span>(v))</span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">\"I don't know about type %T!\\n\"</span>, v)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\tdo(<span class=\"number\">21</span>)</span><br><span class=\"line\">\tdo(<span class=\"string\">\"hello\"</span>)</span><br><span class=\"line\">\tdo(<span class=\"literal\">true</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Snippets\"><a href=\"#Snippets\" class=\"headerlink\" title=\"Snippets\"></a>Snippets</h1><h2 id=\"HTTP-Server\"><a href=\"#HTTP-Server\" class=\"headerlink\" title=\"HTTP Server\"></a>HTTP Server</h2><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">\"fmt\"</span></span><br><span class=\"line\">    <span class=\"string\">\"net/http\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// define a type for the response</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Hello <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// let that type implement the ServeHTTP method (defined in interface http.Handler)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(h Hello)</span> <span class=\"title\">ServeHTTP</span><span class=\"params\">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</span><br><span class=\"line\">    fmt.Fprint(w, <span class=\"string\">\"Hello!\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> h Hello</span><br><span class=\"line\">    http.ListenAndServe(<span class=\"string\">\"localhost:4000\"</span>, h)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Here's the method signature of http.ServeHTTP:</span></span><br><span class=\"line\"><span class=\"comment\">// type Handler interface &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     ServeHTTP(w http.ResponseWriter, r *http.Request)</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>"},{"title":"Go Install","date":"2020-05-02T06:50:44.000Z","updated":"2020-05-02T06:50:44.000Z","_content":"\n\n## \n> yum install go\n\n\n\n> git clone https://github.com/golang/go.gitcd go/git checkout 1.13cd srcall.bash\n\ngo/bin/go \n\n\n> goexport GOPATH=$HOME/www/go:$HOME/www/baxian/baxian_sea/doc/data/tokumxexport GOBIN=$HOME/www/bin\n\n\n<!-- more -->\n\nGOPATH:\n\n```bash\nyangyu@bw-dev-yangyu-01[go] $tree .\n.\n bin\n pkg\n src\n\ncd $GOPATH/src\ngo get github.com/nsf/gocode\ncd github.com/nsf/gocode/\ngo build\ngo install\n\n```\n\n\n## \n1. go1.11go module\n2. GOPROXY\n\n```bash\nexport GO111MODULE=onexport GOPROXY=https://goproxy.cnexport GOPROXY=https://mirrors.aliyun.com/goproxy/vim8:\n\ncd /yangyu/.vim/pack/plugins/startgit clone https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries\n\n\ncd /yangyu/.vim/pack/plugins/startgit clone https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries\ngo\ngo get golang.org/x/tools/cmd/godoc\n\n```\n\n\n\nsubmit text3 \n\n```bash\n\nRead the extension example and make sure you understand its contents. File an issue if you have any concerns.\nUninstall GoSublime\nRun the command git clone https://margo.sh/GoSublime to install GoSublime from the development branch.\nRestart Sublime Text. The status bar should instruct you to press ctrl+.,ctrl+x or cmd+.,cmd+x which creates the margo extension file. Please read all comments in the file.\nIf you've already switched to the new margo implementation, it might help to check the extension example for changes as there are some API breakages.\n\n\n\n\"gscomplete_enabled\": true,\n // Whether or not gsfmt is enabled\n\"fmt_enabled\": true,\n\n```\n\n\n\n\nvs code \n\n> https://www.cnblogs.com/yangxiaoyi/p/9692369.html\n\n```bash\n\nvscode setting.json\n\"go.formatTool\": \"goimports\",\n\"go.goroot\": \"/usr/local/Cellar/go/1.13.5/libexec\",\n\"go.gopath\": \"/Users/change/go\",\n\"go.useLanguageServer\": true,\n\"go.autocompleteUnimportedPackages\": true,\n\"go.docsTool\": \"gogetdoc\",\n\n```\n\n1.11mod\n\n> go env -w GO111MODULE=on\n\n> go env -w GOPROXY=https://goproxy.cn,direct\n\n```bash\nGOROOTgo\nGOPATHimportgoGOPATHbinpkgsrc\nsrcgo\npkg*.a;\nbin\n\ngo run .go\ngo install \ngo build go\ngo get = git clone + go install \n\n```\n\n\n\n","source":"_posts/2020/go-install.md","raw":"---\ntitle: Go Install\ndate: 2020-05-02 14:50:44\nupdated: 2020-05-02 14:50:44\ntags:\n- Go\ncategories:\n---\n\n\n## \n> yum install go\n\n\n\n> git clone https://github.com/golang/go.gitcd go/git checkout 1.13cd srcall.bash\n\ngo/bin/go \n\n\n> goexport GOPATH=$HOME/www/go:$HOME/www/baxian/baxian_sea/doc/data/tokumxexport GOBIN=$HOME/www/bin\n\n\n<!-- more -->\n\nGOPATH:\n\n```bash\nyangyu@bw-dev-yangyu-01[go] $tree .\n.\n bin\n pkg\n src\n\ncd $GOPATH/src\ngo get github.com/nsf/gocode\ncd github.com/nsf/gocode/\ngo build\ngo install\n\n```\n\n\n## \n1. go1.11go module\n2. GOPROXY\n\n```bash\nexport GO111MODULE=onexport GOPROXY=https://goproxy.cnexport GOPROXY=https://mirrors.aliyun.com/goproxy/vim8:\n\ncd /yangyu/.vim/pack/plugins/startgit clone https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries\n\n\ncd /yangyu/.vim/pack/plugins/startgit clone https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries\ngo\ngo get golang.org/x/tools/cmd/godoc\n\n```\n\n\n\nsubmit text3 \n\n```bash\n\nRead the extension example and make sure you understand its contents. File an issue if you have any concerns.\nUninstall GoSublime\nRun the command git clone https://margo.sh/GoSublime to install GoSublime from the development branch.\nRestart Sublime Text. The status bar should instruct you to press ctrl+.,ctrl+x or cmd+.,cmd+x which creates the margo extension file. Please read all comments in the file.\nIf you've already switched to the new margo implementation, it might help to check the extension example for changes as there are some API breakages.\n\n\n\n\"gscomplete_enabled\": true,\n // Whether or not gsfmt is enabled\n\"fmt_enabled\": true,\n\n```\n\n\n\n\nvs code \n\n> https://www.cnblogs.com/yangxiaoyi/p/9692369.html\n\n```bash\n\nvscode setting.json\n\"go.formatTool\": \"goimports\",\n\"go.goroot\": \"/usr/local/Cellar/go/1.13.5/libexec\",\n\"go.gopath\": \"/Users/change/go\",\n\"go.useLanguageServer\": true,\n\"go.autocompleteUnimportedPackages\": true,\n\"go.docsTool\": \"gogetdoc\",\n\n```\n\n1.11mod\n\n> go env -w GO111MODULE=on\n\n> go env -w GOPROXY=https://goproxy.cn,direct\n\n```bash\nGOROOTgo\nGOPATHimportgoGOPATHbinpkgsrc\nsrcgo\npkg*.a;\nbin\n\ngo run .go\ngo install \ngo build go\ngo get = git clone + go install \n\n```\n\n\n\n","slug":"go-install","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138go003mhpwfx1vrfidd","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>yum install go</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>git clone <a href=\"https://github.com/golang/go.gitcd\" target=\"_blank\" rel=\"noopener\">https://github.com/golang/go.gitcd</a> go/git checkout 1.13cd srcall.bash</p>\n</blockquote>\n<p>go/bin/go <br></p>\n<blockquote>\n<p>goexport GOPATH=$HOME/www/go:$HOME/www/baxian/baxian_sea/doc/data/tokumxexport GOBIN=$HOME/www/bin</p>\n</blockquote>\n<a id=\"more\"></a>\n<p>GOPATH:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yangyu@bw-dev-yangyu-01[go] <span class=\"variable\">$tree</span> .</span><br><span class=\"line\">.</span><br><span class=\"line\"> bin</span><br><span class=\"line\"> pkg</span><br><span class=\"line\"> src</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$GOPATH</span>/src</span><br><span class=\"line\">go get github.com/nsf/gocode</span><br><span class=\"line\"><span class=\"built_in\">cd</span> github.com/nsf/gocode/</span><br><span class=\"line\">go build</span><br><span class=\"line\">go install</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>go1.11go module</li>\n<li>GOPROXY</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> GO111MODULE=onexport GOPROXY=https://goproxy.cn<span class=\"built_in\">export</span> GOPROXY=https://mirrors.aliyun.com/goproxy/vim8:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /yangyu/.vim/pack/plugins/startgit <span class=\"built_in\">clone</span> https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /yangyu/.vim/pack/plugins/startgit <span class=\"built_in\">clone</span> https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries</span><br><span class=\"line\">go</span><br><span class=\"line\">go get golang.org/x/tools/cmd/godoc</span><br></pre></td></tr></table></figure>\n<p>submit text3 </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Read the extension example and make sure you understand its contents. File an issue <span class=\"keyword\">if</span> you have any concerns.</span><br><span class=\"line\">Uninstall GoSublime</span><br><span class=\"line\">Run the <span class=\"built_in\">command</span> git <span class=\"built_in\">clone</span> https://margo.sh/GoSublime to install GoSublime from the development branch.</span><br><span class=\"line\">Restart Sublime Text. The status bar should instruct you to press ctrl+.,ctrl+x or cmd+.,cmd+x <span class=\"built_in\">which</span> creates the margo extension file. Please <span class=\"built_in\">read</span> all comments <span class=\"keyword\">in</span> the file.</span><br><span class=\"line\">If you<span class=\"string\">'ve already switched to the new margo implementation, it might help to check the extension example for changes as there are some API breakages.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">\"gscomplete_enabled\": true,</span></span><br><span class=\"line\"><span class=\"string\"> // Whether or not gsfmt is enabled</span></span><br><span class=\"line\"><span class=\"string\">\"fmt_enabled\": true,</span></span><br></pre></td></tr></table></figure>\n<p>vs code </p>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/yangxiaoyi/p/9692369.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/yangxiaoyi/p/9692369.html</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">vscode setting.json</span><br><span class=\"line\"><span class=\"string\">\"go.formatTool\"</span>: <span class=\"string\">\"goimports\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.goroot\"</span>: <span class=\"string\">\"/usr/local/Cellar/go/1.13.5/libexec\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.gopath\"</span>: <span class=\"string\">\"/Users/change/go\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.useLanguageServer\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.autocompleteUnimportedPackages\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.docsTool\"</span>: <span class=\"string\">\"gogetdoc\"</span>,</span><br></pre></td></tr></table></figure>\n<p>1.11mod</p>\n<blockquote>\n<p>go env -w GO111MODULE=on</p>\n</blockquote>\n<blockquote>\n<p>go env -w GOPROXY=<a href=\"https://goproxy.cn,direct\" target=\"_blank\" rel=\"noopener\">https://goproxy.cn,direct</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GOROOTgo</span><br><span class=\"line\">GOPATHimportgoGOPATHbinpkgsrc</span><br><span class=\"line\">srcgo</span><br><span class=\"line\">pkg*.a;</span><br><span class=\"line\">bin</span><br><span class=\"line\"></span><br><span class=\"line\">go run .go</span><br><span class=\"line\">go install </span><br><span class=\"line\">go build go</span><br><span class=\"line\">go get = git <span class=\"built_in\">clone</span> + go install </span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>yum install go</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>git clone <a href=\"https://github.com/golang/go.gitcd\" target=\"_blank\" rel=\"noopener\">https://github.com/golang/go.gitcd</a> go/git checkout 1.13cd srcall.bash</p>\n</blockquote>\n<p>go/bin/go <br></p>\n<blockquote>\n<p>goexport GOPATH=$HOME/www/go:$HOME/www/baxian/baxian_sea/doc/data/tokumxexport GOBIN=$HOME/www/bin</p>\n</blockquote>","more":"<p>GOPATH:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yangyu@bw-dev-yangyu-01[go] <span class=\"variable\">$tree</span> .</span><br><span class=\"line\">.</span><br><span class=\"line\"> bin</span><br><span class=\"line\"> pkg</span><br><span class=\"line\"> src</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"variable\">$GOPATH</span>/src</span><br><span class=\"line\">go get github.com/nsf/gocode</span><br><span class=\"line\"><span class=\"built_in\">cd</span> github.com/nsf/gocode/</span><br><span class=\"line\">go build</span><br><span class=\"line\">go install</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>go1.11go module</li>\n<li>GOPROXY</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> GO111MODULE=onexport GOPROXY=https://goproxy.cn<span class=\"built_in\">export</span> GOPROXY=https://mirrors.aliyun.com/goproxy/vim8:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /yangyu/.vim/pack/plugins/startgit <span class=\"built_in\">clone</span> https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /yangyu/.vim/pack/plugins/startgit <span class=\"built_in\">clone</span> https://github.com/fatih/vim-go.gitvi main.go:GoInstallBinaries</span><br><span class=\"line\">go</span><br><span class=\"line\">go get golang.org/x/tools/cmd/godoc</span><br></pre></td></tr></table></figure>\n<p>submit text3 </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Read the extension example and make sure you understand its contents. File an issue <span class=\"keyword\">if</span> you have any concerns.</span><br><span class=\"line\">Uninstall GoSublime</span><br><span class=\"line\">Run the <span class=\"built_in\">command</span> git <span class=\"built_in\">clone</span> https://margo.sh/GoSublime to install GoSublime from the development branch.</span><br><span class=\"line\">Restart Sublime Text. The status bar should instruct you to press ctrl+.,ctrl+x or cmd+.,cmd+x <span class=\"built_in\">which</span> creates the margo extension file. Please <span class=\"built_in\">read</span> all comments <span class=\"keyword\">in</span> the file.</span><br><span class=\"line\">If you<span class=\"string\">'ve already switched to the new margo implementation, it might help to check the extension example for changes as there are some API breakages.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">\"gscomplete_enabled\": true,</span></span><br><span class=\"line\"><span class=\"string\"> // Whether or not gsfmt is enabled</span></span><br><span class=\"line\"><span class=\"string\">\"fmt_enabled\": true,</span></span><br></pre></td></tr></table></figure>\n<p>vs code </p>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/yangxiaoyi/p/9692369.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/yangxiaoyi/p/9692369.html</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">vscode setting.json</span><br><span class=\"line\"><span class=\"string\">\"go.formatTool\"</span>: <span class=\"string\">\"goimports\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.goroot\"</span>: <span class=\"string\">\"/usr/local/Cellar/go/1.13.5/libexec\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.gopath\"</span>: <span class=\"string\">\"/Users/change/go\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.useLanguageServer\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.autocompleteUnimportedPackages\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"go.docsTool\"</span>: <span class=\"string\">\"gogetdoc\"</span>,</span><br></pre></td></tr></table></figure>\n<p>1.11mod</p>\n<blockquote>\n<p>go env -w GO111MODULE=on</p>\n</blockquote>\n<blockquote>\n<p>go env -w GOPROXY=<a href=\"https://goproxy.cn,direct\" target=\"_blank\" rel=\"noopener\">https://goproxy.cn,direct</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GOROOTgo</span><br><span class=\"line\">GOPATHimportgoGOPATHbinpkgsrc</span><br><span class=\"line\">srcgo</span><br><span class=\"line\">pkg*.a;</span><br><span class=\"line\">bin</span><br><span class=\"line\"></span><br><span class=\"line\">go run .go</span><br><span class=\"line\">go install </span><br><span class=\"line\">go build go</span><br><span class=\"line\">go get = git <span class=\"built_in\">clone</span> + go install </span><br></pre></td></tr></table></figure>"},{"title":"Google ","date":"2020-05-02T07:08:26.000Z","updated":"2020-05-02T07:08:26.000Z","_content":"\n# Google \n\n1. \n\n http://www.google.com/ncr NCR: No Country Redirectionhttp://www.google.com.hkhttp://www.google.comGoogle VPNhttp://www.google.co.jp\n\n2. \n\n\n\n3. \n\nGoogle Google  A Google A Day\n\na\n\n Google  Google + purpose of education Google purposeeducationpurpose of educationatheofinonattoandorbutthatwhichwhenmyhisthem\n\n<!-- more -->\n\nb\n\npurpose of education\"purpose of education\" Google  utf-8 \"Googlepurpose of education vs.purpose of education the most important benefit of education  the most important benefit of education\n\nc\n\n-the most important benefit of education  united statesGooglethe most important benefit of educationunited states\n\nd\n\n*Google *the most * examples of censorshipthe most outrageous examples of censorshipthe most brazen examples of censorshipthe most heinous examples of censorshipthe most stupidest examples of censorshipthe most dangerous examples of censorshipthe most egregious examples of censorshipthe most prolific examples of censorshipthe most absurd examples of censorship\n\ne\n\n~~ Google~the importance of ~censorshipthe importance of censorshipcensorshippropagandathe importance of propaganda\n\n4. \n\na\n\nsite:the purpose of education site:http://www.time.com/ Google  http://www.time.com the purpose of education\n\nb\n\n2006Google co-op Google  Google site: Google cseCustom Search EngineSearch News MediacensorshipGRE/SAT censorship cse 10\n\n> - http://www.economist.com/\n> - http://www.cnn.com/\n> - http://www.time.com/\n> - http://nytimes.com/\n> - http://www.washingtonpost.com/\n> - http://www.usnews.com/\n> - http://usatoday.com/\n> - http://www.reuters.com/\n> - http://www.bbc.co.uk/\n> - http://en.wikinews.org/","source":"_posts/2020/google-use-skill.md","raw":"---\ntitle: Google \ndate: 2020-05-02 15:08:26\nupdated: 2020-05-02 15:08:26\ntags:\n- google\ncategories:\n---\n\n# Google \n\n1. \n\n http://www.google.com/ncr NCR: No Country Redirectionhttp://www.google.com.hkhttp://www.google.comGoogle VPNhttp://www.google.co.jp\n\n2. \n\n\n\n3. \n\nGoogle Google  A Google A Day\n\na\n\n Google  Google + purpose of education Google purposeeducationpurpose of educationatheofinonattoandorbutthatwhichwhenmyhisthem\n\n<!-- more -->\n\nb\n\npurpose of education\"purpose of education\" Google  utf-8 \"Googlepurpose of education vs.purpose of education the most important benefit of education  the most important benefit of education\n\nc\n\n-the most important benefit of education  united statesGooglethe most important benefit of educationunited states\n\nd\n\n*Google *the most * examples of censorshipthe most outrageous examples of censorshipthe most brazen examples of censorshipthe most heinous examples of censorshipthe most stupidest examples of censorshipthe most dangerous examples of censorshipthe most egregious examples of censorshipthe most prolific examples of censorshipthe most absurd examples of censorship\n\ne\n\n~~ Google~the importance of ~censorshipthe importance of censorshipcensorshippropagandathe importance of propaganda\n\n4. \n\na\n\nsite:the purpose of education site:http://www.time.com/ Google  http://www.time.com the purpose of education\n\nb\n\n2006Google co-op Google  Google site: Google cseCustom Search EngineSearch News MediacensorshipGRE/SAT censorship cse 10\n\n> - http://www.economist.com/\n> - http://www.cnn.com/\n> - http://www.time.com/\n> - http://nytimes.com/\n> - http://www.washingtonpost.com/\n> - http://www.usnews.com/\n> - http://usatoday.com/\n> - http://www.reuters.com/\n> - http://www.bbc.co.uk/\n> - http://en.wikinews.org/","slug":"google-use-skill","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gp003nhpwfvhaince3","content":"<h1 id=\"Google-\"><a href=\"#Google-\" class=\"headerlink\" title=\"Google \"></a>Google </h1><ol>\n<li></li>\n</ol>\n<p> <a href=\"http://www.google.com/ncr\" target=\"_blank\" rel=\"noopener\">http://www.google.com/ncr</a> NCR: No Country Redirection<a href=\"http://www.google.com.hkhttp://www.google.comGoogle\" target=\"_blank\" rel=\"noopener\">http://www.google.com.hkhttp://www.google.comGoogle</a> VPN<a href=\"http://www.google.co.jp\" target=\"_blank\" rel=\"noopener\">http://www.google.co.jp</a></p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>Google Google  A Google A Day</p>\n<p>a</p>\n<p> Google  Google + purpose of education Google purposeeducationpurpose of educationatheofinonattoandorbutthatwhichwhenmyhisthem</p>\n<a id=\"more\"></a>\n<p>b</p>\n<p>purpose of educationpurpose of education Google  utf-8 Googlepurpose of education vs.purpose of education the most important benefit of education  the most important benefit of education</p>\n<p>c</p>\n<p>-the most important benefit of education  united statesGooglethe most important benefit of educationunited states</p>\n<p>d</p>\n<p><em>Google </em>the most * examples of censorshipthe most outrageous examples of censorshipthe most brazen examples of censorshipthe most heinous examples of censorshipthe most stupidest examples of censorshipthe most dangerous examples of censorshipthe most egregious examples of censorshipthe most prolific examples of censorshipthe most absurd examples of censorship</p>\n<p>e</p>\n<p>~~ Google~the importance of ~censorshipthe importance of censorshipcensorshippropagandathe importance of propaganda</p>\n<ol start=\"4\">\n<li></li>\n</ol>\n<p>a</p>\n<p>site:the purpose of education site:<a href=\"http://www.time.com/\" target=\"_blank\" rel=\"noopener\">http://www.time.com/</a> Google  <a href=\"http://www.time.com\" target=\"_blank\" rel=\"noopener\">http://www.time.com</a> the purpose of education</p>\n<p>b</p>\n<p>2006Google co-op Google  Google site: Google cseCustom Search EngineSearch News MediacensorshipGRE/SAT censorship cse 10</p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.economist.com/\" target=\"_blank\" rel=\"noopener\">http://www.economist.com/</a></li>\n<li><a href=\"http://www.cnn.com/\" target=\"_blank\" rel=\"noopener\">http://www.cnn.com/</a></li>\n<li><a href=\"http://www.time.com/\" target=\"_blank\" rel=\"noopener\">http://www.time.com/</a></li>\n<li><a href=\"http://nytimes.com/\" target=\"_blank\" rel=\"noopener\">http://nytimes.com/</a></li>\n<li><a href=\"http://www.washingtonpost.com/\" target=\"_blank\" rel=\"noopener\">http://www.washingtonpost.com/</a></li>\n<li><a href=\"http://www.usnews.com/\" target=\"_blank\" rel=\"noopener\">http://www.usnews.com/</a></li>\n<li><a href=\"http://usatoday.com/\" target=\"_blank\" rel=\"noopener\">http://usatoday.com/</a></li>\n<li><a href=\"http://www.reuters.com/\" target=\"_blank\" rel=\"noopener\">http://www.reuters.com/</a></li>\n<li><a href=\"http://www.bbc.co.uk/\" target=\"_blank\" rel=\"noopener\">http://www.bbc.co.uk/</a></li>\n<li><a href=\"http://en.wikinews.org/\" target=\"_blank\" rel=\"noopener\">http://en.wikinews.org/</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h1 id=\"Google-\"><a href=\"#Google-\" class=\"headerlink\" title=\"Google \"></a>Google </h1><ol>\n<li></li>\n</ol>\n<p> <a href=\"http://www.google.com/ncr\" target=\"_blank\" rel=\"noopener\">http://www.google.com/ncr</a> NCR: No Country Redirection<a href=\"http://www.google.com.hkhttp://www.google.comGoogle\" target=\"_blank\" rel=\"noopener\">http://www.google.com.hkhttp://www.google.comGoogle</a> VPN<a href=\"http://www.google.co.jp\" target=\"_blank\" rel=\"noopener\">http://www.google.co.jp</a></p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p></p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>Google Google  A Google A Day</p>\n<p>a</p>\n<p> Google  Google + purpose of education Google purposeeducationpurpose of educationatheofinonattoandorbutthatwhichwhenmyhisthem</p>","more":"<p>b</p>\n<p>purpose of educationpurpose of education Google  utf-8 Googlepurpose of education vs.purpose of education the most important benefit of education  the most important benefit of education</p>\n<p>c</p>\n<p>-the most important benefit of education  united statesGooglethe most important benefit of educationunited states</p>\n<p>d</p>\n<p><em>Google </em>the most * examples of censorshipthe most outrageous examples of censorshipthe most brazen examples of censorshipthe most heinous examples of censorshipthe most stupidest examples of censorshipthe most dangerous examples of censorshipthe most egregious examples of censorshipthe most prolific examples of censorshipthe most absurd examples of censorship</p>\n<p>e</p>\n<p>~~ Google~the importance of ~censorshipthe importance of censorshipcensorshippropagandathe importance of propaganda</p>\n<ol start=\"4\">\n<li></li>\n</ol>\n<p>a</p>\n<p>site:the purpose of education site:<a href=\"http://www.time.com/\" target=\"_blank\" rel=\"noopener\">http://www.time.com/</a> Google  <a href=\"http://www.time.com\" target=\"_blank\" rel=\"noopener\">http://www.time.com</a> the purpose of education</p>\n<p>b</p>\n<p>2006Google co-op Google  Google site: Google cseCustom Search EngineSearch News MediacensorshipGRE/SAT censorship cse 10</p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.economist.com/\" target=\"_blank\" rel=\"noopener\">http://www.economist.com/</a></li>\n<li><a href=\"http://www.cnn.com/\" target=\"_blank\" rel=\"noopener\">http://www.cnn.com/</a></li>\n<li><a href=\"http://www.time.com/\" target=\"_blank\" rel=\"noopener\">http://www.time.com/</a></li>\n<li><a href=\"http://nytimes.com/\" target=\"_blank\" rel=\"noopener\">http://nytimes.com/</a></li>\n<li><a href=\"http://www.washingtonpost.com/\" target=\"_blank\" rel=\"noopener\">http://www.washingtonpost.com/</a></li>\n<li><a href=\"http://www.usnews.com/\" target=\"_blank\" rel=\"noopener\">http://www.usnews.com/</a></li>\n<li><a href=\"http://usatoday.com/\" target=\"_blank\" rel=\"noopener\">http://usatoday.com/</a></li>\n<li><a href=\"http://www.reuters.com/\" target=\"_blank\" rel=\"noopener\">http://www.reuters.com/</a></li>\n<li><a href=\"http://www.bbc.co.uk/\" target=\"_blank\" rel=\"noopener\">http://www.bbc.co.uk/</a></li>\n<li><a href=\"http://en.wikinews.org/\" target=\"_blank\" rel=\"noopener\">http://en.wikinews.org/</a></li>\n</ul>\n</blockquote>"},{"title":"Mysql 5.7 JSON","date":"2020-05-02T07:10:23.000Z","updated":"2020-05-02T07:10:23.000Z","_content":"\n\n\n\n[mysql 5.7 json](https://dev.mysql.com/doc/refman/5.7/en/json.html)\n[mysql 5.7 json functions](https://dev.mysql.com/doc/refman/5.7/en/json-functions.html)\n\n[mysql 8.0 json](https://dev.mysql.com/doc/refman/8.0/en/json.html)\n\n\n<!-- more -->\n\nName | Description\n---|---\n->|Return value from JSON column after evaluating path; equivalent to JSON_EXTRACT().\n->>?(introduced 5.7.13)|Return value from JSON column after evaluating path and unquoting the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).\nJSON_APPEND()?(deprecated)|Append data to JSON document\nJSON_ARRAY()|Create JSON array\nJSON_ARRAY_APPEND()|Append data to JSON document\nJSON_ARRAY_INSERT()|Insert into JSON array\nJSON_CONTAINS()|Whether JSON document contains specific object at path\nJSON_CONTAINS_PATH()|Whether JSON document contains any data at path\nJSON_DEPTH()|Maximum depth of JSON document\nJSON_EXTRACT()|Return data from JSON document\nJSON_INSERT()|Insert data into JSON document\nJSON_KEYS()|Array of keys from JSON document\nJSON_LENGTH()|Number of elements in JSON document\nJSON_MERGE()?(deprecated 5.7.22)|\"Merge JSON documents| preserving duplicate keys. Deprecated synonym for JSON_MERGE_PRESERVE()\"\nJSON_MERGE_PATCH()?(introduced 5.7.22)|\"Merge JSON documents| replacing values of duplicate keys\"\nJSON_MERGE_PRESERVE()?(introduced 5.7.22)|\"Merge JSON documents| preserving duplicate keys\"\nJSON_OBJECT()|Create JSON object\nJSON_PRETTY()?(introduced 5.7.22)|Print a JSON document in human-readable format\nJSON_QUOTE()|Quote JSON document\nJSON_REMOVE()|Remove data from JSON document\nJSON_REPLACE()|Replace values in JSON document\nJSON_SEARCH()|Path to value within JSON document\nJSON_SET()|Insert data into JSON document\nJSON_STORAGE_SIZE()?(introduced 5.7.22)|Space used for storage of binary representation of a JSON document\nJSON_TYPE()|Type of JSON value\nJSON_UNQUOTE()|Unquote JSON value\nJSON_VALID()|Whether JSON value is valid\n\n\n\n\n\nJSON_ARRAY  json\n\n```sql\nmysql> SELECT JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME());\n+---------------------------------------------+\n| JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME()) |\n+---------------------------------------------+\n| [1, \"abc\", null, true, \"11:30:24.000000\"]   |\n\n\n\n-- write table\ncreate table t1(jdoc json);\n\ninsert into t1(jdoc) values(json_array('a','b',now()));\n```\n\n\nJSON_OBJECT\n\n```sql\nmysql> SELECT JSON_OBJECT('key1', 1, 'key2', 'abc');\n+---------------------------------------+\n| JSON_OBJECT('key1', 1, 'key2', 'abc') |\n+---------------------------------------+\n| {\"key1\": 1, \"key2\": \"abc\"}            |\n+---------------------------------------+\n```\n\n\nJSON_EXTRACT json   column->path\n\n```sql\nmysql> SELECT JSON_EXTRACT('{\"id\": 14, \"name\": \"Aztalan\"}', '$.name');\n+---------------------------------------------------------+\n| JSON_EXTRACT('{\"id\": 14, \"name\": \"Aztalan\"}', '$.name') |\n+---------------------------------------------------------+\n| \"Aztalan\"                                               |\n+---------------------------------------------------------+\n\n\n\n-- demo\n-- json json_extract(,'$.key') --2json$.key keyjsonkey\n\n> SELECT uid,json_extract(info,'$.mail') AS 'mail',json_extract(info,'$.name') AS 'name' FROM USER;\n\n\nmysql> SELECT c, JSON_EXTRACT(c, \"$.id\"), g\n     > FROM jemp\n     > WHERE JSON_EXTRACT(c, \"$.id\") > 1\n     > ORDER BY JSON_EXTRACT(c, \"$.name\");\n+-------------------------------+-----------+------+\n| c                             | c->\"$.id\" | g    |\n+-------------------------------+-----------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} | \"3\"       |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  | \"4\"       |    4 |\n| {\"id\": \"2\", \"name\": \"Wilma\"}  | \"2\"       |    2 |\n+-------------------------------+-----------+------+\n3 rows in set (0.00 sec)\n\nmysql> SELECT c, c->\"$.id\", g\n     > FROM jemp\n     > WHERE c->\"$.id\" > 1\n     > ORDER BY c->\"$.name\";\n+-------------------------------+-----------+------+\n| c                             | c->\"$.id\" | g    |\n+-------------------------------+-----------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} | \"3\"       |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  | \"4\"       |    4 |\n| {\"id\": \"2\", \"name\": \"Wilma\"}  | \"2\"       |    2 |\n+-------------------------------+-----------+------+\n\n\n```\n\ncolumn->>path\n\n\n> JSON_UNQUOTE( JSON_EXTRACT(column, path) )\n\n> JSON_UNQUOTE(column -> path)\n\n> column->>path\n\n\n```\nmysql> SELECT * FROM jemp WHERE g > 2;\n+-------------------------------+------+\n| c                             | g    |\n+-------------------------------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  |    4 |\n+-------------------------------+------+\n2 rows in set (0.01 sec)\n\nmysql> SELECT c->'$.name' AS name\n    ->     FROM jemp WHERE g > 2;\n+----------+\n| name     |\n+----------+\n| \"Barney\" |\n| \"Betty\"  |\n+----------+\n2 rows in set (0.00 sec)\n\nmysql> SELECT JSON_UNQUOTE(c->'$.name') AS name\n    ->     FROM jemp WHERE g > 2;\n+--------+\n| name   |\n+--------+\n| Barney |\n| Betty  |\n+--------+\n2 rows in set (0.00 sec)\n\nmysql> SELECT c->>'$.name' AS name\n    ->     FROM jemp WHERE g > 2;\n+--------+\n| name   |\n+--------+\n| Barney |\n| Betty  |\n+--------+\n2 rows in set (0.00 sec)\n```\n\n\nJSON_TYPE\n\n```sql\nmysql> SELECT JSON_TYPE('[\"a\", \"b\", 1]');\n+----------------------------+\n| JSON_TYPE('[\"a\", \"b\", 1]') |\n+----------------------------+\n| ARRAY                      |\n+----------------------------+\n\nmysql> SELECT JSON_TYPE('\"hello\"');\n+----------------------+\n| JSON_TYPE('\"hello\"') |\n+----------------------+\n| STRING               |\n+----------------------+\n\n-- error\nmysql> SELECT JSON_TYPE('hello');\nERROR 3146 (22032): Invalid data type for JSON data in argument 1\nto function json_type; a JSON string or JSON type is required.\n```\n\n\n\nJSON_MERGE\n\n```sql\nmysql> SELECT JSON_MERGE('[\"a\", 1]', '{\"key\": \"value\"}');\n+--------------------------------------------+\n| JSON_MERGE('[\"a\", 1]', '{\"key\": \"value\"}') |\n+--------------------------------------------+\n| [\"a\", 1, {\"key\": \"value\"}]                 |\n+--------------------------------------------+\n```\n\n\nJSON_SEARCH(json_doc, one_or_all, search_str[, escape_char[, path] ...])\n\njson_docsearch_strpathNULLNULLNULLsearch_str\njson_docJSONone_or_all'one''all'escape_char\n\n_escape_charNULL\\scape_char\nsearch_str:  % 0, _  \n\n\nJSON_SEARCHescape_char\n\n```sql\nmysql> SET @j = '[\"abc\", [{\"k\": \"10\"}, \"def\"], {\"x\":\"abc\"}, {\"y\":\"bcd\"}]';\n\nmysql> SELECT JSON_SEARCH(@j, 'one', 'abc');\n+-------------------------------+\n| JSON_SEARCH(@j, 'one', 'abc') |\n+-------------------------------+\n| \"$[0]\"                        |\n+-------------------------------+\n\nmysql> SELECT JSON_SEARCH(@j, 'all', 'abc');\n+-------------------------------+\n| JSON_SEARCH(@j, 'all', 'abc') |\n+-------------------------------+\n| [\"$[0]\", \"$[2].x\"]            |\n+-------------------------------+\n\nmysql> SELECT JSON_SEARCH(@j, 'all', 'ghi');\n+-------------------------------+\n| JSON_SEARCH(@j, 'all', 'ghi') |\n+-------------------------------+\n| NULL                          |\n+-------------------------------+\n```\n\n\nJSON_CONTAINS(target, candidate[, path])\n\n```sql\nmysql> SET @j = '{\"a\": 1, \"b\": 2, \"c\": {\"d\": 4}}';\nmysql> SET @j2 = '1';\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.a');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.a') |\n+-------------------------------+\n|                             1 |\n+-------------------------------+\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.b');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.b') |\n+-------------------------------+\n|                             0 |\n+-------------------------------+\n\nmysql> SET @j2 = '{\"d\": 4}';\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.a');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.a') |\n+-------------------------------+\n|                             0 |\n+-------------------------------+\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.c');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.c') |\n+-------------------------------+\n|                             1 |\n+-------------------------------+\n```\n\nJSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] ...)\n\none': 1 if at least one path exists within the document, 0 otherwise.\n'all': 1 if all paths exist within the document, 0 otherwise.\n\n\n\n```sql\nmysql> SET @j = '{\"a\": 1, \"b\": 2, \"c\": {\"d\": 4}}';\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e');\n+---------------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e') |\n+---------------------------------------------+\n|                                           1 |\n+---------------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e');\n+---------------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e') |\n+---------------------------------------------+\n|                                           0 |\n+---------------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.c.d');\n+----------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.c.d') |\n+----------------------------------------+\n|                                      1 |\n+----------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a.d');\n+----------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.a.d') |\n+----------------------------------------+\n|                                      0 |\n+----------------------------------------+\n```\n\nJSON_SET() replaces existing values and adds nonexisting values.\n\nJSON_INSERT() inserts values without replacing existing values.\n\nJSON_REPLACE() replaces only existing values.\n\n\n\n```sql\nmysql> SET @j = '{ \"a\": 1, \"b\": [2, 3]}';\nmysql> SELECT JSON_SET(@j, '$.a', 10, '$.c', '[true, false]');\n+-------------------------------------------------+\n| JSON_SET(@j, '$.a', 10, '$.c', '[true, false]') |\n+-------------------------------------------------+\n| {\"a\": 10, \"b\": [2, 3], \"c\": \"[true, false]\"}    |\n+-------------------------------------------------+\nmysql> SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');\n+----------------------------------------------------+\n| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |\n+----------------------------------------------------+\n| {\"a\": 1, \"b\": [2, 3], \"c\": \"[true, false]\"}        |\n+----------------------------------------------------+\nmysql> SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');\n+-----------------------------------------------------+\n| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |\n+-----------------------------------------------------+\n| {\"a\": 10, \"b\": [2, 3]}                              |\n+-----------------------------------------------------+\n```\n","source":"_posts/2020/mysql57-json.md","raw":"---\ntitle: Mysql 5.7 JSON\ndate: 2020-05-02 15:10:23\nupdated: 2020-05-02 15:10:23\ntags:\n- mysql\ncategories:\n---\n\n\n\n\n[mysql 5.7 json](https://dev.mysql.com/doc/refman/5.7/en/json.html)\n[mysql 5.7 json functions](https://dev.mysql.com/doc/refman/5.7/en/json-functions.html)\n\n[mysql 8.0 json](https://dev.mysql.com/doc/refman/8.0/en/json.html)\n\n\n<!-- more -->\n\nName | Description\n---|---\n->|Return value from JSON column after evaluating path; equivalent to JSON_EXTRACT().\n->>?(introduced 5.7.13)|Return value from JSON column after evaluating path and unquoting the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).\nJSON_APPEND()?(deprecated)|Append data to JSON document\nJSON_ARRAY()|Create JSON array\nJSON_ARRAY_APPEND()|Append data to JSON document\nJSON_ARRAY_INSERT()|Insert into JSON array\nJSON_CONTAINS()|Whether JSON document contains specific object at path\nJSON_CONTAINS_PATH()|Whether JSON document contains any data at path\nJSON_DEPTH()|Maximum depth of JSON document\nJSON_EXTRACT()|Return data from JSON document\nJSON_INSERT()|Insert data into JSON document\nJSON_KEYS()|Array of keys from JSON document\nJSON_LENGTH()|Number of elements in JSON document\nJSON_MERGE()?(deprecated 5.7.22)|\"Merge JSON documents| preserving duplicate keys. Deprecated synonym for JSON_MERGE_PRESERVE()\"\nJSON_MERGE_PATCH()?(introduced 5.7.22)|\"Merge JSON documents| replacing values of duplicate keys\"\nJSON_MERGE_PRESERVE()?(introduced 5.7.22)|\"Merge JSON documents| preserving duplicate keys\"\nJSON_OBJECT()|Create JSON object\nJSON_PRETTY()?(introduced 5.7.22)|Print a JSON document in human-readable format\nJSON_QUOTE()|Quote JSON document\nJSON_REMOVE()|Remove data from JSON document\nJSON_REPLACE()|Replace values in JSON document\nJSON_SEARCH()|Path to value within JSON document\nJSON_SET()|Insert data into JSON document\nJSON_STORAGE_SIZE()?(introduced 5.7.22)|Space used for storage of binary representation of a JSON document\nJSON_TYPE()|Type of JSON value\nJSON_UNQUOTE()|Unquote JSON value\nJSON_VALID()|Whether JSON value is valid\n\n\n\n\n\nJSON_ARRAY  json\n\n```sql\nmysql> SELECT JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME());\n+---------------------------------------------+\n| JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME()) |\n+---------------------------------------------+\n| [1, \"abc\", null, true, \"11:30:24.000000\"]   |\n\n\n\n-- write table\ncreate table t1(jdoc json);\n\ninsert into t1(jdoc) values(json_array('a','b',now()));\n```\n\n\nJSON_OBJECT\n\n```sql\nmysql> SELECT JSON_OBJECT('key1', 1, 'key2', 'abc');\n+---------------------------------------+\n| JSON_OBJECT('key1', 1, 'key2', 'abc') |\n+---------------------------------------+\n| {\"key1\": 1, \"key2\": \"abc\"}            |\n+---------------------------------------+\n```\n\n\nJSON_EXTRACT json   column->path\n\n```sql\nmysql> SELECT JSON_EXTRACT('{\"id\": 14, \"name\": \"Aztalan\"}', '$.name');\n+---------------------------------------------------------+\n| JSON_EXTRACT('{\"id\": 14, \"name\": \"Aztalan\"}', '$.name') |\n+---------------------------------------------------------+\n| \"Aztalan\"                                               |\n+---------------------------------------------------------+\n\n\n\n-- demo\n-- json json_extract(,'$.key') --2json$.key keyjsonkey\n\n> SELECT uid,json_extract(info,'$.mail') AS 'mail',json_extract(info,'$.name') AS 'name' FROM USER;\n\n\nmysql> SELECT c, JSON_EXTRACT(c, \"$.id\"), g\n     > FROM jemp\n     > WHERE JSON_EXTRACT(c, \"$.id\") > 1\n     > ORDER BY JSON_EXTRACT(c, \"$.name\");\n+-------------------------------+-----------+------+\n| c                             | c->\"$.id\" | g    |\n+-------------------------------+-----------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} | \"3\"       |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  | \"4\"       |    4 |\n| {\"id\": \"2\", \"name\": \"Wilma\"}  | \"2\"       |    2 |\n+-------------------------------+-----------+------+\n3 rows in set (0.00 sec)\n\nmysql> SELECT c, c->\"$.id\", g\n     > FROM jemp\n     > WHERE c->\"$.id\" > 1\n     > ORDER BY c->\"$.name\";\n+-------------------------------+-----------+------+\n| c                             | c->\"$.id\" | g    |\n+-------------------------------+-----------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} | \"3\"       |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  | \"4\"       |    4 |\n| {\"id\": \"2\", \"name\": \"Wilma\"}  | \"2\"       |    2 |\n+-------------------------------+-----------+------+\n\n\n```\n\ncolumn->>path\n\n\n> JSON_UNQUOTE( JSON_EXTRACT(column, path) )\n\n> JSON_UNQUOTE(column -> path)\n\n> column->>path\n\n\n```\nmysql> SELECT * FROM jemp WHERE g > 2;\n+-------------------------------+------+\n| c                             | g    |\n+-------------------------------+------+\n| {\"id\": \"3\", \"name\": \"Barney\"} |    3 |\n| {\"id\": \"4\", \"name\": \"Betty\"}  |    4 |\n+-------------------------------+------+\n2 rows in set (0.01 sec)\n\nmysql> SELECT c->'$.name' AS name\n    ->     FROM jemp WHERE g > 2;\n+----------+\n| name     |\n+----------+\n| \"Barney\" |\n| \"Betty\"  |\n+----------+\n2 rows in set (0.00 sec)\n\nmysql> SELECT JSON_UNQUOTE(c->'$.name') AS name\n    ->     FROM jemp WHERE g > 2;\n+--------+\n| name   |\n+--------+\n| Barney |\n| Betty  |\n+--------+\n2 rows in set (0.00 sec)\n\nmysql> SELECT c->>'$.name' AS name\n    ->     FROM jemp WHERE g > 2;\n+--------+\n| name   |\n+--------+\n| Barney |\n| Betty  |\n+--------+\n2 rows in set (0.00 sec)\n```\n\n\nJSON_TYPE\n\n```sql\nmysql> SELECT JSON_TYPE('[\"a\", \"b\", 1]');\n+----------------------------+\n| JSON_TYPE('[\"a\", \"b\", 1]') |\n+----------------------------+\n| ARRAY                      |\n+----------------------------+\n\nmysql> SELECT JSON_TYPE('\"hello\"');\n+----------------------+\n| JSON_TYPE('\"hello\"') |\n+----------------------+\n| STRING               |\n+----------------------+\n\n-- error\nmysql> SELECT JSON_TYPE('hello');\nERROR 3146 (22032): Invalid data type for JSON data in argument 1\nto function json_type; a JSON string or JSON type is required.\n```\n\n\n\nJSON_MERGE\n\n```sql\nmysql> SELECT JSON_MERGE('[\"a\", 1]', '{\"key\": \"value\"}');\n+--------------------------------------------+\n| JSON_MERGE('[\"a\", 1]', '{\"key\": \"value\"}') |\n+--------------------------------------------+\n| [\"a\", 1, {\"key\": \"value\"}]                 |\n+--------------------------------------------+\n```\n\n\nJSON_SEARCH(json_doc, one_or_all, search_str[, escape_char[, path] ...])\n\njson_docsearch_strpathNULLNULLNULLsearch_str\njson_docJSONone_or_all'one''all'escape_char\n\n_escape_charNULL\\scape_char\nsearch_str:  % 0, _  \n\n\nJSON_SEARCHescape_char\n\n```sql\nmysql> SET @j = '[\"abc\", [{\"k\": \"10\"}, \"def\"], {\"x\":\"abc\"}, {\"y\":\"bcd\"}]';\n\nmysql> SELECT JSON_SEARCH(@j, 'one', 'abc');\n+-------------------------------+\n| JSON_SEARCH(@j, 'one', 'abc') |\n+-------------------------------+\n| \"$[0]\"                        |\n+-------------------------------+\n\nmysql> SELECT JSON_SEARCH(@j, 'all', 'abc');\n+-------------------------------+\n| JSON_SEARCH(@j, 'all', 'abc') |\n+-------------------------------+\n| [\"$[0]\", \"$[2].x\"]            |\n+-------------------------------+\n\nmysql> SELECT JSON_SEARCH(@j, 'all', 'ghi');\n+-------------------------------+\n| JSON_SEARCH(@j, 'all', 'ghi') |\n+-------------------------------+\n| NULL                          |\n+-------------------------------+\n```\n\n\nJSON_CONTAINS(target, candidate[, path])\n\n```sql\nmysql> SET @j = '{\"a\": 1, \"b\": 2, \"c\": {\"d\": 4}}';\nmysql> SET @j2 = '1';\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.a');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.a') |\n+-------------------------------+\n|                             1 |\n+-------------------------------+\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.b');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.b') |\n+-------------------------------+\n|                             0 |\n+-------------------------------+\n\nmysql> SET @j2 = '{\"d\": 4}';\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.a');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.a') |\n+-------------------------------+\n|                             0 |\n+-------------------------------+\nmysql> SELECT JSON_CONTAINS(@j, @j2, '$.c');\n+-------------------------------+\n| JSON_CONTAINS(@j, @j2, '$.c') |\n+-------------------------------+\n|                             1 |\n+-------------------------------+\n```\n\nJSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] ...)\n\none': 1 if at least one path exists within the document, 0 otherwise.\n'all': 1 if all paths exist within the document, 0 otherwise.\n\n\n\n```sql\nmysql> SET @j = '{\"a\": 1, \"b\": 2, \"c\": {\"d\": 4}}';\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e');\n+---------------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e') |\n+---------------------------------------------+\n|                                           1 |\n+---------------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e');\n+---------------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e') |\n+---------------------------------------------+\n|                                           0 |\n+---------------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.c.d');\n+----------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.c.d') |\n+----------------------------------------+\n|                                      1 |\n+----------------------------------------+\nmysql> SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a.d');\n+----------------------------------------+\n| JSON_CONTAINS_PATH(@j, 'one', '$.a.d') |\n+----------------------------------------+\n|                                      0 |\n+----------------------------------------+\n```\n\nJSON_SET() replaces existing values and adds nonexisting values.\n\nJSON_INSERT() inserts values without replacing existing values.\n\nJSON_REPLACE() replaces only existing values.\n\n\n\n```sql\nmysql> SET @j = '{ \"a\": 1, \"b\": [2, 3]}';\nmysql> SELECT JSON_SET(@j, '$.a', 10, '$.c', '[true, false]');\n+-------------------------------------------------+\n| JSON_SET(@j, '$.a', 10, '$.c', '[true, false]') |\n+-------------------------------------------------+\n| {\"a\": 10, \"b\": [2, 3], \"c\": \"[true, false]\"}    |\n+-------------------------------------------------+\nmysql> SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');\n+----------------------------------------------------+\n| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |\n+----------------------------------------------------+\n| {\"a\": 1, \"b\": [2, 3], \"c\": \"[true, false]\"}        |\n+----------------------------------------------------+\nmysql> SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');\n+-----------------------------------------------------+\n| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |\n+-----------------------------------------------------+\n| {\"a\": 10, \"b\": [2, 3]}                              |\n+-----------------------------------------------------+\n```\n","slug":"mysql57-json","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gt003rhpwf1hby1cvi","content":"<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/json.html\" target=\"_blank\" rel=\"noopener\">mysql 5.7 json</a><br><a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-functions.html\" target=\"_blank\" rel=\"noopener\">mysql 5.7 json functions</a></p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/json.html\" target=\"_blank\" rel=\"noopener\">mysql 8.0 json</a></p>\n<a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-&gt;</td>\n<td>Return value from JSON column after evaluating path; equivalent to JSON_EXTRACT().</td>\n</tr>\n<tr>\n<td>-&gt;&gt;?(introduced 5.7.13)</td>\n<td>Return value from JSON column after evaluating path and unquoting the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).</td>\n</tr>\n<tr>\n<td>JSON_APPEND()?(deprecated)</td>\n<td>Append data to JSON document</td>\n</tr>\n<tr>\n<td>JSON_ARRAY()</td>\n<td>Create JSON array</td>\n</tr>\n<tr>\n<td>JSON_ARRAY_APPEND()</td>\n<td>Append data to JSON document</td>\n</tr>\n<tr>\n<td>JSON_ARRAY_INSERT()</td>\n<td>Insert into JSON array</td>\n</tr>\n<tr>\n<td>JSON_CONTAINS()</td>\n<td>Whether JSON document contains specific object at path</td>\n</tr>\n<tr>\n<td>JSON_CONTAINS_PATH()</td>\n<td>Whether JSON document contains any data at path</td>\n</tr>\n<tr>\n<td>JSON_DEPTH()</td>\n<td>Maximum depth of JSON document</td>\n</tr>\n<tr>\n<td>JSON_EXTRACT()</td>\n<td>Return data from JSON document</td>\n</tr>\n<tr>\n<td>JSON_INSERT()</td>\n<td>Insert data into JSON document</td>\n</tr>\n<tr>\n<td>JSON_KEYS()</td>\n<td>Array of keys from JSON document</td>\n</tr>\n<tr>\n<td>JSON_LENGTH()</td>\n<td>Number of elements in JSON document</td>\n</tr>\n<tr>\n<td>JSON_MERGE()?(deprecated 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>preserving duplicate keys. Deprecated synonym for JSON_MERGE_PRESERVE()</td>\n</tr>\n<tr>\n<td>JSON_MERGE_PATCH()?(introduced 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>replacing values of duplicate keys</td>\n</tr>\n<tr>\n<td>JSON_MERGE_PRESERVE()?(introduced 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>preserving duplicate keys</td>\n</tr>\n<tr>\n<td>JSON_OBJECT()</td>\n<td>Create JSON object</td>\n</tr>\n<tr>\n<td>JSON_PRETTY()?(introduced 5.7.22)</td>\n<td>Print a JSON document in human-readable format</td>\n</tr>\n<tr>\n<td>JSON_QUOTE()</td>\n<td>Quote JSON document</td>\n</tr>\n<tr>\n<td>JSON_REMOVE()</td>\n<td>Remove data from JSON document</td>\n</tr>\n<tr>\n<td>JSON_REPLACE()</td>\n<td>Replace values in JSON document</td>\n</tr>\n<tr>\n<td>JSON_SEARCH()</td>\n<td>Path to value within JSON document</td>\n</tr>\n<tr>\n<td>JSON_SET()</td>\n<td>Insert data into JSON document</td>\n</tr>\n<tr>\n<td>JSON_STORAGE_SIZE()?(introduced 5.7.22)</td>\n<td>Space used for storage of binary representation of a JSON document</td>\n</tr>\n<tr>\n<td>JSON_TYPE()</td>\n<td>Type of JSON value</td>\n</tr>\n<tr>\n<td>JSON_UNQUOTE()</td>\n<td>Unquote JSON value</td>\n</tr>\n<tr>\n<td>JSON_VALID()</td>\n<td>Whether JSON value is valid</td>\n</tr>\n</tbody>\n</table>\n<p>JSON_ARRAY  json</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME());</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME()) |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| [1, \"abc\", null, true, \"11:30:24.000000\"]   |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- write table</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> t1(jdoc <span class=\"keyword\">json</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> t1(jdoc) <span class=\"keyword\">values</span>(json_array(<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>,<span class=\"keyword\">now</span>()));</span><br></pre></td></tr></table></figure>\n<p>JSON_OBJECT</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_OBJECT('key1', 1, 'key2', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br><span class=\"line\">| JSON_OBJECT('key1', 1, 'key2', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br><span class=\"line\">| &#123;\"key1\": 1, \"key2\": \"abc\"&#125;            |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_EXTRACT json   column-&gt;path</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_EXTRACT('&#123;\"id\": 14, \"name\": \"Aztalan\"&#125;', '$.name');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\">| JSON_EXTRACT('&#123;\"id\": 14, \"name\": \"Aztalan\"&#125;', '$.name') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\">| \"Aztalan\"                                               |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- demo</span></span><br><span class=\"line\"><span class=\"comment\">-- json json_extract(,'$.key') --2json$.key keyjsonkey</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; SELECT uid,json_extract(info,'$.mail') AS 'mail',json_extract(info,'$.name') AS 'name' FROM USER;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c, JSON_EXTRACT(c, \"$.id\"), g</span><br><span class=\"line\">     &gt; FROM jemp</span><br><span class=\"line\">     &gt; WHERE JSON_EXTRACT(c, \"$.id\") &gt; 1</span><br><span class=\"line\">     &gt; ORDER BY JSON_EXTRACT(c, \"$.name\");</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| c                             | c-&gt;\"$.id\" | g    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| &#123;\"id\": \"3\", \"name\": \"Barney\"&#125; | \"3\"       |    3 |</span><br><span class=\"line\">| &#123;\"id\": \"4\", \"name\": \"Betty\"&#125;  | \"4\"       |    4 |</span><br><span class=\"line\">| &#123;\"id\": \"2\", \"name\": \"Wilma\"&#125;  | \"2\"       |    2 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">3 rows in <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">SELECT</span> c, c-&gt;<span class=\"string\">\"$.id\"</span>, g</span><br><span class=\"line\">     &gt; <span class=\"keyword\">FROM</span> jemp</span><br><span class=\"line\">     &gt; <span class=\"keyword\">WHERE</span> c-&gt;<span class=\"string\">\"$.id\"</span> &gt; <span class=\"number\">1</span></span><br><span class=\"line\">     &gt; <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> c-&gt;<span class=\"string\">\"$.name\"</span>;</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| c                             | c-&gt;\"$.id\" | g    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| &#123;\"id\": \"3\", \"name\": \"Barney\"&#125; | \"3\"       |    3 |</span><br><span class=\"line\">| &#123;\"id\": \"4\", \"name\": \"Betty\"&#125;  | \"4\"       |    4 |</span><br><span class=\"line\">| &#123;\"id\": \"2\", \"name\": \"Wilma\"&#125;  | \"2\"       |    2 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br></pre></td></tr></table></figure>\n<p>column-&gt;&gt;path</p>\n<p></p>\n<blockquote>\n<p>JSON_UNQUOTE( JSON_EXTRACT(column, path) )</p>\n</blockquote>\n<blockquote>\n<p>JSON_UNQUOTE(column -&gt; path)</p>\n</blockquote>\n<blockquote>\n<p>column-&gt;&gt;path</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT * FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">| c                             | g    |</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">| &#123;&quot;id&quot;: &quot;3&quot;, &quot;name&quot;: &quot;Barney&quot;&#125; |    3 |</span><br><span class=\"line\">| &#123;&quot;id&quot;: &quot;4&quot;, &quot;name&quot;: &quot;Betty&quot;&#125;  |    4 |</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c-&gt;&apos;$.name&apos; AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| name     |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| &quot;Barney&quot; |</span><br><span class=\"line\">| &quot;Betty&quot;  |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_UNQUOTE(c-&gt;&apos;$.name&apos;) AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| name   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| Barney |</span><br><span class=\"line\">| Betty  |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c-&gt;&gt;&apos;$.name&apos; AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| name   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| Barney |</span><br><span class=\"line\">| Betty  |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>\n<p>JSON_TYPE</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_TYPE('[\"a\", \"b\", 1]');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\">| JSON_TYPE('[\"a\", \"b\", 1]') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\">| ARRAY                      |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_TYPE('\"hello\"');</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\">| JSON_TYPE('\"hello\"') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\">| STRING               |</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- error</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_TYPE('hello');</span><br><span class=\"line\">ERROR 3146 (22032): Invalid data type for JSON data in argument 1</span><br><span class=\"line\">to function json_type; a JSON string or JSON type is required.</span><br></pre></td></tr></table></figure>\n<p>JSON_MERGE</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_MERGE('[\"a\", 1]', '&#123;\"key\": \"value\"&#125;');</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br><span class=\"line\">| JSON_MERGE('[\"a\", 1]', '&#123;\"key\": \"value\"&#125;') |</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br><span class=\"line\">| [\"a\", 1, &#123;\"key\": \"value\"&#125;]                 |</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_SEARCH(json_doc, one_or_all, search_str[, escape_char[, path] ])</p>\n<p>json_docsearch_strpathNULLNULLNULLsearch_str<br>json_docJSONone_or_alloneallescape_char</p>\n<p>_escape_charNULL\\scape_char<br>search_str:  % 0, _  </p>\n<p>JSON_SEARCHescape_char</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '[\"abc\", [&#123;\"k\": \"10\"&#125;, \"def\"], &#123;\"x\":\"abc\"&#125;, &#123;\"y\":\"bcd\"&#125;]';</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'one', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'one', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| \"$[0]\"                        |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'all', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'all', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| [\"$[0]\", \"$[2].x\"]            |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'all', 'ghi');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'all', 'ghi') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| NULL                          |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_CONTAINS(target, candidate[, path])</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123;\"a\": 1, \"b\": 2, \"c\": &#123;\"d\": 4&#125;&#125;';</span><br><span class=\"line\">mysql&gt; SET @j2 = '1';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.a');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.a') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             1 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.b');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.b') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             0 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SET @j2 = '&#123;\"d\": 4&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.a');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.a') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             0 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.c');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.c') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             1 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] )</p>\n<p>one: 1 if at least one path exists within the document, 0 otherwise.<br>all: 1 if all paths exist within the document, 0 otherwise.</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123;\"a\": 1, \"b\": 2, \"c\": &#123;\"d\": 4&#125;&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">|                                           1 |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">|                                           0 |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.c.d');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.c.d') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">|                                      1 |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a.d');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.a.d') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">|                                      0 |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_SET() replaces existing values and adds nonexisting values.</p>\n<p>JSON_INSERT() inserts values without replacing existing values.</p>\n<p>JSON_REPLACE() replaces only existing values.</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123; \"a\": 1, \"b\": [2, 3]&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_SET(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">| JSON_SET(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 10, \"b\": [2, 3], \"c\": \"[true, false]\"&#125;    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 1, \"b\": [2, 3], \"c\": \"[true, false]\"&#125;        |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br><span class=\"line\">| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 10, \"b\": [2, 3]&#125;                              |</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/json.html\" target=\"_blank\" rel=\"noopener\">mysql 5.7 json</a><br><a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-functions.html\" target=\"_blank\" rel=\"noopener\">mysql 5.7 json functions</a></p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/json.html\" target=\"_blank\" rel=\"noopener\">mysql 8.0 json</a></p>","more":"<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-&gt;</td>\n<td>Return value from JSON column after evaluating path; equivalent to JSON_EXTRACT().</td>\n</tr>\n<tr>\n<td>-&gt;&gt;?(introduced 5.7.13)</td>\n<td>Return value from JSON column after evaluating path and unquoting the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).</td>\n</tr>\n<tr>\n<td>JSON_APPEND()?(deprecated)</td>\n<td>Append data to JSON document</td>\n</tr>\n<tr>\n<td>JSON_ARRAY()</td>\n<td>Create JSON array</td>\n</tr>\n<tr>\n<td>JSON_ARRAY_APPEND()</td>\n<td>Append data to JSON document</td>\n</tr>\n<tr>\n<td>JSON_ARRAY_INSERT()</td>\n<td>Insert into JSON array</td>\n</tr>\n<tr>\n<td>JSON_CONTAINS()</td>\n<td>Whether JSON document contains specific object at path</td>\n</tr>\n<tr>\n<td>JSON_CONTAINS_PATH()</td>\n<td>Whether JSON document contains any data at path</td>\n</tr>\n<tr>\n<td>JSON_DEPTH()</td>\n<td>Maximum depth of JSON document</td>\n</tr>\n<tr>\n<td>JSON_EXTRACT()</td>\n<td>Return data from JSON document</td>\n</tr>\n<tr>\n<td>JSON_INSERT()</td>\n<td>Insert data into JSON document</td>\n</tr>\n<tr>\n<td>JSON_KEYS()</td>\n<td>Array of keys from JSON document</td>\n</tr>\n<tr>\n<td>JSON_LENGTH()</td>\n<td>Number of elements in JSON document</td>\n</tr>\n<tr>\n<td>JSON_MERGE()?(deprecated 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>preserving duplicate keys. Deprecated synonym for JSON_MERGE_PRESERVE()</td>\n</tr>\n<tr>\n<td>JSON_MERGE_PATCH()?(introduced 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>replacing values of duplicate keys</td>\n</tr>\n<tr>\n<td>JSON_MERGE_PRESERVE()?(introduced 5.7.22)</td>\n<td>Merge JSON documents</td>\n<td>preserving duplicate keys</td>\n</tr>\n<tr>\n<td>JSON_OBJECT()</td>\n<td>Create JSON object</td>\n</tr>\n<tr>\n<td>JSON_PRETTY()?(introduced 5.7.22)</td>\n<td>Print a JSON document in human-readable format</td>\n</tr>\n<tr>\n<td>JSON_QUOTE()</td>\n<td>Quote JSON document</td>\n</tr>\n<tr>\n<td>JSON_REMOVE()</td>\n<td>Remove data from JSON document</td>\n</tr>\n<tr>\n<td>JSON_REPLACE()</td>\n<td>Replace values in JSON document</td>\n</tr>\n<tr>\n<td>JSON_SEARCH()</td>\n<td>Path to value within JSON document</td>\n</tr>\n<tr>\n<td>JSON_SET()</td>\n<td>Insert data into JSON document</td>\n</tr>\n<tr>\n<td>JSON_STORAGE_SIZE()?(introduced 5.7.22)</td>\n<td>Space used for storage of binary representation of a JSON document</td>\n</tr>\n<tr>\n<td>JSON_TYPE()</td>\n<td>Type of JSON value</td>\n</tr>\n<tr>\n<td>JSON_UNQUOTE()</td>\n<td>Unquote JSON value</td>\n</tr>\n<tr>\n<td>JSON_VALID()</td>\n<td>Whether JSON value is valid</td>\n</tr>\n</tbody>\n</table>\n<p>JSON_ARRAY  json</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME());</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_ARRAY(1, \"abc\", NULL, TRUE, CURTIME()) |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| [1, \"abc\", null, true, \"11:30:24.000000\"]   |</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- write table</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> t1(jdoc <span class=\"keyword\">json</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> t1(jdoc) <span class=\"keyword\">values</span>(json_array(<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>,<span class=\"keyword\">now</span>()));</span><br></pre></td></tr></table></figure>\n<p>JSON_OBJECT</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_OBJECT('key1', 1, 'key2', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br><span class=\"line\">| JSON_OBJECT('key1', 1, 'key2', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br><span class=\"line\">| &#123;\"key1\": 1, \"key2\": \"abc\"&#125;            |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_EXTRACT json   column-&gt;path</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_EXTRACT('&#123;\"id\": 14, \"name\": \"Aztalan\"&#125;', '$.name');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\">| JSON_EXTRACT('&#123;\"id\": 14, \"name\": \"Aztalan\"&#125;', '$.name') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\">| \"Aztalan\"                                               |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- demo</span></span><br><span class=\"line\"><span class=\"comment\">-- json json_extract(,'$.key') --2json$.key keyjsonkey</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; SELECT uid,json_extract(info,'$.mail') AS 'mail',json_extract(info,'$.name') AS 'name' FROM USER;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c, JSON_EXTRACT(c, \"$.id\"), g</span><br><span class=\"line\">     &gt; FROM jemp</span><br><span class=\"line\">     &gt; WHERE JSON_EXTRACT(c, \"$.id\") &gt; 1</span><br><span class=\"line\">     &gt; ORDER BY JSON_EXTRACT(c, \"$.name\");</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| c                             | c-&gt;\"$.id\" | g    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| &#123;\"id\": \"3\", \"name\": \"Barney\"&#125; | \"3\"       |    3 |</span><br><span class=\"line\">| &#123;\"id\": \"4\", \"name\": \"Betty\"&#125;  | \"4\"       |    4 |</span><br><span class=\"line\">| &#123;\"id\": \"2\", \"name\": \"Wilma\"&#125;  | \"2\"       |    2 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">3 rows in <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">SELECT</span> c, c-&gt;<span class=\"string\">\"$.id\"</span>, g</span><br><span class=\"line\">     &gt; <span class=\"keyword\">FROM</span> jemp</span><br><span class=\"line\">     &gt; <span class=\"keyword\">WHERE</span> c-&gt;<span class=\"string\">\"$.id\"</span> &gt; <span class=\"number\">1</span></span><br><span class=\"line\">     &gt; <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> c-&gt;<span class=\"string\">\"$.name\"</span>;</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| c                             | c-&gt;\"$.id\" | g    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br><span class=\"line\">| &#123;\"id\": \"3\", \"name\": \"Barney\"&#125; | \"3\"       |    3 |</span><br><span class=\"line\">| &#123;\"id\": \"4\", \"name\": \"Betty\"&#125;  | \"4\"       |    4 |</span><br><span class=\"line\">| &#123;\"id\": \"2\", \"name\": \"Wilma\"&#125;  | \"2\"       |    2 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+-----------+------+</span></span><br></pre></td></tr></table></figure>\n<p>column-&gt;&gt;path</p>\n<p></p>\n<blockquote>\n<p>JSON_UNQUOTE( JSON_EXTRACT(column, path) )</p>\n</blockquote>\n<blockquote>\n<p>JSON_UNQUOTE(column -&gt; path)</p>\n</blockquote>\n<blockquote>\n<p>column-&gt;&gt;path</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT * FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">| c                             | g    |</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">| &#123;&quot;id&quot;: &quot;3&quot;, &quot;name&quot;: &quot;Barney&quot;&#125; |    3 |</span><br><span class=\"line\">| &#123;&quot;id&quot;: &quot;4&quot;, &quot;name&quot;: &quot;Betty&quot;&#125;  |    4 |</span><br><span class=\"line\">+-------------------------------+------+</span><br><span class=\"line\">2 rows in set (0.01 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c-&gt;&apos;$.name&apos; AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| name     |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">| &quot;Barney&quot; |</span><br><span class=\"line\">| &quot;Betty&quot;  |</span><br><span class=\"line\">+----------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_UNQUOTE(c-&gt;&apos;$.name&apos;) AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| name   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| Barney |</span><br><span class=\"line\">| Betty  |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT c-&gt;&gt;&apos;$.name&apos; AS name</span><br><span class=\"line\">    -&gt;     FROM jemp WHERE g &gt; 2;</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| name   |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">| Barney |</span><br><span class=\"line\">| Betty  |</span><br><span class=\"line\">+--------+</span><br><span class=\"line\">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>\n<p>JSON_TYPE</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_TYPE('[\"a\", \"b\", 1]');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\">| JSON_TYPE('[\"a\", \"b\", 1]') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\">| ARRAY                      |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_TYPE('\"hello\"');</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\">| JSON_TYPE('\"hello\"') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\">| STRING               |</span><br><span class=\"line\">+<span class=\"comment\">----------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- error</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_TYPE('hello');</span><br><span class=\"line\">ERROR 3146 (22032): Invalid data type for JSON data in argument 1</span><br><span class=\"line\">to function json_type; a JSON string or JSON type is required.</span><br></pre></td></tr></table></figure>\n<p>JSON_MERGE</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SELECT JSON_MERGE('[\"a\", 1]', '&#123;\"key\": \"value\"&#125;');</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br><span class=\"line\">| JSON_MERGE('[\"a\", 1]', '&#123;\"key\": \"value\"&#125;') |</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br><span class=\"line\">| [\"a\", 1, &#123;\"key\": \"value\"&#125;]                 |</span><br><span class=\"line\">+<span class=\"comment\">--------------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_SEARCH(json_doc, one_or_all, search_str[, escape_char[, path] ])</p>\n<p>json_docsearch_strpathNULLNULLNULLsearch_str<br>json_docJSONone_or_alloneallescape_char</p>\n<p>_escape_charNULL\\scape_char<br>search_str:  % 0, _  </p>\n<p>JSON_SEARCHescape_char</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '[\"abc\", [&#123;\"k\": \"10\"&#125;, \"def\"], &#123;\"x\":\"abc\"&#125;, &#123;\"y\":\"bcd\"&#125;]';</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'one', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'one', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| \"$[0]\"                        |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'all', 'abc');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'all', 'abc') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| [\"$[0]\", \"$[2].x\"]            |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT JSON_SEARCH(@j, 'all', 'ghi');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_SEARCH(@j, 'all', 'ghi') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| NULL                          |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_CONTAINS(target, candidate[, path])</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123;\"a\": 1, \"b\": 2, \"c\": &#123;\"d\": 4&#125;&#125;';</span><br><span class=\"line\">mysql&gt; SET @j2 = '1';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.a');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.a') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             1 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.b');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.b') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             0 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SET @j2 = '&#123;\"d\": 4&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.a');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.a') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             0 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS(@j, @j2, '$.c');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS(@j, @j2, '$.c') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br><span class=\"line\">|                             1 |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] )</p>\n<p>one: 1 if at least one path exists within the document, 0 otherwise.<br>all: 1 if all paths exist within the document, 0 otherwise.</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123;\"a\": 1, \"b\": 2, \"c\": &#123;\"d\": 4&#125;&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">|                                           1 |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e');</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e') |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">|                                           0 |</span><br><span class=\"line\">+<span class=\"comment\">---------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.c.d');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.c.d') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">|                                      1 |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a.d');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">| JSON_CONTAINS_PATH(@j, 'one', '$.a.d') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br><span class=\"line\">|                                      0 |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------+</span></span><br></pre></td></tr></table></figure>\n<p>JSON_SET() replaces existing values and adds nonexisting values.</p>\n<p>JSON_INSERT() inserts values without replacing existing values.</p>\n<p>JSON_REPLACE() replaces only existing values.</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET @j = '&#123; \"a\": 1, \"b\": [2, 3]&#125;';</span><br><span class=\"line\">mysql&gt; SELECT JSON_SET(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">| JSON_SET(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 10, \"b\": [2, 3], \"c\": \"[true, false]\"&#125;    |</span><br><span class=\"line\">+<span class=\"comment\">-------------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 1, \"b\": [2, 3], \"c\": \"[true, false]\"&#125;        |</span><br><span class=\"line\">+<span class=\"comment\">----------------------------------------------------+</span></span><br><span class=\"line\">mysql&gt; SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br><span class=\"line\">| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br><span class=\"line\">| &#123;\"a\": 10, \"b\": [2, 3]&#125;                              |</span><br><span class=\"line\">+<span class=\"comment\">-----------------------------------------------------+</span></span><br></pre></td></tr></table></figure>"},{"title":"Yaf Yar","date":"2020-05-10T06:51:38.000Z","updated":"2020-05-10T06:51:38.000Z","_content":"\n# Yar (Yet Another RPC Framework) rpc\n\nYar , RPC, PHP. Yar. .\n\n\n<!-- more -->\n\n### \n\n```php\n\n\n//\n<?php\n\n/* : http://example.com/operator.php */\n\nclass Operator {\n\n    /**\n     * Add two operands\n     * @param interge \n     * @return interge\n     */\n    public function add($a, $b) {\n        return $this->_add($a, $b);\n    }\n\n    /**\n     * Sub \n     */\n    public function sub($a, $b) {\n        return $a - $b;\n    }\n\n    /**\n     * Mul\n     */\n    public function mul($a, $b) {\n        return $a * $b;\n    }\n\n    /**\n     * Protected methods will not be exposed\n     * @param interge \n     * @return interge\n     */\n    protected function _add($a, $b) {\n        return $a + $b;\n    }\n}\n\n$server = new Yar_Server(new Operator());\n$server->handle();\n?>\n\n\n// \n\n<?php\n$client = new yar_client(\"http://example.com/operator.php\");\n\n/* call directly */\nvar_dump($client->add(1, 2));\n\n/* call via call */\nvar_dump($client->call(\"add\", array(3, 2)));\n\n\n/* __add can not be called */\nvar_dump($client->_add(1, 2));\n?>\n```\n\n\n\n## \n\n```php\n\n<?php\nfunction callback($ret, $callinfo) {\n    echo $callinfo['method'] , \" result: \", $ret , \"\\n\";\n}\n\n/*  */\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"add\", array(1, 2), \"callback\");\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"sub\", array(2, 1), \"callback\");\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"mul\", array(2, 2), \"callback\");\n\n/* , , Yarcallback */\nYar_Concurrent_Client::loop();\n\n\n\n\n\nfunction callback($ret, $callinfo) {\n    echo $callinfo['method'] , \" result: \", $ret , \"\\n\";\n}\n\n/*  */\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"add\", array(1, 2), \"callback\");\n/* , , Yarcallback */\nYar_Concurrent_Client::loop();\n/* call ,call*/\nYar_Concurrent_Client::reset();\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"sub\", array(2, 1), \"callback\");\nYar_Concurrent_Client::loop();\n\n\n?>\n\n```\n# Yaf\n\n[php net yaf](https://www.php.net/manual/zh/book.yaf.php)\n[](https://www.laruence.com/manual/index.html)\n\n### Yaf\n\n- CPHP, PHP, .\n- , , PHP, .\n- , , .\n- . , .\n- .\n- , , , .\n- , .\n- . , .\n- ,.\n- , .\n\n\n## \n\n```php\n\nYaf can be installed from source code by:\n\ncd /path/to/yaf-src/\nphpize\n./configure\nmake\nsudo make install\n\n```\n\n## \n\n```php\n\nhttp://dev-all.ekeguan.com/test/1/1.html\n\n Bootstrap.php  _initRoute \n//http://dev-all.ekeguan.com/product/list/1/2\n $router = $dispatcher->getRouter();\n$route  = new Yaf_Route_Rewrite(\n        \"/product/list/:id/:name\",\n        array(\n            \"controller\" => \"index\",\n            \"action\"     => \"index\",\n        )\n    ); \n    \n    $router->addRoute('dummy', $route);\n// http://dev-all.ekeguan.com/user-list/1\n\n// http://dev-all.ekeguan.com/test/1/1.html\n\n    $config = array(\n     \"user-list\" => array(\n        \"type\"  => \"rewrite\",        //Yaf_Route_Rewrite route\n        \"match\" => \"/user-list/:id\", //match only /user/list/?/\n        \"route\" => array(\n            'controller' => \"index\",  //route to user controller,\n            'action'     => \"index\",  //route to list action\n        ),\n     ),\n     \"test\" => array(\n        \"type\"  => \"regex\",          //Yaf_Route_Regex route\n        \"match\" => \"#^/test/([^/]+)/([^/])(.*)\\.html+#\",         //match arbitrary request uri\n        \"route\" => array(\n            'controller' => \"index\",  //route to product controller,\n            'action'     => \"index\",    //route to dummy action\n        ),\n        \"map\" => array(\n           1 => \"uri\",   // now you can call $request->getParam(\"uri\")\n        ),\n     ),\n );\n\n $router->addConfig(new Yaf_Config_Simple($config));\n \n \n //\n $router = $dispatcher->getRouter();\n$config = array(\n   \"detail\" => array(\n      \"type\"  => \"regex\",          //Yaf_Route_Regex route\n      \"match\" => \"#^/details/(\\d+)\\/?(\\d?)(\\.html)?#\",         //match arbitrary request uri\n      \"route\" => array(\n          'controller' => \"index\",  //route to product controller,\n          'action'     => \"index\",    //route to dummy action\n      ),\n      \"map\" => array(\n         1 => \"id\",   // now you can call $request->getParam(\"uri\")\n         2 => \"page\",   // now you can call $request->getParam(\"uri\")\n      ),\n   ),\n);\n\n$router->addConfig(new Yaf_Config_Simple($config));\n\n```\n\n## CLI\n\n### \n\n`public``cli.php`\n\n```php\n\nif(php_sapi_name()!='cli'){\n    echo 'No authority';exit();\n}\n\n$application = new Yaf_Application(GLOBAL_CONFIG_PATH.'application.ini');\n$application->execute(\"main1\");\n\nfunction main1() {\n    echo \"hello\\n\";\n}\n\n```\n\n `php cli.php` \n\n\n### \n\n`public``cli.php`\n\n\n```php\n<?php\n/*\n * cli\n * http\n */\nif (php_sapi_name() != 'cli') {\n    echo 'No authority';exit();\n}\ndefine('ENVIRONMENT', 'develop'); //product\ndefine('ROOT_PATH', dirname(__FILE__));\ndefine('APP_PATH', realpath(ROOT_PATH . '/../')); //\n\ndefine('GLOBAL_CONFIG_PATH', '/home/www/config/');\ndefined('REFERER') ? REFERER : define('REFERER', isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : '/'); //\n\nswitch (ENVIRONMENT) {\n    case 'develop':\n        error_reporting(E_ALL & ~E_NOTICE); //E_NOTICE\n        ini_set('display_errors', 1);\n        ini_set('yaf.environ', 'develop');\n        break;\n    case 'product':\n        ini_set('display_errors', 0);\n        break;\n    default:\n        header('HTTP/1.1 503 Service Unavailable.', true, 503);\n        echo 'The application environment is not set correctly.';\n        exit(1); // EXIT_ERROR\n}\n\n$application = new Yaf_Application(GLOBAL_CONFIG_PATH . 'application.ini');\n//clibootstrap\n$application->bootstrap();\n\n//argv\n$uri_r = explode('/', $argv[1]);\n$count = count($uri_r);\n\nif ($count > 3 && $count <= 1) {\n    echo 'uri error!';\n    exit;\n} elseif ($count == 2) {\n    // \n    array_unshift($uri_r, '');\n}\n\nlist($module, $controller, $action) = $uri_r;\n\n$params = [];\nif (isset($argv[2]) && !empty($argv[2])) {\n    parse_str($argv[2], $params);\n}\n\n$request = new Yaf_Request_Simple('CLI', $module, $controller, $action, $params);\n$application->getDispatcher()->returnResponse(true)->dispatch($request);\n\n```\n\n`php cli2.php  account/account/login \"name=Bill&age=60\"`,   ,  `controller`   `$this->getRequest()->getParams()` \n","source":"_posts/2020/yaf.md","raw":"---\ntitle: Yaf Yar\ndate: 2020-05-10 14:51:38\nupdated: 2020-05-10 14:51:38\ntags:\n- yaf \n- rewrite\ncategories:\n---\n\n# Yar (Yet Another RPC Framework) rpc\n\nYar , RPC, PHP. Yar. .\n\n\n<!-- more -->\n\n### \n\n```php\n\n\n//\n<?php\n\n/* : http://example.com/operator.php */\n\nclass Operator {\n\n    /**\n     * Add two operands\n     * @param interge \n     * @return interge\n     */\n    public function add($a, $b) {\n        return $this->_add($a, $b);\n    }\n\n    /**\n     * Sub \n     */\n    public function sub($a, $b) {\n        return $a - $b;\n    }\n\n    /**\n     * Mul\n     */\n    public function mul($a, $b) {\n        return $a * $b;\n    }\n\n    /**\n     * Protected methods will not be exposed\n     * @param interge \n     * @return interge\n     */\n    protected function _add($a, $b) {\n        return $a + $b;\n    }\n}\n\n$server = new Yar_Server(new Operator());\n$server->handle();\n?>\n\n\n// \n\n<?php\n$client = new yar_client(\"http://example.com/operator.php\");\n\n/* call directly */\nvar_dump($client->add(1, 2));\n\n/* call via call */\nvar_dump($client->call(\"add\", array(3, 2)));\n\n\n/* __add can not be called */\nvar_dump($client->_add(1, 2));\n?>\n```\n\n\n\n## \n\n```php\n\n<?php\nfunction callback($ret, $callinfo) {\n    echo $callinfo['method'] , \" result: \", $ret , \"\\n\";\n}\n\n/*  */\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"add\", array(1, 2), \"callback\");\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"sub\", array(2, 1), \"callback\");\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"mul\", array(2, 2), \"callback\");\n\n/* , , Yarcallback */\nYar_Concurrent_Client::loop();\n\n\n\n\n\nfunction callback($ret, $callinfo) {\n    echo $callinfo['method'] , \" result: \", $ret , \"\\n\";\n}\n\n/*  */\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"add\", array(1, 2), \"callback\");\n/* , , Yarcallback */\nYar_Concurrent_Client::loop();\n/* call ,call*/\nYar_Concurrent_Client::reset();\nYar_Concurrent_Client::call(\"http://example.com/operator.php\", \"sub\", array(2, 1), \"callback\");\nYar_Concurrent_Client::loop();\n\n\n?>\n\n```\n# Yaf\n\n[php net yaf](https://www.php.net/manual/zh/book.yaf.php)\n[](https://www.laruence.com/manual/index.html)\n\n### Yaf\n\n- CPHP, PHP, .\n- , , PHP, .\n- , , .\n- . , .\n- .\n- , , , .\n- , .\n- . , .\n- ,.\n- , .\n\n\n## \n\n```php\n\nYaf can be installed from source code by:\n\ncd /path/to/yaf-src/\nphpize\n./configure\nmake\nsudo make install\n\n```\n\n## \n\n```php\n\nhttp://dev-all.ekeguan.com/test/1/1.html\n\n Bootstrap.php  _initRoute \n//http://dev-all.ekeguan.com/product/list/1/2\n $router = $dispatcher->getRouter();\n$route  = new Yaf_Route_Rewrite(\n        \"/product/list/:id/:name\",\n        array(\n            \"controller\" => \"index\",\n            \"action\"     => \"index\",\n        )\n    ); \n    \n    $router->addRoute('dummy', $route);\n// http://dev-all.ekeguan.com/user-list/1\n\n// http://dev-all.ekeguan.com/test/1/1.html\n\n    $config = array(\n     \"user-list\" => array(\n        \"type\"  => \"rewrite\",        //Yaf_Route_Rewrite route\n        \"match\" => \"/user-list/:id\", //match only /user/list/?/\n        \"route\" => array(\n            'controller' => \"index\",  //route to user controller,\n            'action'     => \"index\",  //route to list action\n        ),\n     ),\n     \"test\" => array(\n        \"type\"  => \"regex\",          //Yaf_Route_Regex route\n        \"match\" => \"#^/test/([^/]+)/([^/])(.*)\\.html+#\",         //match arbitrary request uri\n        \"route\" => array(\n            'controller' => \"index\",  //route to product controller,\n            'action'     => \"index\",    //route to dummy action\n        ),\n        \"map\" => array(\n           1 => \"uri\",   // now you can call $request->getParam(\"uri\")\n        ),\n     ),\n );\n\n $router->addConfig(new Yaf_Config_Simple($config));\n \n \n //\n $router = $dispatcher->getRouter();\n$config = array(\n   \"detail\" => array(\n      \"type\"  => \"regex\",          //Yaf_Route_Regex route\n      \"match\" => \"#^/details/(\\d+)\\/?(\\d?)(\\.html)?#\",         //match arbitrary request uri\n      \"route\" => array(\n          'controller' => \"index\",  //route to product controller,\n          'action'     => \"index\",    //route to dummy action\n      ),\n      \"map\" => array(\n         1 => \"id\",   // now you can call $request->getParam(\"uri\")\n         2 => \"page\",   // now you can call $request->getParam(\"uri\")\n      ),\n   ),\n);\n\n$router->addConfig(new Yaf_Config_Simple($config));\n\n```\n\n## CLI\n\n### \n\n`public``cli.php`\n\n```php\n\nif(php_sapi_name()!='cli'){\n    echo 'No authority';exit();\n}\n\n$application = new Yaf_Application(GLOBAL_CONFIG_PATH.'application.ini');\n$application->execute(\"main1\");\n\nfunction main1() {\n    echo \"hello\\n\";\n}\n\n```\n\n `php cli.php` \n\n\n### \n\n`public``cli.php`\n\n\n```php\n<?php\n/*\n * cli\n * http\n */\nif (php_sapi_name() != 'cli') {\n    echo 'No authority';exit();\n}\ndefine('ENVIRONMENT', 'develop'); //product\ndefine('ROOT_PATH', dirname(__FILE__));\ndefine('APP_PATH', realpath(ROOT_PATH . '/../')); //\n\ndefine('GLOBAL_CONFIG_PATH', '/home/www/config/');\ndefined('REFERER') ? REFERER : define('REFERER', isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : '/'); //\n\nswitch (ENVIRONMENT) {\n    case 'develop':\n        error_reporting(E_ALL & ~E_NOTICE); //E_NOTICE\n        ini_set('display_errors', 1);\n        ini_set('yaf.environ', 'develop');\n        break;\n    case 'product':\n        ini_set('display_errors', 0);\n        break;\n    default:\n        header('HTTP/1.1 503 Service Unavailable.', true, 503);\n        echo 'The application environment is not set correctly.';\n        exit(1); // EXIT_ERROR\n}\n\n$application = new Yaf_Application(GLOBAL_CONFIG_PATH . 'application.ini');\n//clibootstrap\n$application->bootstrap();\n\n//argv\n$uri_r = explode('/', $argv[1]);\n$count = count($uri_r);\n\nif ($count > 3 && $count <= 1) {\n    echo 'uri error!';\n    exit;\n} elseif ($count == 2) {\n    // \n    array_unshift($uri_r, '');\n}\n\nlist($module, $controller, $action) = $uri_r;\n\n$params = [];\nif (isset($argv[2]) && !empty($argv[2])) {\n    parse_str($argv[2], $params);\n}\n\n$request = new Yaf_Request_Simple('CLI', $module, $controller, $action, $params);\n$application->getDispatcher()->returnResponse(true)->dispatch($request);\n\n```\n\n`php cli2.php  account/account/login \"name=Bill&age=60\"`,   ,  `controller`   `$this->getRequest()->getParams()` \n","slug":"yaf","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gv003thpwf2tphwm6t","content":"<h1 id=\"Yar-Yet-Another-RPC-Framework-rpc\"><a href=\"#Yar-Yet-Another-RPC-Framework-rpc\" class=\"headerlink\" title=\"Yar (Yet Another RPC Framework) rpc\"></a>Yar (Yet Another RPC Framework) rpc</h1><p>Yar , RPC, PHP. Yar. .</p>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* : http://example.com/operator.php */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Operator</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Add two operands</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> interge </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> interge</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_add($a, $b);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Sub </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sub</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a - $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Mul</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mul</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a * $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Protected methods will not be exposed</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> interge </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> interge</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">_add</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a + $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$server = <span class=\"keyword\">new</span> Yar_Server(<span class=\"keyword\">new</span> Operator());</span><br><span class=\"line\">$server-&gt;handle();</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$client = <span class=\"keyword\">new</span> yar_client(<span class=\"string\">\"http://example.com/operator.php\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* call directly */</span></span><br><span class=\"line\">var_dump($client-&gt;add(<span class=\"number\">1</span>, <span class=\"number\">2</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* call via call */</span></span><br><span class=\"line\">var_dump($client-&gt;call(<span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">3</span>, <span class=\"number\">2</span>)));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* __add can not be called */</span></span><br><span class=\"line\">var_dump($client-&gt;_add(<span class=\"number\">1</span>, <span class=\"number\">2</span>));</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callback</span><span class=\"params\">($ret, $callinfo)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $callinfo[<span class=\"string\">'method'</span>] , <span class=\"string\">\" result: \"</span>, $ret , <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"sub\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">1</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"mul\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* , , Yarcallback */</span></span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callback</span><span class=\"params\">($ret, $callinfo)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $callinfo[<span class=\"string\">'method'</span>] , <span class=\"string\">\" result: \"</span>, $ret , <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\"><span class=\"comment\">/* , , Yarcallback */</span></span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"><span class=\"comment\">/* call ,call*/</span></span><br><span class=\"line\">Yar_Concurrent_Client::reset();</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"sub\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">1</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"Yaf\"><a href=\"#Yaf\" class=\"headerlink\" title=\"Yaf\"></a>Yaf</h1><p><a href=\"https://www.php.net/manual/zh/book.yaf.php\" target=\"_blank\" rel=\"noopener\">php net yaf</a><br><a href=\"https://www.laruence.com/manual/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"Yaf\"><a href=\"#Yaf\" class=\"headerlink\" title=\"Yaf\"></a>Yaf</h3><ul>\n<li>CPHP, PHP, .</li>\n<li>, , PHP, .</li>\n<li>, , .</li>\n<li>. , .</li>\n<li>.</li>\n<li>, , , .</li>\n<li>, .</li>\n<li>. , .</li>\n<li>,.</li>\n<li>, .</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Yaf can be installed from source code by:</span><br><span class=\"line\"></span><br><span class=\"line\">cd /path/to/yaf-src/</span><br><span class=\"line\">phpize</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">sudo make install</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">http:<span class=\"comment\">//dev-all.ekeguan.com/test/1/1.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"> Bootstrap.php  _initRoute </span><br><span class=\"line\"><span class=\"comment\">//http://dev-all.ekeguan.com/product/list/1/2</span></span><br><span class=\"line\"> $router = $dispatcher-&gt;getRouter();</span><br><span class=\"line\">$route  = <span class=\"keyword\">new</span> Yaf_Route_Rewrite(</span><br><span class=\"line\">        <span class=\"string\">\"/product/list/:id/:name\"</span>,</span><br><span class=\"line\">        <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"controller\"</span> =&gt; <span class=\"string\">\"index\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"action\"</span>     =&gt; <span class=\"string\">\"index\"</span>,</span><br><span class=\"line\">        )</span><br><span class=\"line\">    ); </span><br><span class=\"line\">    </span><br><span class=\"line\">    $router-&gt;addRoute(<span class=\"string\">'dummy'</span>, $route);</span><br><span class=\"line\"><span class=\"comment\">// http://dev-all.ekeguan.com/user-list/1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// http://dev-all.ekeguan.com/test/1/1.html</span></span><br><span class=\"line\"></span><br><span class=\"line\">    $config = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">     <span class=\"string\">\"user-list\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"rewrite\"</span>,        <span class=\"comment\">//Yaf_Route_Rewrite route</span></span><br><span class=\"line\">        <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"/user-list/:id\"</span>, <span class=\"comment\">//match only /user/list/?/</span></span><br><span class=\"line\">        <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to user controller,</span></span><br><span class=\"line\">            <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to list action</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">     ),</span><br><span class=\"line\">     <span class=\"string\">\"test\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"regex\"</span>,          <span class=\"comment\">//Yaf_Route_Regex route</span></span><br><span class=\"line\">        <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"#^/test/([^/]+)/([^/])(.*)\\.html+#\"</span>,         <span class=\"comment\">//match arbitrary request uri</span></span><br><span class=\"line\">        <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to product controller,</span></span><br><span class=\"line\">            <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,    <span class=\"comment\">//route to dummy action</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">        <span class=\"string\">\"map\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">           <span class=\"number\">1</span> =&gt; <span class=\"string\">\"uri\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">     ),</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\"> $router-&gt;addConfig(<span class=\"keyword\">new</span> Yaf_Config_Simple($config));</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//</span></span><br><span class=\"line\"> $router = $dispatcher-&gt;getRouter();</span><br><span class=\"line\">$config = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">   <span class=\"string\">\"detail\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">      <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"regex\"</span>,          <span class=\"comment\">//Yaf_Route_Regex route</span></span><br><span class=\"line\">      <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"#^/details/(\\d+)\\/?(\\d?)(\\.html)?#\"</span>,         <span class=\"comment\">//match arbitrary request uri</span></span><br><span class=\"line\">      <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">          <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to product controller,</span></span><br><span class=\"line\">          <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,    <span class=\"comment\">//route to dummy action</span></span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"string\">\"map\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">         <span class=\"number\">1</span> =&gt; <span class=\"string\">\"id\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">         <span class=\"number\">2</span> =&gt; <span class=\"string\">\"page\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">      ),</span><br><span class=\"line\">   ),</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">$router-&gt;addConfig(<span class=\"keyword\">new</span> Yaf_Config_Simple($config));</span><br></pre></td></tr></table></figure>\n<h2 id=\"CLI\"><a href=\"#CLI\" class=\"headerlink\" title=\"CLI\"></a>CLI</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>public</code><code>cli.php</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(php_sapi_name()!=<span class=\"string\">'cli'</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'No authority'</span>;<span class=\"keyword\">exit</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$application = <span class=\"keyword\">new</span> Yaf_Application(GLOBAL_CONFIG_PATH.<span class=\"string\">'application.ini'</span>);</span><br><span class=\"line\">$application-&gt;execute(<span class=\"string\">\"main1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">main1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">\"hello\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>php cli.php</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>public</code><code>cli.php</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * cli</span></span><br><span class=\"line\"><span class=\"comment\"> * http</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (php_sapi_name() != <span class=\"string\">'cli'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'No authority'</span>;<span class=\"keyword\">exit</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">define(<span class=\"string\">'ENVIRONMENT'</span>, <span class=\"string\">'develop'</span>); <span class=\"comment\">//product</span></span><br><span class=\"line\">define(<span class=\"string\">'ROOT_PATH'</span>, dirname(<span class=\"keyword\">__FILE__</span>));</span><br><span class=\"line\">define(<span class=\"string\">'APP_PATH'</span>, realpath(ROOT_PATH . <span class=\"string\">'/../'</span>)); <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">define(<span class=\"string\">'GLOBAL_CONFIG_PATH'</span>, <span class=\"string\">'/home/www/config/'</span>);</span><br><span class=\"line\">defined(<span class=\"string\">'REFERER'</span>) ? REFERER : define(<span class=\"string\">'REFERER'</span>, <span class=\"keyword\">isset</span>($_SERVER[<span class=\"string\">'HTTP_REFERER'</span>]) ? $_SERVER[<span class=\"string\">'HTTP_REFERER'</span>] : <span class=\"string\">'/'</span>); <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (ENVIRONMENT) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">'develop'</span>:</span><br><span class=\"line\">        error_reporting(E_ALL &amp; ~E_NOTICE); <span class=\"comment\">//E_NOTICE</span></span><br><span class=\"line\">        ini_set(<span class=\"string\">'display_errors'</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">        ini_set(<span class=\"string\">'yaf.environ'</span>, <span class=\"string\">'develop'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">'product'</span>:</span><br><span class=\"line\">        ini_set(<span class=\"string\">'display_errors'</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        header(<span class=\"string\">'HTTP/1.1 503 Service Unavailable.'</span>, <span class=\"keyword\">true</span>, <span class=\"number\">503</span>);</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'The application environment is not set correctly.'</span>;</span><br><span class=\"line\">        <span class=\"keyword\">exit</span>(<span class=\"number\">1</span>); <span class=\"comment\">// EXIT_ERROR</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$application = <span class=\"keyword\">new</span> Yaf_Application(GLOBAL_CONFIG_PATH . <span class=\"string\">'application.ini'</span>);</span><br><span class=\"line\"><span class=\"comment\">//clibootstrap</span></span><br><span class=\"line\">$application-&gt;bootstrap();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//argv</span></span><br><span class=\"line\">$uri_r = explode(<span class=\"string\">'/'</span>, $argv[<span class=\"number\">1</span>]);</span><br><span class=\"line\">$count = count($uri_r);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> ($count &gt; <span class=\"number\">3</span> &amp;&amp; $count &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'uri error!'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">exit</span>;</span><br><span class=\"line\">&#125; <span class=\"keyword\">elseif</span> ($count == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    array_unshift($uri_r, <span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">list</span>($module, $controller, $action) = $uri_r;</span><br><span class=\"line\"></span><br><span class=\"line\">$params = [];</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">isset</span>($argv[<span class=\"number\">2</span>]) &amp;&amp; !<span class=\"keyword\">empty</span>($argv[<span class=\"number\">2</span>])) &#123;</span><br><span class=\"line\">    parse_str($argv[<span class=\"number\">2</span>], $params);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$request = <span class=\"keyword\">new</span> Yaf_Request_Simple(<span class=\"string\">'CLI'</span>, $module, $controller, $action, $params);</span><br><span class=\"line\">$application-&gt;getDispatcher()-&gt;returnResponse(<span class=\"keyword\">true</span>)-&gt;dispatch($request);</span><br></pre></td></tr></table></figure>\n<p><code>php cli2.php  account/account/login &quot;name=Bill&amp;age=60&quot;</code>,   ,  <code>controller</code>   <code>$this-&gt;getRequest()-&gt;getParams()</code> </p>\n","site":{"data":{}},"excerpt":"<h1 id=\"Yar-Yet-Another-RPC-Framework-rpc\"><a href=\"#Yar-Yet-Another-RPC-Framework-rpc\" class=\"headerlink\" title=\"Yar (Yet Another RPC Framework) rpc\"></a>Yar (Yet Another RPC Framework) rpc</h1><p>Yar , RPC, PHP. Yar. .</p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* : http://example.com/operator.php */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Operator</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Add two operands</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> interge </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> interge</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_add($a, $b);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Sub </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sub</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a - $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Mul</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mul</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a * $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Protected methods will not be exposed</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> interge </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> interge</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">_add</span><span class=\"params\">($a, $b)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $a + $b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$server = <span class=\"keyword\">new</span> Yar_Server(<span class=\"keyword\">new</span> Operator());</span><br><span class=\"line\">$server-&gt;handle();</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$client = <span class=\"keyword\">new</span> yar_client(<span class=\"string\">\"http://example.com/operator.php\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* call directly */</span></span><br><span class=\"line\">var_dump($client-&gt;add(<span class=\"number\">1</span>, <span class=\"number\">2</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* call via call */</span></span><br><span class=\"line\">var_dump($client-&gt;call(<span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">3</span>, <span class=\"number\">2</span>)));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* __add can not be called */</span></span><br><span class=\"line\">var_dump($client-&gt;_add(<span class=\"number\">1</span>, <span class=\"number\">2</span>));</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callback</span><span class=\"params\">($ret, $callinfo)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $callinfo[<span class=\"string\">'method'</span>] , <span class=\"string\">\" result: \"</span>, $ret , <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"sub\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">1</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"mul\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* , , Yarcallback */</span></span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callback</span><span class=\"params\">($ret, $callinfo)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $callinfo[<span class=\"string\">'method'</span>] , <span class=\"string\">\" result: \"</span>, $ret , <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"add\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\"><span class=\"comment\">/* , , Yarcallback */</span></span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"><span class=\"comment\">/* call ,call*/</span></span><br><span class=\"line\">Yar_Concurrent_Client::reset();</span><br><span class=\"line\">Yar_Concurrent_Client::call(<span class=\"string\">\"http://example.com/operator.php\"</span>, <span class=\"string\">\"sub\"</span>, <span class=\"keyword\">array</span>(<span class=\"number\">2</span>, <span class=\"number\">1</span>), <span class=\"string\">\"callback\"</span>);</span><br><span class=\"line\">Yar_Concurrent_Client::loop();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"Yaf\"><a href=\"#Yaf\" class=\"headerlink\" title=\"Yaf\"></a>Yaf</h1><p><a href=\"https://www.php.net/manual/zh/book.yaf.php\" target=\"_blank\" rel=\"noopener\">php net yaf</a><br><a href=\"https://www.laruence.com/manual/index.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h3 id=\"Yaf\"><a href=\"#Yaf\" class=\"headerlink\" title=\"Yaf\"></a>Yaf</h3><ul>\n<li>CPHP, PHP, .</li>\n<li>, , PHP, .</li>\n<li>, , .</li>\n<li>. , .</li>\n<li>.</li>\n<li>, , , .</li>\n<li>, .</li>\n<li>. , .</li>\n<li>,.</li>\n<li>, .</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Yaf can be installed from source code by:</span><br><span class=\"line\"></span><br><span class=\"line\">cd /path/to/yaf-src/</span><br><span class=\"line\">phpize</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">sudo make install</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">http:<span class=\"comment\">//dev-all.ekeguan.com/test/1/1.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"> Bootstrap.php  _initRoute </span><br><span class=\"line\"><span class=\"comment\">//http://dev-all.ekeguan.com/product/list/1/2</span></span><br><span class=\"line\"> $router = $dispatcher-&gt;getRouter();</span><br><span class=\"line\">$route  = <span class=\"keyword\">new</span> Yaf_Route_Rewrite(</span><br><span class=\"line\">        <span class=\"string\">\"/product/list/:id/:name\"</span>,</span><br><span class=\"line\">        <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"controller\"</span> =&gt; <span class=\"string\">\"index\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"action\"</span>     =&gt; <span class=\"string\">\"index\"</span>,</span><br><span class=\"line\">        )</span><br><span class=\"line\">    ); </span><br><span class=\"line\">    </span><br><span class=\"line\">    $router-&gt;addRoute(<span class=\"string\">'dummy'</span>, $route);</span><br><span class=\"line\"><span class=\"comment\">// http://dev-all.ekeguan.com/user-list/1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// http://dev-all.ekeguan.com/test/1/1.html</span></span><br><span class=\"line\"></span><br><span class=\"line\">    $config = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">     <span class=\"string\">\"user-list\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"rewrite\"</span>,        <span class=\"comment\">//Yaf_Route_Rewrite route</span></span><br><span class=\"line\">        <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"/user-list/:id\"</span>, <span class=\"comment\">//match only /user/list/?/</span></span><br><span class=\"line\">        <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to user controller,</span></span><br><span class=\"line\">            <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to list action</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">     ),</span><br><span class=\"line\">     <span class=\"string\">\"test\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"regex\"</span>,          <span class=\"comment\">//Yaf_Route_Regex route</span></span><br><span class=\"line\">        <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"#^/test/([^/]+)/([^/])(.*)\\.html+#\"</span>,         <span class=\"comment\">//match arbitrary request uri</span></span><br><span class=\"line\">        <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to product controller,</span></span><br><span class=\"line\">            <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,    <span class=\"comment\">//route to dummy action</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">        <span class=\"string\">\"map\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">           <span class=\"number\">1</span> =&gt; <span class=\"string\">\"uri\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">        ),</span><br><span class=\"line\">     ),</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\"> $router-&gt;addConfig(<span class=\"keyword\">new</span> Yaf_Config_Simple($config));</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//</span></span><br><span class=\"line\"> $router = $dispatcher-&gt;getRouter();</span><br><span class=\"line\">$config = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">   <span class=\"string\">\"detail\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">      <span class=\"string\">\"type\"</span>  =&gt; <span class=\"string\">\"regex\"</span>,          <span class=\"comment\">//Yaf_Route_Regex route</span></span><br><span class=\"line\">      <span class=\"string\">\"match\"</span> =&gt; <span class=\"string\">\"#^/details/(\\d+)\\/?(\\d?)(\\.html)?#\"</span>,         <span class=\"comment\">//match arbitrary request uri</span></span><br><span class=\"line\">      <span class=\"string\">\"route\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">          <span class=\"string\">'controller'</span> =&gt; <span class=\"string\">\"index\"</span>,  <span class=\"comment\">//route to product controller,</span></span><br><span class=\"line\">          <span class=\"string\">'action'</span>     =&gt; <span class=\"string\">\"index\"</span>,    <span class=\"comment\">//route to dummy action</span></span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"string\">\"map\"</span> =&gt; <span class=\"keyword\">array</span>(</span><br><span class=\"line\">         <span class=\"number\">1</span> =&gt; <span class=\"string\">\"id\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">         <span class=\"number\">2</span> =&gt; <span class=\"string\">\"page\"</span>,   <span class=\"comment\">// now you can call $request-&gt;getParam(\"uri\")</span></span><br><span class=\"line\">      ),</span><br><span class=\"line\">   ),</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">$router-&gt;addConfig(<span class=\"keyword\">new</span> Yaf_Config_Simple($config));</span><br></pre></td></tr></table></figure>\n<h2 id=\"CLI\"><a href=\"#CLI\" class=\"headerlink\" title=\"CLI\"></a>CLI</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>public</code><code>cli.php</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(php_sapi_name()!=<span class=\"string\">'cli'</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'No authority'</span>;<span class=\"keyword\">exit</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$application = <span class=\"keyword\">new</span> Yaf_Application(GLOBAL_CONFIG_PATH.<span class=\"string\">'application.ini'</span>);</span><br><span class=\"line\">$application-&gt;execute(<span class=\"string\">\"main1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">main1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">\"hello\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>php cli.php</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>public</code><code>cli.php</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * cli</span></span><br><span class=\"line\"><span class=\"comment\"> * http</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (php_sapi_name() != <span class=\"string\">'cli'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'No authority'</span>;<span class=\"keyword\">exit</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">define(<span class=\"string\">'ENVIRONMENT'</span>, <span class=\"string\">'develop'</span>); <span class=\"comment\">//product</span></span><br><span class=\"line\">define(<span class=\"string\">'ROOT_PATH'</span>, dirname(<span class=\"keyword\">__FILE__</span>));</span><br><span class=\"line\">define(<span class=\"string\">'APP_PATH'</span>, realpath(ROOT_PATH . <span class=\"string\">'/../'</span>)); <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">define(<span class=\"string\">'GLOBAL_CONFIG_PATH'</span>, <span class=\"string\">'/home/www/config/'</span>);</span><br><span class=\"line\">defined(<span class=\"string\">'REFERER'</span>) ? REFERER : define(<span class=\"string\">'REFERER'</span>, <span class=\"keyword\">isset</span>($_SERVER[<span class=\"string\">'HTTP_REFERER'</span>]) ? $_SERVER[<span class=\"string\">'HTTP_REFERER'</span>] : <span class=\"string\">'/'</span>); <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (ENVIRONMENT) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">'develop'</span>:</span><br><span class=\"line\">        error_reporting(E_ALL &amp; ~E_NOTICE); <span class=\"comment\">//E_NOTICE</span></span><br><span class=\"line\">        ini_set(<span class=\"string\">'display_errors'</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">        ini_set(<span class=\"string\">'yaf.environ'</span>, <span class=\"string\">'develop'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">'product'</span>:</span><br><span class=\"line\">        ini_set(<span class=\"string\">'display_errors'</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        header(<span class=\"string\">'HTTP/1.1 503 Service Unavailable.'</span>, <span class=\"keyword\">true</span>, <span class=\"number\">503</span>);</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'The application environment is not set correctly.'</span>;</span><br><span class=\"line\">        <span class=\"keyword\">exit</span>(<span class=\"number\">1</span>); <span class=\"comment\">// EXIT_ERROR</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$application = <span class=\"keyword\">new</span> Yaf_Application(GLOBAL_CONFIG_PATH . <span class=\"string\">'application.ini'</span>);</span><br><span class=\"line\"><span class=\"comment\">//clibootstrap</span></span><br><span class=\"line\">$application-&gt;bootstrap();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//argv</span></span><br><span class=\"line\">$uri_r = explode(<span class=\"string\">'/'</span>, $argv[<span class=\"number\">1</span>]);</span><br><span class=\"line\">$count = count($uri_r);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> ($count &gt; <span class=\"number\">3</span> &amp;&amp; $count &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'uri error!'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">exit</span>;</span><br><span class=\"line\">&#125; <span class=\"keyword\">elseif</span> ($count == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    array_unshift($uri_r, <span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">list</span>($module, $controller, $action) = $uri_r;</span><br><span class=\"line\"></span><br><span class=\"line\">$params = [];</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">isset</span>($argv[<span class=\"number\">2</span>]) &amp;&amp; !<span class=\"keyword\">empty</span>($argv[<span class=\"number\">2</span>])) &#123;</span><br><span class=\"line\">    parse_str($argv[<span class=\"number\">2</span>], $params);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$request = <span class=\"keyword\">new</span> Yaf_Request_Simple(<span class=\"string\">'CLI'</span>, $module, $controller, $action, $params);</span><br><span class=\"line\">$application-&gt;getDispatcher()-&gt;returnResponse(<span class=\"keyword\">true</span>)-&gt;dispatch($request);</span><br></pre></td></tr></table></figure>\n<p><code>php cli2.php  account/account/login &quot;name=Bill&amp;age=60&quot;</code>,   ,  <code>controller</code>   <code>$this-&gt;getRequest()-&gt;getParams()</code> </p>"},{"title":"","date":"2019-01-30T08:26:58.000Z","updated":"2019-01-30T08:26:58.000Z","_content":"\n\n\n\n1. Service  \n2. Resource \n3. \n\n\n\n****\n\n<!--more-->\n\n## \n### CAP\n\nCAP\n- Consistency(), \n- Availability(), \n- Partition tolerance() \n> \n> \n\n\n\n CP  ZooKeeper \n AP () BASE  AP \n\nBASECAP\n\n### BASE\nBASE  Basically Available()Soft state() Eventually consistent () CAP  AP \n CAP  CP A P  CA\n\n> ,\n\n> \n\n> \n\nACIDBASE\n\n## \n\n### 2PC\n\n XA Transactions Mysql5.5mariadb\n```\nSHOW VARIABLES LIKE '%innodb_support_xa%';\n```\n\nresource manager\n\ntransaction managerresource \nmanager\n\nXA :\n1. (precommit)\n2. \n\n![image](https://wx3.sinaimg.cn/mw690/6972aca8ly1fzimzin6ffj20lz0e8wg8.jpg)\n\nMYSQLXA\n```\nXA {START|BEGIN} xid [JOIN|RESUME]   //XAXA STARTXA\n\nBEGIN[JOIN|RESUME]xid\n\nXA END xid [SUSPEND [FOR MIGRATE]]   //XA[SUSPEND [FOR MIGRATE]]\n\nXA PREPARE xid \n\nXA COMMIT xid [ONE PHASE] //ONE PHASERM\n\nXA ROLLBACK xid  //\n\nXA RECOVER [CONVERT XID]  //PREPAREXA\n```\n\n\n\n1\n\n2\n\n3commitcommitcommitcommitcommitcommit\n\n4commit\n\nXA ()\n\n\n\n\nDEMO\n\n```php\n$pdo1 = DB::connection()->getPdo();\n$pdo2 = DB::connection('jianzhi_vip')->getPdo();\n\n$xid = uniqid();\n$xid2 = uniqid();\n$this->info('xa');\n\n$pdo1->exec(\"XA START '$xid'\");\n$pdo2->exec(\"XA START '$xid2'\");\n\ntry {\n    $this->info('xa');\n    $ret1 = $pdo1->exec(\"UPDATE jz_abtest_record SET test_result=test_result+1 WHERE id=1\");\n\n    $ret2 = $pdo2->exec(\"UPDATE test SET age=7 WHERE id=1\");\n\n    //1$dbtest1\n    $pdo1->exec(\"XA END '$xid'\");\n    $pdo1->exec(\"XA PREPARE '$xid'\");\n    //1$dbtest2\n    $pdo2->exec(\"XA END '$xid2'\");\n    $pdo2->exec(\"XA PREPARE '$xid2'\");\n\n    //prepare\n    if (!$ret1 || !$ret2) {\n        throw new Exception(\"\", 1);\n    }\n\n    $this->info('xa');\n    //2\n    $pdo1->exec(\"XA COMMIT '$xid'\");\n    $pdo2->exec(\"XA COMMIT '$xid2'\");\n\n} catch (Exception $e) {\n\n    $this->info('');\n    //2\n    $pdo1->exec(\"XA ROLLBACK '$xid'\");\n    $pdo2->exec(\"XA ROLLBACK '$xid2'\");\n    print_r($e->getMessage());\n}\n```\n\n### TCC\n\n![TCC](https://wx4.sinaimg.cn/mw690/6972aca8ly1fz8gszyj0lj20ns0bldhs.jpg)\n\nTCC ****\n\n\n- Try \n- Confirm Try ConfirmConfirmTryConfirm\n- Cancel \n\n>  Bob  Smith \n> \n> 1 Try  Smith  Bob \n> 2 Confirm \n> 32 (Cancel)\n\n 2PC2PC,\n\n \n1. tryconfirmcancel\n2. confirmcancel\n\nTCCXA\n1. XA\n\n> XAJTAUserTransactioncommitTransactionManagerpreparecommit/rollback\n\n2.TCC\n\n > TCCtry()confirm/cancel(/)tryconfirm/cancelACIDtry,confirm/cancel/.\n \n### ()\n\n********\n\n1. +\n\n2. \n****\n3. \n\n\n\n#### \n:\n![](https://upload-images.jianshu.io/upload_images/11349666-abdeca2a04207329.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp)\n\n1. MQ\n\n2. \n\n3. \n\nBASE2PC(2PC)TCC\n\n\n\n100\n\n```\nbegin transaction:\nupdate User set account = account - 100 where userId = 'A'\ninsert into message(msgId, userId, amount, status) values('123','A', 100, 1)\ncommit transaction\n```\n\n100\n\n\n\n1. MQ\n2. \nMQ90%\n\n\n\n```\nget msgId = '123';\ncheck if mgsId is in message_applied(msgId);\nif not applied:\n    begin transaction:\n        update User set account = account + 100 where userId = 'B'\n        insert into message_applied(msgId) values('123')\n    commit transaction\n```\n\n\n\n\n\n\n\n#### MQ\n\n:\n\n\n\n1.  MQ \n2.  MQ \n3.  MQ \n\nQ:  \n\nA:  MQ  + \n\nQ: \n\n1. \n2. MQ\n\n\n#### MQ\n\nBobSmith\n\nSmithSmith\n\nRocketMQ ,Prepared\n\n![image](https://upload-images.jianshu.io/upload_images/11349666-8211b5a685e7081e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/598/format/webp)\n\n1.  Prepared \n2. \n3. \n \n RocketMQ Broker\n\nRocketMQ Listener \n\nRocketMQ \n\n\nRocketMQ (4.3)\n\n   MQ RocketMQ 2. \n![image](https://wx4.sinaimg.cn/mw690/6972aca8ly1fz6d7kc4xej20u009974u.jpg)\n\n1.  prepare  MQRocketMQPrepared\n2.  prepare \n3.  commit  rollback\n4.  rollbackMQ  prepare  commit MQ  consumer RocketMQ\n5. MQ  producer \n6. Consumer  MQ \n\n \n \n RocketMQPrepared()RocketMQ\n \n \n \n \n \n### GTS\n\n\n![image](http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/48726/cn_zh/1498619797175/GTS%20%E6%9E%B6%E6%9E%84.png)\n\n\n## \n- [2pc XA ](https://dev.mysql.com/doc/refman/8.0/en/xa-statements.html)\n- [mysql XA ](http://www.ywnds.com/?p=9049)\n- [](https://www.infoq.cn/article/solution-of-distributed-system-transaction-consistency)\n- [RocketMQ ](https://www.jianshu.com/p/453c6e7ff81c)\n- [RocketMQ ](http://rocketmq.apache.org/docs/transaction-example/)\n- [GTS](https://help.aliyun.com/document_detail/48726.html?spm=a2c4g.11174283.4.1.1cad735dnkjSxG)\n- [](http://www.tianshouzhi.com/api/tutorials/distributed_transaction/389)","source":"_posts/2019/distributed-transaction.md","raw":"---\ntitle: \ndate: 2019-01-30 16:26:58\nupdated: 2019-01-30 16:26:58\ntags:\ncategories:\n---\n\n\n\n\n1. Service  \n2. Resource \n3. \n\n\n\n****\n\n<!--more-->\n\n## \n### CAP\n\nCAP\n- Consistency(), \n- Availability(), \n- Partition tolerance() \n> \n> \n\n\n\n CP  ZooKeeper \n AP () BASE  AP \n\nBASECAP\n\n### BASE\nBASE  Basically Available()Soft state() Eventually consistent () CAP  AP \n CAP  CP A P  CA\n\n> ,\n\n> \n\n> \n\nACIDBASE\n\n## \n\n### 2PC\n\n XA Transactions Mysql5.5mariadb\n```\nSHOW VARIABLES LIKE '%innodb_support_xa%';\n```\n\nresource manager\n\ntransaction managerresource \nmanager\n\nXA :\n1. (precommit)\n2. \n\n![image](https://wx3.sinaimg.cn/mw690/6972aca8ly1fzimzin6ffj20lz0e8wg8.jpg)\n\nMYSQLXA\n```\nXA {START|BEGIN} xid [JOIN|RESUME]   //XAXA STARTXA\n\nBEGIN[JOIN|RESUME]xid\n\nXA END xid [SUSPEND [FOR MIGRATE]]   //XA[SUSPEND [FOR MIGRATE]]\n\nXA PREPARE xid \n\nXA COMMIT xid [ONE PHASE] //ONE PHASERM\n\nXA ROLLBACK xid  //\n\nXA RECOVER [CONVERT XID]  //PREPAREXA\n```\n\n\n\n1\n\n2\n\n3commitcommitcommitcommitcommitcommit\n\n4commit\n\nXA ()\n\n\n\n\nDEMO\n\n```php\n$pdo1 = DB::connection()->getPdo();\n$pdo2 = DB::connection('jianzhi_vip')->getPdo();\n\n$xid = uniqid();\n$xid2 = uniqid();\n$this->info('xa');\n\n$pdo1->exec(\"XA START '$xid'\");\n$pdo2->exec(\"XA START '$xid2'\");\n\ntry {\n    $this->info('xa');\n    $ret1 = $pdo1->exec(\"UPDATE jz_abtest_record SET test_result=test_result+1 WHERE id=1\");\n\n    $ret2 = $pdo2->exec(\"UPDATE test SET age=7 WHERE id=1\");\n\n    //1$dbtest1\n    $pdo1->exec(\"XA END '$xid'\");\n    $pdo1->exec(\"XA PREPARE '$xid'\");\n    //1$dbtest2\n    $pdo2->exec(\"XA END '$xid2'\");\n    $pdo2->exec(\"XA PREPARE '$xid2'\");\n\n    //prepare\n    if (!$ret1 || !$ret2) {\n        throw new Exception(\"\", 1);\n    }\n\n    $this->info('xa');\n    //2\n    $pdo1->exec(\"XA COMMIT '$xid'\");\n    $pdo2->exec(\"XA COMMIT '$xid2'\");\n\n} catch (Exception $e) {\n\n    $this->info('');\n    //2\n    $pdo1->exec(\"XA ROLLBACK '$xid'\");\n    $pdo2->exec(\"XA ROLLBACK '$xid2'\");\n    print_r($e->getMessage());\n}\n```\n\n### TCC\n\n![TCC](https://wx4.sinaimg.cn/mw690/6972aca8ly1fz8gszyj0lj20ns0bldhs.jpg)\n\nTCC ****\n\n\n- Try \n- Confirm Try ConfirmConfirmTryConfirm\n- Cancel \n\n>  Bob  Smith \n> \n> 1 Try  Smith  Bob \n> 2 Confirm \n> 32 (Cancel)\n\n 2PC2PC,\n\n \n1. tryconfirmcancel\n2. confirmcancel\n\nTCCXA\n1. XA\n\n> XAJTAUserTransactioncommitTransactionManagerpreparecommit/rollback\n\n2.TCC\n\n > TCCtry()confirm/cancel(/)tryconfirm/cancelACIDtry,confirm/cancel/.\n \n### ()\n\n********\n\n1. +\n\n2. \n****\n3. \n\n\n\n#### \n:\n![](https://upload-images.jianshu.io/upload_images/11349666-abdeca2a04207329.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp)\n\n1. MQ\n\n2. \n\n3. \n\nBASE2PC(2PC)TCC\n\n\n\n100\n\n```\nbegin transaction:\nupdate User set account = account - 100 where userId = 'A'\ninsert into message(msgId, userId, amount, status) values('123','A', 100, 1)\ncommit transaction\n```\n\n100\n\n\n\n1. MQ\n2. \nMQ90%\n\n\n\n```\nget msgId = '123';\ncheck if mgsId is in message_applied(msgId);\nif not applied:\n    begin transaction:\n        update User set account = account + 100 where userId = 'B'\n        insert into message_applied(msgId) values('123')\n    commit transaction\n```\n\n\n\n\n\n\n\n#### MQ\n\n:\n\n\n\n1.  MQ \n2.  MQ \n3.  MQ \n\nQ:  \n\nA:  MQ  + \n\nQ: \n\n1. \n2. MQ\n\n\n#### MQ\n\nBobSmith\n\nSmithSmith\n\nRocketMQ ,Prepared\n\n![image](https://upload-images.jianshu.io/upload_images/11349666-8211b5a685e7081e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/598/format/webp)\n\n1.  Prepared \n2. \n3. \n \n RocketMQ Broker\n\nRocketMQ Listener \n\nRocketMQ \n\n\nRocketMQ (4.3)\n\n   MQ RocketMQ 2. \n![image](https://wx4.sinaimg.cn/mw690/6972aca8ly1fz6d7kc4xej20u009974u.jpg)\n\n1.  prepare  MQRocketMQPrepared\n2.  prepare \n3.  commit  rollback\n4.  rollbackMQ  prepare  commit MQ  consumer RocketMQ\n5. MQ  producer \n6. Consumer  MQ \n\n \n \n RocketMQPrepared()RocketMQ\n \n \n \n \n \n### GTS\n\n\n![image](http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/48726/cn_zh/1498619797175/GTS%20%E6%9E%B6%E6%9E%84.png)\n\n\n## \n- [2pc XA ](https://dev.mysql.com/doc/refman/8.0/en/xa-statements.html)\n- [mysql XA ](http://www.ywnds.com/?p=9049)\n- [](https://www.infoq.cn/article/solution-of-distributed-system-transaction-consistency)\n- [RocketMQ ](https://www.jianshu.com/p/453c6e7ff81c)\n- [RocketMQ ](http://rocketmq.apache.org/docs/transaction-example/)\n- [GTS](https://help.aliyun.com/document_detail/48726.html?spm=a2c4g.11174283.4.1.1cad735dnkjSxG)\n- [](http://www.tianshouzhi.com/api/tutorials/distributed_transaction/389)","slug":"distributed-transaction","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gx003whpwfz9h90rgu","content":"<p></p>\n<ol>\n<li>Service  </li>\n<li>Resource </li>\n<li></li>\n</ol>\n<p><br><strong></strong></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"CAP\"><a href=\"#CAP\" class=\"headerlink\" title=\"CAP\"></a>CAP</h3><p>CAP</p>\n<ul>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() <blockquote>\n<p><br></p>\n</blockquote>\n</li>\n</ul>\n<p></p>\n<p> CP  ZooKeeper <br> AP () BASE  AP </p>\n<p>BASECAP</p>\n<h3 id=\"BASE\"><a href=\"#BASE\" class=\"headerlink\" title=\"BASE\"></a>BASE</h3><p>BASE  Basically Available()Soft state() Eventually consistent () CAP  AP <br> CAP  CP A P  CA</p>\n<blockquote>\n<p>,</p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p>ACIDBASE</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"2PC\"><a href=\"#2PC\" class=\"headerlink\" title=\"2PC\"></a>2PC</h3><p> XA Transactions Mysql5.5mariadb<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW VARIABLES LIKE &apos;%innodb_support_xa%&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>resource manager</p>\n<p>transaction managerresource<br>manager</p>\n<p>XA :</p>\n<ol>\n<li>(precommit)</li>\n<li></li>\n</ol>\n<p><img src=\"https://wx3.sinaimg.cn/mw690/6972aca8ly1fzimzin6ffj20lz0e8wg8.jpg\" alt=\"image\"></p>\n<p>MYSQLXA<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">XA &#123;START|BEGIN&#125; xid [JOIN|RESUME]   //XAXA STARTXA</span><br><span class=\"line\"></span><br><span class=\"line\">BEGIN[JOIN|RESUME]xid</span><br><span class=\"line\"></span><br><span class=\"line\">XA END xid [SUSPEND [FOR MIGRATE]]   //XA[SUSPEND [FOR MIGRATE]]</span><br><span class=\"line\"></span><br><span class=\"line\">XA PREPARE xid </span><br><span class=\"line\"></span><br><span class=\"line\">XA COMMIT xid [ONE PHASE] //ONE PHASERM</span><br><span class=\"line\"></span><br><span class=\"line\">XA ROLLBACK xid  //</span><br><span class=\"line\"></span><br><span class=\"line\">XA RECOVER [CONVERT XID]  //PREPAREXA</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>1</p>\n<p>2</p>\n<p>3commitcommitcommitcommitcommitcommit</p>\n<p>4commit</p>\n<p>XA ()</p>\n<p>DEMO</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$pdo1 = DB::connection()-&gt;getPdo();</span><br><span class=\"line\">$pdo2 = DB::connection(<span class=\"string\">'jianzhi_vip'</span>)-&gt;getPdo();</span><br><span class=\"line\"></span><br><span class=\"line\">$xid = uniqid();</span><br><span class=\"line\">$xid2 = uniqid();</span><br><span class=\"line\"><span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$pdo1-&gt;exec(<span class=\"string\">\"XA START '$xid'\"</span>);</span><br><span class=\"line\">$pdo2-&gt;exec(<span class=\"string\">\"XA START '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\">    $ret1 = $pdo1-&gt;exec(<span class=\"string\">\"UPDATE jz_abtest_record SET test_result=test_result+1 WHERE id=1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $ret2 = $pdo2-&gt;exec(<span class=\"string\">\"UPDATE test SET age=7 WHERE id=1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//1$dbtest1</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA END '$xid'\"</span>);</span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA PREPARE '$xid'\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">//1$dbtest2</span></span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA END '$xid2'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA PREPARE '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//prepare</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!$ret1 || !$ret2) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"keyword\">Exception</span>(<span class=\"string\">\"\"</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA COMMIT '$xid'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA COMMIT '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (<span class=\"keyword\">Exception</span> $e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">''</span>);</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA ROLLBACK '$xid'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA ROLLBACK '$xid2'\"</span>);</span><br><span class=\"line\">    print_r($e-&gt;getMessage());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"TCC\"><a href=\"#TCC\" class=\"headerlink\" title=\"TCC\"></a>TCC</h3><p><img src=\"https://wx4.sinaimg.cn/mw690/6972aca8ly1fz8gszyj0lj20ns0bldhs.jpg\" alt=\"TCC\"></p>\n<p>TCC <strong></strong></p>\n<p></p>\n<ul>\n<li>Try </li>\n<li>Confirm Try ConfirmConfirmTryConfirm</li>\n<li>Cancel </li>\n</ul>\n<blockquote>\n<p> Bob  Smith <br><br>1 Try  Smith  Bob <br>2 Confirm <br>32 (Cancel)</p>\n</blockquote>\n<p> 2PC2PC,</p>\n<p> </p>\n<ol>\n<li>tryconfirmcancel</li>\n<li>confirmcancel</li>\n</ol>\n<p>TCCXA</p>\n<ol>\n<li>XA</li>\n</ol>\n<blockquote>\n<p>XAJTAUserTransactioncommitTransactionManagerpreparecommit/rollback</p>\n</blockquote>\n<p>2.TCC</p>\n<blockquote>\n<p>TCCtry()confirm/cancel(/)tryconfirm/cancelACIDtry,confirm/cancel/.</p>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h3><p><strong></strong><strong></strong></p>\n<ol>\n<li>+<br></li>\n<li><br><strong></strong></li>\n<li><br></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>:<br><img src=\"https://upload-images.jianshu.io/upload_images/11349666-abdeca2a04207329.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp\" alt=\"\"></p>\n<ol>\n<li><p>MQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>BASE2PC(2PC)TCC</p>\n<p><br>100</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">begin transaction:</span><br><span class=\"line\">update User set account = account - 100 where userId = &apos;A&apos;</span><br><span class=\"line\">insert into message(msgId, userId, amount, status) values(&apos;123&apos;,&apos;A&apos;, 100, 1)</span><br><span class=\"line\">commit transaction</span><br></pre></td></tr></table></figure>\n<p>100</p>\n<p></p>\n<ol>\n<li>MQ</li>\n<li><br>MQ90%</li>\n</ol>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">get msgId = &apos;123&apos;;</span><br><span class=\"line\">check if mgsId is in message_applied(msgId);</span><br><span class=\"line\">if not applied:</span><br><span class=\"line\">    begin transaction:</span><br><span class=\"line\">        update User set account = account + 100 where userId = &apos;B&apos;</span><br><span class=\"line\">        insert into message_applied(msgId) values(&apos;123&apos;)</span><br><span class=\"line\">    commit transaction</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br></p>\n<h4 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h4><p>:</p>\n<p></p>\n<ol>\n<li> MQ </li>\n<li> MQ </li>\n<li> MQ </li>\n</ol>\n<p>Q:  </p>\n<p>A:  MQ  + </p>\n<p>Q: </p>\n<ol>\n<li></li>\n<li>MQ</li>\n</ol>\n<h4 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h4><p>BobSmith</p>\n<p>SmithSmith</p>\n<p>RocketMQ ,Prepared</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/11349666-8211b5a685e7081e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/598/format/webp\" alt=\"image\"></p>\n<ol>\n<li> Prepared </li>\n<li></li>\n<li></li>\n</ol>\n<p> RocketMQ Broker</p>\n<p> RocketMQ  Listener </p>\n<p>RocketMQ </p>\n<p>RocketMQ (4.3)</p>\n<p>   MQ RocketMQ 2. <br><img src=\"https://wx4.sinaimg.cn/mw690/6972aca8ly1fz6d7kc4xej20u009974u.jpg\" alt=\"image\"></p>\n<ol>\n<li> prepare  MQRocketMQPrepared</li>\n<li> prepare </li>\n<li> commit  rollback</li>\n<li> rollbackMQ  prepare  commit MQ  consumer RocketMQ</li>\n<li>MQ  producer </li>\n<li><p>Consumer  MQ </p>\n<p></p>\n<p>RocketMQPrepared()RocketMQ</p>\n<p></p>\n<p></p>\n</li>\n</ol>\n<h3 id=\"GTS\"><a href=\"#GTS\" class=\"headerlink\" title=\"GTS\"></a>GTS</h3><p><img src=\"http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/48726/cn_zh/1498619797175/GTS%20%E6%9E%B6%E6%9E%84.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/xa-statements.html\" target=\"_blank\" rel=\"noopener\">2pc XA </a></li>\n<li><a href=\"http://www.ywnds.com/?p=9049\" target=\"_blank\" rel=\"noopener\">mysql XA </a></li>\n<li><a href=\"https://www.infoq.cn/article/solution-of-distributed-system-transaction-consistency\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.jianshu.com/p/453c6e7ff81c\" target=\"_blank\" rel=\"noopener\">RocketMQ </a></li>\n<li><a href=\"http://rocketmq.apache.org/docs/transaction-example/\" target=\"_blank\" rel=\"noopener\">RocketMQ </a></li>\n<li><a href=\"https://help.aliyun.com/document_detail/48726.html?spm=a2c4g.11174283.4.1.1cad735dnkjSxG\" target=\"_blank\" rel=\"noopener\">GTS</a></li>\n<li><a href=\"http://www.tianshouzhi.com/api/tutorials/distributed_transaction/389\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p></p>\n<ol>\n<li>Service  </li>\n<li>Resource </li>\n<li></li>\n</ol>\n<p><br><strong></strong></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"CAP\"><a href=\"#CAP\" class=\"headerlink\" title=\"CAP\"></a>CAP</h3><p>CAP</p>\n<ul>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() <blockquote>\n<p><br></p>\n</blockquote>\n</li>\n</ul>\n<p></p>\n<p> CP  ZooKeeper <br> AP () BASE  AP </p>\n<p>BASECAP</p>\n<h3 id=\"BASE\"><a href=\"#BASE\" class=\"headerlink\" title=\"BASE\"></a>BASE</h3><p>BASE  Basically Available()Soft state() Eventually consistent () CAP  AP <br> CAP  CP A P  CA</p>\n<blockquote>\n<p>,</p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<blockquote>\n<p></p>\n</blockquote>\n<p>ACIDBASE</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"2PC\"><a href=\"#2PC\" class=\"headerlink\" title=\"2PC\"></a>2PC</h3><p> XA Transactions Mysql5.5mariadb<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW VARIABLES LIKE &apos;%innodb_support_xa%&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>resource manager</p>\n<p>transaction managerresource<br>manager</p>\n<p>XA :</p>\n<ol>\n<li>(precommit)</li>\n<li></li>\n</ol>\n<p><img src=\"https://wx3.sinaimg.cn/mw690/6972aca8ly1fzimzin6ffj20lz0e8wg8.jpg\" alt=\"image\"></p>\n<p>MYSQLXA<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">XA &#123;START|BEGIN&#125; xid [JOIN|RESUME]   //XAXA STARTXA</span><br><span class=\"line\"></span><br><span class=\"line\">BEGIN[JOIN|RESUME]xid</span><br><span class=\"line\"></span><br><span class=\"line\">XA END xid [SUSPEND [FOR MIGRATE]]   //XA[SUSPEND [FOR MIGRATE]]</span><br><span class=\"line\"></span><br><span class=\"line\">XA PREPARE xid </span><br><span class=\"line\"></span><br><span class=\"line\">XA COMMIT xid [ONE PHASE] //ONE PHASERM</span><br><span class=\"line\"></span><br><span class=\"line\">XA ROLLBACK xid  //</span><br><span class=\"line\"></span><br><span class=\"line\">XA RECOVER [CONVERT XID]  //PREPAREXA</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>1</p>\n<p>2</p>\n<p>3commitcommitcommitcommitcommitcommit</p>\n<p>4commit</p>\n<p>XA ()</p>\n<p>DEMO</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$pdo1 = DB::connection()-&gt;getPdo();</span><br><span class=\"line\">$pdo2 = DB::connection(<span class=\"string\">'jianzhi_vip'</span>)-&gt;getPdo();</span><br><span class=\"line\"></span><br><span class=\"line\">$xid = uniqid();</span><br><span class=\"line\">$xid2 = uniqid();</span><br><span class=\"line\"><span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$pdo1-&gt;exec(<span class=\"string\">\"XA START '$xid'\"</span>);</span><br><span class=\"line\">$pdo2-&gt;exec(<span class=\"string\">\"XA START '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\">    $ret1 = $pdo1-&gt;exec(<span class=\"string\">\"UPDATE jz_abtest_record SET test_result=test_result+1 WHERE id=1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $ret2 = $pdo2-&gt;exec(<span class=\"string\">\"UPDATE test SET age=7 WHERE id=1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//1$dbtest1</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA END '$xid'\"</span>);</span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA PREPARE '$xid'\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">//1$dbtest2</span></span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA END '$xid2'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA PREPARE '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//prepare</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!$ret1 || !$ret2) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"keyword\">Exception</span>(<span class=\"string\">\"\"</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">'xa'</span>);</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA COMMIT '$xid'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA COMMIT '$xid2'\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (<span class=\"keyword\">Exception</span> $e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">$this</span>-&gt;info(<span class=\"string\">''</span>);</span><br><span class=\"line\">    <span class=\"comment\">//2</span></span><br><span class=\"line\">    $pdo1-&gt;exec(<span class=\"string\">\"XA ROLLBACK '$xid'\"</span>);</span><br><span class=\"line\">    $pdo2-&gt;exec(<span class=\"string\">\"XA ROLLBACK '$xid2'\"</span>);</span><br><span class=\"line\">    print_r($e-&gt;getMessage());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"TCC\"><a href=\"#TCC\" class=\"headerlink\" title=\"TCC\"></a>TCC</h3><p><img src=\"https://wx4.sinaimg.cn/mw690/6972aca8ly1fz8gszyj0lj20ns0bldhs.jpg\" alt=\"TCC\"></p>\n<p>TCC <strong></strong></p>\n<p></p>\n<ul>\n<li>Try </li>\n<li>Confirm Try ConfirmConfirmTryConfirm</li>\n<li>Cancel </li>\n</ul>\n<blockquote>\n<p> Bob  Smith <br><br>1 Try  Smith  Bob <br>2 Confirm <br>32 (Cancel)</p>\n</blockquote>\n<p> 2PC2PC,</p>\n<p> </p>\n<ol>\n<li>tryconfirmcancel</li>\n<li>confirmcancel</li>\n</ol>\n<p>TCCXA</p>\n<ol>\n<li>XA</li>\n</ol>\n<blockquote>\n<p>XAJTAUserTransactioncommitTransactionManagerpreparecommit/rollback</p>\n</blockquote>\n<p>2.TCC</p>\n<blockquote>\n<p>TCCtry()confirm/cancel(/)tryconfirm/cancelACIDtry,confirm/cancel/.</p>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h3><p><strong></strong><strong></strong></p>\n<ol>\n<li>+<br></li>\n<li><br><strong></strong></li>\n<li><br></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>:<br><img src=\"https://upload-images.jianshu.io/upload_images/11349666-abdeca2a04207329.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp\" alt=\"\"></p>\n<ol>\n<li><p>MQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>BASE2PC(2PC)TCC</p>\n<p><br>100</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">begin transaction:</span><br><span class=\"line\">update User set account = account - 100 where userId = &apos;A&apos;</span><br><span class=\"line\">insert into message(msgId, userId, amount, status) values(&apos;123&apos;,&apos;A&apos;, 100, 1)</span><br><span class=\"line\">commit transaction</span><br></pre></td></tr></table></figure>\n<p>100</p>\n<p></p>\n<ol>\n<li>MQ</li>\n<li><br>MQ90%</li>\n</ol>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">get msgId = &apos;123&apos;;</span><br><span class=\"line\">check if mgsId is in message_applied(msgId);</span><br><span class=\"line\">if not applied:</span><br><span class=\"line\">    begin transaction:</span><br><span class=\"line\">        update User set account = account + 100 where userId = &apos;B&apos;</span><br><span class=\"line\">        insert into message_applied(msgId) values(&apos;123&apos;)</span><br><span class=\"line\">    commit transaction</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><br></p>\n<h4 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h4><p>:</p>\n<p></p>\n<ol>\n<li> MQ </li>\n<li> MQ </li>\n<li> MQ </li>\n</ol>\n<p>Q:  </p>\n<p>A:  MQ  + </p>\n<p>Q: </p>\n<ol>\n<li></li>\n<li>MQ</li>\n</ol>\n<h4 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h4><p>BobSmith</p>\n<p>SmithSmith</p>\n<p>RocketMQ ,Prepared</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/11349666-8211b5a685e7081e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/598/format/webp\" alt=\"image\"></p>\n<ol>\n<li> Prepared </li>\n<li></li>\n<li></li>\n</ol>\n<p> RocketMQ Broker</p>\n<p> RocketMQ  Listener </p>\n<p>RocketMQ </p>\n<p>RocketMQ (4.3)</p>\n<p>   MQ RocketMQ 2. <br><img src=\"https://wx4.sinaimg.cn/mw690/6972aca8ly1fz6d7kc4xej20u009974u.jpg\" alt=\"image\"></p>\n<ol>\n<li> prepare  MQRocketMQPrepared</li>\n<li> prepare </li>\n<li> commit  rollback</li>\n<li> rollbackMQ  prepare  commit MQ  consumer RocketMQ</li>\n<li>MQ  producer </li>\n<li><p>Consumer  MQ </p>\n<p></p>\n<p>RocketMQPrepared()RocketMQ</p>\n<p></p>\n<p></p>\n</li>\n</ol>\n<h3 id=\"GTS\"><a href=\"#GTS\" class=\"headerlink\" title=\"GTS\"></a>GTS</h3><p><img src=\"http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/48726/cn_zh/1498619797175/GTS%20%E6%9E%B6%E6%9E%84.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/xa-statements.html\" target=\"_blank\" rel=\"noopener\">2pc XA </a></li>\n<li><a href=\"http://www.ywnds.com/?p=9049\" target=\"_blank\" rel=\"noopener\">mysql XA </a></li>\n<li><a href=\"https://www.infoq.cn/article/solution-of-distributed-system-transaction-consistency\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://www.jianshu.com/p/453c6e7ff81c\" target=\"_blank\" rel=\"noopener\">RocketMQ </a></li>\n<li><a href=\"http://rocketmq.apache.org/docs/transaction-example/\" target=\"_blank\" rel=\"noopener\">RocketMQ </a></li>\n<li><a href=\"https://help.aliyun.com/document_detail/48726.html?spm=a2c4g.11174283.4.1.1cad735dnkjSxG\" target=\"_blank\" rel=\"noopener\">GTS</a></li>\n<li><a href=\"http://www.tianshouzhi.com/api/tutorials/distributed_transaction/389\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>"},{"title":"Elastic Search","date":"2019-01-30T08:36:34.000Z","updated":"2019-01-30T08:36:34.000Z","_content":"\n# ES \n\ndelete index\n\n> curl -X DELETE 'http://localhost:9200/samples'\n\nlist all indexes\n\n> curl -X GET 'http://localhost:9200/_cat/indices?v'\n\nlist all docs in index\n\n> curl -X GET 'http://localhost:9200/sample/_search'\n\n\n<!--more-->\n\nquery using URL parameters\n\n> curl -X GET http://localhost:9200/samples/_search?q=school:Harvard\n\n> curl -XGET --header 'Content-Type: application/json' http://localhost:9200/samples/_search -d '{\n      \"query\" : {\n        \"match\" : { \"school\": \"Harvard\" }\n    }\n}'\n\n\n\nlist index mapping\n\n> curl -X GET http://localhost:9200/samples\n\n> http://10.16.73.100:12801/_mapping/\n\nAdd Data\n\n> curl -XPUT --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/1 -d '{\n   \"school\" : \"Harvard\"\t\t\t\n}'\n\n\nUpdate Doc\n\n> curl -XPUT --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/2 -d '\n{\n    \"school\": \"Clemson\"\n}'\n\n> curl -XPOST --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/2/_update -d '{\n\"doc\" : {\n               \"students\": 50000}\n}'\n\n\nbackup index\n\n> curl -XPOST --header 'Content-Type: application/json' http://localhost:9200/_reindex -d '{\n  \"source\": {\n    \"index\": \"samples\"\n  },\n  \"dest\": {\n    \"index\": \"samples_backup\"\n  }\n}'\n\n# ES DSL\n\nquery DSL ES_score\n\nfilter DSL ,\n\n![DSLquery DSLDSLfilter DSL](http://images2015.cnblogs.com/blog/120296/201603/120296-20160318164439303-146810557.png)\n\n\n\n## demo\n\n```json\n{\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [{\n\t\t\t\t\"term\": {\n\t\t\t\t\t\"jz_post-operate_label\": \"rpo\"\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t\"range\": {\n\t\t\t\t\t\"jz_post-id\": {\n\t\t\t\t\t\t\"lt\": 5193035\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t}\n\t},\n\t\"sort\": [{\n\t\t\t\"jz_post-id\": {\n\t\t\t\t\"order\": \"desc\"\n\t\t\t}\n\t\t}]\n\n\t\t,\n\t\"_source\": [\n\t\t\"jz_post-id\"\n\t]\n}\n```\n\n## [geo ](http://www.dczou.com/viemall/740.html)\n\n### ES \n\ngeo_point[Geohash](https://en.wikipedia.org/wiki/Geohash) \n\n\n\n1. geo_distance \n2. geo_bounding_box \n3. geo_distance_range minmax\n4. geo_polygon \n\n\n```json\n{\n  \"query\": {\n    \"bool\": {\n      \"must_not\": [\n        {\n          \"terms\": {\n            \"jz_post-id\": [\n              5433682\n            ]\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"jz_post-source\": 91\n          }\n        },\n        {\n          \"term\": {\n            \"jz_post-listing_status\": 5\n          }\n        },\n        {\n          \"nested\": {\n            \"path\": \"jz_post_address\",\n            \"query\": {\n              \"constant_score\": {\n                \"filter\": {\n                  \"geo_distance\": {\n                    \"distance\": \"2km\",\n                    \"jz_post_address.location\": {\n                      \"lat\": \"30.26977011\",\n                      \"lon\": \"120.15865222\"\n                    }\n                  }\n                },\n                \"boost\": 1\n              }\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": [\n    {\n      \"_geo_distance\": {\n        \"jz_post_address.location\": {\n          \"lat\": \"30.26977011\",\n          \"lon\": \"120.15865222\"\n        },\n        \"unit\": \"km\",\n        \"order\": \"asc\"\n      }\n    }\n  ]\n}\n\n```\n\n### php+mysql\n\n1. \n\n```php\nfunction GetRange($lat,$lon,$raidus){\n  //\n  $degree = (24901 * 1609) / 360.0;\n  $dpmLat = 1 / $degree;\n  $radiusLat = $dpmLat * $raidus;\n  $minLat = $lat - $radiusLat; //\n  $maxLat = $lat + $radiusLat; //\n  //\n  $mpdLng = $degree * cos($lat * (PI / 180));\n  $dpmLng = 1 / $mpdLng;\n  $radiusLng = $dpmLng * $raidus;\n  $minLng = $lon - $radiusLng; //\n  $maxLng = $lon + $radiusLng; //\n  //\n  $range = array(\n    'minLat' => $minLat,\n    'maxLat' => $maxLat,\n    'minLon' => $minLng,\n    'maxLon' => $maxLng\n  );\n  return $range;\n}\n```\n2. \n\n\n```php\n$result = GetRange(110.325945,20.031541,5000);\n \n$where = \" (`jingdu` between \".$result['minLat'].\" and \".$result['maxLat'].\") and ( `weidu` between \".$result['minLon'].\" and \".$result['maxLon'].\" ) \";\n$query = $db->query(\"select * from distance_table where $where order BY id DESC \");\nwhile ( $row = $db->fetch_array($query) ) {\n    $list[] = $row['all_name'];\n}\nprint_r($list);\n```\n\n\n### PHP\n\n```php \nfunction getDistance($lat1, $lng1, $lat2, $lng2, $len_type = 1, $decimal = 2) {\n    $radLat1 = $lat1 * PI / 180.0;\n    $radLat2 = $lat2 * PI / 180.0;\n    $a = $radLat1 - $radLat2;\n    $b = ($lng1 * PI / 180.0) - ($lng2 * PI / 180.0);\n    $s = 2 * asin(sqrt(pow(sin($a/2),2) + cos($radLat1) * cos($radLat2) * pow(sin($b/2),2)));\n    $s = $s * EARTH_RADIUS;\n    $s = round($s * 1000);\n    if ($len_type > 1)\n    {\n    $s /= 1000;\n    }\n    return round($s, $decimal);\n}\n```\n\n\n## (match_phrase)\n```\n{\n  \"query\": {\n    \"constant_score\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"jz_post-city_id\": 289\n              }\n            },\n            {\n              \"term\": {\n                \"jz_post-job_date_type\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"jz_post-company_id\": 1836671\n              }\n            },\n            {\n              \"terms\": {\n                \"jz_post-listing_status\": [\n                  0,\n                  5\n                ]\n              }\n            }\n          ],\n          \"should\": [\n            {\n              \"match_phrase\": {\n                \"jz_post-title\": \"\"\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n```\n\n## \n\n+\n\n```json\n{\n  \"query\": {\n    \"match_phrase_prefix\": {\n      \"FIELD\": \"PREFIX\"\n    }\n  }\n}\n```\n\n# ES\n\n- [es-dsl-cheatsheet](http://moliware.com/es-dsl-cheatsheet/)\n- [DSL](https://blog.csdn.net/g1969119894/article/details/80111067#%E6%9F%A5%E8%AF%A2)\n- [ES5.6](https://www.elastic.co/guide/en/elasticsearch/reference/5.5/query-filter-context.html)","source":"_posts/2019/elasticSearch.md","raw":"---\ntitle: Elastic Search\ndate: 2019-01-30 16:36:34\nupdated: 2019-01-30 16:36:34\ntags:\ncategories:\n---\n\n# ES \n\ndelete index\n\n> curl -X DELETE 'http://localhost:9200/samples'\n\nlist all indexes\n\n> curl -X GET 'http://localhost:9200/_cat/indices?v'\n\nlist all docs in index\n\n> curl -X GET 'http://localhost:9200/sample/_search'\n\n\n<!--more-->\n\nquery using URL parameters\n\n> curl -X GET http://localhost:9200/samples/_search?q=school:Harvard\n\n> curl -XGET --header 'Content-Type: application/json' http://localhost:9200/samples/_search -d '{\n      \"query\" : {\n        \"match\" : { \"school\": \"Harvard\" }\n    }\n}'\n\n\n\nlist index mapping\n\n> curl -X GET http://localhost:9200/samples\n\n> http://10.16.73.100:12801/_mapping/\n\nAdd Data\n\n> curl -XPUT --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/1 -d '{\n   \"school\" : \"Harvard\"\t\t\t\n}'\n\n\nUpdate Doc\n\n> curl -XPUT --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/2 -d '\n{\n    \"school\": \"Clemson\"\n}'\n\n> curl -XPOST --header 'Content-Type: application/json' http://localhost:9200/samples/_doc/2/_update -d '{\n\"doc\" : {\n               \"students\": 50000}\n}'\n\n\nbackup index\n\n> curl -XPOST --header 'Content-Type: application/json' http://localhost:9200/_reindex -d '{\n  \"source\": {\n    \"index\": \"samples\"\n  },\n  \"dest\": {\n    \"index\": \"samples_backup\"\n  }\n}'\n\n# ES DSL\n\nquery DSL ES_score\n\nfilter DSL ,\n\n![DSLquery DSLDSLfilter DSL](http://images2015.cnblogs.com/blog/120296/201603/120296-20160318164439303-146810557.png)\n\n\n\n## demo\n\n```json\n{\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [{\n\t\t\t\t\"term\": {\n\t\t\t\t\t\"jz_post-operate_label\": \"rpo\"\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t\"range\": {\n\t\t\t\t\t\"jz_post-id\": {\n\t\t\t\t\t\t\"lt\": 5193035\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t}\n\t},\n\t\"sort\": [{\n\t\t\t\"jz_post-id\": {\n\t\t\t\t\"order\": \"desc\"\n\t\t\t}\n\t\t}]\n\n\t\t,\n\t\"_source\": [\n\t\t\"jz_post-id\"\n\t]\n}\n```\n\n## [geo ](http://www.dczou.com/viemall/740.html)\n\n### ES \n\ngeo_point[Geohash](https://en.wikipedia.org/wiki/Geohash) \n\n\n\n1. geo_distance \n2. geo_bounding_box \n3. geo_distance_range minmax\n4. geo_polygon \n\n\n```json\n{\n  \"query\": {\n    \"bool\": {\n      \"must_not\": [\n        {\n          \"terms\": {\n            \"jz_post-id\": [\n              5433682\n            ]\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"jz_post-source\": 91\n          }\n        },\n        {\n          \"term\": {\n            \"jz_post-listing_status\": 5\n          }\n        },\n        {\n          \"nested\": {\n            \"path\": \"jz_post_address\",\n            \"query\": {\n              \"constant_score\": {\n                \"filter\": {\n                  \"geo_distance\": {\n                    \"distance\": \"2km\",\n                    \"jz_post_address.location\": {\n                      \"lat\": \"30.26977011\",\n                      \"lon\": \"120.15865222\"\n                    }\n                  }\n                },\n                \"boost\": 1\n              }\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": [\n    {\n      \"_geo_distance\": {\n        \"jz_post_address.location\": {\n          \"lat\": \"30.26977011\",\n          \"lon\": \"120.15865222\"\n        },\n        \"unit\": \"km\",\n        \"order\": \"asc\"\n      }\n    }\n  ]\n}\n\n```\n\n### php+mysql\n\n1. \n\n```php\nfunction GetRange($lat,$lon,$raidus){\n  //\n  $degree = (24901 * 1609) / 360.0;\n  $dpmLat = 1 / $degree;\n  $radiusLat = $dpmLat * $raidus;\n  $minLat = $lat - $radiusLat; //\n  $maxLat = $lat + $radiusLat; //\n  //\n  $mpdLng = $degree * cos($lat * (PI / 180));\n  $dpmLng = 1 / $mpdLng;\n  $radiusLng = $dpmLng * $raidus;\n  $minLng = $lon - $radiusLng; //\n  $maxLng = $lon + $radiusLng; //\n  //\n  $range = array(\n    'minLat' => $minLat,\n    'maxLat' => $maxLat,\n    'minLon' => $minLng,\n    'maxLon' => $maxLng\n  );\n  return $range;\n}\n```\n2. \n\n\n```php\n$result = GetRange(110.325945,20.031541,5000);\n \n$where = \" (`jingdu` between \".$result['minLat'].\" and \".$result['maxLat'].\") and ( `weidu` between \".$result['minLon'].\" and \".$result['maxLon'].\" ) \";\n$query = $db->query(\"select * from distance_table where $where order BY id DESC \");\nwhile ( $row = $db->fetch_array($query) ) {\n    $list[] = $row['all_name'];\n}\nprint_r($list);\n```\n\n\n### PHP\n\n```php \nfunction getDistance($lat1, $lng1, $lat2, $lng2, $len_type = 1, $decimal = 2) {\n    $radLat1 = $lat1 * PI / 180.0;\n    $radLat2 = $lat2 * PI / 180.0;\n    $a = $radLat1 - $radLat2;\n    $b = ($lng1 * PI / 180.0) - ($lng2 * PI / 180.0);\n    $s = 2 * asin(sqrt(pow(sin($a/2),2) + cos($radLat1) * cos($radLat2) * pow(sin($b/2),2)));\n    $s = $s * EARTH_RADIUS;\n    $s = round($s * 1000);\n    if ($len_type > 1)\n    {\n    $s /= 1000;\n    }\n    return round($s, $decimal);\n}\n```\n\n\n## (match_phrase)\n```\n{\n  \"query\": {\n    \"constant_score\": {\n      \"filter\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"jz_post-city_id\": 289\n              }\n            },\n            {\n              \"term\": {\n                \"jz_post-job_date_type\": 0\n              }\n            },\n            {\n              \"term\": {\n                \"jz_post-company_id\": 1836671\n              }\n            },\n            {\n              \"terms\": {\n                \"jz_post-listing_status\": [\n                  0,\n                  5\n                ]\n              }\n            }\n          ],\n          \"should\": [\n            {\n              \"match_phrase\": {\n                \"jz_post-title\": \"\"\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n```\n\n## \n\n+\n\n```json\n{\n  \"query\": {\n    \"match_phrase_prefix\": {\n      \"FIELD\": \"PREFIX\"\n    }\n  }\n}\n```\n\n# ES\n\n- [es-dsl-cheatsheet](http://moliware.com/es-dsl-cheatsheet/)\n- [DSL](https://blog.csdn.net/g1969119894/article/details/80111067#%E6%9F%A5%E8%AF%A2)\n- [ES5.6](https://www.elastic.co/guide/en/elasticsearch/reference/5.5/query-filter-context.html)","slug":"elasticSearch","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2138gy003yhpwfj9bia3tf","content":"<h1 id=\"ES-\"><a href=\"#ES-\" class=\"headerlink\" title=\"ES \"></a>ES </h1><p>delete index</p>\n<blockquote>\n<p>curl -X DELETE <a href=\"http://localhost:9200/samples&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples&#39;</a></p>\n</blockquote>\n<p>list all indexes</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/_cat/indices?v&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_cat/indices?v&#39;</a></p>\n</blockquote>\n<p>list all docs in index</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/sample/_search&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/sample/_search&#39;</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<p>query using URL parameters</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/samples/_search?q=school:Harvard\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_search?q=school:Harvard</a></p>\n</blockquote>\n<blockquote>\n<p>curl -XGET header Content-Type: application/json <a href=\"http://localhost:9200/samples/_search\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_search</a> -d {<br>      query : {<br>        match : { school: Harvard }<br>    }<br>}</p>\n</blockquote>\n<p>list index mapping</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/samples\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"http://10.16.73.100:12801/_mapping/\" target=\"_blank\" rel=\"noopener\">http://10.16.73.100:12801/_mapping/</a></p>\n</blockquote>\n<p>Add Data</p>\n<blockquote>\n<p>curl -XPUT header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/1\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/1</a> -d {<br>   school : Harvard<br>}</p>\n</blockquote>\n<p>Update Doc</p>\n<blockquote>\n<p>curl -XPUT header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/2\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/2</a> -d <br>{<br>    school: Clemson<br>}</p>\n</blockquote>\n<blockquote>\n<p>curl -XPOST header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/2/_update\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/2/_update</a> -d {<br>doc : {<br>               students: 50000}<br>}</p>\n</blockquote>\n<p>backup index</p>\n<blockquote>\n<p>curl -XPOST header Content-Type: application/json <a href=\"http://localhost:9200/_reindex\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_reindex</a> -d {<br>  source: {<br>    index: samples<br>  },<br>  dest: {<br>    index: samples_backup<br>  }<br>}</p>\n</blockquote>\n<h1 id=\"ES-DSL\"><a href=\"#ES-DSL\" class=\"headerlink\" title=\"ES DSL\"></a>ES DSL</h1><p>query DSL ES_score</p>\n<p>filter DSL ,</p>\n<p><img src=\"http://images2015.cnblogs.com/blog/120296/201603/120296-20160318164439303-146810557.png\" alt=\"DSLquery DSLDSLfilter DSL\"></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">\"bool\"</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">\"must\"</span>: [&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">\"jz_post-operate_label\"</span>: <span class=\"string\">\"rpo\"</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;, &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"range\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">\"jz_post-id\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">\"lt\"</span>: <span class=\"number\">5193035</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;]</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">\"sort\"</span>: [&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">\"jz_post-id\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"order\"</span>: <span class=\"string\">\"desc\"</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;]</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t,</span><br><span class=\"line\">\t<span class=\"attr\">\"_source\"</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">\"jz_post-id\"</span></span><br><span class=\"line\">\t]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"geo-\"><a href=\"#geo-\" class=\"headerlink\" title=\"geo \"></a><a href=\"http://www.dczou.com/viemall/740.html\" target=\"_blank\" rel=\"noopener\">geo </a></h2><h3 id=\"ES-\"><a href=\"#ES-\" class=\"headerlink\" title=\"ES \"></a>ES </h3><p>geo_point<a href=\"https://en.wikipedia.org/wiki/Geohash\" target=\"_blank\" rel=\"noopener\">Geohash</a> </p>\n<p></p>\n<ol>\n<li>geo_distance </li>\n<li>geo_bounding_box </li>\n<li>geo_distance_range minmax</li>\n<li>geo_polygon </li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"bool\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"must_not\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"terms\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-id\"</span>: [</span><br><span class=\"line\">              <span class=\"number\">5433682</span></span><br><span class=\"line\">            ]</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"filter\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-source\"</span>: <span class=\"number\">91</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-listing_status\"</span>: <span class=\"number\">5</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"nested\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"path\"</span>: <span class=\"string\">\"jz_post_address\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">\"constant_score\"</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"filter\"</span>: &#123;</span><br><span class=\"line\">                  <span class=\"attr\">\"geo_distance\"</span>: &#123;</span><br><span class=\"line\">                    <span class=\"attr\">\"distance\"</span>: <span class=\"string\">\"2km\"</span>,</span><br><span class=\"line\">                    <span class=\"attr\">\"jz_post_address.location\"</span>: &#123;</span><br><span class=\"line\">                      <span class=\"attr\">\"lat\"</span>: <span class=\"string\">\"30.26977011\"</span>,</span><br><span class=\"line\">                      <span class=\"attr\">\"lon\"</span>: <span class=\"string\">\"120.15865222\"</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                <span class=\"attr\">\"boost\"</span>: <span class=\"number\">1</span></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"sort\"</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"_geo_distance\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"jz_post_address.location\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"lat\"</span>: <span class=\"string\">\"30.26977011\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"lon\"</span>: <span class=\"string\">\"120.15865222\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"unit\"</span>: <span class=\"string\">\"km\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"order\"</span>: <span class=\"string\">\"asc\"</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"php-mysql\"><a href=\"#php-mysql\" class=\"headerlink\" title=\"php+mysql\"></a>php+mysql</h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">GetRange</span><span class=\"params\">($lat,$lon,$raidus)</span></span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $degree = (<span class=\"number\">24901</span> * <span class=\"number\">1609</span>) / <span class=\"number\">360.0</span>;</span><br><span class=\"line\">  $dpmLat = <span class=\"number\">1</span> / $degree;</span><br><span class=\"line\">  $radiusLat = $dpmLat * $raidus;</span><br><span class=\"line\">  $minLat = $lat - $radiusLat; <span class=\"comment\">//</span></span><br><span class=\"line\">  $maxLat = $lat + $radiusLat; <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $mpdLng = $degree * cos($lat * (PI / <span class=\"number\">180</span>));</span><br><span class=\"line\">  $dpmLng = <span class=\"number\">1</span> / $mpdLng;</span><br><span class=\"line\">  $radiusLng = $dpmLng * $raidus;</span><br><span class=\"line\">  $minLng = $lon - $radiusLng; <span class=\"comment\">//</span></span><br><span class=\"line\">  $maxLng = $lon + $radiusLng; <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $range = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">    <span class=\"string\">'minLat'</span> =&gt; $minLat,</span><br><span class=\"line\">    <span class=\"string\">'maxLat'</span> =&gt; $maxLat,</span><br><span class=\"line\">    <span class=\"string\">'minLon'</span> =&gt; $minLng,</span><br><span class=\"line\">    <span class=\"string\">'maxLon'</span> =&gt; $maxLng</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> $range;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$result = GetRange(<span class=\"number\">110.325945</span>,<span class=\"number\">20.031541</span>,<span class=\"number\">5000</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">$where = <span class=\"string\">\" (`jingdu` between \"</span>.$result[<span class=\"string\">'minLat'</span>].<span class=\"string\">\" and \"</span>.$result[<span class=\"string\">'maxLat'</span>].<span class=\"string\">\") and ( `weidu` between \"</span>.$result[<span class=\"string\">'minLon'</span>].<span class=\"string\">\" and \"</span>.$result[<span class=\"string\">'maxLon'</span>].<span class=\"string\">\" ) \"</span>;</span><br><span class=\"line\">$query = $db-&gt;query(<span class=\"string\">\"select * from distance_table where $where order BY id DESC \"</span>);</span><br><span class=\"line\"><span class=\"keyword\">while</span> ( $row = $db-&gt;fetch_array($query) ) &#123;</span><br><span class=\"line\">    $list[] = $row[<span class=\"string\">'all_name'</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">print_r($list);</span><br></pre></td></tr></table></figure>\n<h3 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h3><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDistance</span><span class=\"params\">($lat1, $lng1, $lat2, $lng2, $len_type = <span class=\"number\">1</span>, $decimal = <span class=\"number\">2</span>)</span> </span>&#123;</span><br><span class=\"line\">    $radLat1 = $lat1 * PI / <span class=\"number\">180.0</span>;</span><br><span class=\"line\">    $radLat2 = $lat2 * PI / <span class=\"number\">180.0</span>;</span><br><span class=\"line\">    $a = $radLat1 - $radLat2;</span><br><span class=\"line\">    $b = ($lng1 * PI / <span class=\"number\">180.0</span>) - ($lng2 * PI / <span class=\"number\">180.0</span>);</span><br><span class=\"line\">    $s = <span class=\"number\">2</span> * asin(sqrt(pow(sin($a/<span class=\"number\">2</span>),<span class=\"number\">2</span>) + cos($radLat1) * cos($radLat2) * pow(sin($b/<span class=\"number\">2</span>),<span class=\"number\">2</span>)));</span><br><span class=\"line\">    $s = $s * EARTH_RADIUS;</span><br><span class=\"line\">    $s = round($s * <span class=\"number\">1000</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ($len_type &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    $s /= <span class=\"number\">1000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> round($s, $decimal);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-match-phrase\"><a href=\"#-match-phrase\" class=\"headerlink\" title=\"(match_phrase)\"></a>(match_phrase)</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;query&quot;: &#123;</span><br><span class=\"line\">    &quot;constant_score&quot;: &#123;</span><br><span class=\"line\">      &quot;filter&quot;: &#123;</span><br><span class=\"line\">        &quot;bool&quot;: &#123;</span><br><span class=\"line\">          &quot;must&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-city_id&quot;: 289</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-job_date_type&quot;: 0</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-company_id&quot;: 1836671</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;terms&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-listing_status&quot;: [</span><br><span class=\"line\">                  0,</span><br><span class=\"line\">                  5</span><br><span class=\"line\">                ]</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          ],</span><br><span class=\"line\">          &quot;should&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;match_phrase&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-title&quot;: &quot;&quot;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>+</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"match_phrase_prefix\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"FIELD\"</span>: <span class=\"string\">\"PREFIX\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"ES\"><a href=\"#ES\" class=\"headerlink\" title=\"ES\"></a>ES</h1><ul>\n<li><a href=\"http://moliware.com/es-dsl-cheatsheet/\" target=\"_blank\" rel=\"noopener\">es-dsl-cheatsheet</a></li>\n<li><a href=\"https://blog.csdn.net/g1969119894/article/details/80111067#%E6%9F%A5%E8%AF%A2\" target=\"_blank\" rel=\"noopener\">DSL</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/5.5/query-filter-context.html\" target=\"_blank\" rel=\"noopener\">ES5.6</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"ES-\"><a href=\"#ES-\" class=\"headerlink\" title=\"ES \"></a>ES </h1><p>delete index</p>\n<blockquote>\n<p>curl -X DELETE <a href=\"http://localhost:9200/samples&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples&#39;</a></p>\n</blockquote>\n<p>list all indexes</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/_cat/indices?v&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_cat/indices?v&#39;</a></p>\n</blockquote>\n<p>list all docs in index</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/sample/_search&#39;\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/sample/_search&#39;</a></p>\n</blockquote>","more":"<p>query using URL parameters</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/samples/_search?q=school:Harvard\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_search?q=school:Harvard</a></p>\n</blockquote>\n<blockquote>\n<p>curl -XGET header Content-Type: application/json <a href=\"http://localhost:9200/samples/_search\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_search</a> -d {<br>      query : {<br>        match : { school: Harvard }<br>    }<br>}</p>\n</blockquote>\n<p>list index mapping</p>\n<blockquote>\n<p>curl -X GET <a href=\"http://localhost:9200/samples\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"http://10.16.73.100:12801/_mapping/\" target=\"_blank\" rel=\"noopener\">http://10.16.73.100:12801/_mapping/</a></p>\n</blockquote>\n<p>Add Data</p>\n<blockquote>\n<p>curl -XPUT header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/1\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/1</a> -d {<br>   school : Harvard<br>}</p>\n</blockquote>\n<p>Update Doc</p>\n<blockquote>\n<p>curl -XPUT header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/2\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/2</a> -d <br>{<br>    school: Clemson<br>}</p>\n</blockquote>\n<blockquote>\n<p>curl -XPOST header Content-Type: application/json <a href=\"http://localhost:9200/samples/_doc/2/_update\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/samples/_doc/2/_update</a> -d {<br>doc : {<br>               students: 50000}<br>}</p>\n</blockquote>\n<p>backup index</p>\n<blockquote>\n<p>curl -XPOST header Content-Type: application/json <a href=\"http://localhost:9200/_reindex\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/_reindex</a> -d {<br>  source: {<br>    index: samples<br>  },<br>  dest: {<br>    index: samples_backup<br>  }<br>}</p>\n</blockquote>\n<h1 id=\"ES-DSL\"><a href=\"#ES-DSL\" class=\"headerlink\" title=\"ES DSL\"></a>ES DSL</h1><p>query DSL ES_score</p>\n<p>filter DSL ,</p>\n<p><img src=\"http://images2015.cnblogs.com/blog/120296/201603/120296-20160318164439303-146810557.png\" alt=\"DSLquery DSLDSLfilter DSL\"></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">\"bool\"</span>: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">\"must\"</span>: [&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">\"jz_post-operate_label\"</span>: <span class=\"string\">\"rpo\"</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;, &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"range\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"attr\">\"jz_post-id\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"attr\">\"lt\"</span>: <span class=\"number\">5193035</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;]</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"attr\">\"sort\"</span>: [&#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">\"jz_post-id\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">\"order\"</span>: <span class=\"string\">\"desc\"</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;]</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t,</span><br><span class=\"line\">\t<span class=\"attr\">\"_source\"</span>: [</span><br><span class=\"line\">\t\t<span class=\"string\">\"jz_post-id\"</span></span><br><span class=\"line\">\t]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"geo-\"><a href=\"#geo-\" class=\"headerlink\" title=\"geo \"></a><a href=\"http://www.dczou.com/viemall/740.html\" target=\"_blank\" rel=\"noopener\">geo </a></h2><h3 id=\"ES-\"><a href=\"#ES-\" class=\"headerlink\" title=\"ES \"></a>ES </h3><p>geo_point<a href=\"https://en.wikipedia.org/wiki/Geohash\" target=\"_blank\" rel=\"noopener\">Geohash</a> </p>\n<p></p>\n<ol>\n<li>geo_distance </li>\n<li>geo_bounding_box </li>\n<li>geo_distance_range minmax</li>\n<li>geo_polygon </li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"bool\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"must_not\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"terms\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-id\"</span>: [</span><br><span class=\"line\">              <span class=\"number\">5433682</span></span><br><span class=\"line\">            ]</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"filter\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-source\"</span>: <span class=\"number\">91</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"term\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"jz_post-listing_status\"</span>: <span class=\"number\">5</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"nested\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"path\"</span>: <span class=\"string\">\"jz_post_address\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">\"constant_score\"</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"filter\"</span>: &#123;</span><br><span class=\"line\">                  <span class=\"attr\">\"geo_distance\"</span>: &#123;</span><br><span class=\"line\">                    <span class=\"attr\">\"distance\"</span>: <span class=\"string\">\"2km\"</span>,</span><br><span class=\"line\">                    <span class=\"attr\">\"jz_post_address.location\"</span>: &#123;</span><br><span class=\"line\">                      <span class=\"attr\">\"lat\"</span>: <span class=\"string\">\"30.26977011\"</span>,</span><br><span class=\"line\">                      <span class=\"attr\">\"lon\"</span>: <span class=\"string\">\"120.15865222\"</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                <span class=\"attr\">\"boost\"</span>: <span class=\"number\">1</span></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"sort\"</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"_geo_distance\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"jz_post_address.location\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"lat\"</span>: <span class=\"string\">\"30.26977011\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"lon\"</span>: <span class=\"string\">\"120.15865222\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"unit\"</span>: <span class=\"string\">\"km\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"order\"</span>: <span class=\"string\">\"asc\"</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"php-mysql\"><a href=\"#php-mysql\" class=\"headerlink\" title=\"php+mysql\"></a>php+mysql</h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">GetRange</span><span class=\"params\">($lat,$lon,$raidus)</span></span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $degree = (<span class=\"number\">24901</span> * <span class=\"number\">1609</span>) / <span class=\"number\">360.0</span>;</span><br><span class=\"line\">  $dpmLat = <span class=\"number\">1</span> / $degree;</span><br><span class=\"line\">  $radiusLat = $dpmLat * $raidus;</span><br><span class=\"line\">  $minLat = $lat - $radiusLat; <span class=\"comment\">//</span></span><br><span class=\"line\">  $maxLat = $lat + $radiusLat; <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $mpdLng = $degree * cos($lat * (PI / <span class=\"number\">180</span>));</span><br><span class=\"line\">  $dpmLng = <span class=\"number\">1</span> / $mpdLng;</span><br><span class=\"line\">  $radiusLng = $dpmLng * $raidus;</span><br><span class=\"line\">  $minLng = $lon - $radiusLng; <span class=\"comment\">//</span></span><br><span class=\"line\">  $maxLng = $lon + $radiusLng; <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  $range = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">    <span class=\"string\">'minLat'</span> =&gt; $minLat,</span><br><span class=\"line\">    <span class=\"string\">'maxLat'</span> =&gt; $maxLat,</span><br><span class=\"line\">    <span class=\"string\">'minLon'</span> =&gt; $minLng,</span><br><span class=\"line\">    <span class=\"string\">'maxLon'</span> =&gt; $maxLng</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> $range;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$result = GetRange(<span class=\"number\">110.325945</span>,<span class=\"number\">20.031541</span>,<span class=\"number\">5000</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">$where = <span class=\"string\">\" (`jingdu` between \"</span>.$result[<span class=\"string\">'minLat'</span>].<span class=\"string\">\" and \"</span>.$result[<span class=\"string\">'maxLat'</span>].<span class=\"string\">\") and ( `weidu` between \"</span>.$result[<span class=\"string\">'minLon'</span>].<span class=\"string\">\" and \"</span>.$result[<span class=\"string\">'maxLon'</span>].<span class=\"string\">\" ) \"</span>;</span><br><span class=\"line\">$query = $db-&gt;query(<span class=\"string\">\"select * from distance_table where $where order BY id DESC \"</span>);</span><br><span class=\"line\"><span class=\"keyword\">while</span> ( $row = $db-&gt;fetch_array($query) ) &#123;</span><br><span class=\"line\">    $list[] = $row[<span class=\"string\">'all_name'</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">print_r($list);</span><br></pre></td></tr></table></figure>\n<h3 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h3><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDistance</span><span class=\"params\">($lat1, $lng1, $lat2, $lng2, $len_type = <span class=\"number\">1</span>, $decimal = <span class=\"number\">2</span>)</span> </span>&#123;</span><br><span class=\"line\">    $radLat1 = $lat1 * PI / <span class=\"number\">180.0</span>;</span><br><span class=\"line\">    $radLat2 = $lat2 * PI / <span class=\"number\">180.0</span>;</span><br><span class=\"line\">    $a = $radLat1 - $radLat2;</span><br><span class=\"line\">    $b = ($lng1 * PI / <span class=\"number\">180.0</span>) - ($lng2 * PI / <span class=\"number\">180.0</span>);</span><br><span class=\"line\">    $s = <span class=\"number\">2</span> * asin(sqrt(pow(sin($a/<span class=\"number\">2</span>),<span class=\"number\">2</span>) + cos($radLat1) * cos($radLat2) * pow(sin($b/<span class=\"number\">2</span>),<span class=\"number\">2</span>)));</span><br><span class=\"line\">    $s = $s * EARTH_RADIUS;</span><br><span class=\"line\">    $s = round($s * <span class=\"number\">1000</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ($len_type &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    $s /= <span class=\"number\">1000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> round($s, $decimal);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"-match-phrase\"><a href=\"#-match-phrase\" class=\"headerlink\" title=\"(match_phrase)\"></a>(match_phrase)</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;query&quot;: &#123;</span><br><span class=\"line\">    &quot;constant_score&quot;: &#123;</span><br><span class=\"line\">      &quot;filter&quot;: &#123;</span><br><span class=\"line\">        &quot;bool&quot;: &#123;</span><br><span class=\"line\">          &quot;must&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-city_id&quot;: 289</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-job_date_type&quot;: 0</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;term&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-company_id&quot;: 1836671</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;terms&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-listing_status&quot;: [</span><br><span class=\"line\">                  0,</span><br><span class=\"line\">                  5</span><br><span class=\"line\">                ]</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          ],</span><br><span class=\"line\">          &quot;should&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              &quot;match_phrase&quot;: &#123;</span><br><span class=\"line\">                &quot;jz_post-title&quot;: &quot;&quot;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>+</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"query\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"match_phrase_prefix\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"FIELD\"</span>: <span class=\"string\">\"PREFIX\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"ES\"><a href=\"#ES\" class=\"headerlink\" title=\"ES\"></a>ES</h1><ul>\n<li><a href=\"http://moliware.com/es-dsl-cheatsheet/\" target=\"_blank\" rel=\"noopener\">es-dsl-cheatsheet</a></li>\n<li><a href=\"https://blog.csdn.net/g1969119894/article/details/80111067#%E6%9F%A5%E8%AF%A2\" target=\"_blank\" rel=\"noopener\">DSL</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/5.5/query-filter-context.html\" target=\"_blank\" rel=\"noopener\">ES5.6</a></li>\n</ul>"},{"title":"golang(Dockerfile)","date":"2021-09-27T01:50:08.000Z","updated":"2021-09-27T01:50:08.000Z","_content":"\n\n## Go Dockerfile \n\n> FROM golang:1.15\n\ndockerscratch\n\ncgoscratchalpinedockerhub5MB\n\n\n\n```bash\ndocker build -t changcrazy/service.doumi.com:v1  .\n```\n\n\n\n``` bash\n docker run -d centos_nginx:v1 /usr/local/nginx/sbin/nginx -g \"daemon off;\"\n\n```\n<!-- more -->\n\nDockerfile\n\n``` bash\n# golang\nFROM golang:1.15 as builder\n\n# go module\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct\n\nWORKDIR /app\n\nCOPY . .\n\n# OSgo build\nRUN GOOS=linux GOARCH=amd64 go build .\n\n# viewshtmlassets\n# publish\nRUN mkdir publish && cp toc-generator publish && \\\n    cp -r views publish && cp -r assets publish\n\n# scratch\nFROM alpine\n\nWORKDIR /app\n\n# publish\nCOPY --from=builder /app/publish .\n\n# \nENV GIN_MODE=release \\\n    PORT=80\n\nEXPOSE 80\n\nENTRYPOINT [\"./toc-generator\"]\n\n```\n\n## docker go grpc\n\n``` bash\n# \n# docker run --name=base.domain.com -itd -p 8080:8080 -v /d/keguan/go-base-framework:/home/www/base.domain.com changcrazy/go-base:v1.0  /bin/bash\n# golang\nFROM golang:1.15.10 AS builder\n\n# www\nRUN groupadd --gid 5000 www \\\n  && useradd --home-dir /home/www --create-home --uid 5000 \\\n    --gid 5000 --shell /bin/sh --skel /dev/null www\n\nENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct\nENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH\n\nWORKDIR /home/tools\n\n# install protoc\nRUN wget http://github.com/protocolbuffers/protobuf/releases/download/v3.14.0/protobuf-all-3.14.0.tar.gz \\ \n    && tar -zxvf protobuf-all-3.14.0.tar.gz && cd protobuf-3.14.0/ && ./configure && make && make install\n\nENV LD_LIBRARY_PATH=/usr/local/lib\n\nWORKDIR /home/www/base.domain.com\n\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n# github protoc \n# RUN go get github.com/golang/protobuf/protoc-gen-go\n# github protoc ,etcd\n# RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.2\n\n# google protoc  \nRUN go get google.golang.org/protobuf/cmd/protoc-gen-go && go get google.golang.org/grpc/cmd/protoc-gen-go-grpc\n\n# grpc gateway v1  swagger  etcd\n# RUN go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-grpc-gateway && \\\n    # && go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-swagger\n\n# grpc gateway v2   swagger\nRUN go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway \\\n    && go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2\n\n\nCOPY . .\n\n# RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go\n\nEXPOSE 8080\n\nENTRYPOINT [ \"./web_serve\" ]\n\n# alpine\n\n# FROM golang:1.15.10-alpine\n\n# WORKDIR /home/www/base.domain.com\n\n# COPY --from=build /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n# COPY --from=builder /home/www/base.domain.com/web_serve .\n\n# RUN chown www:www web_serve\n\n# USER www:www\n\n# ENV GIN_MODE=release\n\n# EXPOSE 8080\n\n# ENTRYPOINT [ \"./web_serve\" ]\n\n```\n\n##  \n\n```golang\npackage main\n\nimport (\n    \"net/http\"\n    \"os\"\n\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n    r := gin.Default()\n    r.GET(\"/ping\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"pong\",\n        })\n    })\n    r.GET(\"/demo\", func(c *gin.Context) {\n        addr := os.Getenv(\"DOMAIN_ADDR\")\n        version := c.DefaultQuery(\"version\", \"0\")\n        c.String(http.StatusOK, \"demoaddr:\"+addr+\", version:\"+version+\", k8s container version: 2.1\")\n    })\n    r.GET(\"/\", func(c *gin.Context) {\n        c.String(http.StatusOK, \"Hello World~~, k8s\")\n    })\n    r.Run(\":9888\") // listen and serve on 0.0.0.0:8080\n}\n\n```\n\n\nDockfile\n\n```bash\n# \n# docker build -t changcrazy/demokaixin:v1 .\n# docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1\n# golang\nFROM golang:1.17.0 AS builder\n\nENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct\n# ENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH\n\nWORKDIR /home/www/demo.changkaixin.cn\n\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\nCOPY . .\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go\n# RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go\n\n# EXPOSE 9888\n\n# ENTRYPOINT [ \"./web_serve\" ]\n\n\n# \n# alpine\n\nFROM golang:1.17.0-alpine\n\nWORKDIR /home/www/demo.changkaixin.cn\n\nCOPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCOPY --from=builder /home/www/demo.changkaixin.cn/web_serve .\n\n# RUN chown www:www web_serve\n\n# USER www:www\n\nENV GIN_MODE=release\n\nEXPOSE 9888\n\nENTRYPOINT [ \"./web_serve\" ]\n\n```\n\n\n### \n\n\n```bash\n# \ndocker build -t changcrazy/demokaixin:v1 .\n# \ndocker images\n#  \ndocker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1\n\ndocker tag xxx(images_id) \n```\n","source":"_posts/2021/go-dockerfile.md","raw":"---\ntitle: golang(Dockerfile)\ndate: 2021-09-27 09:50:08\nupdated: 2021-09-27 09:50:08\ntags:\n\t- Go\ncategories:\n---\n\n\n## Go Dockerfile \n\n> FROM golang:1.15\n\ndockerscratch\n\ncgoscratchalpinedockerhub5MB\n\n\n\n```bash\ndocker build -t changcrazy/service.doumi.com:v1  .\n```\n\n\n\n``` bash\n docker run -d centos_nginx:v1 /usr/local/nginx/sbin/nginx -g \"daemon off;\"\n\n```\n<!-- more -->\n\nDockerfile\n\n``` bash\n# golang\nFROM golang:1.15 as builder\n\n# go module\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct\n\nWORKDIR /app\n\nCOPY . .\n\n# OSgo build\nRUN GOOS=linux GOARCH=amd64 go build .\n\n# viewshtmlassets\n# publish\nRUN mkdir publish && cp toc-generator publish && \\\n    cp -r views publish && cp -r assets publish\n\n# scratch\nFROM alpine\n\nWORKDIR /app\n\n# publish\nCOPY --from=builder /app/publish .\n\n# \nENV GIN_MODE=release \\\n    PORT=80\n\nEXPOSE 80\n\nENTRYPOINT [\"./toc-generator\"]\n\n```\n\n## docker go grpc\n\n``` bash\n# \n# docker run --name=base.domain.com -itd -p 8080:8080 -v /d/keguan/go-base-framework:/home/www/base.domain.com changcrazy/go-base:v1.0  /bin/bash\n# golang\nFROM golang:1.15.10 AS builder\n\n# www\nRUN groupadd --gid 5000 www \\\n  && useradd --home-dir /home/www --create-home --uid 5000 \\\n    --gid 5000 --shell /bin/sh --skel /dev/null www\n\nENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct\nENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH\n\nWORKDIR /home/tools\n\n# install protoc\nRUN wget http://github.com/protocolbuffers/protobuf/releases/download/v3.14.0/protobuf-all-3.14.0.tar.gz \\ \n    && tar -zxvf protobuf-all-3.14.0.tar.gz && cd protobuf-3.14.0/ && ./configure && make && make install\n\nENV LD_LIBRARY_PATH=/usr/local/lib\n\nWORKDIR /home/www/base.domain.com\n\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\n# github protoc \n# RUN go get github.com/golang/protobuf/protoc-gen-go\n# github protoc ,etcd\n# RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.2\n\n# google protoc  \nRUN go get google.golang.org/protobuf/cmd/protoc-gen-go && go get google.golang.org/grpc/cmd/protoc-gen-go-grpc\n\n# grpc gateway v1  swagger  etcd\n# RUN go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-grpc-gateway && \\\n    # && go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-swagger\n\n# grpc gateway v2   swagger\nRUN go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway \\\n    && go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2\n\n\nCOPY . .\n\n# RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go\n\nEXPOSE 8080\n\nENTRYPOINT [ \"./web_serve\" ]\n\n# alpine\n\n# FROM golang:1.15.10-alpine\n\n# WORKDIR /home/www/base.domain.com\n\n# COPY --from=build /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n# COPY --from=builder /home/www/base.domain.com/web_serve .\n\n# RUN chown www:www web_serve\n\n# USER www:www\n\n# ENV GIN_MODE=release\n\n# EXPOSE 8080\n\n# ENTRYPOINT [ \"./web_serve\" ]\n\n```\n\n##  \n\n```golang\npackage main\n\nimport (\n    \"net/http\"\n    \"os\"\n\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc main() {\n    r := gin.Default()\n    r.GET(\"/ping\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"pong\",\n        })\n    })\n    r.GET(\"/demo\", func(c *gin.Context) {\n        addr := os.Getenv(\"DOMAIN_ADDR\")\n        version := c.DefaultQuery(\"version\", \"0\")\n        c.String(http.StatusOK, \"demoaddr:\"+addr+\", version:\"+version+\", k8s container version: 2.1\")\n    })\n    r.GET(\"/\", func(c *gin.Context) {\n        c.String(http.StatusOK, \"Hello World~~, k8s\")\n    })\n    r.Run(\":9888\") // listen and serve on 0.0.0.0:8080\n}\n\n```\n\n\nDockfile\n\n```bash\n# \n# docker build -t changcrazy/demokaixin:v1 .\n# docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1\n# golang\nFROM golang:1.17.0 AS builder\n\nENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct\n# ENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH\n\nWORKDIR /home/www/demo.changkaixin.cn\n\nCOPY go.mod .\nCOPY go.sum .\nRUN go mod download\nCOPY . .\n\nRUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go\n# RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go\n\n# EXPOSE 9888\n\n# ENTRYPOINT [ \"./web_serve\" ]\n\n\n# \n# alpine\n\nFROM golang:1.17.0-alpine\n\nWORKDIR /home/www/demo.changkaixin.cn\n\nCOPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCOPY --from=builder /home/www/demo.changkaixin.cn/web_serve .\n\n# RUN chown www:www web_serve\n\n# USER www:www\n\nENV GIN_MODE=release\n\nEXPOSE 9888\n\nENTRYPOINT [ \"./web_serve\" ]\n\n```\n\n\n### \n\n\n```bash\n# \ndocker build -t changcrazy/demokaixin:v1 .\n# \ndocker images\n#  \ndocker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1\n\ndocker tag xxx(images_id) \n```\n","slug":"go-dockerfile","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cku2181as00005awfx934wzkr","content":"<h2 id=\"Go-Dockerfile-\"><a href=\"#Go-Dockerfile-\" class=\"headerlink\" title=\"Go Dockerfile \"></a>Go Dockerfile </h2><blockquote>\n<p>FROM golang:1.15</p>\n</blockquote>\n<p>dockerscratch</p>\n<p>cgoscratchalpinedockerhub5MB</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t changcrazy/service.doumi.com:v1  .</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d centos_nginx:v1 /usr/<span class=\"built_in\">local</span>/nginx/sbin/nginx -g <span class=\"string\">\"daemon off;\"</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>Dockerfile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.15 as builder</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># go module</span></span><br><span class=\"line\">ENV GO111MODULE=on \\</span><br><span class=\"line\">    GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\"></span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># OSgo build</span></span><br><span class=\"line\">RUN GOOS=linux GOARCH=amd64 go build .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># viewshtmlassets</span></span><br><span class=\"line\"><span class=\"comment\"># publish</span></span><br><span class=\"line\">RUN mkdir publish &amp;&amp; cp toc-generator publish &amp;&amp; \\</span><br><span class=\"line\">    cp -r views publish &amp;&amp; cp -r assets publish</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># scratch</span></span><br><span class=\"line\">FROM alpine</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># publish</span></span><br><span class=\"line\">COPY --from=builder /app/publish .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">ENV GIN_MODE=release \\</span><br><span class=\"line\">    PORT=80</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [<span class=\"string\">\"./toc-generator\"</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"docker-go-grpc\"><a href=\"#docker-go-grpc\" class=\"headerlink\" title=\"docker go grpc\"></a>docker go grpc</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># docker run --name=base.domain.com -itd -p 8080:8080 -v /d/keguan/go-base-framework:/home/www/base.domain.com changcrazy/go-base:v1.0  /bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.15.10 AS builder</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># www</span></span><br><span class=\"line\">RUN groupadd --gid 5000 www \\</span><br><span class=\"line\">  &amp;&amp; useradd --home-dir /home/www --create-home --uid 5000 \\</span><br><span class=\"line\">    --gid 5000 --shell /bin/sh --skel /dev/null www</span><br><span class=\"line\"></span><br><span class=\"line\">ENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\">ENV GOROOT=/usr/<span class=\"built_in\">local</span>/go  PATH=<span class=\"variable\">$PATH</span>:/usr/<span class=\"built_in\">local</span>/go/bin  GOPATH=<span class=\"variable\">$HOME</span>/go  PATH=<span class=\"variable\">$GOPATH</span>/bin/:<span class=\"variable\">$PATH</span></span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/tools</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install protoc</span></span><br><span class=\"line\">RUN wget http://github.com/protocolbuffers/protobuf/releases/download/v3.14.0/protobuf-all-3.14.0.tar.gz \\ </span><br><span class=\"line\">    &amp;&amp; tar -zxvf protobuf-all-3.14.0.tar.gz &amp;&amp; <span class=\"built_in\">cd</span> protobuf-3.14.0/ &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">ENV LD_LIBRARY_PATH=/usr/<span class=\"built_in\">local</span>/lib</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/base.domain.com</span><br><span class=\"line\"></span><br><span class=\"line\">COPY go.mod .</span><br><span class=\"line\">COPY go.sum .</span><br><span class=\"line\">RUN go mod download</span><br><span class=\"line\"><span class=\"comment\"># github protoc </span></span><br><span class=\"line\"><span class=\"comment\"># RUN go get github.com/golang/protobuf/protoc-gen-go</span></span><br><span class=\"line\"><span class=\"comment\"># github protoc ,etcd</span></span><br><span class=\"line\"><span class=\"comment\"># RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># google protoc  </span></span><br><span class=\"line\">RUN go get google.golang.org/protobuf/cmd/protoc-gen-go &amp;&amp; go get google.golang.org/grpc/cmd/protoc-gen-go-grpc</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># grpc gateway v1  swagger  etcd</span></span><br><span class=\"line\"><span class=\"comment\"># RUN go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-grpc-gateway &amp;&amp; \\</span></span><br><span class=\"line\">    <span class=\"comment\"># &amp;&amp; go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-swagger</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># grpc gateway v2   swagger</span></span><br><span class=\"line\">RUN go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway \\</span><br><span class=\"line\">    &amp;&amp; go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go</span></span><br><span class=\"line\">RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=<span class=\"string\">\"-s -w\"</span> -installsuffix cgo -o web_serve main.go</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 8080</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [ <span class=\"string\">\"./web_serve\"</span> ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># FROM golang:1.15.10-alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># WORKDIR /home/www/base.domain.com</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># COPY --from=build /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class=\"line\"><span class=\"comment\"># COPY --from=builder /home/www/base.domain.com/web_serve .</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN chown www:www web_serve</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># USER www:www</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENV GIN_MODE=release</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># EXPOSE 8080</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENTRYPOINT [ \"./web_serve\" ]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight golang\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">\"net/http\"</span></span><br><span class=\"line\">    <span class=\"string\">\"os\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">\"github.com/gin-gonic/gin\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    r := gin.Default()</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/ping\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        c.JSON(<span class=\"number\">200</span>, gin.H&#123;</span><br><span class=\"line\">            <span class=\"string\">\"message\"</span>: <span class=\"string\">\"pong\"</span>,</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/demo\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        addr := os.Getenv(<span class=\"string\">\"DOMAIN_ADDR\"</span>)</span><br><span class=\"line\">        version := c.DefaultQuery(<span class=\"string\">\"version\"</span>, <span class=\"string\">\"0\"</span>)</span><br><span class=\"line\">        c.String(http.StatusOK, <span class=\"string\">\"demoaddr:\"</span>+addr+<span class=\"string\">\", version:\"</span>+version+<span class=\"string\">\", k8s container version: 2.1\"</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        c.String(http.StatusOK, <span class=\"string\">\"Hello World~~, k8s\"</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.Run(<span class=\"string\">\":9888\"</span>) <span class=\"comment\">// listen and serve on 0.0.0.0:8080</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Dockfile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># docker build -t changcrazy/demokaixin:v1 .</span></span><br><span class=\"line\"><span class=\"comment\"># docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1</span></span><br><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.17.0 AS builder</span><br><span class=\"line\"></span><br><span class=\"line\">ENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\"><span class=\"comment\"># ENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH</span></span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/demo.changkaixin.cn</span><br><span class=\"line\"></span><br><span class=\"line\">COPY go.mod .</span><br><span class=\"line\">COPY go.sum .</span><br><span class=\"line\">RUN go mod download</span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\">RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go</span><br><span class=\"line\"><span class=\"comment\"># RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># EXPOSE 9888</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENTRYPOINT [ \"./web_serve\" ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\">FROM golang:1.17.0-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/demo.changkaixin.cn</span><br><span class=\"line\"></span><br><span class=\"line\">COPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class=\"line\">COPY --from=builder /home/www/demo.changkaixin.cn/web_serve .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN chown www:www web_serve</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># USER www:www</span></span><br><span class=\"line\"></span><br><span class=\"line\">ENV GIN_MODE=release</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 9888</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [ <span class=\"string\">\"./web_serve\"</span> ]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker build -t changcrazy/demokaixin:v1 .</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker images</span><br><span class=\"line\"><span class=\"comment\">#  </span></span><br><span class=\"line\">docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1</span><br><span class=\"line\"></span><br><span class=\"line\">docker tag xxx(images_id)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"Go-Dockerfile-\"><a href=\"#Go-Dockerfile-\" class=\"headerlink\" title=\"Go Dockerfile \"></a>Go Dockerfile </h2><blockquote>\n<p>FROM golang:1.15</p>\n</blockquote>\n<p>dockerscratch</p>\n<p>cgoscratchalpinedockerhub5MB</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t changcrazy/service.doumi.com:v1  .</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d centos_nginx:v1 /usr/<span class=\"built_in\">local</span>/nginx/sbin/nginx -g <span class=\"string\">\"daemon off;\"</span></span><br></pre></td></tr></table></figure>","more":"<p>Dockerfile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.15 as builder</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># go module</span></span><br><span class=\"line\">ENV GO111MODULE=on \\</span><br><span class=\"line\">    GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\"></span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># OSgo build</span></span><br><span class=\"line\">RUN GOOS=linux GOARCH=amd64 go build .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># viewshtmlassets</span></span><br><span class=\"line\"><span class=\"comment\"># publish</span></span><br><span class=\"line\">RUN mkdir publish &amp;&amp; cp toc-generator publish &amp;&amp; \\</span><br><span class=\"line\">    cp -r views publish &amp;&amp; cp -r assets publish</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># scratch</span></span><br><span class=\"line\">FROM alpine</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># publish</span></span><br><span class=\"line\">COPY --from=builder /app/publish .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">ENV GIN_MODE=release \\</span><br><span class=\"line\">    PORT=80</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [<span class=\"string\">\"./toc-generator\"</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"docker-go-grpc\"><a href=\"#docker-go-grpc\" class=\"headerlink\" title=\"docker go grpc\"></a>docker go grpc</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># docker run --name=base.domain.com -itd -p 8080:8080 -v /d/keguan/go-base-framework:/home/www/base.domain.com changcrazy/go-base:v1.0  /bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.15.10 AS builder</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># www</span></span><br><span class=\"line\">RUN groupadd --gid 5000 www \\</span><br><span class=\"line\">  &amp;&amp; useradd --home-dir /home/www --create-home --uid 5000 \\</span><br><span class=\"line\">    --gid 5000 --shell /bin/sh --skel /dev/null www</span><br><span class=\"line\"></span><br><span class=\"line\">ENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\">ENV GOROOT=/usr/<span class=\"built_in\">local</span>/go  PATH=<span class=\"variable\">$PATH</span>:/usr/<span class=\"built_in\">local</span>/go/bin  GOPATH=<span class=\"variable\">$HOME</span>/go  PATH=<span class=\"variable\">$GOPATH</span>/bin/:<span class=\"variable\">$PATH</span></span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/tools</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install protoc</span></span><br><span class=\"line\">RUN wget http://github.com/protocolbuffers/protobuf/releases/download/v3.14.0/protobuf-all-3.14.0.tar.gz \\ </span><br><span class=\"line\">    &amp;&amp; tar -zxvf protobuf-all-3.14.0.tar.gz &amp;&amp; <span class=\"built_in\">cd</span> protobuf-3.14.0/ &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">ENV LD_LIBRARY_PATH=/usr/<span class=\"built_in\">local</span>/lib</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/base.domain.com</span><br><span class=\"line\"></span><br><span class=\"line\">COPY go.mod .</span><br><span class=\"line\">COPY go.sum .</span><br><span class=\"line\">RUN go mod download</span><br><span class=\"line\"><span class=\"comment\"># github protoc </span></span><br><span class=\"line\"><span class=\"comment\"># RUN go get github.com/golang/protobuf/protoc-gen-go</span></span><br><span class=\"line\"><span class=\"comment\"># github protoc ,etcd</span></span><br><span class=\"line\"><span class=\"comment\"># RUN go get github.com/golang/protobuf/protoc-gen-go@v1.3.2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># google protoc  </span></span><br><span class=\"line\">RUN go get google.golang.org/protobuf/cmd/protoc-gen-go &amp;&amp; go get google.golang.org/grpc/cmd/protoc-gen-go-grpc</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># grpc gateway v1  swagger  etcd</span></span><br><span class=\"line\"><span class=\"comment\"># RUN go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-grpc-gateway &amp;&amp; \\</span></span><br><span class=\"line\">    <span class=\"comment\"># &amp;&amp; go install github.com/grpc-ecosystem/grpc-gateway/protoc-gen-swagger</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># grpc gateway v2   swagger</span></span><br><span class=\"line\">RUN go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway \\</span><br><span class=\"line\">    &amp;&amp; go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go</span></span><br><span class=\"line\">RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=<span class=\"string\">\"-s -w\"</span> -installsuffix cgo -o web_serve main.go</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 8080</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [ <span class=\"string\">\"./web_serve\"</span> ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># FROM golang:1.15.10-alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># WORKDIR /home/www/base.domain.com</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># COPY --from=build /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class=\"line\"><span class=\"comment\"># COPY --from=builder /home/www/base.domain.com/web_serve .</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN chown www:www web_serve</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># USER www:www</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENV GIN_MODE=release</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># EXPOSE 8080</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENTRYPOINT [ \"./web_serve\" ]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight golang\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">\"net/http\"</span></span><br><span class=\"line\">    <span class=\"string\">\"os\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">\"github.com/gin-gonic/gin\"</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">main</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    r := gin.Default()</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/ping\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        c.JSON(<span class=\"number\">200</span>, gin.H&#123;</span><br><span class=\"line\">            <span class=\"string\">\"message\"</span>: <span class=\"string\">\"pong\"</span>,</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/demo\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        addr := os.Getenv(<span class=\"string\">\"DOMAIN_ADDR\"</span>)</span><br><span class=\"line\">        version := c.DefaultQuery(<span class=\"string\">\"version\"</span>, <span class=\"string\">\"0\"</span>)</span><br><span class=\"line\">        c.String(http.StatusOK, <span class=\"string\">\"demoaddr:\"</span>+addr+<span class=\"string\">\", version:\"</span>+version+<span class=\"string\">\", k8s container version: 2.1\"</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.GET(<span class=\"string\">\"/\"</span>, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *gin.Context)</span></span> &#123;</span><br><span class=\"line\">        c.String(http.StatusOK, <span class=\"string\">\"Hello World~~, k8s\"</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    r.Run(<span class=\"string\">\":9888\"</span>) <span class=\"comment\">// listen and serve on 0.0.0.0:8080</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Dockfile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># docker build -t changcrazy/demokaixin:v1 .</span></span><br><span class=\"line\"><span class=\"comment\"># docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1</span></span><br><span class=\"line\"><span class=\"comment\"># golang</span></span><br><span class=\"line\">FROM golang:1.17.0 AS builder</span><br><span class=\"line\"></span><br><span class=\"line\">ENV GO111MODULE=on  GOPROXY=https://goproxy.cn,direct</span><br><span class=\"line\"><span class=\"comment\"># ENV GOROOT=/usr/local/go  PATH=$PATH:/usr/local/go/bin  GOPATH=$HOME/go  PATH=$GOPATH/bin/:$PATH</span></span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/demo.changkaixin.cn</span><br><span class=\"line\"></span><br><span class=\"line\">COPY go.mod .</span><br><span class=\"line\">COPY go.sum .</span><br><span class=\"line\">RUN go mod download</span><br><span class=\"line\">COPY . .</span><br><span class=\"line\"></span><br><span class=\"line\">RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o web_serve main.go</span><br><span class=\"line\"><span class=\"comment\"># RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags=\"-s -w\" -installsuffix cgo -o web_serve main.go</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># EXPOSE 9888</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ENTRYPOINT [ \"./web_serve\" ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># alpine</span></span><br><span class=\"line\"></span><br><span class=\"line\">FROM golang:1.17.0-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /home/www/demo.changkaixin.cn</span><br><span class=\"line\"></span><br><span class=\"line\">COPY --from=builder /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class=\"line\">COPY --from=builder /home/www/demo.changkaixin.cn/web_serve .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># RUN chown www:www web_serve</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># USER www:www</span></span><br><span class=\"line\"></span><br><span class=\"line\">ENV GIN_MODE=release</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 9888</span><br><span class=\"line\"></span><br><span class=\"line\">ENTRYPOINT [ <span class=\"string\">\"./web_serve\"</span> ]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker build -t changcrazy/demokaixin:v1 .</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker images</span><br><span class=\"line\"><span class=\"comment\">#  </span></span><br><span class=\"line\">docker run --name=demo.changkaixin.cn -itd -p 9888:9888 -v /e/p/demo.changkaixn.cn:/home/www/demo.changkaixn.cn changcrazy/kaixindemo:v1</span><br><span class=\"line\"></span><br><span class=\"line\">docker tag xxx(images_id)</span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"cku21387d0003hpwfglr3nwjv","category_id":"cku21387h0005hpwfkxry8voe","_id":"cku21387j0008hpwf1ak6hqta"},{"post_id":"cku2138e0000hhpwfmyf9518f","category_id":"cku21387h0005hpwfkxry8voe","_id":"cku2138e6000nhpwfab924lek"},{"post_id":"cku2138e5000mhpwfcwvas69n","category_id":"cku21387h0005hpwfkxry8voe","_id":"cku2138ea000thpwfhixe643y"}],"PostTag":[{"post_id":"cku21387d0003hpwfglr3nwjv","tag_id":"cku21387h0006hpwfiy463u5d","_id":"cku21387j0009hpwfvyjf8uom"},{"post_id":"cku21387d0003hpwfglr3nwjv","tag_id":"cku21387i0007hpwf91a59d1z","_id":"cku21387j000ahpwfwearzjo3"},{"post_id":"cku2138dt000ehpwfqv4jab4i","tag_id":"cku2138dy000ghpwfzxbacovs","_id":"cku2138e5000lhpwfxem12zg7"},{"post_id":"cku2138dv000fhpwflpjjik77","tag_id":"cku2138e5000khpwfig0hbcru","_id":"cku2138e8000rhpwfenfqfj89"},{"post_id":"cku2138e0000hhpwfmyf9518f","tag_id":"cku2138e7000phpwfyq7mf4x6","_id":"cku2138ee000zhpwfqqoq4ivw"},{"post_id":"cku2138e0000hhpwfmyf9518f","tag_id":"cku2138ea000uhpwfhtz1utcf","_id":"cku2138ef0011hpwf266sdqjh"},{"post_id":"cku2138e5000mhpwfcwvas69n","tag_id":"cku2138ed000xhpwf8i3n6xue","_id":"cku2138eg0014hpwfampejkpw"},{"post_id":"cku2138e6000ohpwf0jvnsm52","tag_id":"cku2138eg0013hpwfm61sykan","_id":"cku2138ej0019hpwfw89vgh9g"},{"post_id":"cku2138e8000qhpwfdp9fbuj9","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138em001dhpwf4h35vazu"},{"post_id":"cku2138e9000shpwf2agv0wjd","tag_id":"cku2138el001bhpwfgcomkouy","_id":"cku2138es001hhpwf7ecfay98"},{"post_id":"cku2138ed000yhpwf8wsyicvr","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138ew001lhpwfspmp2do7"},{"post_id":"cku2138et001ihpwfdc31y6xm","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138ex001nhpwf3p3ebkr5"},{"post_id":"cku2138eu001khpwfdhyzl8f2","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138ez001qhpwf8o1gslvp"},{"post_id":"cku2138ee0010hpwfu5jeaah1","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138f0001shpwfp0mgxyde"},{"post_id":"cku2138ey001phpwfrwxhf75m","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138f2001vhpwf116kgpuh"},{"post_id":"cku2138ef0012hpwfut57xsi6","tag_id":"cku2138ei0017hpwfrolcswmi","_id":"cku2138f3001xhpwfx54ifv42"},{"post_id":"cku2138ei0016hpwf8rkjfz9u","tag_id":"cku2138f1001thpwfcku1pyib","_id":"cku2138f50020hpwfbldfucwb"},{"post_id":"cku2138f50021hpwfaen1hk90","tag_id":"cku2138el001bhpwfgcomkouy","_id":"cku2138f80024hpwfeqa52ty5"},{"post_id":"cku2138ek001ahpwfs59snfry","tag_id":"cku2138f5001zhpwfmmjqiq2a","_id":"cku2138f90026hpwfzliv4w54"},{"post_id":"cku2138en001ehpwfk7blvj4r","tag_id":"cku2138f80023hpwfrve8tovn","_id":"cku2138fc002ahpwfka561ko8"},{"post_id":"cku2138fe002ehpwfdohzeh9i","tag_id":"cku2138el001bhpwfgcomkouy","_id":"cku2138fh002hhpwfkftmj6tt"},{"post_id":"cku2138f0001rhpwf7sl070dr","tag_id":"cku2138fa0028hpwf9eekygmf","_id":"cku2138fm002jhpwfrxji469j"},{"post_id":"cku2138f0001rhpwf7sl070dr","tag_id":"cku2138fd002chpwfi5fe0y98","_id":"cku2138fo002mhpwfkgul9cgv"},{"post_id":"cku2138f2001whpwfmu73n7qk","tag_id":"cku2138fg002ghpwfgb846rs9","_id":"cku2138fp002ohpwfid2ak6zx"},{"post_id":"cku2138fm002khpwfs6tnqwjz","tag_id":"cku2138f1001thpwfcku1pyib","_id":"cku2138fr002rhpwfu0a0ps3h"},{"post_id":"cku2138fo002nhpwfe6olyzf7","tag_id":"cku2138el001bhpwfgcomkouy","_id":"cku2138fs002thpwfsssha3kj"},{"post_id":"cku2138fr002shpwf4jem0ded","tag_id":"cku2138fd002chpwfi5fe0y98","_id":"cku2138ft002vhpwfdvkwj455"},{"post_id":"cku2138f4001yhpwfn3raiko9","tag_id":"cku2138fn002lhpwfdcixdx80","_id":"cku2138fv002yhpwfhh2aam29"},{"post_id":"cku2138f4001yhpwfn3raiko9","tag_id":"cku2138fq002qhpwfj3xqvula","_id":"cku2138fx0030hpwf5ifm15ie"},{"post_id":"cku2138fd002dhpwfnj5sngtj","tag_id":"cku2138fd002chpwfi5fe0y98","_id":"cku2138fy0033hpwf04uxvx8u"},{"post_id":"cku2138ff002fhpwf5rhzy5qv","tag_id":"cku2138fx0031hpwf0bqbm0hj","_id":"cku2138g10037hpwfkzwfa1ez"},{"post_id":"cku2138fk002ihpwfxeb6faih","tag_id":"cku2138g10036hpwfombwr61x","_id":"cku2138g6003chpwfm5dkgbdr"},{"post_id":"cku2138fp002phpwf45gtliq6","tag_id":"cku2138g4003ahpwfzp0ty8sf","_id":"cku2138gb003fhpwfli12guad"},{"post_id":"cku2138gj003jhpwffiw1w5m3","tag_id":"cku2138gn003lhpwfbdrj3x8v","_id":"cku2138gt003qhpwf0e89atzd"},{"post_id":"cku2138gt003rhpwf1hby1cvi","tag_id":"cku2138el001bhpwfgcomkouy","_id":"cku2138gw003vhpwfy49apdx4"},{"post_id":"cku2138gm003khpwf3wa84mj2","tag_id":"cku2138gn003lhpwfbdrj3x8v","_id":"cku2138gx003xhpwfesyyg8ou"},{"post_id":"cku2138go003mhpwfx1vrfidd","tag_id":"cku2138gn003lhpwfbdrj3x8v","_id":"cku2138gz0040hpwfsc634q5n"},{"post_id":"cku2138gp003nhpwfvhaince3","tag_id":"cku2138gy003zhpwfdnqber21","_id":"cku2138h00042hpwfq8glcan9"},{"post_id":"cku2138gv003thpwf2tphwm6t","tag_id":"cku2138h00041hpwf3cx71yle","_id":"cku2138h20044hpwf4ppm4cib"},{"post_id":"cku2138gv003thpwf2tphwm6t","tag_id":"cku2138h10043hpwf514v2rgn","_id":"cku2138h30045hpwfjsohl2ci"},{"post_id":"cku2181as00005awfx934wzkr","tag_id":"cku2138gn003lhpwfbdrj3x8v","_id":"cku2181b800015awfiaqmlxao"}],"Tag":[{"name":"docker","_id":"cku21387h0006hpwfiy463u5d"},{"name":"link","_id":"cku21387i0007hpwf91a59d1z"},{"name":"","_id":"cku2138dy000ghpwfzxbacovs"},{"name":"git","_id":"cku2138e5000khpwfig0hbcru"},{"name":"hexo","_id":"cku2138e7000phpwfyq7mf4x6"},{"name":"next","_id":"cku2138ea000uhpwfhtz1utcf"},{"name":"learn","_id":"cku2138ed000xhpwf8i3n6xue"},{"name":"english","_id":"cku2138eg0013hpwfm61sykan"},{"name":"design pattern","_id":"cku2138ei0017hpwfrolcswmi"},{"name":"mysql","_id":"cku2138el001bhpwfgcomkouy"},{"name":"","_id":"cku2138f1001thpwfcku1pyib"},{"name":"work","_id":"cku2138f5001zhpwfmmjqiq2a"},{"name":"tools","_id":"cku2138f80023hpwfrve8tovn"},{"name":"","_id":"cku2138fa0028hpwf9eekygmf"},{"name":"","_id":"cku2138fd002chpwfi5fe0y98"},{"name":"db","_id":"cku2138fg002ghpwfgb846rs9"},{"name":"","_id":"cku2138fn002lhpwfdcixdx80"},{"name":"","_id":"cku2138fq002qhpwfj3xqvula"},{"name":"js","_id":"cku2138fx0031hpwf0bqbm0hj"},{"name":"php","_id":"cku2138g10036hpwfombwr61x"},{"name":"","_id":"cku2138g4003ahpwfzp0ty8sf"},{"name":"Go","_id":"cku2138gn003lhpwfbdrj3x8v"},{"name":"google","_id":"cku2138gy003zhpwfdnqber21"},{"name":"yaf","_id":"cku2138h00041hpwf3cx71yle"},{"name":"rewrite","_id":"cku2138h10043hpwf514v2rgn"}]}}