{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/favicon.ico","path":"favicon.ico","modified":1,"renderable":0},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":0},{"_id":"source/images/mongo-cluster.jpg","path":"images/mongo-cluster.jpg","modified":1,"renderable":0},{"_id":"source/images/replica.jpg","path":"images/replica.jpg","modified":1,"renderable":0},{"_id":"source/images/wechat-reward-image.png","path":"images/wechat-reward-image.png","modified":1,"renderable":0},{"_id":"source/images/wechat.jpg","path":"images/wechat.jpg","modified":1,"renderable":0},{"_id":"source/images/alipay-reward-image.jpg","path":"images/alipay-reward-image.jpg","modified":1,"renderable":0},{"_id":"source/images/figure05.png","path":"images/figure05.png","modified":1,"renderable":0},{"_id":"source/images/restore-db/all_bak.png","path":"images/restore-db/all_bak.png","modified":1,"renderable":0},{"_id":"source/images/restore-db/delay_bak.png","path":"images/restore-db/delay_bak.png","modified":1,"renderable":0},{"_id":"source/images/restore-db/inc_bak.png","path":"images/restore-db/inc_bak.png","modified":1,"renderable":0},{"_id":"source/images/restore-db/master-master.png","path":"images/restore-db/master-master.png","modified":1,"renderable":0},{"_id":"source/images/restore-db/master-slave.png","path":"images/restore-db/master-slave.png","modified":1,"renderable":0},{"_id":"source/images/technology/gen-id.png","path":"images/technology/gen-id.png","modified":1,"renderable":0},{"_id":"source/images/technology/gen-id2.png","path":"images/technology/gen-id2.png","modified":1,"renderable":0},{"_id":"source/images/technology/gen-id3.png","path":"images/technology/gen-id3.png","modified":1,"renderable":0},{"_id":"source/images/technology/master-slave.png","path":"images/technology/master-slave.png","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"source/images/plan/1.png","path":"images/plan/1.png","modified":1,"renderable":0},{"_id":"source/images/technology/snowflake-64bit.jpg","path":"images/technology/snowflake-64bit.jpg","modified":1,"renderable":0},{"_id":"source/images/plan/2.png","path":"images/plan/2.png","modified":1,"renderable":0},{"_id":"source/images/plan/5.png","path":"images/plan/5.png","modified":1,"renderable":0},{"_id":"source/images/plan/6.png","path":"images/plan/6.png","modified":1,"renderable":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"source/images/plan/3.png","path":"images/plan/3.png","modified":1,"renderable":0},{"_id":"source/images/plan/4.png","path":"images/plan/4.png","modified":1,"renderable":0},{"_id":"source/images/plan/8.png","path":"images/plan/8.png","modified":1,"renderable":0},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"source/images/plan/7.png","path":"images/plan/7.png","modified":1,"renderable":0},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"3e33456a5ccd6eca11f2d0b6a2faa8c94a0b5671","modified":1478140297930},{"_id":"source/404.html","hash":"d9c9db5465183d9bb87d3b395bfb06aa998d3d80","modified":1472622676705},{"_id":"source/favicon.ico","hash":"fa56159e4ee431ee701cdd1f5ff6528740d47d6e","modified":1472622676979},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1478567488635},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1478567488635},{"_id":"themes/next/.gitignore","hash":"de5b9b9e5b313b4a86e805b02f334d35c87bfe56","modified":1478567488636},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1478567488636},{"_id":"themes/next/.javascript_ignore","hash":"74b54cf920cbbf4038a68e54b7138af8b8f45588","modified":1478567488636},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1478567488636},{"_id":"themes/next/README.en.md","hash":"fa31bbc6dd8778b8dee469740c92b3b5b59702af","modified":1478567488637},{"_id":"themes/next/README.md","hash":"06aaf1241e9e1619956c86d8b1397a643840a9d1","modified":1478567488637},{"_id":"themes/next/_config.yml","hash":"92e72394587010a72785b6f59e8ab53e6eeecc2f","modified":1483508713158},{"_id":"themes/next/bower.json","hash":"bd70cf5988bbfc8cbcf13adae659151a55466524","modified":1479886391093},{"_id":"themes/next/gulpfile.coffee","hash":"e549561461642051d195550ec49d793e44ee22a0","modified":1479886391096},{"_id":"themes/next/package.json","hash":"48e2352f8e41f2b6bbf55254d10f3192ee206d5a","modified":1479886391201},{"_id":"source/_drafts/xiaoshuoke.md","hash":"091bee00e6785c82ba1d0be67095603578c81e26","modified":1483507030891},{"_id":"source/about/index.md","hash":"90b57aa2b846f215d86d061309ce49855bdd52e6","modified":1478140297955},{"_id":"source/categories/index.md","hash":"52f08fc545f0bb9c67c68924e6b5c16a73424b31","modified":1478140297960},{"_id":"source/images/avatar.jpg","hash":"983cc8f79020c07e6e58039e67e6fd495ea882e5","modified":1472622677013},{"_id":"source/images/mongo-cluster.jpg","hash":"d87f64a507292c29d243aa8cf3e6691c7aafb126","modified":1478570530803},{"_id":"source/images/replica.jpg","hash":"bbbcab06acdb0f8d8ed58871c91ea6d9ade3ac2f","modified":1478660737442},{"_id":"source/images/wechat-reward-image.png","hash":"55e55cc3d5f7b4f5928fa19c82f6ba9efb6571fa","modified":1472622677497},{"_id":"source/images/wechat.jpg","hash":"5014693062839204352b9d81a939033d791a7a5b","modified":1472622677524},{"_id":"source/schedule/index.md","hash":"4adf2fd9c85a880c7d4dc30cadcc06469a327853","modified":1478140297960},{"_id":"source/tags/index.md","hash":"384433ff925bc70bbbbce05c41c7f9eeac1d2f12","modified":1472622677527},{"_id":"themes/next/.git/FETCH_HEAD","hash":"1348f42c7eecb4792331eb149363955886313e8d","modified":1479886408863},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1478567488623},{"_id":"themes/next/.git/ORIG_HEAD","hash":"776e91b78b954875a8d38297e05b80eab20df4b9","modified":1479886409074},{"_id":"themes/next/.git/config","hash":"340cff4364d9733a32042fdb93097c334a781c93","modified":1478567488627},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1478566102754},{"_id":"themes/next/.git/index","hash":"14219f31ff302df5effeed4d04a0f4b4b370db58","modified":1479886578916},{"_id":"themes/next/.git/packed-refs","hash":"243bd8ada9526c51366f18d4e63883e562312bcb","modified":1478567488620},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"4312fb37fa2b8663006be3c4fe01125ec01171c1","modified":1478567488635},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"2692e36cc35b1594530981e7727771f601720a43","modified":1478567488636},{"_id":"themes/next/languages/de.yml","hash":"db6a9d669f4b6282cda6c0a2d4e03d3e308a4846","modified":1479886391099},{"_id":"themes/next/languages/default.yml","hash":"fe00529a94bb2550194a31d178f5810b45014ab6","modified":1479886391101},{"_id":"themes/next/languages/en.yml","hash":"d02acdce503c86fbb01920ad22d31ec56fc285f1","modified":1479886391103},{"_id":"themes/next/languages/fr-FR.yml","hash":"91cf55b9d75879e72c8008d2659fe2ea993a4cca","modified":1479886391106},{"_id":"themes/next/languages/id.yml","hash":"d8b9dc017da0be7f71fda1cacd8064cbc38963b9","modified":1479886391108},{"_id":"themes/next/languages/ja.yml","hash":"bc89436a2a015ef72f43f265e56e37d94e73c0cd","modified":1479886391120},{"_id":"themes/next/languages/ko.yml","hash":"c59676f2af80c3c594c34c4a0fcbf65fd8864ff3","modified":1479886391122},{"_id":"themes/next/languages/pt-BR.yml","hash":"4b91f96b07e05705b28964df7460466c9b522e2c","modified":1479886391125},{"_id":"themes/next/languages/pt.yml","hash":"f364905121a816c9797acce07c0a4f248965b29a","modified":1479886391129},{"_id":"themes/next/languages/ru.yml","hash":"402e676252ab1fc4522257a578738cb9536eb077","modified":1479886391132},{"_id":"themes/next/languages/zh-Hans.yml","hash":"439c16c744b1596f24d9e0b4e230c4d3c93b7d85","modified":1479886391135},{"_id":"themes/next/languages/zh-hk.yml","hash":"a59f3f3114f5eb4d170a76da4359307e8f5159a7","modified":1479886391137},{"_id":"themes/next/languages/zh-tw.yml","hash":"18da1324d2212faca9a6e5e6ce98b419c86d4b0c","modified":1479886391140},{"_id":"themes/next/layout/_layout.swig","hash":"b4ef30f7da073bf2a9052186f76e0e080de1c794","modified":1479886391151},{"_id":"themes/next/layout/archive.swig","hash":"b867a08f6b43de8b5d700c84b943df55917407ae","modified":1478567488656},{"_id":"themes/next/layout/category.swig","hash":"58cf08388901f7549b1fca95548b2c79173aa840","modified":1478567488656},{"_id":"themes/next/layout/index.swig","hash":"e5b52e04296203262a400e8e36ae12426d31fd5b","modified":1478567488656},{"_id":"themes/next/layout/page.swig","hash":"2a13804aa186f6062738d136e430870c53789bf4","modified":1479886391199},{"_id":"themes/next/layout/post.swig","hash":"b8334c479840b7724638eec71971cbd8512ae58d","modified":1478567488657},{"_id":"themes/next/layout/schedule.swig","hash":"595013860078799d455af4965b3a7c5c4fd3923c","modified":1478567488657},{"_id":"themes/next/layout/tag.swig","hash":"6f764ea3ab11eeb7c530df45528d449b14f5dc62","modified":1478567488657},{"_id":"themes/next/scripts/merge-configs.js","hash":"f8cde6953939802f92da5b7a2458c6c539e9be69","modified":1478567488658},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1478567488736},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1478567488736},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1478567488737},{"_id":"source/images/alipay-reward-image.jpg","hash":"797eedec4f7d9ede1e95140d01f8085d66cedc84","modified":1472622676996},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488697},{"_id":"source/_posts/2014/atom-tutorial.md","hash":"a13cb612e96e11f4a6e9f6330470f2ae5cfb5c81","modified":1483501655792},{"_id":"source/_posts/2014/fast-learning-way.md","hash":"67c13ecf07b35651186166f3900253c41d06ccdc","modified":1483501764873},{"_id":"source/_posts/2014/git-cheatsheet.md","hash":"aabe3285370aedd758001c41a7fe77dca0ebf977","modified":1483501884058},{"_id":"source/_posts/2014/hexo-tutorial.md","hash":"08219fa1636aa2c79c02b19c1bebce7bcdc511c4","modified":1483502019551},{"_id":"source/_posts/2014/http.md","hash":"ff5f0c4fce46f09f653f13d21b50817d02e8bbe6","modified":1483502066677},{"_id":"source/_posts/2014/https.md","hash":"6cdc4124ae2c7d2b1da14f069dfce0709dcf3dbc","modified":1483502074565},{"_id":"source/_posts/2014/learn-english.md","hash":"d802124febafecbcbdf249877a45007cc05f5753","modified":1483502175373},{"_id":"source/_posts/2014/learn-if-alive.md","hash":"9b79c4e19bcddf11fc0bfd6297caad1ef606a960","modified":1483500009144},{"_id":"source/_posts/2014/linux-aliases.md","hash":"47175175aca8a9ca98bbbe4f1e2e9911ad10f3db","modified":1483502201959},{"_id":"source/_posts/2014/zh-cn-to-pinyin.md","hash":"2728cef2768df2e201997a386a17bef0fffe0a33","modified":1483500047532},{"_id":"source/_posts/2015/critical-thinking.md","hash":"8142721c38410cb8c45591b06caf1a2e0f851866","modified":1483501821125},{"_id":"source/_posts/2015/dependency-injection-pattern.md","hash":"b44a2f819ba9f3e2980343a2b6af83bb8cace5a8","modified":1483619088394},{"_id":"source/_posts/2015/facade-pattern.md","hash":"f8d9bbd635249cfe0da5c5767871032997558d80","modified":1483618442031},{"_id":"source/_posts/2015/factory-pattern.md","hash":"97002291a1118d8dcafaf436dce1a43e9a65dfde","modified":1483618555487},{"_id":"source/_posts/2015/gen-id-way.md","hash":"eff8c4227ba097a01177b97cf35f231490779733","modified":1483524329919},{"_id":"source/_posts/2015/grown-up.md","hash":"06c9331a27971c93ff4469743e2c0b626580c4e4","modified":1483501920308},{"_id":"source/_posts/2015/gulp-tutorial.md","hash":"393a926fa21fc25a869b23206a8b7fee6ce7a558","modified":1472622676786},{"_id":"source/_posts/2015/how-to-happy-work.md","hash":"667d2bf51abd5da14d3009fc1cffc59ae63dbea8","modified":1483502044971},{"_id":"source/_posts/2015/hui-lai-shi.md","hash":"838c664f92c67f8c089e5210f0d0d8b41d99f15e","modified":1483501996142},{"_id":"source/_posts/2015/mac-web.md","hash":"14cb35b70ee174eb1257c0a96c64cb7482a8ab12","modified":1483502216219},{"_id":"source/_posts/2015/markdown.md","hash":"de6876fdf0e65307ebaaa2e19401ea43219898d0","modified":1483502263839},{"_id":"source/_posts/2015/nodejs.md","hash":"d589ffc47069d142f45583b75f9417e05eb742dc","modified":1483502295690},{"_id":"source/_posts/2015/observer-pattern.md","hash":"52441af2301d086d3583946cd24026790c0b1e32","modified":1483618151297},{"_id":"source/_posts/2015/singleton-pattern.md","hash":"44ad97c786feb3b043fa26019752e07be0765f11","modified":1483619108027},{"_id":"source/_posts/2015/yc-create-note.md","hash":"54588bb82703baddee12f5480a1a05cbc0956936","modified":1483502465910},{"_id":"source/_posts/2016/Inverted-index.md","hash":"b740c24accc341cf42d6aeb51e10ba9e24a4a41e","modified":1483502160340},{"_id":"source/_posts/2016/MangoDB-cheatsheet.md","hash":"bb6f838584ad76d437f7e3f39e1ed563137f962d","modified":1479971746388},{"_id":"source/_posts/2016/beyond-feeling.md","hash":"c263b01a6ebecfb84f9dd838cec8b9f69c112b31","modified":1483499996113},{"_id":"source/_posts/2016/big-data-time.md","hash":"ba657beafbe40ac50e87c9ff1aec943a1d4db757","modified":1478143756722},{"_id":"source/_posts/2016/design-mysql.md","hash":"271425bbc3e2a89ef27e43ac326bafe1697c17c4","modified":1483526159558},{"_id":"source/_posts/2016/flex.md","hash":"2a93d29725dd23d68c5ab459fbaad8c940535212","modified":1483506987969},{"_id":"source/_posts/2016/ganji-design-msyql-rule.md","hash":"1b36fe0884fda3ce21fd8d77880e909501a80650","modified":1483511638436},{"_id":"source/_posts/2016/growth-hack.md","hash":"e2aa9799193323f1b910207ed340778402872954","modified":1472622676773},{"_id":"source/_posts/2016/influence.md","hash":"cc1ff596876b96872a5c87e0035d9262cdf2a6a3","modified":1483502117631},{"_id":"source/_posts/2016/mysql-bit.md","hash":"021d2c662eaeaee28f9c67e359d5f26b8fbd7790","modified":1483507083463},{"_id":"source/_posts/2016/mysql-cheatsheet.md","hash":"8f9334b2d04ac32e5547501e4e38baebaf9dc55e","modified":1483502281557},{"_id":"source/_posts/2016/npm-script.md","hash":"59d78364579255c8aaee70a975e5d819b3942be2","modified":1483502317252},{"_id":"source/_posts/2016/php-faker.md","hash":"110719d29b10fff479a0ebcfb4a3ccfb2177dd44","modified":1478140297945},{"_id":"source/_posts/2016/plan.md","hash":"48941013f84f7d3287f293f31a1547abbc4ab8b8","modified":1483502358985},{"_id":"source/_posts/2016/principles.md","hash":"3f2e27747df36485552a807f340b15cfde7c8190","modified":1483502375410},{"_id":"source/_posts/2016/restore-db.md","hash":"c7371d95050844a269fc60c0fa6849692ca21b98","modified":1483502399577},{"_id":"source/_posts/2016/running.md","hash":"a9ad308f73bdc42ec4094a3973349141114b3d56","modified":1483502427154},{"_id":"source/_posts/2016/seckill-sys.md","hash":"9c4810f19e6779682ac0ef8309a7159cab74e1ab","modified":1483604949816},{"_id":"source/_posts/2016/shell.md","hash":"ae036528c200e6b44d745dba984588eca9aae2e0","modified":1483502449724},{"_id":"source/_posts/2016/vagrant.md","hash":"5130ff2f21f0ccf39d2f5a8675d030d465e5bfc9","modified":1479108819081},{"_id":"source/_posts/2016/yaml.md","hash":"1ff4b5c1e4ca0c96c08929c0c6e2dbd1296e600a","modified":1479971165313},{"_id":"source/images/figure05.png","hash":"e73bee42983ea05c9176c99e55f69ac0350455a8","modified":1472622677066},{"_id":"source/images/restore-db/all_bak.png","hash":"1193a8ad9cf0b99027ef88553696a67d0f4fffc7","modified":1479951352688},{"_id":"source/images/restore-db/delay_bak.png","hash":"6bb3695d19bfeb83bfcfacd21e4b61a0529cc10c","modified":1479951352691},{"_id":"source/images/restore-db/inc_bak.png","hash":"f8cf69db576931c76a8fcb1e51cb4da9cfa374c5","modified":1479951352694},{"_id":"source/images/restore-db/master-master.png","hash":"deacf1a4a31ce34c160674c27ade212e93ba744e","modified":1479951352697},{"_id":"source/images/restore-db/master-slave.png","hash":"7ed438af6bcad83ee7fd967dc6323a0aaa858944","modified":1479951352699},{"_id":"source/images/technology/gen-id.png","hash":"679ecaeeb8a6aeca9311baeeb5434c87444106a2","modified":1483512426065},{"_id":"source/images/technology/gen-id2.png","hash":"33c002da5cb8c27fd7c5fb34f947cf521870688d","modified":1483512766439},{"_id":"source/images/technology/gen-id3.png","hash":"4eeeef8f5680377ff9d954c3e8744666ba02bc89","modified":1483513118008},{"_id":"source/images/technology/master-slave.png","hash":"ce1a8e33ab7c07c3416ea2f12d4ddfb8a2ea0f8a","modified":1483525074975},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1478566102768},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1478566102776},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1478566102777},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1478566102792},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1478566102793},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1478566102794},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1478566102795},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1478566102797},{"_id":"themes/next/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1478566102798},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1478566102799},{"_id":"themes/next/.git/logs/HEAD","hash":"4e5f5501e4ceeb62670e11f3bbf6c2c90f5446d3","modified":1479886391308},{"_id":"themes/next/.git/refs/stash","hash":"b2b712c4996e9d4f469236e02f9b6a05c7f2b3dc","modified":1479886381916},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1479886391147},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1479886391148},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"b87a5122dbff1d5fccf8f3d09d1640bd4b01c4a0","modified":1479886391153},{"_id":"themes/next/layout/_macro/post.swig","hash":"abfc88f34f2c0ae52229c4ffa577b00ad7cecdc6","modified":1479886391156},{"_id":"themes/next/layout/_macro/reward.swig","hash":"b6cb171f0ed227b82b8f7601814af2df93f3a09a","modified":1478567488642},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"3b261c758a7673d91c116367be1bb5223403f9e0","modified":1479886391158},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"c5cc0070ca7c9a8dbd4b09e0398db536c3cdbe8a","modified":1478567488643},{"_id":"themes/next/layout/_partials/comments.swig","hash":"a5ffadb516522f85c052b290b94c0e4af3002644","modified":1479886391161},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1478567488643},{"_id":"themes/next/layout/_partials/footer.swig","hash":"8e21a6b8f024fcb29c7fcf44bbe967dfa70d3c05","modified":1479887245536},{"_id":"themes/next/layout/_partials/head.swig","hash":"740684ef2b6e56183529387882042612e904bc8d","modified":1479886391166},{"_id":"themes/next/layout/_partials/header.swig","hash":"d9b10a92fdccd57a0c0d6773831f9c1b0f1bb449","modified":1479886391171},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"dfbb6e9692333166aa78231ad12b2a40c153cbcb","modified":1479886391172},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1478567488647},{"_id":"themes/next/layout/_partials/search.swig","hash":"952b7b8d9ce2c81d4002a9dc2331f1e710f99616","modified":1479886391175},{"_id":"themes/next/layout/_scripts/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1478567488649},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1478567488649},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1478567488650},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"c9d45628330ce8bf5fbe71c9f131c7d75334c1c4","modified":1478567488655},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1478567488658},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1479886391204},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1478567488658},{"_id":"themes/next/scripts/tags/note.js","hash":"7dc14db08f2c74f8f1952534b424f220f5c000c6","modified":1479886391206},{"_id":"themes/next/source/css/main.styl","hash":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1478567488696},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"16505f61f19ba65f629dfd033f14ee9abcf18756","modified":1479886391238},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1478567488697},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1478567488697},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1478567488698},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1478567488698},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1478567488699},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1478567488699},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1478567488699},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1478567488700},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1478567488700},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1478567488700},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1478567488700},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1478567488700},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1478567488701},{"_id":"source/images/plan/1.png","hash":"9d3293ea31e3836b89af95bb97f49f4cbd73d263","modified":1472622677106},{"_id":"source/images/technology/snowflake-64bit.jpg","hash":"5c7fca2061e94dba847dfc8072555599c76b1bc7","modified":1483519405285},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488650},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488651},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488685},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488685},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488687},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478567488695},{"_id":"source/images/plan/2.png","hash":"490e4354ec96efcf5fc68cfdc88466ad81f4bff1","modified":1472622677146},{"_id":"source/images/plan/5.png","hash":"94692f8f1aa6398bedf1623ca24db3eec6c5471b","modified":1472622677290},{"_id":"source/images/plan/6.png","hash":"66498494987b306e5e4789f360171a6295015839","modified":1472622677341},{"_id":"themes/next/.git/logs/refs/stash","hash":"2407a1019ca43b884aa493d357f3914cb6844b42","modified":1479886381917},{"_id":"themes/next/.git/objects/0f/57e0a5f2aa47a5c8c7effc9ae30fabd5b35500","hash":"6803831237d8e09d7ff02d647bc5e50d84066d86","modified":1479886578911},{"_id":"themes/next/.git/objects/23/684bee3e5ad1bee22df83ce5acc39d51cfaf05","hash":"bc24e23b6d49de209360233fa459ef97bac6be8a","modified":1479886381494},{"_id":"themes/next/.git/objects/25/5e1cd441042e6eda777056570b221dc2be8e41","hash":"89283df67611b5ca2851eac301c2377fb0cb5c80","modified":1479886381569},{"_id":"themes/next/.git/objects/28/44848be7b0b632ccad43bd3eb3a9656fec1d67","hash":"37ef7f913560f1d9655fb4656abd8cf9cec79b95","modified":1479886381576},{"_id":"themes/next/.git/objects/36/8b6cf56fe2c1a1bbdab189250abaf6e13b66ec","hash":"18b7056a59608c731f9ef6223fec725c12da7203","modified":1479886381589},{"_id":"themes/next/.git/objects/54/cf1534a970dac52a857e09117462af06882cce","hash":"122d2f2c382114529d466c2fe41750bad42d5838","modified":1479886578895},{"_id":"themes/next/.git/objects/58/f393e4cb71cc540c8062ed4e06b59f1e14590b","hash":"f9b6e997b85f5432473b31c628beee45e8c3f175","modified":1479886381585},{"_id":"themes/next/.git/objects/65/abccb46326c16695a1e877d3317f7129224108","hash":"eb49a53d236305795062db298b8ee2adc8036dd2","modified":1479886381595},{"_id":"themes/next/.git/objects/5a/823fb25e0ed2aa732b81799d10b19524601f61","hash":"67715d91221132de9b39b8c0224111dc497e7eb5","modified":1479886578903},{"_id":"themes/next/.git/objects/83/f8e1f6b7a0cd15716aa19189dd8ca8459d535a","hash":"895df0feab5cef4d9c794c35b38d0ffd90b76129","modified":1479886381280},{"_id":"themes/next/.git/objects/9e/60c2a2710f309bc353875e122cc3f502a37552","hash":"41fdc8ce5327a11023e5d1fd43c04d9042717415","modified":1479886381600},{"_id":"themes/next/.git/objects/a5/56bf15bc401e526637ca72e9413cd141e5280f","hash":"1838d024c6697cb24dbe22af68a43e4dada425fd","modified":1479886381808},{"_id":"themes/next/.git/objects/b9/5c52b07777a6ae24d7a87fe59106a82b822881","hash":"030eb4b9d7a6445bf1de4d33683b7bb3d05f2511","modified":1479886381581},{"_id":"themes/next/.git/objects/c5/d0820ad57d369f8c4cb4d2d72c4a978e5ee546","hash":"c8891ff6f6b82d91737a882101020a142814c486","modified":1479886381489},{"_id":"themes/next/.git/objects/d0/869f68ba655fe79d081b8d1af26223fd0e9560","hash":"49ed16bea5c6552fdfef743e1ab6f6ea055841ee","modified":1479886381563},{"_id":"themes/next/.git/objects/df/ddf9fd3c5b13fc35c4325ab6d0fae43c1af01c","hash":"1c1733973329dfdda94ffcb8822f2b5bd67fe39e","modified":1479886381499},{"_id":"themes/next/.git/objects/pack/pack-0afea73182ac606308fc5c3d9433c498bf068c5a.idx","hash":"d2c564a115cafd6400ab9c974ac56f45bb46d863","modified":1479886305503},{"_id":"themes/next/.git/refs/heads/master","hash":"776e91b78b954875a8d38297e05b80eab20df4b9","modified":1479886391303},{"_id":"themes/next/.git/refs/tags/v5.1.0","hash":"cabf39f34bb81548f82c93481989ec34274873a1","modified":1479886305707},{"_id":"themes/next/layout/_components/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1479886391142},{"_id":"themes/next/layout/_components/algolia-search/dom.swig","hash":"bb2c3a926bb7f8fea54d424882b25d93dfde7ae6","modified":1479886391144},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1479886391168},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1478567488646},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"efa7efcbb575381b508f9aa0e0c53140eef72a7b","modified":1478567488647},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1478567488647},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1478567488648},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1478567488648},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1478567488648},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1478567488648},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"12684840de632eb16e53ffa863166306a756fd4f","modified":1478567488649},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1478567488650},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1478567488651},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","hash":"188423f7df0eb8c99a03cb6741384415651c4665","modified":1479886391178},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","hash":"9c8f4b2a29741d96adf0b8fef52ae7f4396f27f5","modified":1479886391183},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","hash":"e495aed8fb36bf8015ddbd64366270a7debad2b0","modified":1478567488654},{"_id":"themes/next/layout/_scripts/third-party/localsearch.swig","hash":"f592adff22628b271ec9657b080cf6b9cc200615","modified":1479886391191},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1479886391196},{"_id":"themes/next/layout/_scripts/third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1478567488655},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1478567488655},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"3403fdd8efde1a0afd11ae8a5a97673f5903087f","modified":1478567488685},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"a0f23e75a137d8c996c70e2059e0074f1e97a127","modified":1478567488686},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"531934ea21ef4dc9f0978512050f54834f0a6cff","modified":1478567488686},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e55265c8a8a6ae0c3c08e3509de92ee62c3cb5f6","modified":1478567488695},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"d7826b48a20162835450495db534d353ac52e476","modified":1479886391236},{"_id":"themes/next/source/css/_variables/base.styl","hash":"4c4298a7011841d9ee2aec5bd192df5730b08517","modified":1478567488696},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"4e7b863d01d7ba5f68ede8d9c0c98d6010491650","modified":1483508509738},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1478567488701},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"84bdc8a4fe127849a5c99bdefe1d0b65ee1a4a0a","modified":1479886391240},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"4a0da1bed19e65bd7db42421b447061bc1618710","modified":1478567488701},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1478567488702},{"_id":"themes/next/source/js/src/motion.js","hash":"ff9ea37d05c269e3a140c4ab448af03efc4bcc76","modified":1478567488702},{"_id":"themes/next/source/js/src/post-details.js","hash":"458af3b1bd7783c1950808e66cedfa9fb68bf21f","modified":1478567488702},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1478567488703},{"_id":"themes/next/source/js/src/utils.js","hash":"e34f83848883732ddd7a34a3e3ed2a293f0f76a7","modified":1479886391243},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1479886391246},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9be892a4e14e0da18ff9cb962c9ef71f163b1b22","modified":1478567488704},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1478567488704},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1478567488712},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1478567488712},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1478567488712},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1478567488713},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"8868275e8b6340c87a81c69a54ed138d11fb3c3e","modified":1479886391254},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1478567488714},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1478567488715},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1479886391256},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1478567488715},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1478567488726},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1478567488728},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1478567488728},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1478567488728},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1478567488730},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1478567488731},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1478567488731},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1478567488732},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1478567488732},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1478567488735},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1478567488736},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1478567488736},{"_id":"themes/next/.git/objects/pack/pack-0afea73182ac606308fc5c3d9433c498bf068c5a.pack","hash":"c5b8d4bec0ba11ea2d695ffa0d6a98a00ec97fb9","modified":1479886578000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1478567488727},{"_id":"source/images/plan/3.png","hash":"01057a0a31d8b9512cc666b282fb876b3e9161ca","modified":1472622677200},{"_id":"source/images/plan/4.png","hash":"ff7f8fe3464c10509a233021c97babbe0f554f87","modified":1472622677249},{"_id":"source/images/plan/8.png","hash":"c7fff33e7c61eed7001e14636f1481f06ae29bed","modified":1472622677486},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"4e5f5501e4ceeb62670e11f3bbf6c2c90f5446d3","modified":1479886391306},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1478567488621},{"_id":"themes/next/.git/refs/remotes/origin/dev","hash":"41ab21bbe0d88c2cc439c0af33807af4e95aef31","modified":1479886305612},{"_id":"themes/next/.git/refs/remotes/origin/master","hash":"776e91b78b954875a8d38297e05b80eab20df4b9","modified":1479886305602},{"_id":"themes/next/.git/refs/remotes/origin/servant","hash":"cc0719ca98bd124977db7d9c89b69ede35e83d88","modified":1479886305619},{"_id":"themes/next/layout/_scripts/third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1479886391180},{"_id":"themes/next/layout/_scripts/third-party/analytics/busuanzi-counter.swig","hash":"24105e62d7f26946907fa14cd02589f899bf8122","modified":1478567488652},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","hash":"ae5b8597603d4e42ee66ed121544e7b1c644767e","modified":1478567488651},{"_id":"themes/next/layout/_scripts/third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1478567488652},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","hash":"a79e7e0d809fcf407593dd7ed9e023db21c3cbd6","modified":1478567488652},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","hash":"1b6af02fd0ba3f729675cd95429a0cea4aebf358","modified":1478567488653},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1478567488653},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","hash":"e4a13e8cd19762ef3aea0e59dfae8b3c1f251f11","modified":1479886391185},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1479886391187},{"_id":"themes/next/layout/_scripts/third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1479886391189},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ad69cbf94eedacc27e756cdb9c7073416db697d0","modified":1478567488659},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"22828f5141c0cecb9ef25a110e194cdfa3a36423","modified":1478567488659},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"b7d5cc29586ac796a50d90974ad99d24a5982137","modified":1478567488660},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1478567488660},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"88559b13ce94311405b170a0506ded91273beceb","modified":1478567488664},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1478567488671},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1478567488682},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"5a35aa0381b0e1d465b952a997194441020446ea","modified":1478567488682},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"b6ee5fefa6046086a76ddbcfafc82482816fa3e0","modified":1478567488683},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1478567488684},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"c9218b48c56e52c06af9ce3cc8fbdae737cf16fe","modified":1478567488684},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1478567488684},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1478567488687},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1478567488688},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1478567488688},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1478567488689},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"55b44e03054cd20ed8129bf986b15fba5fd85aad","modified":1478567488689},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1478567488689},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1478567488689},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1478567488691},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1478567488691},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"f23ac53ab901c48859dd29eee6e386b60ff956ba","modified":1479886391234},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1478567488692},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1478567488692},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c9875c010bebd77b4f59d459a10455fceb0a66a1","modified":1478567488693},{"_id":"themes/next/source/css/_schemes/Pisces/_full-image.styl","hash":"de31e923bf5102498f06b1ae6bdf2ea22409f3e0","modified":1478567488693},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"338e9475519ce72af29a1bc05610f9f486e0f1c2","modified":1478567488693},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1478567488694},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"9887bd3894db5394c1e64e800afaae55f47e8dd0","modified":1478567488694},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"983c0723e8cfd84b67c2e66da0c26425a8db06e0","modified":1478567488694},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"88a5e0e95f93e4adb196bff1aac17d6cfb03768a","modified":1478567488695},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"a9d064d600ee35acd66508167e1ac8c6cfdbdcd8","modified":1478567488703},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1478567488704},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1478567488705},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1478567488705},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1478567488706},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1478567488706},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1478567488706},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1478567488710},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1478567488711},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1478567488711},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1478567488713},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1478567488713},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"a02674d823c7b577d38c3cdb91953993b6e4b3a0","modified":1479886391260},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1478567488716},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"3c1d63dd1176c77f9f4cdb1616fbb08c31b9822f","modified":1479886391263},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1478567488732},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1478567488731},{"_id":"source/images/plan/7.png","hash":"e42263fb161e67c09bcf19ad9170bb09a2c88d3c","modified":1472622677408},{"_id":"themes/next/.git/objects/pack/pack-d7f9900e407f50cf6854c435d4f274ead2f5117b.idx","hash":"f4a5ac1fe0329243bf6b253a0ea4691d0afe924c","modified":1478567488462},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1479886391267},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1479886391271},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1479886391285},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1479886391288},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1478567488734},{"_id":"themes/next/.git/logs/refs/remotes/origin/dev","hash":"1e84be2fc61af53a740dde4011768f90d3e75f6d","modified":1479886305615},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"273b40a03d958524625e5c784eb4aabc80a08307","modified":1478567488623},{"_id":"themes/next/.git/logs/refs/remotes/origin/master","hash":"45fd931958578e9a6e2bbc3ea582fb2962766e3d","modified":1479886305605},{"_id":"themes/next/.git/logs/refs/remotes/origin/servant","hash":"8923c803595e93fe01bc26efc5fe261f8f7861ad","modified":1479886305621},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"4c4ef6e997d0c6e21de39c2daa0c768e12c8c6fa","modified":1478567488660},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1478567488661},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1478567488661},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"852fd77500bda2c1a6651a14aa48d7d6222adc9d","modified":1478567488661},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1478567488662},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1478567488662},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1478567488662},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"9ec9227ab8e3fc07f6dc3342c3c430b6cd649d98","modified":1479887848271},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"cd2def16d31feb234be27dcdce2a919f70cc6919","modified":1479886391210},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"104b5c79cd891506e0beaf938b083685f1da8637","modified":1478567488663},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1478567488663},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1478567488664},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1478567488664},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1478567488664},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"a45f5fce643eec4e1b927165229d560364bcace1","modified":1478567488665},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1478567488665},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"4866fb9453d7d4c83a1c4e55d74e4afed336eb8b","modified":1478567488667},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1478567488667},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"e2066dd20747e3125c969ef8459d0015fa5233a2","modified":1479886391216},{"_id":"themes/next/source/css/_common/components/post/post-more-link.styl","hash":"2bc3e33fdfbcf348c96ca60598f629dcd7ba3617","modified":1478567488667},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"74e9989a10fc682388cbd25ff7df0d7d4025fb8c","modified":1479886391220},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"8355b0e9375b3245508efda0e18acd069c2aa767","modified":1478567488668},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1478567488668},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"350469437b20ecfd6f3ca45e400478f8e3f71cfb","modified":1478567488668},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1478567488668},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"681b7c8ce4dc47130a0ca67c1ec62be7c96e4c4f","modified":1478567488668},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"7f2bdd6109614d35408ee5ac3335aad4464c69c7","modified":1478567488669},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1478567488669},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"821991c0890966a512b43e8b1cf9537e738a09a0","modified":1478567488669},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1478567488670},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1478567488670},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"394888efec32749b353292a59ec7f1b609d6325e","modified":1478567488670},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"06b9a99d63b4d57fdbf70b88ab7036fbc47e3f52","modified":1478567488670},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"702be9e57dd6ff5fa99642a1f6e3df26215b8805","modified":1478567488670},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1478567488671},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"dd941824210733588841897457e0cc9697ca5608","modified":1478567488671},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1478567488671},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1478567488672},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"8420b4be386469337243336aee694297875bd439","modified":1479886391222},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"c8a05ce90784db9744c22fab22019eb637df1f2f","modified":1479886391225},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"3b1aabbab57b0b1fafa311feb1212f59e78e7928","modified":1479886391228},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1478567488672},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"7f7e9df15148608a9c29326dd880d8e8e8efc0ec","modified":1478567488673},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1478567488674},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1478567488675},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"eb4ede7d7446d8a2f2ddeef3b17f497a6ad30756","modified":1478567488675},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"4f1e9d96940aa3e42d58fb63a26d4fa260323b0d","modified":1479886391231},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1478567488690},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1478567488690},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1478567488693},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1478567488707},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1478567488709},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1478567488706},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1478567488709},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1478567488710},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1478567488710},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1479886391282},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1479886391250},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"964e8dac2cee79c4b49b5bc300675773f6518812","modified":1479886391276},{"_id":"themes/next/.git/objects/pack/pack-d7f9900e407f50cf6854c435d4f274ead2f5117b.pack","hash":"d7c2c82c7ad561df7778869a4aed0b762d416269","modified":1479886578000},{"_id":"public/404.html","hash":"a3be6a7f20217d79a45144bc84bd749bba4264f9","modified":1483619410139},{"_id":"public/about/index.html","hash":"fd28fb3574f8b5382daed47059adeff6a428ceed","modified":1483619410139},{"_id":"public/categories/index.html","hash":"449c26854b4225ccb2576c91879337b237ed9701","modified":1483619410139},{"_id":"public/tags/index.html","hash":"32abcb2cc6959edb713a84ee1ab0585691bce9e6","modified":1483619410139},{"_id":"public/schedule/index.html","hash":"2333f00d77c5d505a5c589fc1ec33e03cbcec92e","modified":1483619410139},{"_id":"public/2015/06/22/critical-thinking/index.html","hash":"eced0efd7c68ca52550fc82c53eb6e5b8289aed2","modified":1483619410139},{"_id":"public/2014/08/08/learn-if-alive/index.html","hash":"2f3bad0879c4e11e8f1c36beb3dad95c427dd24e","modified":1483619410140},{"_id":"public/archives/page/5/index.html","hash":"cacdc0e4470df6e20aba9cf6bbe5b54de1405522","modified":1483619410140},{"_id":"public/archives/2014/08/index.html","hash":"2d14e71e2f0804a61e5bdd4f9e2470f7b8739d08","modified":1483619410140},{"_id":"public/archives/2014/09/index.html","hash":"6b86c7110460709a287d27e895c84c1bda11111f","modified":1483619410140},{"_id":"public/archives/2014/11/index.html","hash":"cc2a934e5abdd11dd79a9cdac4df0c23602217a6","modified":1483619410140},{"_id":"public/archives/2014/12/index.html","hash":"aa0edd09f3c52094833affb8662fb8daf32edcc0","modified":1483619410140},{"_id":"public/archives/2015/page/2/index.html","hash":"b925d347c6d40957b82c93b237724da0b9b19527","modified":1483619410140},{"_id":"public/archives/2015/03/index.html","hash":"1f2a1d664f47cbd330981291cdbf520640dfb134","modified":1483619410140},{"_id":"public/archives/2015/06/index.html","hash":"1ebcbfb4640f64ee89c3883fa837852ba6058ed4","modified":1483619410140},{"_id":"public/archives/2015/07/index.html","hash":"40e00a2bd25724818b1dc6052a89a96caae818c7","modified":1483619410140},{"_id":"public/archives/2015/09/index.html","hash":"2caf30abac6e49238995b55c37f29e6ceed4c2ab","modified":1483619410141},{"_id":"public/archives/2015/10/index.html","hash":"414969c03e6400d5ac91b22307b5cc2e210ce2b0","modified":1483619410141},{"_id":"public/archives/2015/11/index.html","hash":"1c8026cdb02bcce147cc81c74dc37b2e98fd4dcf","modified":1483619410141},{"_id":"public/archives/2015/12/index.html","hash":"78ab48b3d416809c493107bebea418ada789049b","modified":1483619410141},{"_id":"public/archives/2016/page/3/index.html","hash":"6f0c5d0f7bda1bbf386f3fff8633ac672d352c8f","modified":1483619410141},{"_id":"public/archives/2016/01/index.html","hash":"64f0263e51f265072b478342674e524221219a72","modified":1483619410141},{"_id":"public/archives/2016/06/index.html","hash":"477b7fc9eaa4cc4bdb86cbd1d34acd2196a3f897","modified":1483619410141},{"_id":"public/archives/2016/07/index.html","hash":"8e635493553e85a081b420dc61d6279982324f23","modified":1483619410141},{"_id":"public/archives/2016/08/index.html","hash":"58933e18fdd3675efeef80c98c8a9e7a4b4ff03a","modified":1483619410141},{"_id":"public/archives/2016/10/index.html","hash":"69605996d3f5511cd89e11add1660207e9d3262d","modified":1483619410141},{"_id":"public/archives/2016/11/index.html","hash":"5edf312cf20d8e2bb1d4a460de23a942f554d410","modified":1483619410142},{"_id":"public/archives/2016/12/index.html","hash":"2cffd9b3749472128fe7200988ac4d228437be6c","modified":1483619410142},{"_id":"public/categories//index.html","hash":"54a3fdae9036a897e4dc497e471e93cf2550d525","modified":1483619410142},{"_id":"public/tags/git/index.html","hash":"e47a239c1c9ddb6e3675e5653212f1b99c3f299e","modified":1483619410142},{"_id":"public/tags//index.html","hash":"7def69603ebaa580b89cf4237bd8d1822714ef1c","modified":1483619410142},{"_id":"public/tags/hexo/index.html","hash":"e5b84feb15f9089843441d84ecfc7ab003c8681b","modified":1483619410142},{"_id":"public/tags/next/index.html","hash":"a2c8664394edde272121e5967208be635e2b8258","modified":1483619410142},{"_id":"public/tags/english/index.html","hash":"c908ca9b76c694a2fcacf3d4ac352dec72d946b5","modified":1483619410143},{"_id":"public/tags/learn/index.html","hash":"c433836819cced33964a02f46fa175a5f752440a","modified":1483619410143},{"_id":"public/tags/mysql/index.html","hash":"50c15b841f99884e74d163e44786152b2b8cb216","modified":1483619410143},{"_id":"public/tags/design-pattern/index.html","hash":"f28fc1c0a5bfc0fe97d26290701d0cefe3b84c41","modified":1483619410143},{"_id":"public/tags//index.html","hash":"3dedc6c3e22f999d573d6e340fad7256887fe856","modified":1483619410143},{"_id":"public/tags/work/index.html","hash":"53e056704d841cc90fdda40ed39e23d5d8491c6a","modified":1483619410143},{"_id":"public/tags/tools/index.html","hash":"07fa6fbeb4cfb9fb4fffbd596651f65d924e5919","modified":1483619410143},{"_id":"public/tags//index.html","hash":"01d676d25146bf1217a369a7a1f708584fcc4a81","modified":1483619410143},{"_id":"public/tags//index.html","hash":"663f5eef647457146aca9d8b4ea6d301aa62855b","modified":1483619410143},{"_id":"public/tags//index.html","hash":"5690af766849b7613a99f64c6a798726eaaac5a2","modified":1483619410143},{"_id":"public/tags//index.html","hash":"ef10b20c058133ac7f729a9eb0786bcc262b3a6c","modified":1483619410143},{"_id":"public/tags/db/index.html","hash":"3d361f56625375b095fe67f1cd3066766d7a2586","modified":1483619410143},{"_id":"public/tags/js/index.html","hash":"4b6921c51134772fc3e6ff950abf8630f55175ef","modified":1483619410144},{"_id":"public/tags/php/index.html","hash":"da4c351a11606a2f12b9d80f86b47fd6d5c208c2","modified":1483619410144},{"_id":"public/tags//index.html","hash":"4167c4ceda9ed69d77ceb0977a5c33766877bc47","modified":1483619410144},{"_id":"public/2016/12/23/mysql-bit/index.html","hash":"31e95231f184599f23a2d5ec2121aa67b8d1a97d","modified":1483619410144},{"_id":"public/2016/12/01/seckill-sys/index.html","hash":"8f7b83d223427a542e3f27f01cd14b4d21f1f0b6","modified":1483619410144},{"_id":"public/2016/11/30/flex/index.html","hash":"94676b0f238ea6404cbeb42b32a97b86dc326817","modified":1483619410144},{"_id":"public/2016/11/23/restore-db/index.html","hash":"634d6ca727a7605f10594fc48deb91369864c491","modified":1483619410144},{"_id":"public/2016/11/23/yaml/index.html","hash":"2e5027af3a04dcd277bfac5850ea967a7aef88b2","modified":1483619410144},{"_id":"public/2016/11/23/npm-script/index.html","hash":"faf805a47480ba7729616d0104745c66520c67b1","modified":1483619410144},{"_id":"public/2016/11/10/vagrant/index.html","hash":"23d41a1c698af2c4bd992654666c8c8a93d9defd","modified":1483619410144},{"_id":"public/2016/11/09/shell/index.html","hash":"244c5e661b42bea4d5ecd1cc46e6bed3cd269cd8","modified":1483619410144},{"_id":"public/2016/11/02/MangoDB-cheatsheet/index.html","hash":"a81ca5b103364b6182798d43e02d27d003e907e2","modified":1483619410144},{"_id":"public/2016/11/02/mysql-cheatsheet/index.html","hash":"b73a69b0ce415b2244c989ffbf0a158b76343d24","modified":1483619410145},{"_id":"public/2016/10/16/big-data-time/index.html","hash":"584989c94e0d99870034080c0ef24c388a4b488f","modified":1483619410145},{"_id":"public/2016/10/12/influence/index.html","hash":"ad14de8ab743238ec432994941dfe0a44398251f","modified":1483619410145},{"_id":"public/2016/08/19/php-faker/index.html","hash":"50dde0a89314e03596c1237489ab5227e83fe8eb","modified":1483619410145},{"_id":"public/2016/08/11/Inverted-index/index.html","hash":"be8d6c023927e32bbfc3e342634fcd9e21b43652","modified":1483619410145},{"_id":"public/2016/07/30/beyond-feeling/index.html","hash":"0873281775a45003a909feea25265c1978d230b8","modified":1483619410145},{"_id":"public/2016/07/22/plan/index.html","hash":"e44ccddde87f9c77f438563f045061f8daa76430","modified":1483619410145},{"_id":"public/2016/07/15/gulp-tutorial/index.html","hash":"7349ecb318534f13370759af88cea39e079d8907","modified":1483619410145},{"_id":"public/2016/06/23/growth-hack/index.html","hash":"7e3e507cd78e6cb879bc83178c44d7480a8cc6ec","modified":1483619410145},{"_id":"public/2016/06/20/running/index.html","hash":"ea7753d7cf4fb7fb3f1bce1363368f973d290439","modified":1483619410146},{"_id":"public/2016/06/15/principles/index.html","hash":"36509901d4f21d8b4bbbdda9d114e8e2024c47a5","modified":1483619410146},{"_id":"public/2016/01/28/design-mysql/index.html","hash":"18b8ad08cf343fe43b597a17fe35dfde5a53564e","modified":1483619410146},{"_id":"public/2016/01/28/ganji-design-msyql-rule/index.html","hash":"8b1358e99f79bb696c499843c1cb2d908ba994f9","modified":1483619410146},{"_id":"public/2015/12/04/gen-id-way/index.html","hash":"c117d72a2876ba34f4cbb84cc8ceef37eb58eaef","modified":1483619410146},{"_id":"public/2015/11/14/nodejs/index.html","hash":"c185204605e499b73c5b811a75ada88b0f219e10","modified":1483619410146},{"_id":"public/2015/10/15/how-to-happy-work/index.html","hash":"260b95585e5bb4a7107e2b64dfe26468f6e25eb3","modified":1483619410146},{"_id":"public/2015/09/28/dependency-injection-pattern/index.html","hash":"c8e082417775d8d063309e5aa0ad00af6dbdfe2d","modified":1483619410146},{"_id":"public/2015/09/27/factory-pattern/index.html","hash":"4bb850dbf6eceb256eccf9b3de1871d60f48e5a1","modified":1483619410146},{"_id":"public/2015/09/23/singleton-pattern/index.html","hash":"14972087fc9ee80433a31c5291ac76b236c9db50","modified":1483619410146},{"_id":"public/2015/09/22/observer-pattern/index.html","hash":"e57aadd3eaf07efbad26aac55f89e49c6856b576","modified":1483619410146},{"_id":"public/2015/09/22/facade-pattern/index.html","hash":"0f3f840d19005f92415dbe69e2352300f5250990","modified":1483619410147},{"_id":"public/2015/07/29/mac-web/index.html","hash":"ef57291ad89a26739218662ede36feb6da8b9114","modified":1483619410147},{"_id":"public/2015/06/22/grown-up/index.html","hash":"c88a25db4b9610868d38537ff8471eea66f7ffed","modified":1483619410147},{"_id":"public/2015/06/21/hui-lai-shi/index.html","hash":"61df306f55a4ed79a7f21f6a039346a5f81819e8","modified":1483619410147},{"_id":"public/2015/06/20/yc-create-note/index.html","hash":"25edc5b87e205e996a3b7ff78be5b85f2b4060ba","modified":1483619410147},{"_id":"public/2015/03/15/markdown/index.html","hash":"bd11aa573f9d894d6275b8d2fc657b08fe5924a3","modified":1483619410147},{"_id":"public/2014/12/22/linux-aliases/index.html","hash":"9be23afef24396d6fc73ac91515aa73488985209","modified":1483619410148},{"_id":"public/2014/12/15/learn-english/index.html","hash":"a7a8e2113bb98cf6a08fef98d04b355d340c6e29","modified":1483619410148},{"_id":"public/2014/12/14/fast-learning-way/index.html","hash":"1696d6397c2a20a05e9c6d2f02d439da601aff21","modified":1483619410148},{"_id":"public/2014/11/23/https/index.html","hash":"2089372eadfeb8fd70d8c8c66360ffe6dd8d1327","modified":1483619410148},{"_id":"public/2014/11/23/http/index.html","hash":"efa9d321fd2923cd9cd623e33c57935e76fa60d3","modified":1483619410148},{"_id":"public/2014/09/02/git-cheatsheet/index.html","hash":"6ef1a22e40d982367ec3e6689a5b1665f478a225","modified":1483619410148},{"_id":"public/2014/08/29/zh-cn-to-pinyin/index.html","hash":"ffb7865ce867f2a252d4a284e0f01f73d1887f54","modified":1483619410148},{"_id":"public/2014/08/27/atom-tutorial/index.html","hash":"441abcf012c4135a040c197215dba14523ab9c54","modified":1483619410148},{"_id":"public/2014/08/17/hexo-tutorial/index.html","hash":"230200476b7a2dd26dc6d059bcb470edb9c0a761","modified":1483619410148},{"_id":"public/archives/index.html","hash":"542f3ae746e0bdf80fd4bc7fdb3ce073ae741c43","modified":1483619410148},{"_id":"public/archives/page/2/index.html","hash":"a8a808b9a51ef3199a184d5fc76db6949e93c4d0","modified":1483619410149},{"_id":"public/archives/page/3/index.html","hash":"f06ac3570c57004d80f75b52cde005b2f14caace","modified":1483619410149},{"_id":"public/archives/page/4/index.html","hash":"e56a5791fd158a1734aa82260a616fee06ed1fa2","modified":1483619410149},{"_id":"public/archives/2014/index.html","hash":"531a895d5a623cd3767ec403e4a20a0376517131","modified":1483619410149},{"_id":"public/archives/2015/index.html","hash":"7865a24883d543b58dec32fe63618eb72c7080c1","modified":1483619410149},{"_id":"public/archives/2016/index.html","hash":"51a1b0f2a784e2211dc1003f857826dcfd89b0db","modified":1483619410149},{"_id":"public/archives/2016/page/2/index.html","hash":"ec11774d3eb06ec574dfc77835a9b571347e3135","modified":1483619410149},{"_id":"public/index.html","hash":"6afa64173d58614674055e041c9867289e8e5fe2","modified":1483619410149},{"_id":"public/page/2/index.html","hash":"b9dcb22ea5da6b468431916c0249ded48a6e9a9b","modified":1483619410149},{"_id":"public/page/3/index.html","hash":"de878e031e375e55892b939e97721475ce8140ae","modified":1483619410149},{"_id":"public/page/4/index.html","hash":"a2508a21ca7647d19709db16de42adf1a49f12f5","modified":1483619410149},{"_id":"public/page/5/index.html","hash":"3d55ce028af5334768d096f0d234db09beaaf10c","modified":1483619410150},{"_id":"public/images/avatar.jpg","hash":"983cc8f79020c07e6e58039e67e6fd495ea882e5","modified":1483619410225},{"_id":"public/images/replica.jpg","hash":"bbbcab06acdb0f8d8ed58871c91ea6d9ade3ac2f","modified":1483619410225},{"_id":"public/images/mongo-cluster.jpg","hash":"d87f64a507292c29d243aa8cf3e6691c7aafb126","modified":1483619410225},{"_id":"public/favicon.ico","hash":"fa56159e4ee431ee701cdd1f5ff6528740d47d6e","modified":1483619410225},{"_id":"public/images/wechat-reward-image.png","hash":"55e55cc3d5f7b4f5928fa19c82f6ba9efb6571fa","modified":1483619410225},{"_id":"public/images/wechat.jpg","hash":"5014693062839204352b9d81a939033d791a7a5b","modified":1483619410225},{"_id":"public/images/restore-db/all_bak.png","hash":"1193a8ad9cf0b99027ef88553696a67d0f4fffc7","modified":1483619410225},{"_id":"public/images/restore-db/delay_bak.png","hash":"6bb3695d19bfeb83bfcfacd21e4b61a0529cc10c","modified":1483619410225},{"_id":"public/images/restore-db/inc_bak.png","hash":"f8cf69db576931c76a8fcb1e51cb4da9cfa374c5","modified":1483619410225},{"_id":"public/images/restore-db/master-master.png","hash":"deacf1a4a31ce34c160674c27ade212e93ba744e","modified":1483619410225},{"_id":"public/images/restore-db/master-slave.png","hash":"7ed438af6bcad83ee7fd967dc6323a0aaa858944","modified":1483619410226},{"_id":"public/images/technology/gen-id.png","hash":"679ecaeeb8a6aeca9311baeeb5434c87444106a2","modified":1483619410226},{"_id":"public/images/technology/gen-id2.png","hash":"33c002da5cb8c27fd7c5fb34f947cf521870688d","modified":1483619410226},{"_id":"public/images/technology/gen-id3.png","hash":"4eeeef8f5680377ff9d954c3e8744666ba02bc89","modified":1483619410226},{"_id":"public/images/technology/master-slave.png","hash":"ce1a8e33ab7c07c3416ea2f12d4ddfb8a2ea0f8a","modified":1483619410226},{"_id":"public/images/algolia_logo.svg","hash":"16505f61f19ba65f629dfd033f14ee9abcf18756","modified":1483619410226},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1483619410226},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1483619410226},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1483619410226},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1483619410226},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1483619410226},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1483619410226},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1483619410226},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1483619410227},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1483619410227},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1483619410227},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1483619410227},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1483619410227},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1483619410230},{"_id":"public/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1483619410230},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1483619410230},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1483619410230},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1483619410230},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1483619410230},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1483619410230},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1483619410230},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1483619410230},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1483619410230},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1483619410230},{"_id":"public/images/alipay-reward-image.jpg","hash":"797eedec4f7d9ede1e95140d01f8085d66cedc84","modified":1483619411179},{"_id":"public/images/plan/1.png","hash":"9d3293ea31e3836b89af95bb97f49f4cbd73d263","modified":1483619411181},{"_id":"public/images/technology/snowflake-64bit.jpg","hash":"5c7fca2061e94dba847dfc8072555599c76b1bc7","modified":1483619411197},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1483619411197},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1483619411197},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1483619411197},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1483619411197},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1483619411225},{"_id":"public/js/src/algolia-search.js","hash":"96b29f69b8b916b22f62c9959a117b5a968200a5","modified":1483619411225},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1483619411225},{"_id":"public/js/src/bootstrap.js","hash":"39bf93769d9080fa01a9a875183b43198f79bc19","modified":1483619411225},{"_id":"public/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1483619411225},{"_id":"public/js/src/post-details.js","hash":"2038f54e289b6da5def09689e69f623187147be5","modified":1483619411225},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1483619411225},{"_id":"public/js/src/utils.js","hash":"384e17ff857f073060f5bf8c6e4f4b7353236331","modified":1483619411225},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1483619411225},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1483619411225},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1483619411225},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1483619411225},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1483619411225},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1483619411225},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1483619411226},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1483619411226},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1483619411226},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1483619411226},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1483619411226},{"_id":"public/js/src/schemes/pisces.js","hash":"7506e7490c69a200831393c38d25e91c156bd471","modified":1483619411226},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1483619411226},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1483619411226},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1483619411226},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1483619411226},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1483619411226},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1483619411226},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1483619411226},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1483619411226},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1483619411227},{"_id":"public/css/main.css","hash":"0e28eba9de014b3fefb8571f9ef5b477aa278965","modified":1483619411227},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1483619411227},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1483619411227},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1483619411227},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1483619411227},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1483619411227},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1483619411227},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"4eda182cbcc046dbf449aef97c02c230cf80a494","modified":1483619411227},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1483619411227},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1483619411227},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1483619411227},{"_id":"public/images/figure05.png","hash":"e73bee42983ea05c9176c99e55f69ac0350455a8","modified":1483619411227},{"_id":"public/images/plan/2.png","hash":"490e4354ec96efcf5fc68cfdc88466ad81f4bff1","modified":1483619411228},{"_id":"public/images/plan/5.png","hash":"94692f8f1aa6398bedf1623ca24db3eec6c5471b","modified":1483619411228},{"_id":"public/images/plan/6.png","hash":"66498494987b306e5e4789f360171a6295015839","modified":1483619411228},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1483619411228},{"_id":"public/images/plan/3.png","hash":"01057a0a31d8b9512cc666b282fb876b3e9161ca","modified":1483619411274},{"_id":"public/images/plan/4.png","hash":"ff7f8fe3464c10509a233021c97babbe0f554f87","modified":1483619411274},{"_id":"public/images/plan/8.png","hash":"c7fff33e7c61eed7001e14636f1481f06ae29bed","modified":1483619411275},{"_id":"public/images/plan/7.png","hash":"e42263fb161e67c09bcf19ad9170bb09a2c88d3c","modified":1483619411289},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"964e8dac2cee79c4b49b5bc300675773f6518812","modified":1483619411289}],"Category":[{"name":"","_id":"cixkcoprz000ccwnnhywhlq2e"}],"Data":[],"Page":[{"_content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\"\n        charset=\"utf-8\" homePageUrl=\"your site url \"\n        homePageName=\"\">\n</script>\n\n</body>\n</html>\n","source":"404.html","raw":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\"\n        charset=\"utf-8\" homePageUrl=\"your site url \"\n        homePageName=\"\">\n</script>\n\n</body>\n</html>\n","date":"2016-08-31T05:51:16.705Z","updated":"2016-08-31T05:51:16.705Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cixkcopgk0000cwnngowxw6g0","content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"\">\n</script>\n\n</body>\n</html>\n","excerpt":"","more":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\"\n        charset=\"utf-8\" homePageUrl=\"your site url \"\n        homePageName=\"\">\n</script>\n\n</body>\n</html>\n"},{"title":"about","date":"2016-06-14T11:28:53.000Z","_content":"<!-- ## ABOUT ME -->\n\n## CONTACT\nEMAIL: <a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a>\n<!-- ![](/images/wechat.jpg) -->\n <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\" />\n","source":"about/index.md","raw":"---\ntitle: about\ndate: 2016-06-14 19:28:53\n---\n<!-- ## ABOUT ME -->\n\n## CONTACT\nEMAIL: <a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a>\n<!-- ![](/images/wechat.jpg) -->\n <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\" />\n","updated":"2016-11-03T02:31:37.955Z","path":"about/index.html","comments":1,"layout":"page","_id":"cixkcopji0002cwnnexqw5xz8","content":"<!-- ## ABOUT ME -->\n<h2 id=\"CONTACT\"><a href=\"#CONTACT\" class=\"headerlink\" title=\"CONTACT\"></a>CONTACT</h2><p>EMAIL: <a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a><br><!-- ![](/images/wechat.jpg) --><br> <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\"></p>\n","excerpt":"","more":"<!-- ## ABOUT ME -->\n<h2 id=\"CONTACT\"><a href=\"#CONTACT\" class=\"headerlink\" title=\"CONTACT\"></a>CONTACT</h2><p>EMAIL: <a href=\"mailto:changocean@163.com\" target=\"_self\">changocean@163.com</a><br><!-- ![](/images/wechat.jpg) --><br> <img src=\"/images/wechat.jpg\" width=\"200px\" height=\"200px\" /></p>\n"},{"title":"categories","date":"2016-06-14T11:28:21.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2016-06-14 19:28:21\ntype: \"categories\"\n---\n","updated":"2016-11-03T02:31:37.960Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cixkcopjl0003cwnnva4fivah","content":"","excerpt":"","more":""},{"title":"tags","date":"2016-06-14T11:26:40.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-06-14 19:26:40\ntype: \"tags\"\n---\n","updated":"2016-08-31T05:51:17.527Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cixkcoppy0004cwnn8tw4kurf","content":"","excerpt":"","more":""},{"title":"schedule","date":"2016-11-02T09:01:59.000Z","updated":"2016-11-02T09:01:59.000Z","type":"schedule","_content":"","source":"schedule/index.md","raw":"---\ntitle: schedule\ndate: 2016-11-02 17:01:59\nupdated: 2016-11-02 17:01:59\ntype: \"schedule\"\n---\n","path":"schedule/index.html","comments":1,"layout":"page","_id":"cixkcopq00005cwnnkisdxwdr","content":"","excerpt":"","more":""}],"Post":[{"title":"","date":"2016-06-14T16:40:26.000Z","_content":"","source":"_drafts/xiaoshuoke.md","raw":"---\ntitle: \ndate: 2016-06-15 00:40:26\ntags:\ncategories:\n---\n","slug":"xiaoshuoke","published":0,"updated":"2017-01-04T05:17:10.891Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopjc0001cwnnf5h6rpfx","content":"","excerpt":"","more":""},{"title":"atom tutorial","date":"2014-08-27T07:58:41.000Z","updated":"2014-08-27T07:58:41.000Z","_content":"\n## how to use atom\n\n[atom-flight-manual](http://flight-manual.atom.io/using-atom/sections/atom-packages/)\n\n`Command Palette`  `init script` `Fuzy matching`,  s  `Application: Open Your Init Script` ......  `init script` \n<!-- more -->\n```coffeescript\n # move cursor across the ending symbols...\n EndingSymbolRegex = /\\s*[)}>\\]/'\";:=-]/\n atom.commands.add 'atom-text-editor', 'custom:jump-over-symbol': (event) ->\n   editor = atom.workspace.getActiveTextEditor()\n   cursorMoved = false\n   for cursor in editor.getCursors()\n     range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)\n     unless range.isEmpty()\n       cursor.setBufferPosition(range.end)\n       cursorMoved = true\n   event.abortKeyBinding() unless cursorMoved\n```\n\n  `Command Palette` `keymap``Application: Open Your keymap`   ......  Keymap \n\n```\n\"enter\": \"custom:jump-over-symbol\"\n```\n\n Command Palette reload `Window: Reload`,\n\n\n## atom Snippets\n snippets \nsetting->install  snippets  packages\n\n\n```\n// apmatom\napm install atom-yii2 //yii2snippetslaravelphp\n```\natomgithub\n\n[1]: https://atom.io/packages/snippets\n[2]: https://scotch.io/bar-talk/best-of-atom-features-plugins-acting-like-sublime-text\n\n\n\n## atom packages\nGOOGLE \n> favorite atom packages\n> most popular atom packages\n> must have packages for developer\n","source":"_posts/2014/atom-tutorial.md","raw":"---\ntitle: atom tutorial\ndate: 2014-08-27T15:58:41.000Z\nupdated: 2014-08-27T15:58:41.000Z\ntags: null\ncategories: null\n---\n\n## how to use atom\n\n[atom-flight-manual](http://flight-manual.atom.io/using-atom/sections/atom-packages/)\n\n`Command Palette`  `init script` `Fuzy matching`,  s  `Application: Open Your Init Script` ......  `init script` \n<!-- more -->\n```coffeescript\n # move cursor across the ending symbols...\n EndingSymbolRegex = /\\s*[)}>\\]/'\";:=-]/\n atom.commands.add 'atom-text-editor', 'custom:jump-over-symbol': (event) ->\n   editor = atom.workspace.getActiveTextEditor()\n   cursorMoved = false\n   for cursor in editor.getCursors()\n     range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)\n     unless range.isEmpty()\n       cursor.setBufferPosition(range.end)\n       cursorMoved = true\n   event.abortKeyBinding() unless cursorMoved\n```\n\n  `Command Palette` `keymap``Application: Open Your keymap`   ......  Keymap \n\n```\n\"enter\": \"custom:jump-over-symbol\"\n```\n\n Command Palette reload `Window: Reload`,\n\n\n## atom Snippets\n snippets \nsetting->install  snippets  packages\n\n\n```\n// apmatom\napm install atom-yii2 //yii2snippetslaravelphp\n```\natomgithub\n\n[1]: https://atom.io/packages/snippets\n[2]: https://scotch.io/bar-talk/best-of-atom-features-plugins-acting-like-sublime-text\n\n\n\n## atom packages\nGOOGLE \n> favorite atom packages\n> most popular atom packages\n> must have packages for developer\n","slug":"atom-tutorial","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoprd0006cwnn42x33fw2","content":"<h2 id=\"how-to-use-atom\"><a href=\"#how-to-use-atom\" class=\"headerlink\" title=\"how to use atom\"></a>how to use atom</h2><p><a href=\"http://flight-manual.atom.io/using-atom/sections/atom-packages/\" target=\"_blank\" rel=\"external\">atom-flight-manual</a></p>\n<p><code>Command Palette</code>  <code>init script</code> <code>Fuzy matching</code>,  s  <code>Application: Open Your Init Script</code>   <code>init script</code> <br><a id=\"more\"></a><br><figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># move cursor across the ending symbols...</span></span><br><span class=\"line\">EndingSymbolRegex = <span class=\"regexp\">/\\s*[)&#125;&gt;\\]/</span><span class=\"string\">'\";:=-]/</span><br><span class=\"line\">atom.commands.add '</span>atom-text-editor<span class=\"string\">', '</span>custom:jump-over-symbol<span class=\"string\">': (event) -&gt;</span><br><span class=\"line\">  editor = atom.workspace.getActiveTextEditor()</span><br><span class=\"line\">  cursorMoved = false</span><br><span class=\"line\">  for cursor in editor.getCursors()</span><br><span class=\"line\">    range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)</span><br><span class=\"line\">    unless range.isEmpty()</span><br><span class=\"line\">      cursor.setBufferPosition(range.end)</span><br><span class=\"line\">      cursorMoved = true</span><br><span class=\"line\">  event.abortKeyBinding() unless cursorMoved</span></span><br></pre></td></tr></table></figure></p>\n<p>  <code>Command Palette</code> <code>keymap</code><code>Application: Open Your keymap</code>     Keymap </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;enter&quot;: &quot;custom:jump-over-symbol&quot;</span><br></pre></td></tr></table></figure>\n<p> Command Palette reload <code>Window: Reload</code>,</p>\n<h2 id=\"atom-Snippets\"><a href=\"#atom-Snippets\" class=\"headerlink\" title=\"atom Snippets\"></a>atom Snippets</h2><p> snippets <br>setting-&gt;install  snippets  packages<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// apmatom</span><br><span class=\"line\">apm install atom-yii2 //yii2snippetslaravelphp</span><br></pre></td></tr></table></figure>\n<p>atomgithub</p>\n<h2 id=\"atom-packages\"><a href=\"#atom-packages\" class=\"headerlink\" title=\"atom packages\"></a>atom packages</h2><p>GOOGLE </p>\n<blockquote>\n<p>favorite atom packages<br>most popular atom packages<br>must have packages for developer</p>\n</blockquote>\n","excerpt":"<h2 id=\"how-to-use-atom\"><a href=\"#how-to-use-atom\" class=\"headerlink\" title=\"how to use atom\"></a>how to use atom</h2><p><a href=\"http://flight-manual.atom.io/using-atom/sections/atom-packages/\">atom-flight-manual</a></p>\n<p><code>Command Palette</code>  <code>init script</code> <code>Fuzy matching</code>,  s  <code>Application: Open Your Init Script</code>   <code>init script</code> <br>","more":"<br><figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># move cursor across the ending symbols...</span></span><br><span class=\"line\">EndingSymbolRegex = <span class=\"regexp\">/\\s*[)&#125;&gt;\\]/</span><span class=\"string\">'\";:=-]/</span><br><span class=\"line\">atom.commands.add '</span>atom-text-editor<span class=\"string\">', '</span>custom:jump-over-symbol<span class=\"string\">': (event) -&gt;</span><br><span class=\"line\">  editor = atom.workspace.getActiveTextEditor()</span><br><span class=\"line\">  cursorMoved = false</span><br><span class=\"line\">  for cursor in editor.getCursors()</span><br><span class=\"line\">    range = cursor.getCurrentWordBufferRange(wordRegex: EndingSymbolRegex)</span><br><span class=\"line\">    unless range.isEmpty()</span><br><span class=\"line\">      cursor.setBufferPosition(range.end)</span><br><span class=\"line\">      cursorMoved = true</span><br><span class=\"line\">  event.abortKeyBinding() unless cursorMoved</span></span><br></pre></td></tr></table></figure></p>\n<p>  <code>Command Palette</code> <code>keymap</code><code>Application: Open Your keymap</code>     Keymap </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;enter&quot;: &quot;custom:jump-over-symbol&quot;</span><br></pre></td></tr></table></figure>\n<p> Command Palette reload <code>Window: Reload</code>,</p>\n<h2 id=\"atom-Snippets\"><a href=\"#atom-Snippets\" class=\"headerlink\" title=\"atom Snippets\"></a>atom Snippets</h2><p> snippets <br>setting-&gt;install  snippets  packages<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// apmatom</span><br><span class=\"line\">apm install atom-yii2 //yii2snippetslaravelphp</span><br></pre></td></tr></table></figure>\n<p>atomgithub</p>\n<h2 id=\"atom-packages\"><a href=\"#atom-packages\" class=\"headerlink\" title=\"atom packages\"></a>atom packages</h2><p>GOOGLE </p>\n<blockquote>\n<p>favorite atom packages<br>most popular atom packages<br>must have packages for developer</p>\n</blockquote>"},{"title":"git-cheatsheet","date":"2014-09-02T03:49:51.000Z","updated":"2014-09-02T03:49:51.000Z","_content":"\n![GIT](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png)\n- Workspace\n- Index / Stage\n- Repository\n- Remote\n<!-- more -->\n\n### \n```bash\n# Git\n$ git init\n\n# Git\n$ git init [project-name]\n\n# \n$ git clone [url]\n```\n\n### \nGit.gitconfig\n```bash\n# Git\n$ git config --list\n\n# Git\n$ git config -e [--global]\n\n# \n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n```\n### /\n```bash\n# \n$ git add [file1] [file2] ...\n\n# \n$ git add [dir]\n\n# \n$ git add .\n\n# \n# \n$ git add -p\n\n# \n$ git rm [file1] [file2] ...\n\n# \n$ git rm --cached [file]\n\n# \n$ git mv [file-original] [file-renamed]\n```\n### \n```\n# \n$ git commit -m [message]\n\n# \n$ git commit [file1] [file2] ... -m [message]\n\n# commit\n$ git commit -a\n\n# diff\n$ git commit -v\n\n# commit\n# commit\n$ git commit --amend -m [message]\n\n# commit\n$ git commit --amend [file1] [file2] ...\n```\n\n### \n```\n# \n$ git branch\n\n# \n$ git branch -r\n\n# \n$ git branch -a\n\n# \n$ git branch [branch-name]\n\n# \n$ git checkout -b [branch]\n\n# commit\n$ git branch [branch] [commit]\n\n# \n$ git branch --track [branch] [remote-branch]\n\n# \n$ git checkout [branch-name]\n\n# \n$ git checkout -\n\n# \n$ git branch --set-upstream [branch] [remote-branch]\n\n# \n$ git merge [branch]\n\n# commit\n$ git cherry-pick [commit]\n\n# \n$ git branch -d [branch-name]\n\n# \n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n```\n\n### \n```\n# tag\n$ git tag\n\n# tagcommit\n$ git tag [tag]\n\n# tagcommit\n$ git tag [tag] [commit]\n\n# tag\n$ git tag -d [tag]\n\n# tag\n$ git push origin :refs/tags/[tagName]\n\n# tag\n$ git show [tag]\n\n# tag\n$ git push [remote] [tag]\n\n# tag\n$ git push [remote] --tags\n\n# tag\n$ git checkout -b [branch] [tag]\n```\n### \n\n```\n\t\n# \n$ git status\n\n# \n$ git log\n\n# commitcommit\n$ git log --stat\n\n# \n$ git log -S [keyword]\n\n# commitcommit\n$ git log [tag] HEAD --pretty=format:%s\n\n# commit\"\"\n$ git log [tag] HEAD --grep feature\n\n# \n$ git log --follow [file]\n$ git whatchanged [file]\n\n# diff\n$ git log -p [file]\n\n# 5\n$ git log -5 --pretty --oneline\n\n# \n$ git shortlog -sn\n\n# \n$ git blame [file]\n\n# \n$ git diff\n\n# commit\n$ git diff --cached [file]\n\n# commit\n$ git diff HEAD\n\n# \n$ git diff [first-branch]...[second-branch]\n\n# \n$ git diff --shortstat \"@{0 day ago}\"\n\n# \n$ git show [commit]\n\n# \n$ git show --name-only [commit]\n\n# \n$ git show [commit]:[filename]\n\n# \n$ git reflog\n```\n\n### \n```\n# \n$ git fetch [remote]\n\n# \n$ git remote -v\n\n# \n$ git remote show [remote]\n\n# \n$ git remote add [shortname] [url]\n\n# \n$ git pull [remote] [branch]\n\n# \n$ git push [remote] [branch]\n\n# \n$ git push [remote] --force\n\n# \n$ git push [remote] --all\n\n```\n### \n\n```\n# \n$ git checkout [file]\n\n# commit\n$ git checkout [commit] [file]\n\n# \n$ git checkout .\n\n# php\ngit checkout *.php\n\n# commit\n$ git reset [file]\n\n# commit\n$ git reset --hard\n\n# commit\n$ git reset [commit]\n\n# HEADcommitcommit\n$ git reset --hard [commit]\n\n# HEADcommit\n$ git reset --keep [commit]\n\n# commitcommit\n# \n$ git revert [commit]\n\n# \n$ git stash\n$ git stash pop\n```\n\n### \n```\n#\ngit archive\n\n```\n\n---\n\n### Git Basics\n- git init Initialize a repository\n- git status Show status of working tree\n- git add file.txt Start tracking file.txt\n- git add main.txt Stage modified file main.txt\n- git diff Show what's changed but not yet staged\n- git commit Commit changes\n- git commit -a Stage files and commit\n- git mv main.txt file.txt Rename main.txt to file.txt\n- git fetch develop Pull data from remote 'develop' without merging\n- git pull origin develop Fetch and merge branch 'develop' from origin\n- git clone url Create local copy of remote repository at 'url'\n\n### Branching\n- git branch Show current branches\n- git push origin master Push master branch to origin server\n- git branch -v Show last commit on all branches\n- git checkout master Switch to branch 'master'\n- git branch feature1 Create new branch called 'feature1'\n- git checkout -b feature2 Create branch 'feature2' and switch to it\n- git branch -d mybranch Delete branch 'mybranch'\n- git branch --merged Show branches already merged into current branch\n- git branch --no-merged Show branches not yet merged into current branch\n- git branch -D fix Force delete branch 'fix' that is not yet merged\n- git push origin feature1 Push local branch 'feature1' to origin\n- git push staging develop:master Push develop branch to remote staging master\n- git checkout -b fix1 origin/fix1 Create local branch 'fix1' based off origin branch\n- git checkout --track origin/fix2 Create tracking branch 'fix2' based off origin\n- git push origin :fix2 Delete remote branch 'fix2' from origin\n\n```\n### Merging / Rebasing\n- git mergetool Use graphical merge tool\n- git commit Finalize merge after resolving conflicts\n- git merge feature1 Merge branch 'feature1' with current branch\n- git add file.txt Mark file.txt as resolved after merge\n- git rebase develop Rebase changes made on current branch over develop\n- git rebase master develop Rebase master onto develop without checking it out\n- git rebase --onto master 1a 1b Rebase master onto branch 1b made from branch 1a\n### Remotes\n- git remote Show remote servers you have configured\n- git remote -v Show remote servers with URL displayed\n- git remote add myurl url Add remote server 'url' with shortname 'myurl'\n- git remote rename server1 server2 Rename remote 'server1' to 'server2'\n- git remote rm server1 Remove remote 'server1'\n- git remote show origin Show info about remote origin\n### Commit Logs\n- git log Show commit logs\n- git log -p -2 Show last two commits with diffs\n- git log --stat Show commit logs with stats\n- git log --pretty=oneline Show commit logs one per line\n- git log --graph Show commit logs with ascii graph\n- git log --since=1.week Show commit log for the last week\n- git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb\n### Undo / Change History\n- git rm --cached main.txt Remove main.txt from staging but keep in working\n- git commit --amend Replace last commit with whats in staging\n- git checkout -- file.txt Discard changes to file.txt\n- git reset HEAD file.txt Unstage file.txt\n- git commit --amend Modify last commit message\n- git rebase -i HEAD~3 Make changes to the last 3 commits\n### Using Tags\n- git tag Show available tags\n- git tag -a v3.0 Create annotated tag 'v3.0'\n- git show v3.0 Show info for tag v3.0\n- git tag -s v3.0 Create signed tag v3.0\n- git tag v2.1-lw Create lightweight tag v2.1\n- git tag -v v3.0 Verify signed tag v3.0\n- git tag -a v2.2 8feb Tag previous commit '8feb' as v2.2\n- git push origin v2.2 Push tag v2.2 to origin\n- git push origin --tags Push all local tags to origin\n### Using Stashes\n- git stash Stash changes without committing\n- git stash list Show stores stashes\n- git stash apply Reapply most recent stash\n- git stash apply stash@2 Reapply stash 2\n- git stash apply --index Reapply stashed changes along with staged changes\n- git stash drop stash@{2} Drop stash 2\n- git stash pop Apply most recent stash and drop from stack\n- git stash branch mybranch Create branch 'mybranch' from stash\n- git stash clear Delete all stashes\n- git diff --staged Show what's staged but not yet committed\n- git diff --check Check for whitespace errors before committing\n\n### Using Bisect\n- git bisect start Start binary search of commits to find bad commit\n- git bisect bad Mark current commit as broken during bisect\n- git bisect good v2.2 Mark v2.2 as last known good commit during bisect\n- git bisect good Mark current commit as good during bisect\n- git bisect reset Reset HEAD when finished with bisect\n- git bisect run test.sh Run 'test.sh' on each commit during bisect\n\n[](http://www.ruanyifeng.com/blog/2015/12/git-workflow.html)\n[](https://www.shortcutfoo.com/app/dojos/git/cheatsheet)","source":"_posts/2014/git-cheatsheet.md","raw":"---\ntitle: git-cheatsheet\ndate: 2014-09-02 11:49:51\nupdated: 2014-09-02 11:49:51\ntags:\n- git\ncategories:\n---\n\n![GIT](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png)\n- Workspace\n- Index / Stage\n- Repository\n- Remote\n<!-- more -->\n\n### \n```bash\n# Git\n$ git init\n\n# Git\n$ git init [project-name]\n\n# \n$ git clone [url]\n```\n\n### \nGit.gitconfig\n```bash\n# Git\n$ git config --list\n\n# Git\n$ git config -e [--global]\n\n# \n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n```\n### /\n```bash\n# \n$ git add [file1] [file2] ...\n\n# \n$ git add [dir]\n\n# \n$ git add .\n\n# \n# \n$ git add -p\n\n# \n$ git rm [file1] [file2] ...\n\n# \n$ git rm --cached [file]\n\n# \n$ git mv [file-original] [file-renamed]\n```\n### \n```\n# \n$ git commit -m [message]\n\n# \n$ git commit [file1] [file2] ... -m [message]\n\n# commit\n$ git commit -a\n\n# diff\n$ git commit -v\n\n# commit\n# commit\n$ git commit --amend -m [message]\n\n# commit\n$ git commit --amend [file1] [file2] ...\n```\n\n### \n```\n# \n$ git branch\n\n# \n$ git branch -r\n\n# \n$ git branch -a\n\n# \n$ git branch [branch-name]\n\n# \n$ git checkout -b [branch]\n\n# commit\n$ git branch [branch] [commit]\n\n# \n$ git branch --track [branch] [remote-branch]\n\n# \n$ git checkout [branch-name]\n\n# \n$ git checkout -\n\n# \n$ git branch --set-upstream [branch] [remote-branch]\n\n# \n$ git merge [branch]\n\n# commit\n$ git cherry-pick [commit]\n\n# \n$ git branch -d [branch-name]\n\n# \n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n```\n\n### \n```\n# tag\n$ git tag\n\n# tagcommit\n$ git tag [tag]\n\n# tagcommit\n$ git tag [tag] [commit]\n\n# tag\n$ git tag -d [tag]\n\n# tag\n$ git push origin :refs/tags/[tagName]\n\n# tag\n$ git show [tag]\n\n# tag\n$ git push [remote] [tag]\n\n# tag\n$ git push [remote] --tags\n\n# tag\n$ git checkout -b [branch] [tag]\n```\n### \n\n```\n\t\n# \n$ git status\n\n# \n$ git log\n\n# commitcommit\n$ git log --stat\n\n# \n$ git log -S [keyword]\n\n# commitcommit\n$ git log [tag] HEAD --pretty=format:%s\n\n# commit\"\"\n$ git log [tag] HEAD --grep feature\n\n# \n$ git log --follow [file]\n$ git whatchanged [file]\n\n# diff\n$ git log -p [file]\n\n# 5\n$ git log -5 --pretty --oneline\n\n# \n$ git shortlog -sn\n\n# \n$ git blame [file]\n\n# \n$ git diff\n\n# commit\n$ git diff --cached [file]\n\n# commit\n$ git diff HEAD\n\n# \n$ git diff [first-branch]...[second-branch]\n\n# \n$ git diff --shortstat \"@{0 day ago}\"\n\n# \n$ git show [commit]\n\n# \n$ git show --name-only [commit]\n\n# \n$ git show [commit]:[filename]\n\n# \n$ git reflog\n```\n\n### \n```\n# \n$ git fetch [remote]\n\n# \n$ git remote -v\n\n# \n$ git remote show [remote]\n\n# \n$ git remote add [shortname] [url]\n\n# \n$ git pull [remote] [branch]\n\n# \n$ git push [remote] [branch]\n\n# \n$ git push [remote] --force\n\n# \n$ git push [remote] --all\n\n```\n### \n\n```\n# \n$ git checkout [file]\n\n# commit\n$ git checkout [commit] [file]\n\n# \n$ git checkout .\n\n# php\ngit checkout *.php\n\n# commit\n$ git reset [file]\n\n# commit\n$ git reset --hard\n\n# commit\n$ git reset [commit]\n\n# HEADcommitcommit\n$ git reset --hard [commit]\n\n# HEADcommit\n$ git reset --keep [commit]\n\n# commitcommit\n# \n$ git revert [commit]\n\n# \n$ git stash\n$ git stash pop\n```\n\n### \n```\n#\ngit archive\n\n```\n\n---\n\n### Git Basics\n- git init Initialize a repository\n- git status Show status of working tree\n- git add file.txt Start tracking file.txt\n- git add main.txt Stage modified file main.txt\n- git diff Show what's changed but not yet staged\n- git commit Commit changes\n- git commit -a Stage files and commit\n- git mv main.txt file.txt Rename main.txt to file.txt\n- git fetch develop Pull data from remote 'develop' without merging\n- git pull origin develop Fetch and merge branch 'develop' from origin\n- git clone url Create local copy of remote repository at 'url'\n\n### Branching\n- git branch Show current branches\n- git push origin master Push master branch to origin server\n- git branch -v Show last commit on all branches\n- git checkout master Switch to branch 'master'\n- git branch feature1 Create new branch called 'feature1'\n- git checkout -b feature2 Create branch 'feature2' and switch to it\n- git branch -d mybranch Delete branch 'mybranch'\n- git branch --merged Show branches already merged into current branch\n- git branch --no-merged Show branches not yet merged into current branch\n- git branch -D fix Force delete branch 'fix' that is not yet merged\n- git push origin feature1 Push local branch 'feature1' to origin\n- git push staging develop:master Push develop branch to remote staging master\n- git checkout -b fix1 origin/fix1 Create local branch 'fix1' based off origin branch\n- git checkout --track origin/fix2 Create tracking branch 'fix2' based off origin\n- git push origin :fix2 Delete remote branch 'fix2' from origin\n\n```\n### Merging / Rebasing\n- git mergetool Use graphical merge tool\n- git commit Finalize merge after resolving conflicts\n- git merge feature1 Merge branch 'feature1' with current branch\n- git add file.txt Mark file.txt as resolved after merge\n- git rebase develop Rebase changes made on current branch over develop\n- git rebase master develop Rebase master onto develop without checking it out\n- git rebase --onto master 1a 1b Rebase master onto branch 1b made from branch 1a\n### Remotes\n- git remote Show remote servers you have configured\n- git remote -v Show remote servers with URL displayed\n- git remote add myurl url Add remote server 'url' with shortname 'myurl'\n- git remote rename server1 server2 Rename remote 'server1' to 'server2'\n- git remote rm server1 Remove remote 'server1'\n- git remote show origin Show info about remote origin\n### Commit Logs\n- git log Show commit logs\n- git log -p -2 Show last two commits with diffs\n- git log --stat Show commit logs with stats\n- git log --pretty=oneline Show commit logs one per line\n- git log --graph Show commit logs with ascii graph\n- git log --since=1.week Show commit log for the last week\n- git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb\n### Undo / Change History\n- git rm --cached main.txt Remove main.txt from staging but keep in working\n- git commit --amend Replace last commit with whats in staging\n- git checkout -- file.txt Discard changes to file.txt\n- git reset HEAD file.txt Unstage file.txt\n- git commit --amend Modify last commit message\n- git rebase -i HEAD~3 Make changes to the last 3 commits\n### Using Tags\n- git tag Show available tags\n- git tag -a v3.0 Create annotated tag 'v3.0'\n- git show v3.0 Show info for tag v3.0\n- git tag -s v3.0 Create signed tag v3.0\n- git tag v2.1-lw Create lightweight tag v2.1\n- git tag -v v3.0 Verify signed tag v3.0\n- git tag -a v2.2 8feb Tag previous commit '8feb' as v2.2\n- git push origin v2.2 Push tag v2.2 to origin\n- git push origin --tags Push all local tags to origin\n### Using Stashes\n- git stash Stash changes without committing\n- git stash list Show stores stashes\n- git stash apply Reapply most recent stash\n- git stash apply stash@2 Reapply stash 2\n- git stash apply --index Reapply stashed changes along with staged changes\n- git stash drop stash@{2} Drop stash 2\n- git stash pop Apply most recent stash and drop from stack\n- git stash branch mybranch Create branch 'mybranch' from stash\n- git stash clear Delete all stashes\n- git diff --staged Show what's staged but not yet committed\n- git diff --check Check for whitespace errors before committing\n\n### Using Bisect\n- git bisect start Start binary search of commits to find bad commit\n- git bisect bad Mark current commit as broken during bisect\n- git bisect good v2.2 Mark v2.2 as last known good commit during bisect\n- git bisect good Mark current commit as good during bisect\n- git bisect reset Reset HEAD when finished with bisect\n- git bisect run test.sh Run 'test.sh' on each commit during bisect\n\n[](http://www.ruanyifeng.com/blog/2015/12/git-workflow.html)\n[](https://www.shortcutfoo.com/app/dojos/git/cheatsheet)","slug":"git-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoprh0007cwnncvh4n6qq","content":"<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png\" alt=\"GIT\"></p>\n<ul>\n<li>Workspace</li>\n<li>Index / Stage</li>\n<li>Repository</li>\n<li>Remote<a id=\"more\"></a>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git <span class=\"built_in\">clone</span> [url]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Git.gitconfig<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config <span class=\"_\">-e</span> [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git config [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git config [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git branch</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -r</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -a</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -b [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git branch [branch] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --track [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git merge [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git cherry-pick [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -d [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push origin --delete [branch-name]</span><br><span class=\"line\">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag -d [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git show [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log --stat</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log [tag] HEAD --pretty=format:%s</span><br><span class=\"line\"></span><br><span class=\"line\"># commit&quot;&quot;</span><br><span class=\"line\">$ git log [tag] HEAD --grep feature</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log --follow [file]</span><br><span class=\"line\">$ git whatchanged [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git log -p [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">$ git log -5 --pretty --oneline</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git blame [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff [first-branch]...[second-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show --name-only [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git checkout [commit] [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># php</span><br><span class=\"line\">git checkout *.php</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset --hard</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommitcommit</span><br><span class=\"line\">$ git reset --hard [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommit</span><br><span class=\"line\">$ git reset --keep [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git revert [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#</span><br><span class=\"line\">git archive</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Git-Basics\"><a href=\"#Git-Basics\" class=\"headerlink\" title=\"Git Basics\"></a>Git Basics</h3><ul>\n<li>git init Initialize a repository</li>\n<li>git status Show status of working tree</li>\n<li>git add file.txt Start tracking file.txt</li>\n<li>git add main.txt Stage modified file main.txt</li>\n<li>git diff Show whats changed but not yet staged</li>\n<li>git commit Commit changes</li>\n<li>git commit -a Stage files and commit</li>\n<li>git mv main.txt file.txt Rename main.txt to file.txt</li>\n<li>git fetch develop Pull data from remote develop without merging</li>\n<li>git pull origin develop Fetch and merge branch develop from origin</li>\n<li>git clone url Create local copy of remote repository at url</li>\n</ul>\n<h3 id=\"Branching\"><a href=\"#Branching\" class=\"headerlink\" title=\"Branching\"></a>Branching</h3><ul>\n<li>git branch Show current branches</li>\n<li>git push origin master Push master branch to origin server</li>\n<li>git branch -v Show last commit on all branches</li>\n<li>git checkout master Switch to branch master</li>\n<li>git branch feature1 Create new branch called feature1</li>\n<li>git checkout -b feature2 Create branch feature2 and switch to it</li>\n<li>git branch -d mybranch Delete branch mybranch</li>\n<li>git branch merged Show branches already merged into current branch</li>\n<li>git branch no-merged Show branches not yet merged into current branch</li>\n<li>git branch -D fix Force delete branch fix that is not yet merged</li>\n<li>git push origin feature1 Push local branch feature1 to origin</li>\n<li>git push staging develop:master Push develop branch to remote staging master</li>\n<li>git checkout -b fix1 origin/fix1 Create local branch fix1 based off origin branch</li>\n<li>git checkout track origin/fix2 Create tracking branch fix2 based off origin</li>\n<li>git push origin :fix2 Delete remote branch fix2 from origin</li>\n</ul>\n<p>```</p>\n<h3 id=\"Merging-Rebasing\"><a href=\"#Merging-Rebasing\" class=\"headerlink\" title=\"Merging / Rebasing\"></a>Merging / Rebasing</h3><ul>\n<li>git mergetool Use graphical merge tool</li>\n<li>git commit Finalize merge after resolving conflicts</li>\n<li>git merge feature1 Merge branch feature1 with current branch</li>\n<li>git add file.txt Mark file.txt as resolved after merge</li>\n<li>git rebase develop Rebase changes made on current branch over develop</li>\n<li>git rebase master develop Rebase master onto develop without checking it out</li>\n<li>git rebase onto master 1a 1b Rebase master onto branch 1b made from branch 1a<h3 id=\"Remotes\"><a href=\"#Remotes\" class=\"headerlink\" title=\"Remotes\"></a>Remotes</h3></li>\n<li>git remote Show remote servers you have configured</li>\n<li>git remote -v Show remote servers with URL displayed</li>\n<li>git remote add myurl url Add remote server url with shortname myurl</li>\n<li>git remote rename server1 server2 Rename remote server1 to server2</li>\n<li>git remote rm server1 Remove remote server1</li>\n<li>git remote show origin Show info about remote origin<h3 id=\"Commit-Logs\"><a href=\"#Commit-Logs\" class=\"headerlink\" title=\"Commit Logs\"></a>Commit Logs</h3></li>\n<li>git log Show commit logs</li>\n<li>git log -p -2 Show last two commits with diffs</li>\n<li>git log stat Show commit logs with stats</li>\n<li>git log pretty=oneline Show commit logs one per line</li>\n<li>git log graph Show commit logs with ascii graph</li>\n<li>git log since=1.week Show commit log for the last week</li>\n<li>git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb<h3 id=\"Undo-Change-History\"><a href=\"#Undo-Change-History\" class=\"headerlink\" title=\"Undo / Change History\"></a>Undo / Change History</h3></li>\n<li>git rm cached main.txt Remove main.txt from staging but keep in working</li>\n<li>git commit amend Replace last commit with whats in staging</li>\n<li>git checkout  file.txt Discard changes to file.txt</li>\n<li>git reset HEAD file.txt Unstage file.txt</li>\n<li>git commit amend Modify last commit message</li>\n<li>git rebase -i HEAD~3 Make changes to the last 3 commits<h3 id=\"Using-Tags\"><a href=\"#Using-Tags\" class=\"headerlink\" title=\"Using Tags\"></a>Using Tags</h3></li>\n<li>git tag Show available tags</li>\n<li>git tag -a v3.0 Create annotated tag v3.0</li>\n<li>git show v3.0 Show info for tag v3.0</li>\n<li>git tag -s v3.0 Create signed tag v3.0</li>\n<li>git tag v2.1-lw Create lightweight tag v2.1</li>\n<li>git tag -v v3.0 Verify signed tag v3.0</li>\n<li>git tag -a v2.2 8feb Tag previous commit 8feb as v2.2</li>\n<li>git push origin v2.2 Push tag v2.2 to origin</li>\n<li>git push origin tags Push all local tags to origin<h3 id=\"Using-Stashes\"><a href=\"#Using-Stashes\" class=\"headerlink\" title=\"Using Stashes\"></a>Using Stashes</h3></li>\n<li>git stash Stash changes without committing</li>\n<li>git stash list Show stores stashes</li>\n<li>git stash apply Reapply most recent stash</li>\n<li>git stash apply stash@2 Reapply stash 2</li>\n<li>git stash apply index Reapply stashed changes along with staged changes</li>\n<li>git stash drop stash@{2} Drop stash 2</li>\n<li>git stash pop Apply most recent stash and drop from stack</li>\n<li>git stash branch mybranch Create branch mybranch from stash</li>\n<li>git stash clear Delete all stashes</li>\n<li>git diff staged Show whats staged but not yet committed</li>\n<li>git diff check Check for whitespace errors before committing</li>\n</ul>\n<h3 id=\"Using-Bisect\"><a href=\"#Using-Bisect\" class=\"headerlink\" title=\"Using Bisect\"></a>Using Bisect</h3><ul>\n<li>git bisect start Start binary search of commits to find bad commit</li>\n<li>git bisect bad Mark current commit as broken during bisect</li>\n<li>git bisect good v2.2 Mark v2.2 as last known good commit during bisect</li>\n<li>git bisect good Mark current commit as good during bisect</li>\n<li>git bisect reset Reset HEAD when finished with bisect</li>\n<li>git bisect run test.sh Run test.sh on each commit during bisect</li>\n</ul>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/12/git-workflow.html\" target=\"_blank\" rel=\"external\"></a><br><a href=\"https://www.shortcutfoo.com/app/dojos/git/cheatsheet\" target=\"_blank\" rel=\"external\"></a></p>\n","excerpt":"<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png\" alt=\"GIT\"></p>\n<ul>\n<li>Workspace</li>\n<li>Index / Stage</li>\n<li>Repository</li>\n<li>Remote","more":"</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git <span class=\"built_in\">clone</span> [url]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Git.gitconfig<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Git</span></span><br><span class=\"line\">$ git config <span class=\"_\">-e</span> [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git config [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git config [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git branch</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -r</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -a</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -b [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git branch [branch] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --track [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout -</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git merge [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git cherry-pick [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git branch -d [branch-name]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push origin --delete [branch-name]</span><br><span class=\"line\">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tagcommit</span><br><span class=\"line\">$ git tag [tag] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git tag -d [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git show [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] [tag]</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"># tag</span><br><span class=\"line\">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log --stat</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\">$ git log [tag] HEAD --pretty=format:%s</span><br><span class=\"line\"></span><br><span class=\"line\"># commit&quot;&quot;</span><br><span class=\"line\">$ git log [tag] HEAD --grep feature</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git log --follow [file]</span><br><span class=\"line\">$ git whatchanged [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># diff</span><br><span class=\"line\">$ git log -p [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">$ git log -5 --pretty --oneline</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git blame [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff [first-branch]...[second-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show --name-only [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git checkout [commit] [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># php</span><br><span class=\"line\">git checkout *.php</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset --hard</span><br><span class=\"line\"></span><br><span class=\"line\"># commit</span><br><span class=\"line\">$ git reset [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommitcommit</span><br><span class=\"line\">$ git reset --hard [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># HEADcommit</span><br><span class=\"line\">$ git reset --keep [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># commitcommit</span><br><span class=\"line\"># </span><br><span class=\"line\">$ git revert [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#</span><br><span class=\"line\">git archive</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Git-Basics\"><a href=\"#Git-Basics\" class=\"headerlink\" title=\"Git Basics\"></a>Git Basics</h3><ul>\n<li>git init Initialize a repository</li>\n<li>git status Show status of working tree</li>\n<li>git add file.txt Start tracking file.txt</li>\n<li>git add main.txt Stage modified file main.txt</li>\n<li>git diff Show whats changed but not yet staged</li>\n<li>git commit Commit changes</li>\n<li>git commit -a Stage files and commit</li>\n<li>git mv main.txt file.txt Rename main.txt to file.txt</li>\n<li>git fetch develop Pull data from remote develop without merging</li>\n<li>git pull origin develop Fetch and merge branch develop from origin</li>\n<li>git clone url Create local copy of remote repository at url</li>\n</ul>\n<h3 id=\"Branching\"><a href=\"#Branching\" class=\"headerlink\" title=\"Branching\"></a>Branching</h3><ul>\n<li>git branch Show current branches</li>\n<li>git push origin master Push master branch to origin server</li>\n<li>git branch -v Show last commit on all branches</li>\n<li>git checkout master Switch to branch master</li>\n<li>git branch feature1 Create new branch called feature1</li>\n<li>git checkout -b feature2 Create branch feature2 and switch to it</li>\n<li>git branch -d mybranch Delete branch mybranch</li>\n<li>git branch merged Show branches already merged into current branch</li>\n<li>git branch no-merged Show branches not yet merged into current branch</li>\n<li>git branch -D fix Force delete branch fix that is not yet merged</li>\n<li>git push origin feature1 Push local branch feature1 to origin</li>\n<li>git push staging develop:master Push develop branch to remote staging master</li>\n<li>git checkout -b fix1 origin/fix1 Create local branch fix1 based off origin branch</li>\n<li>git checkout track origin/fix2 Create tracking branch fix2 based off origin</li>\n<li>git push origin :fix2 Delete remote branch fix2 from origin</li>\n</ul>\n<p>```</p>\n<h3 id=\"Merging-Rebasing\"><a href=\"#Merging-Rebasing\" class=\"headerlink\" title=\"Merging / Rebasing\"></a>Merging / Rebasing</h3><ul>\n<li>git mergetool Use graphical merge tool</li>\n<li>git commit Finalize merge after resolving conflicts</li>\n<li>git merge feature1 Merge branch feature1 with current branch</li>\n<li>git add file.txt Mark file.txt as resolved after merge</li>\n<li>git rebase develop Rebase changes made on current branch over develop</li>\n<li>git rebase master develop Rebase master onto develop without checking it out</li>\n<li>git rebase onto master 1a 1b Rebase master onto branch 1b made from branch 1a<h3 id=\"Remotes\"><a href=\"#Remotes\" class=\"headerlink\" title=\"Remotes\"></a>Remotes</h3></li>\n<li>git remote Show remote servers you have configured</li>\n<li>git remote -v Show remote servers with URL displayed</li>\n<li>git remote add myurl url Add remote server url with shortname myurl</li>\n<li>git remote rename server1 server2 Rename remote server1 to server2</li>\n<li>git remote rm server1 Remove remote server1</li>\n<li>git remote show origin Show info about remote origin<h3 id=\"Commit-Logs\"><a href=\"#Commit-Logs\" class=\"headerlink\" title=\"Commit Logs\"></a>Commit Logs</h3></li>\n<li>git log Show commit logs</li>\n<li>git log -p -2 Show last two commits with diffs</li>\n<li>git log stat Show commit logs with stats</li>\n<li>git log pretty=oneline Show commit logs one per line</li>\n<li>git log graph Show commit logs with ascii graph</li>\n<li>git log since=1.week Show commit log for the last week</li>\n<li>git blame -L 10,15 file.rb Show prev commits for each lines 10-15 of file.rb<h3 id=\"Undo-Change-History\"><a href=\"#Undo-Change-History\" class=\"headerlink\" title=\"Undo / Change History\"></a>Undo / Change History</h3></li>\n<li>git rm cached main.txt Remove main.txt from staging but keep in working</li>\n<li>git commit amend Replace last commit with whats in staging</li>\n<li>git checkout  file.txt Discard changes to file.txt</li>\n<li>git reset HEAD file.txt Unstage file.txt</li>\n<li>git commit amend Modify last commit message</li>\n<li>git rebase -i HEAD~3 Make changes to the last 3 commits<h3 id=\"Using-Tags\"><a href=\"#Using-Tags\" class=\"headerlink\" title=\"Using Tags\"></a>Using Tags</h3></li>\n<li>git tag Show available tags</li>\n<li>git tag -a v3.0 Create annotated tag v3.0</li>\n<li>git show v3.0 Show info for tag v3.0</li>\n<li>git tag -s v3.0 Create signed tag v3.0</li>\n<li>git tag v2.1-lw Create lightweight tag v2.1</li>\n<li>git tag -v v3.0 Verify signed tag v3.0</li>\n<li>git tag -a v2.2 8feb Tag previous commit 8feb as v2.2</li>\n<li>git push origin v2.2 Push tag v2.2 to origin</li>\n<li>git push origin tags Push all local tags to origin<h3 id=\"Using-Stashes\"><a href=\"#Using-Stashes\" class=\"headerlink\" title=\"Using Stashes\"></a>Using Stashes</h3></li>\n<li>git stash Stash changes without committing</li>\n<li>git stash list Show stores stashes</li>\n<li>git stash apply Reapply most recent stash</li>\n<li>git stash apply stash@2 Reapply stash 2</li>\n<li>git stash apply index Reapply stashed changes along with staged changes</li>\n<li>git stash drop stash@{2} Drop stash 2</li>\n<li>git stash pop Apply most recent stash and drop from stack</li>\n<li>git stash branch mybranch Create branch mybranch from stash</li>\n<li>git stash clear Delete all stashes</li>\n<li>git diff staged Show whats staged but not yet committed</li>\n<li>git diff check Check for whitespace errors before committing</li>\n</ul>\n<h3 id=\"Using-Bisect\"><a href=\"#Using-Bisect\" class=\"headerlink\" title=\"Using Bisect\"></a>Using Bisect</h3><ul>\n<li>git bisect start Start binary search of commits to find bad commit</li>\n<li>git bisect bad Mark current commit as broken during bisect</li>\n<li>git bisect good v2.2 Mark v2.2 as last known good commit during bisect</li>\n<li>git bisect good Mark current commit as good during bisect</li>\n<li>git bisect reset Reset HEAD when finished with bisect</li>\n<li>git bisect run test.sh Run test.sh on each commit during bisect</li>\n</ul>\n<p><a href=\"http://www.ruanyifeng.com/blog/2015/12/git-workflow.html\"></a><br><a href=\"https://www.shortcutfoo.com/app/dojos/git/cheatsheet\"></a></p>"},{"title":"","date":"2014-12-14T15:49:37.000Z","_content":"\n# \n\n## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> 20\n\n <!-- more -->\n\n# 10\n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n8. \n9. \n10. \n\n> [TED](http://www.bilibili.com/video/av1911047/)\n","source":"_posts/2014/fast-learning-way.md","raw":"---\ntitle: \ntags:\n  - \ndate: 2014-12-14T23:49:37.000Z\ncategories: \n---\n\n# \n\n## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> \n\n> ## \n\n> 20\n\n <!-- more -->\n\n# 10\n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n8. \n9. \n10. \n\n> [TED](http://www.bilibili.com/video/av1911047/)\n","slug":"fast-learning-way","published":1,"updated":"2017-01-04T03:49:24.873Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoprj0008cwnn0nwwsiz0","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20</p>\n</blockquote>\n<p> <a id=\"more\"></a></p>\n<h1 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h1><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p><a href=\"http://www.bilibili.com/video/av1911047/\" target=\"_blank\" rel=\"external\">TED</a></p>\n</blockquote>\n","excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20</p>\n</blockquote>\n<p>","more":"</p>\n<h1 id=\"10\"><a href=\"#10\" class=\"headerlink\" title=\"10\"></a>10</h1><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p><a href=\"http://www.bilibili.com/video/av1911047/\">TED</a></p>\n</blockquote>"},{"title":"hexo tutorial","date":"2014-08-17T11:08:34.000Z","_content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n# Quick Start\n\n## Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n$ hexo new article\n$ hexo new page tags\n$ hexo new page tags\n```\n<!-- more -->\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n## Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n## Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n## Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n# \n\n## \n\n```bash\n    //nvm,nvmnodejs\n    curl https://raw.github.com/creationix/nvm/master/install.sh | sh\n    //nodejs 44.4.5npm\n    nvm install 4\n\n    //hexo\n    npm install -g hexo-cli\n    //npm\n    npm install -g cnpm --registry=https://registry.npm.taobao.org\n    //,cnpm \n    cnpm install -g hexo-cli\n```\n\n## \n\n```bash\n    hexo new \"postName\" #\n    hexo new page \"pageName\" #\n    hexo new draft \"postname\" #\n     hexo generate #public\n    hexo server #4000'ctrl + c'server\n    hexo deploy #.deployGitHub\n    hexo help  # \n    hexo version  #Hexo\n    hexo publish [layout] postname # \n\n    //git\n    npm install hexo-deployer-git --save\n\n    hexo deploy -g  #\n    hexo server -g  #\n```\n\n## Layout\n\nLayout | Path\n------ | -------------\npost   | source/_posts\npage   | source\ndraft  | source/_draft\n\n## Scaffolds()\n\n> scaffolds\n\nPlaceholder | Description\n----------- | -----------------\nlayout      | Layout\ntitle       | Title\ndate        | File created date\n\n## \n\n```bash\n    hexo clean\n    hexo generate\n    hexo deploy\n```\n\n\n\n```bash\n    deploy:\n    type: git\n    repository: git@github.com:changyuan/changyuan.github.io.git\n    branch: master\n```\n\n> ==ssh-keygen -t rsa -C \"admin@example.com\"== ==Settings->Deploy keys==\n\n## \n\n```bash\n    hexo g #\n    hexo s #\n    #\n    hexo s -g\n```\n\n## \n\n```bash\n    hexo n == hexo new\n    hexo g == hexo generate\n    hexo s == hexo server\n    hexo d == hexo deploy\n```\n\n> webgithubgh-pagesgh-pagesgithubweb\n\n## Tag Plugins \n\n### Block Quote\n\n{% blockquote ,  %} Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  {% endblockquote %}\n\n--------------------------------------------------------------------------------\n\n{% blockquote Seth Godin <http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html> Welcome to Island Marketing %} Every interaction is both precious and an opportunity to delight. {% endblockquote %}\n\n### Code Block\n\n{% codeblock %} alert {% endcodeblock %}\n\n{% codeblock lang:objc %} [rectangle setX: 10 y: 10 width: 20 height: 20]; {% endcodeblock %}\n\n{% codeblock Array.map %} array.map(callback[, thisArg]) {% endcodeblock %}\n\n{% codeblock _.compact <http://underscorejs.org/#compact> Underscore.js %}_ .compact([0, 1, false, 2, '', 3]); => [1, 2, 3] {% endcodeblock %}\n\n- [1](http://blog.fens.me/hexo-blog-github/)\n- [2](https://hexo.io/docs/writing.html)\n","source":"_posts/2014/hexo-tutorial.md","raw":"---\ntitle: hexo tutorial\ndate: 2014-08-17T19:08:34.000Z\ntags:\n  - hexo\n  - next\ncategories: \n---\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n# Quick Start\n\n## Create a new post\n\n```bash\n$ hexo new \"My New Post\"\n$ hexo new article\n$ hexo new page tags\n$ hexo new page tags\n```\n<!-- more -->\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n## Run server\n\n```bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n## Generate static files\n\n```bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n## Deploy to remote sites\n\n```bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n# \n\n## \n\n```bash\n    //nvm,nvmnodejs\n    curl https://raw.github.com/creationix/nvm/master/install.sh | sh\n    //nodejs 44.4.5npm\n    nvm install 4\n\n    //hexo\n    npm install -g hexo-cli\n    //npm\n    npm install -g cnpm --registry=https://registry.npm.taobao.org\n    //,cnpm \n    cnpm install -g hexo-cli\n```\n\n## \n\n```bash\n    hexo new \"postName\" #\n    hexo new page \"pageName\" #\n    hexo new draft \"postname\" #\n     hexo generate #public\n    hexo server #4000'ctrl + c'server\n    hexo deploy #.deployGitHub\n    hexo help  # \n    hexo version  #Hexo\n    hexo publish [layout] postname # \n\n    //git\n    npm install hexo-deployer-git --save\n\n    hexo deploy -g  #\n    hexo server -g  #\n```\n\n## Layout\n\nLayout | Path\n------ | -------------\npost   | source/_posts\npage   | source\ndraft  | source/_draft\n\n## Scaffolds()\n\n> scaffolds\n\nPlaceholder | Description\n----------- | -----------------\nlayout      | Layout\ntitle       | Title\ndate        | File created date\n\n## \n\n```bash\n    hexo clean\n    hexo generate\n    hexo deploy\n```\n\n\n\n```bash\n    deploy:\n    type: git\n    repository: git@github.com:changyuan/changyuan.github.io.git\n    branch: master\n```\n\n> ==ssh-keygen -t rsa -C \"admin@example.com\"== ==Settings->Deploy keys==\n\n## \n\n```bash\n    hexo g #\n    hexo s #\n    #\n    hexo s -g\n```\n\n## \n\n```bash\n    hexo n == hexo new\n    hexo g == hexo generate\n    hexo s == hexo server\n    hexo d == hexo deploy\n```\n\n> webgithubgh-pagesgh-pagesgithubweb\n\n## Tag Plugins \n\n### Block Quote\n\n{% blockquote ,  %} Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  {% endblockquote %}\n\n--------------------------------------------------------------------------------\n\n{% blockquote Seth Godin <http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html> Welcome to Island Marketing %} Every interaction is both precious and an opportunity to delight. {% endblockquote %}\n\n### Code Block\n\n{% codeblock %} alert {% endcodeblock %}\n\n{% codeblock lang:objc %} [rectangle setX: 10 y: 10 width: 20 height: 20]; {% endcodeblock %}\n\n{% codeblock Array.map %} array.map(callback[, thisArg]) {% endcodeblock %}\n\n{% codeblock _.compact <http://underscorejs.org/#compact> Underscore.js %}_ .compact([0, 1, false, 2, '', 3]); => [1, 2, 3] {% endcodeblock %}\n\n- [1](http://blog.fens.me/hexo-blog-github/)\n- [2](https://hexo.io/docs/writing.html)\n","slug":"hexo-tutorial","published":1,"updated":"2017-01-04T03:53:39.551Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopru000acwnnthqixtd1","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h1 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h1><h2 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new article</span><br><span class=\"line\">$ hexo new page tags</span><br><span class=\"line\">$ hexo new page tags</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h2 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h2 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h2 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//nvm,nvmnodejs</span><br><span class=\"line\">curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class=\"line\">//nodejs 44.4.5npm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\"></span><br><span class=\"line\">//hexo</span><br><span class=\"line\">npm install -g hexo-cli</span><br><span class=\"line\">//npm</span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">//,cnpm </span><br><span class=\"line\">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new page <span class=\"string\">\"pageName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new draft <span class=\"string\">\"postname\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\"> hexo generate <span class=\"comment\">#public</span></span><br><span class=\"line\">hexo server <span class=\"comment\">#4000'ctrl + c'server</span></span><br><span class=\"line\">hexo deploy <span class=\"comment\">#.deployGitHub</span></span><br><span class=\"line\">hexo <span class=\"built_in\">help</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">hexo version  <span class=\"comment\">#Hexo</span></span><br><span class=\"line\">hexo publish [layout] postname <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">//git</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\"></span><br><span class=\"line\">hexo deploy -g  <span class=\"comment\">#</span></span><br><span class=\"line\">hexo server -g  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Layout\"><a href=\"#Layout\" class=\"headerlink\" title=\"Layout\"></a>Layout</h2><table>\n<thead>\n<tr>\n<th>Layout</th>\n<th>Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>post</td>\n<td>source/_posts</td>\n</tr>\n<tr>\n<td>page</td>\n<td>source</td>\n</tr>\n<tr>\n<td>draft</td>\n<td>source/_draft</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Scaffolds--\"><a href=\"#Scaffolds--\" class=\"headerlink\" title=\"Scaffolds()\"></a>Scaffolds()</h2><blockquote>\n<p>scaffolds</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Placeholder</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>layout</td>\n<td>Layout</td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title</td>\n</tr>\n<tr>\n<td>date</td>\n<td>File created date</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\"><span class=\"built_in\">type</span>: git</span><br><span class=\"line\">repository: git@github.com:changyuan/changyuan.github.io.git</span><br><span class=\"line\">branch: master</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==ssh-keygen -t rsa -C admin@example.com== ==Settings-&gt;Deploy keys==</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g <span class=\"comment\">#</span></span><br><span class=\"line\">hexo s <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n == hexo new</span><br><span class=\"line\">hexo g == hexo generate</span><br><span class=\"line\">hexo s == hexo server</span><br><span class=\"line\">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>webgithubgh-pagesgh-pagesgithubweb</p>\n</blockquote>\n<h2 id=\"Tag-Plugins-\"><a href=\"#Tag-Plugins-\" class=\"headerlink\" title=\"Tag Plugins \"></a>Tag Plugins </h2><h3 id=\"Block-Quote\"><a href=\"#Block-Quote\" class=\"headerlink\" title=\"Block Quote\"></a>Block Quote</h3><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  </p>\n<footer><strong></strong><cite></cite></footer></blockquote>\n\n--------------------------------------------------------------------------------\n\n<blockquote><p>Every interaction is both precious and an opportunity to delight. </p>\n<footer><strong>Seth Godin <http: 2009=\"\" sethgodin.typepad.com=\"\" seths_blog=\"\" 07=\"\" welcome-to-island-marketing.html=\"\"> Welcome to Island Marketing</http:></strong></footer></blockquote>\n<h3 id=\"Code-Block\"><a href=\"#Code-Block\" class=\"headerlink\" title=\"Code Block\"></a>Code Block</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[rectangle setX: <span class=\"number\">10</span> y: <span class=\"number\">10</span> width: <span class=\"number\">20</span> height: <span class=\"number\">20</span>]; </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>Array.map</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array.map(callback[, thisArg]) </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>_.compact <http: underscorejs.org=\"\" #compact=\"\"> Underscore.js</http:></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">_ .compact([0, 1, false, 2, &apos;&apos;, 3]); =&gt; [1, 2, 3] </span><br></pre></td></tr></table></figure>\n<ul>\n<li><a href=\"http://blog.fens.me/hexo-blog-github/\" target=\"_blank\" rel=\"external\">1</a></li>\n<li><a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">2</a></li>\n</ul>\n","excerpt":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h1 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h1><h2 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new article</span><br><span class=\"line\">$ hexo new page tags</span><br><span class=\"line\">$ hexo new page tags</span><br></pre></td></tr></table></figure>","more":"<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h2 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h2 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h2 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//nvm,nvmnodejs</span><br><span class=\"line\">curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class=\"line\">//nodejs 44.4.5npm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\"></span><br><span class=\"line\">//hexo</span><br><span class=\"line\">npm install -g hexo-cli</span><br><span class=\"line\">//npm</span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">//,cnpm </span><br><span class=\"line\">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new page <span class=\"string\">\"pageName\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\">hexo new draft <span class=\"string\">\"postname\"</span> <span class=\"comment\">#</span></span><br><span class=\"line\"> hexo generate <span class=\"comment\">#public</span></span><br><span class=\"line\">hexo server <span class=\"comment\">#4000'ctrl + c'server</span></span><br><span class=\"line\">hexo deploy <span class=\"comment\">#.deployGitHub</span></span><br><span class=\"line\">hexo <span class=\"built_in\">help</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">hexo version  <span class=\"comment\">#Hexo</span></span><br><span class=\"line\">hexo publish [layout] postname <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\">//git</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\"></span><br><span class=\"line\">hexo deploy -g  <span class=\"comment\">#</span></span><br><span class=\"line\">hexo server -g  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Layout\"><a href=\"#Layout\" class=\"headerlink\" title=\"Layout\"></a>Layout</h2><table>\n<thead>\n<tr>\n<th>Layout</th>\n<th>Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>post</td>\n<td>source/_posts</td>\n</tr>\n<tr>\n<td>page</td>\n<td>source</td>\n</tr>\n<tr>\n<td>draft</td>\n<td>source/_draft</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Scaffolds--\"><a href=\"#Scaffolds--\" class=\"headerlink\" title=\"Scaffolds()\"></a>Scaffolds()</h2><blockquote>\n<p>scaffolds</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Placeholder</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>layout</td>\n<td>Layout</td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title</td>\n</tr>\n<tr>\n<td>date</td>\n<td>File created date</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\"><span class=\"built_in\">type</span>: git</span><br><span class=\"line\">repository: git@github.com:changyuan/changyuan.github.io.git</span><br><span class=\"line\">branch: master</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>==ssh-keygen -t rsa -C admin@example.com== ==Settings-&gt;Deploy keys==</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g <span class=\"comment\">#</span></span><br><span class=\"line\">hexo s <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n == hexo new</span><br><span class=\"line\">hexo g == hexo generate</span><br><span class=\"line\">hexo s == hexo server</span><br><span class=\"line\">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>webgithubgh-pagesgh-pagesgithubweb</p>\n</blockquote>\n<h2 id=\"Tag-Plugins-\"><a href=\"#Tag-Plugins-\" class=\"headerlink\" title=\"Tag Plugins \"></a>Tag Plugins </h2><h3 id=\"Block-Quote\"><a href=\"#Block-Quote\" class=\"headerlink\" title=\"Block Quote\"></a>Block Quote</h3><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.  </p>\n<footer><strong></strong><cite></cite></footer></blockquote>\n\n--------------------------------------------------------------------------------\n\n<blockquote><p>Every interaction is both precious and an opportunity to delight. </p>\n<footer><strong>Seth Godin <http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html> Welcome to Island Marketing</strong></footer></blockquote>\n<h3 id=\"Code-Block\"><a href=\"#Code-Block\" class=\"headerlink\" title=\"Code Block\"></a>Code Block</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[rectangle setX: <span class=\"number\">10</span> y: <span class=\"number\">10</span> width: <span class=\"number\">20</span> height: <span class=\"number\">20</span>]; </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>Array.map</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">array.map(callback[, thisArg]) </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>_.compact <http://underscorejs.org/#compact> Underscore.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">_ .compact([0, 1, false, 2, &apos;&apos;, 3]); =&gt; [1, 2, 3] </span><br></pre></td></tr></table></figure>\n<ul>\n<li><a href=\"http://blog.fens.me/hexo-blog-github/\">1</a></li>\n<li><a href=\"https://hexo.io/docs/writing.html\">2</a></li>\n</ul>"},{"title":"HTTPS ","date":"2014-11-23T08:44:59.000Z","updated":"2014-11-23T08:44:59.000Z","_content":"\n [HTTP/2 ](http://www.ruanyifeng.com/blog/2016/08/http.html)  HTTPS \n\n HTTP/2  HTTPS HTTPS  TLS \n\n> - [HTTPS ](http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)\n- [ HTTPS ](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)\n-  [HTTPS ](http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html)\n- [HTTPS ](http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html)\n\n<!-- more -->\n HTTP  HTTPS \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png)\n\n## \n\nHTTPS\n\n\n \n> - [GoGetSSL](https://www.gogetssl.com/)\n- [SSLs.com](https://www.ssls.com/)\n- [SSLmate.com](https://sslmate.com/)\n\n\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png)\n\n> - ****Domain Validation\n- ****Company Validation\n- ****Extended Validation\n\n\n\n> - ****`foo.com``www.foo.com`\n- ****`*.foo.com``foo.com``www.foo.com`\n- ****`foo.com``bar.com`\n\n\n\nHTTPSEFF [Lets Encrypt](https://letsencrypt.org/)[](https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials)[](https://certbot.eff.org/)\n\n[SSL Certificate Check](https://tools.keycdn.com/ssl)\n\n## \n\n`/etc/ssl`Linux Web\n\n> - [](https://mozilla.github.io/server-side-tls/ssl-config-generator/)by Mozilla\n- [](https://github.com/SSLMate/tlsconfigguide/tree/master/templates)by SSLMate\n\n Lets Encrypt [Certbot](https://certbot.eff.org/)\n\n [SSL Labs Server Test](https://www.ssllabs.com/ssltest/analyze.html) \n\n\n## \n\n HTTP  HTTPS \n\n```html\n<script src=\"http://foo.com/jquery.js\"></script>\n```\n\n\n\n```html\n<!--  -->\n<script src=\"https://foo.com/jquery.js\"></script>\n\n<!--  -->\n<script src=\"//foo.com/jquery.js\"></script>\n```\n\n\n\n`rel=\"canonical\"`HTTPS\n\n```html\n<link rel=\"canonical\" href=\"https://foo.com/bar.html\" />\n```\n\n## 301\n\n Web  301  HTTP  HTTPS \n\n[Nginx ](https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom)\n\n```http\nserver {\n  listen 80;\n  server_name domain.com www.domain.com;\n  return 301 https://domain.com$request_uri;\n}\n```\n\n[Apache ](https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost)`.htaccess`\n\n```bash\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n```\n\n## \n\n\n\n### 5.1 HTTP Strict Transport Security (HSTS)\n\n`https://`3xxHTTPHTTPSHTTP\n\n\n\nHTTP HSTSHTTPS\n\n[](https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8)\n\n```http\nStrict-Transport-Security: max-age=31536000; includeSubDomains\n```\n\n\n\n> 131536000`example.com`HTTPHTTPS`http://www.example.com/``http``https``https://www.example.com/`\n> \n> 2`example.com`\n\nHSTS  SSL `HTTPS``HTTP`\n\nHTTPHSTS\n\n### 5.2 Cookie\n\n HTTPS Cookie\n\n`Set-Cookie``Secure`\n\n```http\nSet-Cookie: LSID=DQAAAKEaem_vYg; Secure\n```\n\n## \n\n- [How To Migrate To HTTPS](https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#), by Chris Palmer\n- [Complete Guide  How to Migrate from HTTP to HTTPS](https://www.keycdn.com/blog/http-to-https/), by KeyCDN\n- [What You Need to Know About Changing From Http to Https](http://smallbiztrends.com/2015/04/changing-from-http-to-https.html), by Matt Mansfield\n\n","source":"_posts/2014/https.md","raw":"---\ntitle: HTTPS \ndate: 2014-11-23 16:44:59\nupdated: 2014-11-23 16:44:59\ntags:\ncategories:\n---\n\n [HTTP/2 ](http://www.ruanyifeng.com/blog/2016/08/http.html)  HTTPS \n\n HTTP/2  HTTPS HTTPS  TLS \n\n> - [HTTPS ](http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)\n- [ HTTPS ](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)\n-  [HTTPS ](http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html)\n- [HTTPS ](http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html)\n\n<!-- more -->\n HTTP  HTTPS \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png)\n\n## \n\nHTTPS\n\n\n \n> - [GoGetSSL](https://www.gogetssl.com/)\n- [SSLs.com](https://www.ssls.com/)\n- [SSLmate.com](https://sslmate.com/)\n\n\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png)\n\n> - ****Domain Validation\n- ****Company Validation\n- ****Extended Validation\n\n\n\n> - ****`foo.com``www.foo.com`\n- ****`*.foo.com``foo.com``www.foo.com`\n- ****`foo.com``bar.com`\n\n\n\nHTTPSEFF [Lets Encrypt](https://letsencrypt.org/)[](https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials)[](https://certbot.eff.org/)\n\n[SSL Certificate Check](https://tools.keycdn.com/ssl)\n\n## \n\n`/etc/ssl`Linux Web\n\n> - [](https://mozilla.github.io/server-side-tls/ssl-config-generator/)by Mozilla\n- [](https://github.com/SSLMate/tlsconfigguide/tree/master/templates)by SSLMate\n\n Lets Encrypt [Certbot](https://certbot.eff.org/)\n\n [SSL Labs Server Test](https://www.ssllabs.com/ssltest/analyze.html) \n\n\n## \n\n HTTP  HTTPS \n\n```html\n<script src=\"http://foo.com/jquery.js\"></script>\n```\n\n\n\n```html\n<!--  -->\n<script src=\"https://foo.com/jquery.js\"></script>\n\n<!--  -->\n<script src=\"//foo.com/jquery.js\"></script>\n```\n\n\n\n`rel=\"canonical\"`HTTPS\n\n```html\n<link rel=\"canonical\" href=\"https://foo.com/bar.html\" />\n```\n\n## 301\n\n Web  301  HTTP  HTTPS \n\n[Nginx ](https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom)\n\n```http\nserver {\n  listen 80;\n  server_name domain.com www.domain.com;\n  return 301 https://domain.com$request_uri;\n}\n```\n\n[Apache ](https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost)`.htaccess`\n\n```bash\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n```\n\n## \n\n\n\n### 5.1 HTTP Strict Transport Security (HSTS)\n\n`https://`3xxHTTPHTTPSHTTP\n\n\n\nHTTP HSTSHTTPS\n\n[](https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8)\n\n```http\nStrict-Transport-Security: max-age=31536000; includeSubDomains\n```\n\n\n\n> 131536000`example.com`HTTPHTTPS`http://www.example.com/``http``https``https://www.example.com/`\n> \n> 2`example.com`\n\nHSTS  SSL `HTTPS``HTTP`\n\nHTTPHSTS\n\n### 5.2 Cookie\n\n HTTPS Cookie\n\n`Set-Cookie``Secure`\n\n```http\nSet-Cookie: LSID=DQAAAKEaem_vYg; Secure\n```\n\n## \n\n- [How To Migrate To HTTPS](https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#), by Chris Palmer\n- [Complete Guide  How to Migrate from HTTP to HTTPS](https://www.keycdn.com/blog/http-to-https/), by KeyCDN\n- [What You Need to Know About Changing From Http to Https](http://smallbiztrends.com/2015/04/changing-from-http-to-https.html), by Matt Mansfield\n\n","slug":"https","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoprw000bcwnn37kf1atv","content":"<p> <a href=\"http://www.ruanyifeng.com/blog/2016/08/http.html\" target=\"_blank\" rel=\"external\">HTTP/2 </a>  HTTPS </p>\n<p> HTTP/2  HTTPS HTTPS  TLS </p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html\" target=\"_blank\" rel=\"external\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html\" target=\"_blank\" rel=\"external\"> HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html\" target=\"_blank\" rel=\"external\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html\" target=\"_blank\" rel=\"external\">HTTPS </a></li>\n</ul>\n</blockquote>\n<a id=\"more\"></a>\n<p> HTTP  HTTPS </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTPS</p>\n<p></p>\n<blockquote>\n<ul>\n<li><a href=\"https://www.gogetssl.com/\" target=\"_blank\" rel=\"external\">GoGetSSL</a></li>\n<li><a href=\"https://www.ssls.com/\" target=\"_blank\" rel=\"external\">SSLs.com</a></li>\n<li><a href=\"https://sslmate.com/\" target=\"_blank\" rel=\"external\">SSLmate.com</a></li>\n</ul>\n</blockquote>\n<p></p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png\" alt=\"\"></p>\n<blockquote>\n<ul>\n<li><strong></strong>Domain Validation</li>\n<li><strong></strong>Company Validation</li>\n<li><strong></strong>Extended Validation</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<ul>\n<li><strong></strong><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>*.foo.com</code><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>foo.com</code><code>bar.com</code></li>\n</ul>\n</blockquote>\n<p></p>\n<p>HTTPSEFF <a href=\"https://letsencrypt.org/\" target=\"_blank\" rel=\"external\">Lets Encrypt</a><a href=\"https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials\" target=\"_blank\" rel=\"external\"></a><a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"external\"></a></p>\n<p><a href=\"https://tools.keycdn.com/ssl\" target=\"_blank\" rel=\"external\">SSL Certificate Check</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/ssl</code>Linux Web</p>\n<blockquote>\n<ul>\n<li><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\" target=\"_blank\" rel=\"external\"></a>by Mozilla</li>\n<li><a href=\"https://github.com/SSLMate/tlsconfigguide/tree/master/templates\" target=\"_blank\" rel=\"external\"></a>by SSLMate</li>\n</ul>\n</blockquote>\n<p> Lets Encrypt <a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"external\">Certbot</a></p>\n<p> <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" target=\"_blank\" rel=\"external\">SSL Labs Server Test</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> HTTP  HTTPS </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>rel=&quot;canonical&quot;</code>HTTPS</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"canonical\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://foo.com/bar.html\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"301\"><a href=\"#301\" class=\"headerlink\" title=\"301\"></a>301</h2><p> Web  301  HTTP  HTTPS </p>\n<p><a href=\"https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom\" target=\"_blank\" rel=\"external\">Nginx </a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 80;</span><br><span class=\"line\">  server_name domain.com www.domain.com;</span><br><span class=\"line\">  return 301 https://domain.com$request_uri;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost\" target=\"_blank\" rel=\"external\">Apache </a><code>.htaccess</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RewriteEngine On</span><br><span class=\"line\">RewriteCond %&#123;HTTPS&#125; off</span><br><span class=\"line\">RewriteRule (.*) https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125; [R=301,L]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"5-1-HTTP-Strict-Transport-Security-HSTS\"><a href=\"#5-1-HTTP-Strict-Transport-Security-HSTS\" class=\"headerlink\" title=\"5.1 HTTP Strict Transport Security (HSTS)\"></a>5.1 HTTP Strict Transport Security (HSTS)</h3><p><code>https://</code>3xxHTTPHTTPSHTTP</p>\n<p></p>\n<p>HTTP HSTSHTTPS</p>\n<p><a href=\"https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8\" target=\"_blank\" rel=\"external\"></a></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Strict-Transport-Security</span>: max-age=31536000; includeSubDomains</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>131536000<code>example.com</code>HTTPHTTPS<code>http://www.example.com/</code><code>http</code><code>https</code><code>https://www.example.com/</code></p>\n<p>2<code>example.com</code></p>\n</blockquote>\n<p>HSTS  SSL <code>HTTPS</code><code>HTTP</code></p>\n<p>HTTPHSTS</p>\n<h3 id=\"5-2-Cookie\"><a href=\"#5-2-Cookie\" class=\"headerlink\" title=\"5.2 Cookie\"></a>5.2 Cookie</h3><p> HTTPS Cookie</p>\n<p><code>Set-Cookie</code><code>Secure</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Set-Cookie</span>: LSID=DQAAAKEaem_vYg; Secure</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#\" target=\"_blank\" rel=\"external\">How To Migrate To HTTPS</a>, by Chris Palmer</li>\n<li><a href=\"https://www.keycdn.com/blog/http-to-https/\" target=\"_blank\" rel=\"external\">Complete Guide  How to Migrate from HTTP to HTTPS</a>, by KeyCDN</li>\n<li><a href=\"http://smallbiztrends.com/2015/04/changing-from-http-to-https.html\" target=\"_blank\" rel=\"external\">What You Need to Know About Changing From Http to Https</a>, by Matt Mansfield</li>\n</ul>\n<p></p>\n","excerpt":"<p> <a href=\"http://www.ruanyifeng.com/blog/2016/08/http.html\">HTTP/2 </a>  HTTPS </p>\n<p> HTTP/2  HTTPS HTTPS  TLS </p>\n<blockquote>\n<ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html\"> HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/02/seven_myths_about_https.html\">HTTPS </a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html\">HTTPS </a></li>\n</ul>\n</blockquote>","more":"<p> HTTP  HTTPS </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082601.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTPS</p>\n<p></p>\n<blockquote>\n<ul>\n<li><a href=\"https://www.gogetssl.com/\">GoGetSSL</a></li>\n<li><a href=\"https://www.ssls.com/\">SSLs.com</a></li>\n<li><a href=\"https://sslmate.com/\">SSLmate.com</a></li>\n</ul>\n</blockquote>\n<p></p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016082602.png\" alt=\"\"></p>\n<blockquote>\n<ul>\n<li><strong></strong>Domain Validation</li>\n<li><strong></strong>Company Validation</li>\n<li><strong></strong>Extended Validation</li>\n</ul>\n</blockquote>\n<p></p>\n<blockquote>\n<ul>\n<li><strong></strong><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>*.foo.com</code><code>foo.com</code><code>www.foo.com</code></li>\n<li><strong></strong><code>foo.com</code><code>bar.com</code></li>\n</ul>\n</blockquote>\n<p></p>\n<p>HTTPSEFF <a href=\"https://letsencrypt.org/\">Lets Encrypt</a><a href=\"https://www.digitalocean.com/community/tags/let-s-encrypt?type=tutorials\"></a><a href=\"https://certbot.eff.org/\"></a></p>\n<p><a href=\"https://tools.keycdn.com/ssl\">SSL Certificate Check</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/ssl</code>Linux Web</p>\n<blockquote>\n<ul>\n<li><a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\"></a>by Mozilla</li>\n<li><a href=\"https://github.com/SSLMate/tlsconfigguide/tree/master/templates\"></a>by SSLMate</li>\n</ul>\n</blockquote>\n<p> Lets Encrypt <a href=\"https://certbot.eff.org/\">Certbot</a></p>\n<p> <a href=\"https://www.ssllabs.com/ssltest/analyze.html\">SSL Labs Server Test</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> HTTP  HTTPS </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//foo.com/jquery.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<p><code>rel=&quot;canonical&quot;</code>HTTPS</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"canonical\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://foo.com/bar.html\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"301\"><a href=\"#301\" class=\"headerlink\" title=\"301\"></a>301</h2><p> Web  301  HTTP  HTTPS </p>\n<p><a href=\"https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom\">Nginx </a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 80;</span><br><span class=\"line\">  server_name domain.com www.domain.com;</span><br><span class=\"line\">  return 301 https://domain.com$request_uri;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost\">Apache </a><code>.htaccess</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RewriteEngine On</span><br><span class=\"line\">RewriteCond %&#123;HTTPS&#125; off</span><br><span class=\"line\">RewriteRule (.*) https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125; [R=301,L]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"5-1-HTTP-Strict-Transport-Security-HSTS\"><a href=\"#5-1-HTTP-Strict-Transport-Security-HSTS\" class=\"headerlink\" title=\"5.1 HTTP Strict Transport Security (HSTS)\"></a>5.1 HTTP Strict Transport Security (HSTS)</h3><p><code>https://</code>3xxHTTPHTTPSHTTP</p>\n<p></p>\n<p>HTTP HSTSHTTPS</p>\n<p><a href=\"https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8\"></a></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Strict-Transport-Security</span>: max-age=31536000; includeSubDomains</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>131536000<code>example.com</code>HTTPHTTPS<code>http://www.example.com/</code><code>http</code><code>https</code><code>https://www.example.com/</code></p>\n<p>2<code>example.com</code></p>\n</blockquote>\n<p>HSTS  SSL <code>HTTPS</code><code>HTTP</code></p>\n<p>HTTPHSTS</p>\n<h3 id=\"5-2-Cookie\"><a href=\"#5-2-Cookie\" class=\"headerlink\" title=\"5.2 Cookie\"></a>5.2 Cookie</h3><p> HTTPS Cookie</p>\n<p><code>Set-Cookie</code><code>Secure</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Set-Cookie</span>: LSID=DQAAAKEaem_vYg; Secure</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://docs.google.com/document/d/1oRXJUIttqQxuxmjj2tgYjj096IKw4Zcw6eAoIKWZ2oQ/edit#\">How To Migrate To HTTPS</a>, by Chris Palmer</li>\n<li><a href=\"https://www.keycdn.com/blog/http-to-https/\">Complete Guide  How to Migrate from HTTP to HTTPS</a>, by KeyCDN</li>\n<li><a href=\"http://smallbiztrends.com/2015/04/changing-from-http-to-https.html\">What You Need to Know About Changing From Http to Https</a>, by Matt Mansfield</li>\n</ul>\n<p></p>"},{"title":"HTTP ","date":"2014-11-23T08:43:07.000Z","updated":"2014-11-23T08:43:07.000Z","_content":"HTTP HTTP/2 \n\nHTTP\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg)\n<!-- more -->\n## HTTP/0.9\n\nHTTP TCP/IP [****](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)packet80\n\n19910.9`GET`\n\n```http\nGET /index.html\n```\n\nTCPconnectionrequest`index.html`\n\nHTML\n\n```html\n<html>\n  <body>Hello World</body>\n</html>\n```\n\nTCP\n\n## HTTP/1.0\n\n### 2.1 \n\n19965HTTP/1.0 \n\n\n\n`GET``POST``HEAD`\n\nHTTPHTTP header\n\nstatus codemulti-part typeauthorizationcachecontent encoding\n\n### 2.2 \n\n1.0HTTP\n\n```http\nGET / HTTP/1.0\nHost: kamranahmed.info\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAccept: */*\n```\n\n0.9\n\n`HTTP/1.0`\n\n### 2.3 \n\n\n\n```http\nHTTP/1.0 200 OK \nContent-Type: text/plain\nContent-Length: 137582\nExpires: Thu, 05 Dec 1997 16:00:00 GMT\nLast-Modified: Wed, 5 August 1996 15:55:28 GMT\nServer: Apache 0.84\n\n<html>\n  <body>Hello World</body>\n</html>\n```\n\n` + `\\r\\n` + `` + status code + `\n\n### 2.4 Content-Type \n\n1.0 ASCII `Content-Type`\n\n`Content-Type`\n\n> - text/plain\n- text/html\n- text/css\n- image/jpeg\n- image/png\n- image/svg+xml\n- audio/mp4\n- video/mp4\n- application/javascript\n- application/pdf\n- application/zip\n- application/atom+xml\n\n`MIME type`\n\n\n\n```http\napplication/vnd.debian.binary-package\n```\n\nDebian\n\n`MIME type`\n\n```http\nContent-Type: text/html; charset=utf-8\n```\n\nUTF-8\n\n`MIME type`HTTPHTML\n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<!--  -->\n<meta charset=\"utf-8\" /> \n```\n\n### 2.5 Content-Encoding \n\n`Content-Encoding`\n\n```http\nContent-Encoding: gzip\nContent-Encoding: compress\nContent-Encoding: deflate\n```\n\n`Accept-Encoding`\n\n```http\nAccept-Encoding: gzip, deflate\n```\n\n### 2.6 \n\nHTTP/1.0 TCP\n\nTCPslow startHTTP 1.0\n\n`Connection`\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n## HTTP/1.1\n\n19971HTTP/1.1  1.0  HTTP 20\n\n### 3.1 \n\n1.1 persistent connectionTCP`Connection: keep-alive`\n\n`Connection: close`TCP\n\n```http\nConnection: close\n```\n\n6\n\n### 3.2 \n\n1.1 pipeliningTCPHTTP\n\nTCPABABAB\n\n### 3.3 Content-Length \n\nTCP`Content-length`\n\n```http\nContent-Length: 3495\n```\n\n3495\n\n1.0`Content-Length`TCP\n\n### 3.4 \n\n`Content-Length`\n\nstreambuffer\n\n1.1`Content-Length`[](https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81)chunked transfer encoding`Transfer-Encoding`\n\n```http\nTransfer-Encoding: chunked\n```\n\n160\n\n```http\nHTTP/1.1 200 OK\nContent-Type: text/plain\nTransfer-Encoding: chunked\n\n25\nThis is the data in the first chunk\n\n1C\nand this is the second one\n\n3\ncon\n\n8\nsequence\n\n0\n\n```\n\n### 3.5 \n\n1.1`PUT``PATCH``HEAD` `OPTIONS``DELETE`\n\n`Host`\n\n```http\nHost: www.example.com\n```\n\n`Host`\n\n### 3.6 \n\n1.1TCPTCP[](https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E)Head-of-line blocking\n\nCSSdomain shardingHTTP\n\n## SPDY \n\n2009 SPDY  HTTP/1.1  \n\nChrome HTTP/2  HTTP/2 \n\n## HTTP/2\n\n2015HTTP/2  HTTP/2.0 HTTP/3\n\n### 5.1 \n\nHTTP/1.1 ASCIIHTTP/2 frame\n\nHTTP/2 \n\n### 5.2 \n\nHTTP/2 TCP\n\nTCPABAA BA\n\nMultiplexing\n\n### 5.3 \n\n HTTP/2 \n\nHTTP/2 streamIDIDID\n\n`RST_STREAM`1.1TCPHTTP/2 TCP\n\n\n\n### 5.4 \n\nHTTP `Cookie``User Agent`\n\nHTTP/2 header compression`gzip``compress`\n\n### 5.5 \n\nHTTP/2 server push\n\nHTML\n\n### \n\n- [Journey to HTTP/2](http://kamranahmed.info/blog/2016/08/13/http-in-depth/), by Kamran Ahmed\n- [HTTP](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol), by Wikipedia\n- [HTTP/2 Specification](https://http2.github.io/http2-spec/)","source":"_posts/2014/http.md","raw":"---\ntitle: HTTP  \ndate: 2014-11-23 16:43:07\nupdated: 2014-11-23 16:43:07\ntags:\ncategories:\n---\nHTTP HTTP/2 \n\nHTTP\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg)\n<!-- more -->\n## HTTP/0.9\n\nHTTP TCP/IP [****](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)packet80\n\n19910.9`GET`\n\n```http\nGET /index.html\n```\n\nTCPconnectionrequest`index.html`\n\nHTML\n\n```html\n<html>\n  <body>Hello World</body>\n</html>\n```\n\nTCP\n\n## HTTP/1.0\n\n### 2.1 \n\n19965HTTP/1.0 \n\n\n\n`GET``POST``HEAD`\n\nHTTPHTTP header\n\nstatus codemulti-part typeauthorizationcachecontent encoding\n\n### 2.2 \n\n1.0HTTP\n\n```http\nGET / HTTP/1.0\nHost: kamranahmed.info\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAccept: */*\n```\n\n0.9\n\n`HTTP/1.0`\n\n### 2.3 \n\n\n\n```http\nHTTP/1.0 200 OK \nContent-Type: text/plain\nContent-Length: 137582\nExpires: Thu, 05 Dec 1997 16:00:00 GMT\nLast-Modified: Wed, 5 August 1996 15:55:28 GMT\nServer: Apache 0.84\n\n<html>\n  <body>Hello World</body>\n</html>\n```\n\n` + `\\r\\n` + `` + status code + `\n\n### 2.4 Content-Type \n\n1.0 ASCII `Content-Type`\n\n`Content-Type`\n\n> - text/plain\n- text/html\n- text/css\n- image/jpeg\n- image/png\n- image/svg+xml\n- audio/mp4\n- video/mp4\n- application/javascript\n- application/pdf\n- application/zip\n- application/atom+xml\n\n`MIME type`\n\n\n\n```http\napplication/vnd.debian.binary-package\n```\n\nDebian\n\n`MIME type`\n\n```http\nContent-Type: text/html; charset=utf-8\n```\n\nUTF-8\n\n`MIME type`HTTPHTML\n\n```html\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<!--  -->\n<meta charset=\"utf-8\" /> \n```\n\n### 2.5 Content-Encoding \n\n`Content-Encoding`\n\n```http\nContent-Encoding: gzip\nContent-Encoding: compress\nContent-Encoding: deflate\n```\n\n`Accept-Encoding`\n\n```http\nAccept-Encoding: gzip, deflate\n```\n\n### 2.6 \n\nHTTP/1.0 TCP\n\nTCPslow startHTTP 1.0\n\n`Connection`\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n```http\nConnection: keep-alive\n```\n\nTCP\n\n## HTTP/1.1\n\n19971HTTP/1.1  1.0  HTTP 20\n\n### 3.1 \n\n1.1 persistent connectionTCP`Connection: keep-alive`\n\n`Connection: close`TCP\n\n```http\nConnection: close\n```\n\n6\n\n### 3.2 \n\n1.1 pipeliningTCPHTTP\n\nTCPABABAB\n\n### 3.3 Content-Length \n\nTCP`Content-length`\n\n```http\nContent-Length: 3495\n```\n\n3495\n\n1.0`Content-Length`TCP\n\n### 3.4 \n\n`Content-Length`\n\nstreambuffer\n\n1.1`Content-Length`[](https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81)chunked transfer encoding`Transfer-Encoding`\n\n```http\nTransfer-Encoding: chunked\n```\n\n160\n\n```http\nHTTP/1.1 200 OK\nContent-Type: text/plain\nTransfer-Encoding: chunked\n\n25\nThis is the data in the first chunk\n\n1C\nand this is the second one\n\n3\ncon\n\n8\nsequence\n\n0\n\n```\n\n### 3.5 \n\n1.1`PUT``PATCH``HEAD` `OPTIONS``DELETE`\n\n`Host`\n\n```http\nHost: www.example.com\n```\n\n`Host`\n\n### 3.6 \n\n1.1TCPTCP[](https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E)Head-of-line blocking\n\nCSSdomain shardingHTTP\n\n## SPDY \n\n2009 SPDY  HTTP/1.1  \n\nChrome HTTP/2  HTTP/2 \n\n## HTTP/2\n\n2015HTTP/2  HTTP/2.0 HTTP/3\n\n### 5.1 \n\nHTTP/1.1 ASCIIHTTP/2 frame\n\nHTTP/2 \n\n### 5.2 \n\nHTTP/2 TCP\n\nTCPABAA BA\n\nMultiplexing\n\n### 5.3 \n\n HTTP/2 \n\nHTTP/2 streamIDIDID\n\n`RST_STREAM`1.1TCPHTTP/2 TCP\n\n\n\n### 5.4 \n\nHTTP `Cookie``User Agent`\n\nHTTP/2 header compression`gzip``compress`\n\n### 5.5 \n\nHTTP/2 server push\n\nHTML\n\n### \n\n- [Journey to HTTP/2](http://kamranahmed.info/blog/2016/08/13/http-in-depth/), by Kamran Ahmed\n- [HTTP](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol), by Wikipedia\n- [HTTP/2 Specification](https://http2.github.io/http2-spec/)","slug":"http","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcops2000ecwnnqje5m41b","content":"<p>HTTP HTTP/2 </p>\n<p>HTTP</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg\" alt=\"\"><br><a id=\"more\"></a></p>\n<h2 id=\"HTTP-0-9\"><a href=\"#HTTP-0-9\" class=\"headerlink\" title=\"HTTP/0.9\"></a>HTTP/0.9</h2><p>HTTP TCP/IP <a href=\"http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html\" target=\"_blank\" rel=\"external\"><strong></strong></a>packet80</p>\n<p>19910.9<code>GET</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index.html</span><br></pre></td></tr></table></figure>\n<p>TCPconnectionrequest<code>index.html</code></p>\n<p>HTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-0\"><a href=\"#HTTP-1-0\" class=\"headerlink\" title=\"HTTP/1.0\"></a>HTTP/1.0</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>19965HTTP/1.0 </p>\n<p></p>\n<p><code>GET</code><code>POST</code><code>HEAD</code></p>\n<p>HTTPHTTP header</p>\n<p>status codemulti-part typeauthorizationcachecontent encoding</p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>1.0HTTP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">GET</span> <span class=\"string\">/</span> HTTP/1.0</span><br><span class=\"line\"><span class=\"attribute\">Host</span>: kamranahmed.info</span><br><span class=\"line\"><span class=\"attribute\">User-Agent</span>: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</span><br><span class=\"line\"><span class=\"attribute\">Accept</span>: */*</span><br></pre></td></tr></table></figure>\n<p>0.9</p>\n<p><code>HTTP/1.0</code></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.0 <span class=\"number\">200</span> OK </span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 137582</span><br><span class=\"line\"><span class=\"attribute\">Expires</span>: Thu, 05 Dec 1997 16:00:00 GMT</span><br><span class=\"line\"><span class=\"attribute\">Last-Modified</span>: Wed, 5 August 1996 15:55:28 GMT</span><br><span class=\"line\"><span class=\"attribute\">Server</span>: Apache 0.84</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><code> + </code>\\r\\n<code> + </code><code> + status code + </code></p>\n<h3 id=\"2-4-Content-Type-\"><a href=\"#2-4-Content-Type-\" class=\"headerlink\" title=\"2.4 Content-Type \"></a>2.4 Content-Type </h3><p>1.0 ASCII <code>Content-Type</code></p>\n<p><code>Content-Type</code></p>\n<blockquote>\n<ul>\n<li>text/plain</li>\n<li>text/html</li>\n<li>text/css</li>\n<li>image/jpeg</li>\n<li>image/png</li>\n<li>image/svg+xml</li>\n<li>audio/mp4</li>\n<li>video/mp4</li>\n<li>application/javascript</li>\n<li>application/pdf</li>\n<li>application/zip</li>\n<li>application/atom+xml</li>\n</ul>\n</blockquote>\n<p><code>MIME type</code></p>\n<p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">application/vnd.debian.binary-package</span></span><br></pre></td></tr></table></figure>\n<p>Debian</p>\n<p><code>MIME type</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/html; charset=utf-8</span><br></pre></td></tr></table></figure>\n<p>UTF-8</p>\n<p><code>MIME type</code>HTTPHTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-5-Content-Encoding-\"><a href=\"#2-5-Content-Encoding-\" class=\"headerlink\" title=\"2.5 Content-Encoding \"></a>2.5 Content-Encoding </h3><p><code>Content-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: gzip</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: compress</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: deflate</span><br></pre></td></tr></table></figure>\n<p><code>Accept-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Accept-Encoding</span>: gzip, deflate</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-6-\"><a href=\"#2-6-\" class=\"headerlink\" title=\"2.6 \"></a>2.6 </h3><p>HTTP/1.0 TCP</p>\n<p>TCPslow startHTTP 1.0</p>\n<p><code>Connection</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-1\"><a href=\"#HTTP-1-1\" class=\"headerlink\" title=\"HTTP/1.1\"></a>HTTP/1.1</h2><p>19971HTTP/1.1  1.0  HTTP 20</p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>1.1 persistent connectionTCP<code>Connection: keep-alive</code></p>\n<p><code>Connection: close</code>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: close</span><br></pre></td></tr></table></figure>\n<p>6</p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>1.1 pipeliningTCPHTTP</p>\n<p>TCPABABAB</p>\n<h3 id=\"3-3-Content-Length-\"><a href=\"#3-3-Content-Length-\" class=\"headerlink\" title=\"3.3 Content-Length \"></a>3.3 Content-Length </h3><p>TCP<code>Content-length</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 3495</span><br></pre></td></tr></table></figure>\n<p>3495</p>\n<p>1.0<code>Content-Length</code>TCP</p>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p><code>Content-Length</code></p>\n<p>streambuffer</p>\n<p>1.1<code>Content-Length</code><a href=\"https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81\" target=\"_blank\" rel=\"external\"></a>chunked transfer encoding<code>Transfer-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br></pre></td></tr></table></figure>\n<p>160</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 <span class=\"number\">200</span> OK</span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"coffeescript\"><span class=\"number\">25</span></span><br><span class=\"line\">This <span class=\"keyword\">is</span> the data <span class=\"keyword\">in</span> the first chunk</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1</span>C</span><br><span class=\"line\"><span class=\"keyword\">and</span> <span class=\"keyword\">this</span> <span class=\"keyword\">is</span> the second one</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">3</span></span><br><span class=\"line\">con</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">8</span></span><br><span class=\"line\">sequence</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h3><p>1.1<code>PUT</code><code>PATCH</code><code>HEAD</code> <code>OPTIONS</code><code>DELETE</code></p>\n<p><code>Host</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Host</span>: www.example.com</span><br></pre></td></tr></table></figure>\n<p><code>Host</code></p>\n<h3 id=\"3-6-\"><a href=\"#3-6-\" class=\"headerlink\" title=\"3.6 \"></a>3.6 </h3><p>1.1TCPTCP<a href=\"https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E\" target=\"_blank\" rel=\"external\"></a>Head-of-line blocking</p>\n<p>CSSdomain shardingHTTP</p>\n<h2 id=\"SPDY-\"><a href=\"#SPDY-\" class=\"headerlink\" title=\"SPDY \"></a>SPDY </h2><p>2009 SPDY  HTTP/1.1  </p>\n<p>Chrome HTTP/2  HTTP/2 </p>\n<h2 id=\"HTTP-2\"><a href=\"#HTTP-2\" class=\"headerlink\" title=\"HTTP/2\"></a>HTTP/2</h2><p>2015HTTP/2  HTTP/2.0 HTTP/3</p>\n<h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p>HTTP/1.1 ASCIIHTTP/2 frame</p>\n<p>HTTP/2 </p>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>HTTP/2 TCP</p>\n<p>TCPABAA BA</p>\n<p>Multiplexing</p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><p> HTTP/2 </p>\n<p>HTTP/2 streamIDIDID</p>\n<p><code>RST_STREAM</code>1.1TCPHTTP/2 TCP</p>\n<p></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>HTTP <code>Cookie</code><code>User Agent</code></p>\n<p>HTTP/2 header compression<code>gzip</code><code>compress</code></p>\n<h3 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h3><p>HTTP/2 server push</p>\n<p>HTML</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"http://kamranahmed.info/blog/2016/08/13/http-in-depth/\" target=\"_blank\" rel=\"external\">Journey to HTTP/2</a>, by Kamran Ahmed</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"external\">HTTP</a>, by Wikipedia</li>\n<li><a href=\"https://http2.github.io/http2-spec/\" target=\"_blank\" rel=\"external\">HTTP/2 Specification</a></li>\n</ul>\n","excerpt":"<p>HTTP HTTP/2 </p>\n<p>HTTP</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016081901.jpg\" alt=\"\"><br>","more":"</p>\n<h2 id=\"HTTP-0-9\"><a href=\"#HTTP-0-9\" class=\"headerlink\" title=\"HTTP/0.9\"></a>HTTP/0.9</h2><p>HTTP TCP/IP <a href=\"http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html\"><strong></strong></a>packet80</p>\n<p>19910.9<code>GET</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /index.html</span><br></pre></td></tr></table></figure>\n<p>TCPconnectionrequest<code>index.html</code></p>\n<p>HTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-0\"><a href=\"#HTTP-1-0\" class=\"headerlink\" title=\"HTTP/1.0\"></a>HTTP/1.0</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>19965HTTP/1.0 </p>\n<p></p>\n<p><code>GET</code><code>POST</code><code>HEAD</code></p>\n<p>HTTPHTTP header</p>\n<p>status codemulti-part typeauthorizationcachecontent encoding</p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>1.0HTTP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">GET</span> <span class=\"string\">/</span> HTTP/1.0</span><br><span class=\"line\"><span class=\"attribute\">Host</span>: kamranahmed.info</span><br><span class=\"line\"><span class=\"attribute\">User-Agent</span>: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</span><br><span class=\"line\"><span class=\"attribute\">Accept</span>: */*</span><br></pre></td></tr></table></figure>\n<p>0.9</p>\n<p><code>HTTP/1.0</code></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.0 <span class=\"number\">200</span> OK </span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 137582</span><br><span class=\"line\"><span class=\"attribute\">Expires</span>: Thu, 05 Dec 1997 16:00:00 GMT</span><br><span class=\"line\"><span class=\"attribute\">Last-Modified</span>: Wed, 5 August 1996 15:55:28 GMT</span><br><span class=\"line\"><span class=\"attribute\">Server</span>: Apache 0.84</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>Hello World<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><code> + </code>\\r\\n<code> + </code><code> + status code + </code></p>\n<h3 id=\"2-4-Content-Type-\"><a href=\"#2-4-Content-Type-\" class=\"headerlink\" title=\"2.4 Content-Type \"></a>2.4 Content-Type </h3><p>1.0 ASCII <code>Content-Type</code></p>\n<p><code>Content-Type</code></p>\n<blockquote>\n<ul>\n<li>text/plain</li>\n<li>text/html</li>\n<li>text/css</li>\n<li>image/jpeg</li>\n<li>image/png</li>\n<li>image/svg+xml</li>\n<li>audio/mp4</li>\n<li>video/mp4</li>\n<li>application/javascript</li>\n<li>application/pdf</li>\n<li>application/zip</li>\n<li>application/atom+xml</li>\n</ul>\n</blockquote>\n<p><code>MIME type</code></p>\n<p></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">application/vnd.debian.binary-package</span></span><br></pre></td></tr></table></figure>\n<p>Debian</p>\n<p><code>MIME type</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/html; charset=utf-8</span><br></pre></td></tr></table></figure>\n<p>UTF-8</p>\n<p><code>MIME type</code>HTTPHTML</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-5-Content-Encoding-\"><a href=\"#2-5-Content-Encoding-\" class=\"headerlink\" title=\"2.5 Content-Encoding \"></a>2.5 Content-Encoding </h3><p><code>Content-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: gzip</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: compress</span><br><span class=\"line\"><span class=\"attribute\">Content-Encoding</span>: deflate</span><br></pre></td></tr></table></figure>\n<p><code>Accept-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Accept-Encoding</span>: gzip, deflate</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-6-\"><a href=\"#2-6-\" class=\"headerlink\" title=\"2.6 \"></a>2.6 </h3><p>HTTP/1.0 TCP</p>\n<p>TCPslow startHTTP 1.0</p>\n<p><code>Connection</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<p>TCP</p>\n<h2 id=\"HTTP-1-1\"><a href=\"#HTTP-1-1\" class=\"headerlink\" title=\"HTTP/1.1\"></a>HTTP/1.1</h2><p>19971HTTP/1.1  1.0  HTTP 20</p>\n<h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><p>1.1 persistent connectionTCP<code>Connection: keep-alive</code></p>\n<p><code>Connection: close</code>TCP</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: close</span><br></pre></td></tr></table></figure>\n<p>6</p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>1.1 pipeliningTCPHTTP</p>\n<p>TCPABABAB</p>\n<h3 id=\"3-3-Content-Length-\"><a href=\"#3-3-Content-Length-\" class=\"headerlink\" title=\"3.3 Content-Length \"></a>3.3 Content-Length </h3><p>TCP<code>Content-length</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Content-Length</span>: 3495</span><br></pre></td></tr></table></figure>\n<p>3495</p>\n<p>1.0<code>Content-Length</code>TCP</p>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p><code>Content-Length</code></p>\n<p>streambuffer</p>\n<p>1.1<code>Content-Length</code><a href=\"https://zh.wikipedia.org/wiki/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81\"></a>chunked transfer encoding<code>Transfer-Encoding</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br></pre></td></tr></table></figure>\n<p>160</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 <span class=\"number\">200</span> OK</span><br><span class=\"line\"><span class=\"attribute\">Content-Type</span>: text/plain</span><br><span class=\"line\"><span class=\"attribute\">Transfer-Encoding</span>: chunked</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"coffeescript\"><span class=\"number\">25</span></span><br><span class=\"line\">This <span class=\"keyword\">is</span> the data <span class=\"keyword\">in</span> the first chunk</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1</span>C</span><br><span class=\"line\"><span class=\"keyword\">and</span> <span class=\"keyword\">this</span> <span class=\"keyword\">is</span> the second one</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">3</span></span><br><span class=\"line\">con</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">8</span></span><br><span class=\"line\">sequence</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">0</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h3><p>1.1<code>PUT</code><code>PATCH</code><code>HEAD</code> <code>OPTIONS</code><code>DELETE</code></p>\n<p><code>Host</code></p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Host</span>: www.example.com</span><br></pre></td></tr></table></figure>\n<p><code>Host</code></p>\n<h3 id=\"3-6-\"><a href=\"#3-6-\" class=\"headerlink\" title=\"3.6 \"></a>3.6 </h3><p>1.1TCPTCP<a href=\"https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E\"></a>Head-of-line blocking</p>\n<p>CSSdomain shardingHTTP</p>\n<h2 id=\"SPDY-\"><a href=\"#SPDY-\" class=\"headerlink\" title=\"SPDY \"></a>SPDY </h2><p>2009 SPDY  HTTP/1.1  </p>\n<p>Chrome HTTP/2  HTTP/2 </p>\n<h2 id=\"HTTP-2\"><a href=\"#HTTP-2\" class=\"headerlink\" title=\"HTTP/2\"></a>HTTP/2</h2><p>2015HTTP/2  HTTP/2.0 HTTP/3</p>\n<h3 id=\"5-1-\"><a href=\"#5-1-\" class=\"headerlink\" title=\"5.1 \"></a>5.1 </h3><p>HTTP/1.1 ASCIIHTTP/2 frame</p>\n<p>HTTP/2 </p>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><p>HTTP/2 TCP</p>\n<p>TCPABAA BA</p>\n<p>Multiplexing</p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><p> HTTP/2 </p>\n<p>HTTP/2 streamIDIDID</p>\n<p><code>RST_STREAM</code>1.1TCPHTTP/2 TCP</p>\n<p></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p>HTTP <code>Cookie</code><code>User Agent</code></p>\n<p>HTTP/2 header compression<code>gzip</code><code>compress</code></p>\n<h3 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h3><p>HTTP/2 server push</p>\n<p>HTML</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"http://kamranahmed.info/blog/2016/08/13/http-in-depth/\">Journey to HTTP/2</a>, by Kamran Ahmed</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">HTTP</a>, by Wikipedia</li>\n<li><a href=\"https://http2.github.io/http2-spec/\">HTTP/2 Specification</a></li>\n</ul>"},{"title":"","date":"2014-12-14T16:40:51.000Z","_content":"\n# \n\n__ \n\n- \n- \n- Reorganizing......\n<!-- more -->\n\n> \"\" ![](/images/figure05.png)\n\n \"\"----.\"\"\"\"[Rosetta Stone](http://www.rosettastone.com/)\n\n- \n- \n- \n\n\"\"Self-fulfilling prophecy\n\n> \n\n\n\n> ......\n\n\"\"\"\"\"\" **** \n\n\n\n\"\"\"\"......\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n\"\"\"\" \"\"\"\"100TOEFL\n\n## \n\n\n\n> ...... \n\n### \n\n\n\n### ,\"\"\n\n### \"\"\n\n:\n\n> Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.\n\n\"\"\n\n> One of the reasons why many parents want to send their children to separate school is that they are worried about .\n\n\"undernutrition\"\"under\"\n\n> ......underground ......undernutritionunderage drinking......\n\n\"underage drinking\"\"\"\"\"\"\"\"underage sexual behaviors\"......\n\nOne of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.\n\n### \n\n\"\"......\n\n>  \n\n\"\"\"\"\n\n# \n\n\"\"----\n\n\"\"\"Photoshop\"\n\n- Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern\n- Thinking and Deciding, 4th edition, by Jonathan Baron\n- Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)\n- Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams\n- Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style\n\n- A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<http://www.plainlanguage.gov>)\n\n- On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)\n- Building Great Sentences\n\n# -- \n\n\"\"ETSTOEFL\"\"\"\" TOEFL ----\"\"\n\n# pattern recognition) \n\n\n\n## \n1. \n2. \n3. \n4. \n[cnn radio](http://edition.cnn.com/audio/radio/radio.html)\n\n","source":"_posts/2014/learn-english.md","raw":"---\ntitle: \ndate: 2014-12-15T00:40:51.000Z\ntags:\n  - english\ncategories: null\n---\n\n# \n\n__ \n\n- \n- \n- Reorganizing......\n<!-- more -->\n\n> \"\" ![](/images/figure05.png)\n\n \"\"----.\"\"\"\"[Rosetta Stone](http://www.rosettastone.com/)\n\n- \n- \n- \n\n\"\"Self-fulfilling prophecy\n\n> \n\n\n\n> ......\n\n\"\"\"\"\"\" **** \n\n\n\n\"\"\"\"......\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n\"\"\"\" \"\"\"\"100TOEFL\n\n## \n\n\n\n> ...... \n\n### \n\n\n\n### ,\"\"\n\n### \"\"\n\n:\n\n> Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.\n\n\"\"\n\n> One of the reasons why many parents want to send their children to separate school is that they are worried about .\n\n\"undernutrition\"\"under\"\n\n> ......underground ......undernutritionunderage drinking......\n\n\"underage drinking\"\"\"\"\"\"\"\"underage sexual behaviors\"......\n\nOne of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.\n\n### \n\n\"\"......\n\n>  \n\n\"\"\"\"\n\n# \n\n\"\"----\n\n\"\"\"Photoshop\"\n\n- Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern\n- Thinking and Deciding, 4th edition, by Jonathan Baron\n- Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)\n- Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams\n- Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style\n\n- A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<http://www.plainlanguage.gov>)\n\n- On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)\n- Building Great Sentences\n\n# -- \n\n\"\"ETSTOEFL\"\"\"\" TOEFL ----\"\"\n\n# pattern recognition) \n\n\n\n## \n1. \n2. \n3. \n4. \n[cnn radio](http://edition.cnn.com/audio/radio/radio.html)\n\n","slug":"learn-english","published":1,"updated":"2017-01-04T03:56:15.373Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcops5000gcwnnac7paoew","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em></em> </p>\n<ul>\n<li></li>\n<li></li>\n<li>Reorganizing<a id=\"more\"></a>\n</li>\n</ul>\n<blockquote>\n<p> <img src=\"/images/figure05.png\" alt=\"\"></p>\n</blockquote>\n<p> -.<a href=\"http://www.rosettastone.com/\" target=\"_blank\" rel=\"external\">Rosetta Stone</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Self-fulfilling prophecy</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <strong></strong> </p>\n<p></p>\n<p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 100TOEFL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:</p>\n<blockquote>\n<p>Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about .</p>\n</blockquote>\n<p>undernutritionunder</p>\n<blockquote>\n<p>underground undernutritionunderage drinking</p>\n</blockquote>\n<p>underage drinkingunderage sexual behaviors</p>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>-</p>\n<p>Photoshop</p>\n<ul>\n<li>Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern</li>\n<li>Thinking and Deciding, 4th edition, by Jonathan Baron</li>\n<li>Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)</li>\n<li>Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams</li>\n<li><p>Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style</p>\n</li>\n<li><p>A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<a href=\"http://www.plainlanguage.gov\" target=\"_blank\" rel=\"external\">http://www.plainlanguage.gov</a>)</p>\n</li>\n<li><p>On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)</p>\n</li>\n<li>Building Great Sentences</li>\n</ul>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h1><p>ETSTOEFL TOEFL -</p>\n<h1 id=\"pattern-recognition-\"><a href=\"#pattern-recognition-\" class=\"headerlink\" title=\"pattern recognition) \"></a>pattern recognition) </h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"http://edition.cnn.com/audio/radio/radio.html\" target=\"_blank\" rel=\"external\">cnn radio</a><br></li>\n</ol>\n","excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em></em> </p>\n<ul>\n<li></li>\n<li></li>\n<li>Reorganizing","more":"</li>\n</ul>\n<blockquote>\n<p> <img src=\"/images/figure05.png\" alt=\"\"></p>\n</blockquote>\n<p> -.<a href=\"http://www.rosettastone.com/\">Rosetta Stone</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Self-fulfilling prophecy</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p> <strong></strong> </p>\n<p></p>\n<p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 100TOEFL</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:</p>\n<blockquote>\n<p>Whoever is a girl does not want to be loved, and whoever is a boy does not want to be royal to his lover.</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about .</p>\n</blockquote>\n<p>undernutritionunder</p>\n<blockquote>\n<p>underground undernutritionunderage drinking</p>\n</blockquote>\n<p>underage drinkingunderage sexual behaviors</p>\n<p>One of the reasons why many parents want to send their children to separate school is that they are worried about possible underage sexual behaviors.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<blockquote>\n<p> </p>\n</blockquote>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>-</p>\n<p>Photoshop</p>\n<ul>\n<li>Thought and Knowledge: An Introduction to Critical Thinking 4th edition, by Diane F. Halpern</li>\n<li>Thinking and Deciding, 4th edition, by Jonathan Baron</li>\n<li>Argumentation: The Study of Effective Reasoning by Zarefsky David (Audiobook)</li>\n<li>Craft of Research, by Wayne C. Booth, Gregory G. Colomb, Joseph M. Williams</li>\n<li><p>Good Reasoning Matters!: A Constructive Approach to Critical Thinking 3rd edition, by Leo A. Groarke, Christopher W. Tindale Style</p>\n</li>\n<li><p>A Plain English Handbook (1998), from Security and Exchange Commission, Prefaced by Warren E. Buffett (<a href=\"http://www.plainlanguage.gov\">http://www.plainlanguage.gov</a>)</p>\n</li>\n<li><p>On Writing: A Memoir of The Craft by Stephen King (with audiobook) Style: Toward Clarity and Grace by Joseph M. Williams TTC (The Teaching Company)</p>\n</li>\n<li>Building Great Sentences</li>\n</ul>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h1><p>ETSTOEFL TOEFL -</p>\n<h1 id=\"pattern-recognition-\"><a href=\"#pattern-recognition-\" class=\"headerlink\" title=\"pattern recognition) \"></a>pattern recognition) </h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n<li></li>\n<li></li>\n<li><br><a href=\"http://edition.cnn.com/audio/radio/radio.html\">cnn radio</a><br></li>\n</ol>"},{"title":"learning","date":"2014-08-08T11:08:34.000Z","_content":"\n****\"\"\n\n```code\n    while (alive) {\n        learn;\n    }\n```\n","source":"_posts/2014/learn-if-alive.md","raw":"---\ntitle: learning\ndate: 2014-08-08T19:08:34.000Z\ntags:\n  - learn\ncategories: \n---\n\n****\"\"\n\n```code\n    while (alive) {\n        learn;\n    }\n```\n","slug":"learn-if-alive","published":1,"updated":"2017-01-04T03:20:09.144Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcops8000hcwnns704om33","content":"<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">while (alive) &#123;</span><br><span class=\"line\">    learn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">while (alive) &#123;</span><br><span class=\"line\">    learn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"linux-aliases","date":"2014-12-22T05:22:37.000Z","_content":"\n#### linux\n\nTerminal  `alias` \n\n<!-- more -->\n```bash\n\talias d='date' #\n\tunalias d  #\n\n\talias ..=\"cd ..\"\n\talias ...=\"cd ../..\"  \n\talias ....=\"cd ../../..\"\n\talias .....=\"cd ../../../..\"\n\talias ~=\"cd ~\" # `cd` is probably faster to type though\n\talias -- -=\"cd -\"\n\n\talias d=\"cd ~/Documents/Dropbox\"\n\talias dl=\"cd ~/Downloads\"\n\talias dt=\"cd ~/Desktop\"\n\talias p=\"cd ~/projects\"\n\talias g=\"git\"\n\talias h=\"history\"\n\talias j=\"jobs\"\n\t\n```\n\n\n\n\n#### Mac OS \n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n3. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n4. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n5. source .bash_profile\n[](https://github.com/donnemartin/dev-setup)\n\n#### linux  `vim ~/.bashrc` \n\n```bash\n\tif [ -f ~/.aliases ]; then\n    \t. ~/.aliases\n\tfi\n```\n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n3. source .bashrc\n\n##### ubuntu  `.bash_aliases` \n\n```bash\n\tif [ -f ~/.bash_aliases ]; then\n\t    . ~/.bash_aliases\n\tfi\n```\n `.bash_aliases` \n","source":"_posts/2014/linux-aliases.md","raw":"---\ntitle: linux-aliases\ndate: 2014-12-22 13:22:37\ntags:\ncategories:\n---\n\n#### linux\n\nTerminal  `alias` \n\n<!-- more -->\n```bash\n\talias d='date' #\n\tunalias d  #\n\n\talias ..=\"cd ..\"\n\talias ...=\"cd ../..\"  \n\talias ....=\"cd ../../..\"\n\talias .....=\"cd ../../../..\"\n\talias ~=\"cd ~\" # `cd` is probably faster to type though\n\talias -- -=\"cd -\"\n\n\talias d=\"cd ~/Documents/Dropbox\"\n\talias dl=\"cd ~/Downloads\"\n\talias dt=\"cd ~/Desktop\"\n\talias p=\"cd ~/projects\"\n\talias g=\"git\"\n\talias h=\"history\"\n\talias j=\"jobs\"\n\t\n```\n\n\n\n\n#### Mac OS \n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n3. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n4. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n5. source .bash_profile\n[](https://github.com/donnemartin/dev-setup)\n\n#### linux  `vim ~/.bashrc` \n\n```bash\n\tif [ -f ~/.aliases ]; then\n    \t. ~/.aliases\n\tfi\n```\n1. cd ~\n2. curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n3. source .bashrc\n\n##### ubuntu  `.bash_aliases` \n\n```bash\n\tif [ -f ~/.bash_aliases ]; then\n\t    . ~/.bash_aliases\n\tfi\n```\n `.bash_aliases` \n","slug":"linux-aliases","published":1,"updated":"2017-01-04T03:56:41.959Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsb000kcwnnwj9hn1xn","content":"<h4 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h4><p>Terminal  <code>alias</code> </p>\n<p><a id=\"more\"></a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">'date'</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unalias</span> d  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ..=<span class=\"string\">\"cd ..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ...=<span class=\"string\">\"cd ../..\"</span>  </span><br><span class=\"line\"><span class=\"built_in\">alias</span> ....=<span class=\"string\">\"cd ../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> .....=<span class=\"string\">\"cd ../../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ~=<span class=\"string\">\"cd ~\"</span> <span class=\"comment\"># `cd` is probably faster to type though</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> -- -=<span class=\"string\">\"cd -\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">\"cd ~/Documents/Dropbox\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dl=<span class=\"string\">\"cd ~/Downloads\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dt=<span class=\"string\">\"cd ~/Desktop\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> p=<span class=\"string\">\"cd ~/projects\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> g=<span class=\"string\">\"git\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> h=<span class=\"string\">\"history\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> j=<span class=\"string\">\"jobs\"</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"Mac-OS-\"><a href=\"#Mac-OS-\" class=\"headerlink\" title=\"Mac OS \"></a>Mac OS </h4><ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\" target=\"_blank\" rel=\"external\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\" target=\"_blank\" rel=\"external\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"external\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bash_profile<br><a href=\"https://github.com/donnemartin/dev-setup\" target=\"_blank\" rel=\"external\"></a></li>\n</ol>\n<h4 id=\"linux--vim-bashrc-\"><a href=\"#linux--vim-bashrc-\" class=\"headerlink\" title=\"linux  vim ~/.bashrc \"></a>linux  <code>vim ~/.bashrc</code> </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-f</span> ~/.aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">   \t. ~/.aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\" target=\"_blank\" rel=\"external\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bashrc</li>\n</ol>\n<h5 id=\"ubuntu--bash-aliases-\"><a href=\"#ubuntu--bash-aliases-\" class=\"headerlink\" title=\"ubuntu  .bash_aliases \"></a>ubuntu  <code>.bash_aliases</code> </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-f</span> ~/.bash_aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    . ~/.bash_aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p> <code>.bash_aliases</code> </p>\n","excerpt":"<h4 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h4><p>Terminal  <code>alias</code> </p>\n<p>","more":"<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">'date'</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unalias</span> d  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ..=<span class=\"string\">\"cd ..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ...=<span class=\"string\">\"cd ../..\"</span>  </span><br><span class=\"line\"><span class=\"built_in\">alias</span> ....=<span class=\"string\">\"cd ../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> .....=<span class=\"string\">\"cd ../../../..\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ~=<span class=\"string\">\"cd ~\"</span> <span class=\"comment\"># `cd` is probably faster to type though</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> -- -=<span class=\"string\">\"cd -\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> d=<span class=\"string\">\"cd ~/Documents/Dropbox\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dl=<span class=\"string\">\"cd ~/Downloads\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> dt=<span class=\"string\">\"cd ~/Desktop\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> p=<span class=\"string\">\"cd ~/projects\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> g=<span class=\"string\">\"git\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> h=<span class=\"string\">\"history\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> j=<span class=\"string\">\"jobs\"</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"Mac-OS-\"><a href=\"#Mac-OS-\" class=\"headerlink\" title=\"Mac OS \"></a>Mac OS </h4><ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</a></li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bash_profile<br><a href=\"https://github.com/donnemartin/dev-setup\"></a></li>\n</ol>\n<h4 id=\"linux--vim-bashrc-\"><a href=\"#linux--vim-bashrc-\" class=\"headerlink\" title=\"linux  vim ~/.bashrc \"></a>linux  <code>vim ~/.bashrc</code> </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-f</span> ~/.aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">   \t. ~/.aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>cd ~</li>\n<li>curl -O <a href=\"https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\">https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</a></li>\n<li>source .bashrc</li>\n</ol>\n<h5 id=\"ubuntu--bash-aliases-\"><a href=\"#ubuntu--bash-aliases-\" class=\"headerlink\" title=\"ubuntu  .bash_aliases \"></a>ubuntu  <code>.bash_aliases</code> </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-f</span> ~/.bash_aliases ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    . ~/.bash_aliases</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p> <code>.bash_aliases</code> </p>"},{"title":"(critical thinking)","date":"2015-06-22T06:07:53.000Z","_content":"\n[](http://www.criticalthinking.org/)\n[critical thinking](https://book.douban.com/subject/2591434/)","source":"_posts/2015/critical-thinking.md","raw":"---\ntitle: (critical thinking)\ndate: 2015-06-22T14:07:53.000Z\ntags: null\ncategories: null\n---\n\n[](http://www.criticalthinking.org/)\n[critical thinking](https://book.douban.com/subject/2591434/)","slug":"critical-thinking","published":1,"updated":"2017-01-04T03:50:21.125Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopse000mcwnnbj2peypx","content":"<p><a href=\"http://www.criticalthinking.org/\" target=\"_blank\" rel=\"external\"></a><br><a href=\"https://book.douban.com/subject/2591434/\" target=\"_blank\" rel=\"external\">critical thinking</a></p>\n","excerpt":"","more":"<p><a href=\"http://www.criticalthinking.org/\"></a><br><a href=\"https://book.douban.com/subject/2591434/\">critical thinking</a></p>\n"},{"title":"mysql","date":"2014-08-29T02:52:19.000Z","updated":"2016-08-29T02:52:19.000Z","_content":"\n### mysql\n<!-- more -->\n``` mysql\n\nCREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk\nBEGIN\n    DECLARE mycode INT;\n    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;\n    DECLARE lcode INT;\n    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;\n    DECLARE rcode INT;\n    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT '';\n    DECLARE lp INT;\n    SET mycode = 0;\n    SET lp = 1;\n    SET NAME = HEX(NAME);\n    WHILE lp < LENGTH(NAME) DO\n        SET tmp_lcode = SUBSTRING(NAME, lp, 2);\n        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); \n        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);\n        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); \n        IF lcode > 128 THEN\n            SET mycode =65536 - lcode * 256 - rcode ;\n            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` >= ABS(mycode) ORDER BY `code` ASC LIMIT 1;\n            SET lp = lp + 4;\n        ELSE\n            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));\n            SET lp = lp + 2;\n        END IF;\n    END WHILE;\n    RETURN LOWER(mypy);\nEND\n```\n\n\n### ascii\n\n``` mysql\n\nCREATE TABLE `pinyin` (\n  `code` int(11) NOT NULL,\n  `py` varchar(10) CHARACTER SET gbk NOT NULL,\n  PRIMARY KEY (`code`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `pinyin` VALUES ('10254', 'zuo');\nINSERT INTO `pinyin` VALUES ('10256', 'zun');\nINSERT INTO `pinyin` VALUES ('10260', 'zui');\nINSERT INTO `pinyin` VALUES ('10262', 'zuan');\nINSERT INTO `pinyin` VALUES ('10270', 'zu');\nINSERT INTO `pinyin` VALUES ('10274', 'zou');\nINSERT INTO `pinyin` VALUES ('10281', 'zong');\nINSERT INTO `pinyin` VALUES ('10296', 'zi');\nINSERT INTO `pinyin` VALUES ('10307', 'zhuo');\nINSERT INTO `pinyin` VALUES ('10309', 'zhun');\nINSERT INTO `pinyin` VALUES ('10315', 'zhui');\nINSERT INTO `pinyin` VALUES ('10322', 'zhuang');\nINSERT INTO `pinyin` VALUES ('10328', 'zhuan');\nINSERT INTO `pinyin` VALUES ('10329', 'zhuai');\nINSERT INTO `pinyin` VALUES ('10331', 'zhua');\nINSERT INTO `pinyin` VALUES ('10519', 'zhu');\nINSERT INTO `pinyin` VALUES ('10533', 'zhou');\nINSERT INTO `pinyin` VALUES ('10544', 'zhong');\nINSERT INTO `pinyin` VALUES ('10587', 'zhi');\nINSERT INTO `pinyin` VALUES ('10764', 'zheng');\nINSERT INTO `pinyin` VALUES ('10780', 'zhen');\nINSERT INTO `pinyin` VALUES ('10790', 'zhe');\nINSERT INTO `pinyin` VALUES ('10800', 'zhao');\nINSERT INTO `pinyin` VALUES ('10815', 'zhang');\nINSERT INTO `pinyin` VALUES ('10832', 'zhan');\nINSERT INTO `pinyin` VALUES ('10838', 'zhai');\nINSERT INTO `pinyin` VALUES ('11014', 'zha');\nINSERT INTO `pinyin` VALUES ('11018', 'zeng');\nINSERT INTO `pinyin` VALUES ('11019', 'zen');\nINSERT INTO `pinyin` VALUES ('11020', 'zei');\nINSERT INTO `pinyin` VALUES ('11024', 'ze');\nINSERT INTO `pinyin` VALUES ('11038', 'zao');\nINSERT INTO `pinyin` VALUES ('11041', 'zang');\nINSERT INTO `pinyin` VALUES ('11045', 'zan');\nINSERT INTO `pinyin` VALUES ('11052', 'zai');\nINSERT INTO `pinyin` VALUES ('11055', 'za');\nINSERT INTO `pinyin` VALUES ('11067', 'yun');\nINSERT INTO `pinyin` VALUES ('11077', 'yue');\nINSERT INTO `pinyin` VALUES ('11097', 'yuan');\nINSERT INTO `pinyin` VALUES ('11303', 'yu');\nINSERT INTO `pinyin` VALUES ('11324', 'you');\nINSERT INTO `pinyin` VALUES ('11339', 'yong');\nINSERT INTO `pinyin` VALUES ('11340', 'yo');\nINSERT INTO `pinyin` VALUES ('11358', 'ying');\nINSERT INTO `pinyin` VALUES ('11536', 'yin');\nINSERT INTO `pinyin` VALUES ('11589', 'yi');\nINSERT INTO `pinyin` VALUES ('11604', 'ye');\nINSERT INTO `pinyin` VALUES ('11781', 'yao');\nINSERT INTO `pinyin` VALUES ('11798', 'yang');\nINSERT INTO `pinyin` VALUES ('11831', 'yan');\nINSERT INTO `pinyin` VALUES ('11847', 'ya');\nINSERT INTO `pinyin` VALUES ('11861', 'xun');\nINSERT INTO `pinyin` VALUES ('11867', 'xue');\nINSERT INTO `pinyin` VALUES ('12039', 'xuan');\nINSERT INTO `pinyin` VALUES ('12058', 'xu');\nINSERT INTO `pinyin` VALUES ('12067', 'xiu');\nINSERT INTO `pinyin` VALUES ('12074', 'xiong');\nINSERT INTO `pinyin` VALUES ('12089', 'xing');\nINSERT INTO `pinyin` VALUES ('12099', 'xin');\nINSERT INTO `pinyin` VALUES ('12120', 'xie');\nINSERT INTO `pinyin` VALUES ('12300', 'xiao');\nINSERT INTO `pinyin` VALUES ('12320', 'xiang');\nINSERT INTO `pinyin` VALUES ('12346', 'xian');\nINSERT INTO `pinyin` VALUES ('12359', 'xia');\nINSERT INTO `pinyin` VALUES ('12556', 'xi');\nINSERT INTO `pinyin` VALUES ('12585', 'wu');\nINSERT INTO `pinyin` VALUES ('12594', 'wo');\nINSERT INTO `pinyin` VALUES ('12597', 'weng');\nINSERT INTO `pinyin` VALUES ('12607', 'wen');\nINSERT INTO `pinyin` VALUES ('12802', 'wei');\nINSERT INTO `pinyin` VALUES ('12812', 'wang');\nINSERT INTO `pinyin` VALUES ('12829', 'wan');\nINSERT INTO `pinyin` VALUES ('12831', 'wai');\nINSERT INTO `pinyin` VALUES ('12838', 'wa');\nINSERT INTO `pinyin` VALUES ('12849', 'tuo');\nINSERT INTO `pinyin` VALUES ('12852', 'tun');\nINSERT INTO `pinyin` VALUES ('12858', 'tui');\nINSERT INTO `pinyin` VALUES ('12860', 'tuan');\nINSERT INTO `pinyin` VALUES ('12871', 'tu');\nINSERT INTO `pinyin` VALUES ('12875', 'tou');\nINSERT INTO `pinyin` VALUES ('12888', 'tong');\nINSERT INTO `pinyin` VALUES ('13060', 'ting');\nINSERT INTO `pinyin` VALUES ('13063', 'tie');\nINSERT INTO `pinyin` VALUES ('13068', 'tiao');\nINSERT INTO `pinyin` VALUES ('13076', 'tian');\nINSERT INTO `pinyin` VALUES ('13091', 'ti');\nINSERT INTO `pinyin` VALUES ('13095', 'teng');\nINSERT INTO `pinyin` VALUES ('13096', 'te');\nINSERT INTO `pinyin` VALUES ('13107', 'tao');\nINSERT INTO `pinyin` VALUES ('13120', 'tang');\nINSERT INTO `pinyin` VALUES ('13138', 'tan');\nINSERT INTO `pinyin` VALUES ('13147', 'tai');\nINSERT INTO `pinyin` VALUES ('13318', 'ta');\nINSERT INTO `pinyin` VALUES ('13326', 'suo');\nINSERT INTO `pinyin` VALUES ('13329', 'sun');\nINSERT INTO `pinyin` VALUES ('13340', 'sui');\nINSERT INTO `pinyin` VALUES ('13343', 'suan');\nINSERT INTO `pinyin` VALUES ('13356', 'su');\nINSERT INTO `pinyin` VALUES ('13359', 'sou');\nINSERT INTO `pinyin` VALUES ('13367', 'song');\nINSERT INTO `pinyin` VALUES ('13383', 'si');\nINSERT INTO `pinyin` VALUES ('13387', 'shuo');\nINSERT INTO `pinyin` VALUES ('13391', 'shun');\nINSERT INTO `pinyin` VALUES ('13395', 'shui');\nINSERT INTO `pinyin` VALUES ('13398', 'shuang');\nINSERT INTO `pinyin` VALUES ('13400', 'shuan');\nINSERT INTO `pinyin` VALUES ('13404', 'shuai');\nINSERT INTO `pinyin` VALUES ('13406', 'shua');\nINSERT INTO `pinyin` VALUES ('13601', 'shu');\nINSERT INTO `pinyin` VALUES ('13611', 'shou');\nINSERT INTO `pinyin` VALUES ('13658', 'shi');\nINSERT INTO `pinyin` VALUES ('13831', 'sheng');\nINSERT INTO `pinyin` VALUES ('13847', 'shen');\nINSERT INTO `pinyin` VALUES ('13859', 'she');\nINSERT INTO `pinyin` VALUES ('13870', 'shao');\nINSERT INTO `pinyin` VALUES ('13878', 'shang');\nINSERT INTO `pinyin` VALUES ('13894', 'shan');\nINSERT INTO `pinyin` VALUES ('13896', 'shai');\nINSERT INTO `pinyin` VALUES ('13905', 'sha');\nINSERT INTO `pinyin` VALUES ('13906', 'seng');\nINSERT INTO `pinyin` VALUES ('13907', 'sen');\nINSERT INTO `pinyin` VALUES ('13910', 'se');\nINSERT INTO `pinyin` VALUES ('13914', 'sao');\nINSERT INTO `pinyin` VALUES ('13917', 'sang');\nINSERT INTO `pinyin` VALUES ('14083', 'san');\nINSERT INTO `pinyin` VALUES ('14087', 'sai');\nINSERT INTO `pinyin` VALUES ('14090', 'sa');\nINSERT INTO `pinyin` VALUES ('14092', 'ruo');\nINSERT INTO `pinyin` VALUES ('14094', 'run');\nINSERT INTO `pinyin` VALUES ('14097', 'rui');\nINSERT INTO `pinyin` VALUES ('14099', 'ruan');\nINSERT INTO `pinyin` VALUES ('14109', 'ru');\nINSERT INTO `pinyin` VALUES ('14112', 'rou');\nINSERT INTO `pinyin` VALUES ('14122', 'rong');\nINSERT INTO `pinyin` VALUES ('14123', 'ri');\nINSERT INTO `pinyin` VALUES ('14125', 'reng');\nINSERT INTO `pinyin` VALUES ('14135', 'ren');\nINSERT INTO `pinyin` VALUES ('14137', 're');\nINSERT INTO `pinyin` VALUES ('14140', 'rao');\nINSERT INTO `pinyin` VALUES ('14145', 'rang');\nINSERT INTO `pinyin` VALUES ('14149', 'ran');\nINSERT INTO `pinyin` VALUES ('14151', 'qun');\nINSERT INTO `pinyin` VALUES ('14159', 'que');\nINSERT INTO `pinyin` VALUES ('14170', 'quan');\nINSERT INTO `pinyin` VALUES ('14345', 'qu');\nINSERT INTO `pinyin` VALUES ('14353', 'qiu');\nINSERT INTO `pinyin` VALUES ('14355', 'qiong');\nINSERT INTO `pinyin` VALUES ('14368', 'qing');\nINSERT INTO `pinyin` VALUES ('14379', 'qin');\nINSERT INTO `pinyin` VALUES ('14384', 'qie');\nINSERT INTO `pinyin` VALUES ('14399', 'qiao');\nINSERT INTO `pinyin` VALUES ('14407', 'qiang');\nINSERT INTO `pinyin` VALUES ('14429', 'qian');\nINSERT INTO `pinyin` VALUES ('14594', 'qia');\nINSERT INTO `pinyin` VALUES ('14630', 'qi');\nINSERT INTO `pinyin` VALUES ('14645', 'pu');\nINSERT INTO `pinyin` VALUES ('14654', 'po');\nINSERT INTO `pinyin` VALUES ('14663', 'ping');\nINSERT INTO `pinyin` VALUES ('14668', 'pin');\nINSERT INTO `pinyin` VALUES ('14670', 'pie');\nINSERT INTO `pinyin` VALUES ('14674', 'piao');\nINSERT INTO `pinyin` VALUES ('14678', 'pian');\nINSERT INTO `pinyin` VALUES ('14857', 'pi');\nINSERT INTO `pinyin` VALUES ('14871', 'peng');\nINSERT INTO `pinyin` VALUES ('14873', 'pen');\nINSERT INTO `pinyin` VALUES ('14882', 'pei');\nINSERT INTO `pinyin` VALUES ('14889', 'pao');\nINSERT INTO `pinyin` VALUES ('14894', 'pang');\nINSERT INTO `pinyin` VALUES ('14902', 'pan');\nINSERT INTO `pinyin` VALUES ('14908', 'pai');\nINSERT INTO `pinyin` VALUES ('14914', 'pa');\nINSERT INTO `pinyin` VALUES ('14921', 'ou');\nINSERT INTO `pinyin` VALUES ('14922', 'o');\nINSERT INTO `pinyin` VALUES ('14926', 'nuo');\nINSERT INTO `pinyin` VALUES ('14928', 'nue');\nINSERT INTO `pinyin` VALUES ('14929', 'nuan');\nINSERT INTO `pinyin` VALUES ('14930', 'nv');\nINSERT INTO `pinyin` VALUES ('14933', 'nu');\nINSERT INTO `pinyin` VALUES ('14937', 'nong');\nINSERT INTO `pinyin` VALUES ('14941', 'niu');\nINSERT INTO `pinyin` VALUES ('15109', 'ning');\nINSERT INTO `pinyin` VALUES ('15110', 'nin');\nINSERT INTO `pinyin` VALUES ('15117', 'nie');\nINSERT INTO `pinyin` VALUES ('15119', 'niao');\nINSERT INTO `pinyin` VALUES ('15121', 'niang');\nINSERT INTO `pinyin` VALUES ('15128', 'nian');\nINSERT INTO `pinyin` VALUES ('15139', 'ni');\nINSERT INTO `pinyin` VALUES ('15140', 'neng');\nINSERT INTO `pinyin` VALUES ('15141', 'nen');\nINSERT INTO `pinyin` VALUES ('15143', 'nei');\nINSERT INTO `pinyin` VALUES ('15144', 'ne');\nINSERT INTO `pinyin` VALUES ('15149', 'nao');\nINSERT INTO `pinyin` VALUES ('15150', 'nang');\nINSERT INTO `pinyin` VALUES ('15153', 'nan');\nINSERT INTO `pinyin` VALUES ('15158', 'nai');\nINSERT INTO `pinyin` VALUES ('15165', 'na');\nINSERT INTO `pinyin` VALUES ('15180', 'mu');\nINSERT INTO `pinyin` VALUES ('15183', 'mou');\nINSERT INTO `pinyin` VALUES ('15362', 'mo');\nINSERT INTO `pinyin` VALUES ('15363', 'miu');\nINSERT INTO `pinyin` VALUES ('15369', 'ming');\nINSERT INTO `pinyin` VALUES ('15375', 'min');\nINSERT INTO `pinyin` VALUES ('15377', 'mie');\nINSERT INTO `pinyin` VALUES ('15385', 'miao');\nINSERT INTO `pinyin` VALUES ('15394', 'mian');\nINSERT INTO `pinyin` VALUES ('15408', 'mi');\nINSERT INTO `pinyin` VALUES ('15416', 'meng');\nINSERT INTO `pinyin` VALUES ('15419', 'men');\nINSERT INTO `pinyin` VALUES ('15435', 'mei');\nINSERT INTO `pinyin` VALUES ('15436', 'me');\nINSERT INTO `pinyin` VALUES ('15448', 'mao');\nINSERT INTO `pinyin` VALUES ('15454', 'mang');\nINSERT INTO `pinyin` VALUES ('15625', 'man');\nINSERT INTO `pinyin` VALUES ('15631', 'mai');\nINSERT INTO `pinyin` VALUES ('15640', 'ma');\nINSERT INTO `pinyin` VALUES ('15652', 'luo');\nINSERT INTO `pinyin` VALUES ('15659', 'lun');\nINSERT INTO `pinyin` VALUES ('15661', 'lue');\nINSERT INTO `pinyin` VALUES ('15667', 'luan');\nINSERT INTO `pinyin` VALUES ('15681', 'lv');\nINSERT INTO `pinyin` VALUES ('15701', 'lu');\nINSERT INTO `pinyin` VALUES ('15707', 'lou');\nINSERT INTO `pinyin` VALUES ('15878', 'long');\nINSERT INTO `pinyin` VALUES ('15889', 'liu');\nINSERT INTO `pinyin` VALUES ('15903', 'ling');\nINSERT INTO `pinyin` VALUES ('15915', 'lin');\nINSERT INTO `pinyin` VALUES ('15920', 'lie');\nINSERT INTO `pinyin` VALUES ('15933', 'liao');\nINSERT INTO `pinyin` VALUES ('15944', 'liang');\nINSERT INTO `pinyin` VALUES ('15958', 'lian');\nINSERT INTO `pinyin` VALUES ('15959', 'lia');\nINSERT INTO `pinyin` VALUES ('16155', 'li');\nINSERT INTO `pinyin` VALUES ('16158', 'leng');\nINSERT INTO `pinyin` VALUES ('16169', 'lei');\nINSERT INTO `pinyin` VALUES ('16171', 'le');\nINSERT INTO `pinyin` VALUES ('16180', 'lao');\nINSERT INTO `pinyin` VALUES ('16187', 'lang');\nINSERT INTO `pinyin` VALUES ('16202', 'lan');\nINSERT INTO `pinyin` VALUES ('16205', 'lai');\nINSERT INTO `pinyin` VALUES ('16212', 'la');\nINSERT INTO `pinyin` VALUES ('16216', 'kuo');\nINSERT INTO `pinyin` VALUES ('16220', 'kun');\nINSERT INTO `pinyin` VALUES ('16393', 'kui');\nINSERT INTO `pinyin` VALUES ('16401', 'kuang');\nINSERT INTO `pinyin` VALUES ('16403', 'kuan');\nINSERT INTO `pinyin` VALUES ('16407', 'kuai');\nINSERT INTO `pinyin` VALUES ('16412', 'kua');\nINSERT INTO `pinyin` VALUES ('16419', 'ku');\nINSERT INTO `pinyin` VALUES ('16423', 'kou');\nINSERT INTO `pinyin` VALUES ('16427', 'kong');\nINSERT INTO `pinyin` VALUES ('16429', 'keng');\nINSERT INTO `pinyin` VALUES ('16433', 'ken');\nINSERT INTO `pinyin` VALUES ('16448', 'ke');\nINSERT INTO `pinyin` VALUES ('16452', 'kao');\nINSERT INTO `pinyin` VALUES ('16459', 'kang');\nINSERT INTO `pinyin` VALUES ('16465', 'kan');\nINSERT INTO `pinyin` VALUES ('16470', 'kai');\nINSERT INTO `pinyin` VALUES ('16474', 'ka');\nINSERT INTO `pinyin` VALUES ('16647', 'jun');\nINSERT INTO `pinyin` VALUES ('16657', 'jue');\nINSERT INTO `pinyin` VALUES ('16664', 'juan');\nINSERT INTO `pinyin` VALUES ('16689', 'ju');\nINSERT INTO `pinyin` VALUES ('16706', 'jiu');\nINSERT INTO `pinyin` VALUES ('16708', 'jiong');\nINSERT INTO `pinyin` VALUES ('16733', 'jing');\nINSERT INTO `pinyin` VALUES ('16915', 'jin');\nINSERT INTO `pinyin` VALUES ('16942', 'jie');\nINSERT INTO `pinyin` VALUES ('16970', 'jiao');\nINSERT INTO `pinyin` VALUES ('16983', 'jiang');\nINSERT INTO `pinyin` VALUES ('17185', 'jian');\nINSERT INTO `pinyin` VALUES ('17202', 'jia');\nINSERT INTO `pinyin` VALUES ('17417', 'ji');\nINSERT INTO `pinyin` VALUES ('17427', 'huo');\nINSERT INTO `pinyin` VALUES ('17433', 'hun');\nINSERT INTO `pinyin` VALUES ('17454', 'hui');\nINSERT INTO `pinyin` VALUES ('17468', 'huang');\nINSERT INTO `pinyin` VALUES ('17482', 'huan');\nINSERT INTO `pinyin` VALUES ('17487', 'huai');\nINSERT INTO `pinyin` VALUES ('17496', 'hua');\nINSERT INTO `pinyin` VALUES ('17676', 'hu');\nINSERT INTO `pinyin` VALUES ('17683', 'hou');\nINSERT INTO `pinyin` VALUES ('17692', 'hong');\nINSERT INTO `pinyin` VALUES ('17697', 'heng');\nINSERT INTO `pinyin` VALUES ('17701', 'hen');\nINSERT INTO `pinyin` VALUES ('17703', 'hei');\nINSERT INTO `pinyin` VALUES ('17721', 'he');\nINSERT INTO `pinyin` VALUES ('17730', 'hao');\nINSERT INTO `pinyin` VALUES ('17733', 'hang');\nINSERT INTO `pinyin` VALUES ('17752', 'han');\nINSERT INTO `pinyin` VALUES ('17759', 'hai');\nINSERT INTO `pinyin` VALUES ('17922', 'ha');\nINSERT INTO `pinyin` VALUES ('17928', 'guo');\nINSERT INTO `pinyin` VALUES ('17931', 'gun');\nINSERT INTO `pinyin` VALUES ('17947', 'gui');\nINSERT INTO `pinyin` VALUES ('17950', 'guang');\nINSERT INTO `pinyin` VALUES ('17961', 'guan');\nINSERT INTO `pinyin` VALUES ('17964', 'guai');\nINSERT INTO `pinyin` VALUES ('17970', 'gua');\nINSERT INTO `pinyin` VALUES ('17988', 'gu');\nINSERT INTO `pinyin` VALUES ('17997', 'gou');\nINSERT INTO `pinyin` VALUES ('18012', 'gong');\nINSERT INTO `pinyin` VALUES ('18181', 'geng');\nINSERT INTO `pinyin` VALUES ('18183', 'gen');\nINSERT INTO `pinyin` VALUES ('18184', 'gei');\nINSERT INTO `pinyin` VALUES ('18201', 'ge');\nINSERT INTO `pinyin` VALUES ('18211', 'gao');\nINSERT INTO `pinyin` VALUES ('18220', 'gang');\nINSERT INTO `pinyin` VALUES ('18231', 'gan');\nINSERT INTO `pinyin` VALUES ('18237', 'gai');\nINSERT INTO `pinyin` VALUES ('18239', 'ga');\nINSERT INTO `pinyin` VALUES ('18446', 'fu');\nINSERT INTO `pinyin` VALUES ('18447', 'fou');\nINSERT INTO `pinyin` VALUES ('18448', 'fo');\nINSERT INTO `pinyin` VALUES ('18463', 'feng');\nINSERT INTO `pinyin` VALUES ('18478', 'fen');\nINSERT INTO `pinyin` VALUES ('18490', 'fei');\nINSERT INTO `pinyin` VALUES ('18501', 'fang');\nINSERT INTO `pinyin` VALUES ('18518', 'fan');\nINSERT INTO `pinyin` VALUES ('18526', 'fa');\nINSERT INTO `pinyin` VALUES ('18696', 'er');\nINSERT INTO `pinyin` VALUES ('18697', 'en');\nINSERT INTO `pinyin` VALUES ('18710', 'e');\nINSERT INTO `pinyin` VALUES ('18722', 'duo');\nINSERT INTO `pinyin` VALUES ('18731', 'dun');\nINSERT INTO `pinyin` VALUES ('18735', 'dui');\nINSERT INTO `pinyin` VALUES ('18741', 'duan');\nINSERT INTO `pinyin` VALUES ('18756', 'du');\nINSERT INTO `pinyin` VALUES ('18763', 'dou');\nINSERT INTO `pinyin` VALUES ('18773', 'dong');\nINSERT INTO `pinyin` VALUES ('18774', 'diu');\nINSERT INTO `pinyin` VALUES ('18783', 'ding');\nINSERT INTO `pinyin` VALUES ('18952', 'die');\nINSERT INTO `pinyin` VALUES ('18961', 'diao');\nINSERT INTO `pinyin` VALUES ('18977', 'dian');\nINSERT INTO `pinyin` VALUES ('18996', 'di');\nINSERT INTO `pinyin` VALUES ('19003', 'deng');\nINSERT INTO `pinyin` VALUES ('19006', 'de');\nINSERT INTO `pinyin` VALUES ('19018', 'dao');\nINSERT INTO `pinyin` VALUES ('19023', 'dang');\nINSERT INTO `pinyin` VALUES ('19038', 'dan');\nINSERT INTO `pinyin` VALUES ('19212', 'dai');\nINSERT INTO `pinyin` VALUES ('19218', 'da');\nINSERT INTO `pinyin` VALUES ('19224', 'cuo');\nINSERT INTO `pinyin` VALUES ('19227', 'cun');\nINSERT INTO `pinyin` VALUES ('19235', 'cui');\nINSERT INTO `pinyin` VALUES ('19238', 'cuan');\nINSERT INTO `pinyin` VALUES ('19242', 'cu');\nINSERT INTO `pinyin` VALUES ('19243', 'cou');\nINSERT INTO `pinyin` VALUES ('19249', 'cong');\nINSERT INTO `pinyin` VALUES ('19261', 'ci');\nINSERT INTO `pinyin` VALUES ('19263', 'chuo');\nINSERT INTO `pinyin` VALUES ('19270', 'chun');\nINSERT INTO `pinyin` VALUES ('19275', 'chui');\nINSERT INTO `pinyin` VALUES ('19281', 'chuang');\nINSERT INTO `pinyin` VALUES ('19288', 'chuan');\nINSERT INTO `pinyin` VALUES ('19289', 'chuai');\nINSERT INTO `pinyin` VALUES ('19467', 'chu');\nINSERT INTO `pinyin` VALUES ('19479', 'chou');\nINSERT INTO `pinyin` VALUES ('19484', 'chong');\nINSERT INTO `pinyin` VALUES ('19500', 'chi');\nINSERT INTO `pinyin` VALUES ('19515', 'cheng');\nINSERT INTO `pinyin` VALUES ('19525', 'chen');\nINSERT INTO `pinyin` VALUES ('19531', 'che');\nINSERT INTO `pinyin` VALUES ('19540', 'chao');\nINSERT INTO `pinyin` VALUES ('19715', 'chang');\nINSERT INTO `pinyin` VALUES ('19725', 'chan');\nINSERT INTO `pinyin` VALUES ('19728', 'chai');\nINSERT INTO `pinyin` VALUES ('19739', 'cha');\nINSERT INTO `pinyin` VALUES ('19741', 'ceng');\nINSERT INTO `pinyin` VALUES ('19746', 'ce');\nINSERT INTO `pinyin` VALUES ('19751', 'cao');\nINSERT INTO `pinyin` VALUES ('19756', 'cang');\nINSERT INTO `pinyin` VALUES ('19763', 'can');\nINSERT INTO `pinyin` VALUES ('19774', 'cai');\nINSERT INTO `pinyin` VALUES ('19775', 'ca');\nINSERT INTO `pinyin` VALUES ('19784', 'bu');\nINSERT INTO `pinyin` VALUES ('19805', 'bo');\nINSERT INTO `pinyin` VALUES ('19976', 'bing');\nINSERT INTO `pinyin` VALUES ('19982', 'bin');\nINSERT INTO `pinyin` VALUES ('19986', 'bie');\nINSERT INTO `pinyin` VALUES ('19990', 'biao');\nINSERT INTO `pinyin` VALUES ('20002', 'bian');\nINSERT INTO `pinyin` VALUES ('20026', 'bi');\nINSERT INTO `pinyin` VALUES ('20032', 'beng');\nINSERT INTO `pinyin` VALUES ('20036', 'ben');\nINSERT INTO `pinyin` VALUES ('20051', 'bei');\nINSERT INTO `pinyin` VALUES ('20230', 'bao');\nINSERT INTO `pinyin` VALUES ('20242', 'bang');\nINSERT INTO `pinyin` VALUES ('20257', 'ban');\nINSERT INTO `pinyin` VALUES ('20265', 'bai');\nINSERT INTO `pinyin` VALUES ('20283', 'ba');\nINSERT INTO `pinyin` VALUES ('20292', 'ao');\nINSERT INTO `pinyin` VALUES ('20295', 'ang');\nINSERT INTO `pinyin` VALUES ('20304', 'an');\nINSERT INTO `pinyin` VALUES ('20317', 'ai');\nINSERT INTO `pinyin` VALUES ('20319', 'a');\n```\n\n\n### \n\n``` mysql\nselect f_to_pinyin(\"\");\n```\n","source":"_posts/2014/zh-cn-to-pinyin.md","raw":"---\ntitle: mysql\ndate: 2014-08-29 10:52:19\nupdated: 2016-08-29 10:52:19\ntags:\n- mysql\ncategories:\n---\n\n### mysql\n<!-- more -->\n``` mysql\n\nCREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk\nBEGIN\n    DECLARE mycode INT;\n    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;\n    DECLARE lcode INT;\n    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;\n    DECLARE rcode INT;\n    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT '';\n    DECLARE lp INT;\n    SET mycode = 0;\n    SET lp = 1;\n    SET NAME = HEX(NAME);\n    WHILE lp < LENGTH(NAME) DO\n        SET tmp_lcode = SUBSTRING(NAME, lp, 2);\n        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); \n        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);\n        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); \n        IF lcode > 128 THEN\n            SET mycode =65536 - lcode * 256 - rcode ;\n            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` >= ABS(mycode) ORDER BY `code` ASC LIMIT 1;\n            SET lp = lp + 4;\n        ELSE\n            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));\n            SET lp = lp + 2;\n        END IF;\n    END WHILE;\n    RETURN LOWER(mypy);\nEND\n```\n\n\n### ascii\n\n``` mysql\n\nCREATE TABLE `pinyin` (\n  `code` int(11) NOT NULL,\n  `py` varchar(10) CHARACTER SET gbk NOT NULL,\n  PRIMARY KEY (`code`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `pinyin` VALUES ('10254', 'zuo');\nINSERT INTO `pinyin` VALUES ('10256', 'zun');\nINSERT INTO `pinyin` VALUES ('10260', 'zui');\nINSERT INTO `pinyin` VALUES ('10262', 'zuan');\nINSERT INTO `pinyin` VALUES ('10270', 'zu');\nINSERT INTO `pinyin` VALUES ('10274', 'zou');\nINSERT INTO `pinyin` VALUES ('10281', 'zong');\nINSERT INTO `pinyin` VALUES ('10296', 'zi');\nINSERT INTO `pinyin` VALUES ('10307', 'zhuo');\nINSERT INTO `pinyin` VALUES ('10309', 'zhun');\nINSERT INTO `pinyin` VALUES ('10315', 'zhui');\nINSERT INTO `pinyin` VALUES ('10322', 'zhuang');\nINSERT INTO `pinyin` VALUES ('10328', 'zhuan');\nINSERT INTO `pinyin` VALUES ('10329', 'zhuai');\nINSERT INTO `pinyin` VALUES ('10331', 'zhua');\nINSERT INTO `pinyin` VALUES ('10519', 'zhu');\nINSERT INTO `pinyin` VALUES ('10533', 'zhou');\nINSERT INTO `pinyin` VALUES ('10544', 'zhong');\nINSERT INTO `pinyin` VALUES ('10587', 'zhi');\nINSERT INTO `pinyin` VALUES ('10764', 'zheng');\nINSERT INTO `pinyin` VALUES ('10780', 'zhen');\nINSERT INTO `pinyin` VALUES ('10790', 'zhe');\nINSERT INTO `pinyin` VALUES ('10800', 'zhao');\nINSERT INTO `pinyin` VALUES ('10815', 'zhang');\nINSERT INTO `pinyin` VALUES ('10832', 'zhan');\nINSERT INTO `pinyin` VALUES ('10838', 'zhai');\nINSERT INTO `pinyin` VALUES ('11014', 'zha');\nINSERT INTO `pinyin` VALUES ('11018', 'zeng');\nINSERT INTO `pinyin` VALUES ('11019', 'zen');\nINSERT INTO `pinyin` VALUES ('11020', 'zei');\nINSERT INTO `pinyin` VALUES ('11024', 'ze');\nINSERT INTO `pinyin` VALUES ('11038', 'zao');\nINSERT INTO `pinyin` VALUES ('11041', 'zang');\nINSERT INTO `pinyin` VALUES ('11045', 'zan');\nINSERT INTO `pinyin` VALUES ('11052', 'zai');\nINSERT INTO `pinyin` VALUES ('11055', 'za');\nINSERT INTO `pinyin` VALUES ('11067', 'yun');\nINSERT INTO `pinyin` VALUES ('11077', 'yue');\nINSERT INTO `pinyin` VALUES ('11097', 'yuan');\nINSERT INTO `pinyin` VALUES ('11303', 'yu');\nINSERT INTO `pinyin` VALUES ('11324', 'you');\nINSERT INTO `pinyin` VALUES ('11339', 'yong');\nINSERT INTO `pinyin` VALUES ('11340', 'yo');\nINSERT INTO `pinyin` VALUES ('11358', 'ying');\nINSERT INTO `pinyin` VALUES ('11536', 'yin');\nINSERT INTO `pinyin` VALUES ('11589', 'yi');\nINSERT INTO `pinyin` VALUES ('11604', 'ye');\nINSERT INTO `pinyin` VALUES ('11781', 'yao');\nINSERT INTO `pinyin` VALUES ('11798', 'yang');\nINSERT INTO `pinyin` VALUES ('11831', 'yan');\nINSERT INTO `pinyin` VALUES ('11847', 'ya');\nINSERT INTO `pinyin` VALUES ('11861', 'xun');\nINSERT INTO `pinyin` VALUES ('11867', 'xue');\nINSERT INTO `pinyin` VALUES ('12039', 'xuan');\nINSERT INTO `pinyin` VALUES ('12058', 'xu');\nINSERT INTO `pinyin` VALUES ('12067', 'xiu');\nINSERT INTO `pinyin` VALUES ('12074', 'xiong');\nINSERT INTO `pinyin` VALUES ('12089', 'xing');\nINSERT INTO `pinyin` VALUES ('12099', 'xin');\nINSERT INTO `pinyin` VALUES ('12120', 'xie');\nINSERT INTO `pinyin` VALUES ('12300', 'xiao');\nINSERT INTO `pinyin` VALUES ('12320', 'xiang');\nINSERT INTO `pinyin` VALUES ('12346', 'xian');\nINSERT INTO `pinyin` VALUES ('12359', 'xia');\nINSERT INTO `pinyin` VALUES ('12556', 'xi');\nINSERT INTO `pinyin` VALUES ('12585', 'wu');\nINSERT INTO `pinyin` VALUES ('12594', 'wo');\nINSERT INTO `pinyin` VALUES ('12597', 'weng');\nINSERT INTO `pinyin` VALUES ('12607', 'wen');\nINSERT INTO `pinyin` VALUES ('12802', 'wei');\nINSERT INTO `pinyin` VALUES ('12812', 'wang');\nINSERT INTO `pinyin` VALUES ('12829', 'wan');\nINSERT INTO `pinyin` VALUES ('12831', 'wai');\nINSERT INTO `pinyin` VALUES ('12838', 'wa');\nINSERT INTO `pinyin` VALUES ('12849', 'tuo');\nINSERT INTO `pinyin` VALUES ('12852', 'tun');\nINSERT INTO `pinyin` VALUES ('12858', 'tui');\nINSERT INTO `pinyin` VALUES ('12860', 'tuan');\nINSERT INTO `pinyin` VALUES ('12871', 'tu');\nINSERT INTO `pinyin` VALUES ('12875', 'tou');\nINSERT INTO `pinyin` VALUES ('12888', 'tong');\nINSERT INTO `pinyin` VALUES ('13060', 'ting');\nINSERT INTO `pinyin` VALUES ('13063', 'tie');\nINSERT INTO `pinyin` VALUES ('13068', 'tiao');\nINSERT INTO `pinyin` VALUES ('13076', 'tian');\nINSERT INTO `pinyin` VALUES ('13091', 'ti');\nINSERT INTO `pinyin` VALUES ('13095', 'teng');\nINSERT INTO `pinyin` VALUES ('13096', 'te');\nINSERT INTO `pinyin` VALUES ('13107', 'tao');\nINSERT INTO `pinyin` VALUES ('13120', 'tang');\nINSERT INTO `pinyin` VALUES ('13138', 'tan');\nINSERT INTO `pinyin` VALUES ('13147', 'tai');\nINSERT INTO `pinyin` VALUES ('13318', 'ta');\nINSERT INTO `pinyin` VALUES ('13326', 'suo');\nINSERT INTO `pinyin` VALUES ('13329', 'sun');\nINSERT INTO `pinyin` VALUES ('13340', 'sui');\nINSERT INTO `pinyin` VALUES ('13343', 'suan');\nINSERT INTO `pinyin` VALUES ('13356', 'su');\nINSERT INTO `pinyin` VALUES ('13359', 'sou');\nINSERT INTO `pinyin` VALUES ('13367', 'song');\nINSERT INTO `pinyin` VALUES ('13383', 'si');\nINSERT INTO `pinyin` VALUES ('13387', 'shuo');\nINSERT INTO `pinyin` VALUES ('13391', 'shun');\nINSERT INTO `pinyin` VALUES ('13395', 'shui');\nINSERT INTO `pinyin` VALUES ('13398', 'shuang');\nINSERT INTO `pinyin` VALUES ('13400', 'shuan');\nINSERT INTO `pinyin` VALUES ('13404', 'shuai');\nINSERT INTO `pinyin` VALUES ('13406', 'shua');\nINSERT INTO `pinyin` VALUES ('13601', 'shu');\nINSERT INTO `pinyin` VALUES ('13611', 'shou');\nINSERT INTO `pinyin` VALUES ('13658', 'shi');\nINSERT INTO `pinyin` VALUES ('13831', 'sheng');\nINSERT INTO `pinyin` VALUES ('13847', 'shen');\nINSERT INTO `pinyin` VALUES ('13859', 'she');\nINSERT INTO `pinyin` VALUES ('13870', 'shao');\nINSERT INTO `pinyin` VALUES ('13878', 'shang');\nINSERT INTO `pinyin` VALUES ('13894', 'shan');\nINSERT INTO `pinyin` VALUES ('13896', 'shai');\nINSERT INTO `pinyin` VALUES ('13905', 'sha');\nINSERT INTO `pinyin` VALUES ('13906', 'seng');\nINSERT INTO `pinyin` VALUES ('13907', 'sen');\nINSERT INTO `pinyin` VALUES ('13910', 'se');\nINSERT INTO `pinyin` VALUES ('13914', 'sao');\nINSERT INTO `pinyin` VALUES ('13917', 'sang');\nINSERT INTO `pinyin` VALUES ('14083', 'san');\nINSERT INTO `pinyin` VALUES ('14087', 'sai');\nINSERT INTO `pinyin` VALUES ('14090', 'sa');\nINSERT INTO `pinyin` VALUES ('14092', 'ruo');\nINSERT INTO `pinyin` VALUES ('14094', 'run');\nINSERT INTO `pinyin` VALUES ('14097', 'rui');\nINSERT INTO `pinyin` VALUES ('14099', 'ruan');\nINSERT INTO `pinyin` VALUES ('14109', 'ru');\nINSERT INTO `pinyin` VALUES ('14112', 'rou');\nINSERT INTO `pinyin` VALUES ('14122', 'rong');\nINSERT INTO `pinyin` VALUES ('14123', 'ri');\nINSERT INTO `pinyin` VALUES ('14125', 'reng');\nINSERT INTO `pinyin` VALUES ('14135', 'ren');\nINSERT INTO `pinyin` VALUES ('14137', 're');\nINSERT INTO `pinyin` VALUES ('14140', 'rao');\nINSERT INTO `pinyin` VALUES ('14145', 'rang');\nINSERT INTO `pinyin` VALUES ('14149', 'ran');\nINSERT INTO `pinyin` VALUES ('14151', 'qun');\nINSERT INTO `pinyin` VALUES ('14159', 'que');\nINSERT INTO `pinyin` VALUES ('14170', 'quan');\nINSERT INTO `pinyin` VALUES ('14345', 'qu');\nINSERT INTO `pinyin` VALUES ('14353', 'qiu');\nINSERT INTO `pinyin` VALUES ('14355', 'qiong');\nINSERT INTO `pinyin` VALUES ('14368', 'qing');\nINSERT INTO `pinyin` VALUES ('14379', 'qin');\nINSERT INTO `pinyin` VALUES ('14384', 'qie');\nINSERT INTO `pinyin` VALUES ('14399', 'qiao');\nINSERT INTO `pinyin` VALUES ('14407', 'qiang');\nINSERT INTO `pinyin` VALUES ('14429', 'qian');\nINSERT INTO `pinyin` VALUES ('14594', 'qia');\nINSERT INTO `pinyin` VALUES ('14630', 'qi');\nINSERT INTO `pinyin` VALUES ('14645', 'pu');\nINSERT INTO `pinyin` VALUES ('14654', 'po');\nINSERT INTO `pinyin` VALUES ('14663', 'ping');\nINSERT INTO `pinyin` VALUES ('14668', 'pin');\nINSERT INTO `pinyin` VALUES ('14670', 'pie');\nINSERT INTO `pinyin` VALUES ('14674', 'piao');\nINSERT INTO `pinyin` VALUES ('14678', 'pian');\nINSERT INTO `pinyin` VALUES ('14857', 'pi');\nINSERT INTO `pinyin` VALUES ('14871', 'peng');\nINSERT INTO `pinyin` VALUES ('14873', 'pen');\nINSERT INTO `pinyin` VALUES ('14882', 'pei');\nINSERT INTO `pinyin` VALUES ('14889', 'pao');\nINSERT INTO `pinyin` VALUES ('14894', 'pang');\nINSERT INTO `pinyin` VALUES ('14902', 'pan');\nINSERT INTO `pinyin` VALUES ('14908', 'pai');\nINSERT INTO `pinyin` VALUES ('14914', 'pa');\nINSERT INTO `pinyin` VALUES ('14921', 'ou');\nINSERT INTO `pinyin` VALUES ('14922', 'o');\nINSERT INTO `pinyin` VALUES ('14926', 'nuo');\nINSERT INTO `pinyin` VALUES ('14928', 'nue');\nINSERT INTO `pinyin` VALUES ('14929', 'nuan');\nINSERT INTO `pinyin` VALUES ('14930', 'nv');\nINSERT INTO `pinyin` VALUES ('14933', 'nu');\nINSERT INTO `pinyin` VALUES ('14937', 'nong');\nINSERT INTO `pinyin` VALUES ('14941', 'niu');\nINSERT INTO `pinyin` VALUES ('15109', 'ning');\nINSERT INTO `pinyin` VALUES ('15110', 'nin');\nINSERT INTO `pinyin` VALUES ('15117', 'nie');\nINSERT INTO `pinyin` VALUES ('15119', 'niao');\nINSERT INTO `pinyin` VALUES ('15121', 'niang');\nINSERT INTO `pinyin` VALUES ('15128', 'nian');\nINSERT INTO `pinyin` VALUES ('15139', 'ni');\nINSERT INTO `pinyin` VALUES ('15140', 'neng');\nINSERT INTO `pinyin` VALUES ('15141', 'nen');\nINSERT INTO `pinyin` VALUES ('15143', 'nei');\nINSERT INTO `pinyin` VALUES ('15144', 'ne');\nINSERT INTO `pinyin` VALUES ('15149', 'nao');\nINSERT INTO `pinyin` VALUES ('15150', 'nang');\nINSERT INTO `pinyin` VALUES ('15153', 'nan');\nINSERT INTO `pinyin` VALUES ('15158', 'nai');\nINSERT INTO `pinyin` VALUES ('15165', 'na');\nINSERT INTO `pinyin` VALUES ('15180', 'mu');\nINSERT INTO `pinyin` VALUES ('15183', 'mou');\nINSERT INTO `pinyin` VALUES ('15362', 'mo');\nINSERT INTO `pinyin` VALUES ('15363', 'miu');\nINSERT INTO `pinyin` VALUES ('15369', 'ming');\nINSERT INTO `pinyin` VALUES ('15375', 'min');\nINSERT INTO `pinyin` VALUES ('15377', 'mie');\nINSERT INTO `pinyin` VALUES ('15385', 'miao');\nINSERT INTO `pinyin` VALUES ('15394', 'mian');\nINSERT INTO `pinyin` VALUES ('15408', 'mi');\nINSERT INTO `pinyin` VALUES ('15416', 'meng');\nINSERT INTO `pinyin` VALUES ('15419', 'men');\nINSERT INTO `pinyin` VALUES ('15435', 'mei');\nINSERT INTO `pinyin` VALUES ('15436', 'me');\nINSERT INTO `pinyin` VALUES ('15448', 'mao');\nINSERT INTO `pinyin` VALUES ('15454', 'mang');\nINSERT INTO `pinyin` VALUES ('15625', 'man');\nINSERT INTO `pinyin` VALUES ('15631', 'mai');\nINSERT INTO `pinyin` VALUES ('15640', 'ma');\nINSERT INTO `pinyin` VALUES ('15652', 'luo');\nINSERT INTO `pinyin` VALUES ('15659', 'lun');\nINSERT INTO `pinyin` VALUES ('15661', 'lue');\nINSERT INTO `pinyin` VALUES ('15667', 'luan');\nINSERT INTO `pinyin` VALUES ('15681', 'lv');\nINSERT INTO `pinyin` VALUES ('15701', 'lu');\nINSERT INTO `pinyin` VALUES ('15707', 'lou');\nINSERT INTO `pinyin` VALUES ('15878', 'long');\nINSERT INTO `pinyin` VALUES ('15889', 'liu');\nINSERT INTO `pinyin` VALUES ('15903', 'ling');\nINSERT INTO `pinyin` VALUES ('15915', 'lin');\nINSERT INTO `pinyin` VALUES ('15920', 'lie');\nINSERT INTO `pinyin` VALUES ('15933', 'liao');\nINSERT INTO `pinyin` VALUES ('15944', 'liang');\nINSERT INTO `pinyin` VALUES ('15958', 'lian');\nINSERT INTO `pinyin` VALUES ('15959', 'lia');\nINSERT INTO `pinyin` VALUES ('16155', 'li');\nINSERT INTO `pinyin` VALUES ('16158', 'leng');\nINSERT INTO `pinyin` VALUES ('16169', 'lei');\nINSERT INTO `pinyin` VALUES ('16171', 'le');\nINSERT INTO `pinyin` VALUES ('16180', 'lao');\nINSERT INTO `pinyin` VALUES ('16187', 'lang');\nINSERT INTO `pinyin` VALUES ('16202', 'lan');\nINSERT INTO `pinyin` VALUES ('16205', 'lai');\nINSERT INTO `pinyin` VALUES ('16212', 'la');\nINSERT INTO `pinyin` VALUES ('16216', 'kuo');\nINSERT INTO `pinyin` VALUES ('16220', 'kun');\nINSERT INTO `pinyin` VALUES ('16393', 'kui');\nINSERT INTO `pinyin` VALUES ('16401', 'kuang');\nINSERT INTO `pinyin` VALUES ('16403', 'kuan');\nINSERT INTO `pinyin` VALUES ('16407', 'kuai');\nINSERT INTO `pinyin` VALUES ('16412', 'kua');\nINSERT INTO `pinyin` VALUES ('16419', 'ku');\nINSERT INTO `pinyin` VALUES ('16423', 'kou');\nINSERT INTO `pinyin` VALUES ('16427', 'kong');\nINSERT INTO `pinyin` VALUES ('16429', 'keng');\nINSERT INTO `pinyin` VALUES ('16433', 'ken');\nINSERT INTO `pinyin` VALUES ('16448', 'ke');\nINSERT INTO `pinyin` VALUES ('16452', 'kao');\nINSERT INTO `pinyin` VALUES ('16459', 'kang');\nINSERT INTO `pinyin` VALUES ('16465', 'kan');\nINSERT INTO `pinyin` VALUES ('16470', 'kai');\nINSERT INTO `pinyin` VALUES ('16474', 'ka');\nINSERT INTO `pinyin` VALUES ('16647', 'jun');\nINSERT INTO `pinyin` VALUES ('16657', 'jue');\nINSERT INTO `pinyin` VALUES ('16664', 'juan');\nINSERT INTO `pinyin` VALUES ('16689', 'ju');\nINSERT INTO `pinyin` VALUES ('16706', 'jiu');\nINSERT INTO `pinyin` VALUES ('16708', 'jiong');\nINSERT INTO `pinyin` VALUES ('16733', 'jing');\nINSERT INTO `pinyin` VALUES ('16915', 'jin');\nINSERT INTO `pinyin` VALUES ('16942', 'jie');\nINSERT INTO `pinyin` VALUES ('16970', 'jiao');\nINSERT INTO `pinyin` VALUES ('16983', 'jiang');\nINSERT INTO `pinyin` VALUES ('17185', 'jian');\nINSERT INTO `pinyin` VALUES ('17202', 'jia');\nINSERT INTO `pinyin` VALUES ('17417', 'ji');\nINSERT INTO `pinyin` VALUES ('17427', 'huo');\nINSERT INTO `pinyin` VALUES ('17433', 'hun');\nINSERT INTO `pinyin` VALUES ('17454', 'hui');\nINSERT INTO `pinyin` VALUES ('17468', 'huang');\nINSERT INTO `pinyin` VALUES ('17482', 'huan');\nINSERT INTO `pinyin` VALUES ('17487', 'huai');\nINSERT INTO `pinyin` VALUES ('17496', 'hua');\nINSERT INTO `pinyin` VALUES ('17676', 'hu');\nINSERT INTO `pinyin` VALUES ('17683', 'hou');\nINSERT INTO `pinyin` VALUES ('17692', 'hong');\nINSERT INTO `pinyin` VALUES ('17697', 'heng');\nINSERT INTO `pinyin` VALUES ('17701', 'hen');\nINSERT INTO `pinyin` VALUES ('17703', 'hei');\nINSERT INTO `pinyin` VALUES ('17721', 'he');\nINSERT INTO `pinyin` VALUES ('17730', 'hao');\nINSERT INTO `pinyin` VALUES ('17733', 'hang');\nINSERT INTO `pinyin` VALUES ('17752', 'han');\nINSERT INTO `pinyin` VALUES ('17759', 'hai');\nINSERT INTO `pinyin` VALUES ('17922', 'ha');\nINSERT INTO `pinyin` VALUES ('17928', 'guo');\nINSERT INTO `pinyin` VALUES ('17931', 'gun');\nINSERT INTO `pinyin` VALUES ('17947', 'gui');\nINSERT INTO `pinyin` VALUES ('17950', 'guang');\nINSERT INTO `pinyin` VALUES ('17961', 'guan');\nINSERT INTO `pinyin` VALUES ('17964', 'guai');\nINSERT INTO `pinyin` VALUES ('17970', 'gua');\nINSERT INTO `pinyin` VALUES ('17988', 'gu');\nINSERT INTO `pinyin` VALUES ('17997', 'gou');\nINSERT INTO `pinyin` VALUES ('18012', 'gong');\nINSERT INTO `pinyin` VALUES ('18181', 'geng');\nINSERT INTO `pinyin` VALUES ('18183', 'gen');\nINSERT INTO `pinyin` VALUES ('18184', 'gei');\nINSERT INTO `pinyin` VALUES ('18201', 'ge');\nINSERT INTO `pinyin` VALUES ('18211', 'gao');\nINSERT INTO `pinyin` VALUES ('18220', 'gang');\nINSERT INTO `pinyin` VALUES ('18231', 'gan');\nINSERT INTO `pinyin` VALUES ('18237', 'gai');\nINSERT INTO `pinyin` VALUES ('18239', 'ga');\nINSERT INTO `pinyin` VALUES ('18446', 'fu');\nINSERT INTO `pinyin` VALUES ('18447', 'fou');\nINSERT INTO `pinyin` VALUES ('18448', 'fo');\nINSERT INTO `pinyin` VALUES ('18463', 'feng');\nINSERT INTO `pinyin` VALUES ('18478', 'fen');\nINSERT INTO `pinyin` VALUES ('18490', 'fei');\nINSERT INTO `pinyin` VALUES ('18501', 'fang');\nINSERT INTO `pinyin` VALUES ('18518', 'fan');\nINSERT INTO `pinyin` VALUES ('18526', 'fa');\nINSERT INTO `pinyin` VALUES ('18696', 'er');\nINSERT INTO `pinyin` VALUES ('18697', 'en');\nINSERT INTO `pinyin` VALUES ('18710', 'e');\nINSERT INTO `pinyin` VALUES ('18722', 'duo');\nINSERT INTO `pinyin` VALUES ('18731', 'dun');\nINSERT INTO `pinyin` VALUES ('18735', 'dui');\nINSERT INTO `pinyin` VALUES ('18741', 'duan');\nINSERT INTO `pinyin` VALUES ('18756', 'du');\nINSERT INTO `pinyin` VALUES ('18763', 'dou');\nINSERT INTO `pinyin` VALUES ('18773', 'dong');\nINSERT INTO `pinyin` VALUES ('18774', 'diu');\nINSERT INTO `pinyin` VALUES ('18783', 'ding');\nINSERT INTO `pinyin` VALUES ('18952', 'die');\nINSERT INTO `pinyin` VALUES ('18961', 'diao');\nINSERT INTO `pinyin` VALUES ('18977', 'dian');\nINSERT INTO `pinyin` VALUES ('18996', 'di');\nINSERT INTO `pinyin` VALUES ('19003', 'deng');\nINSERT INTO `pinyin` VALUES ('19006', 'de');\nINSERT INTO `pinyin` VALUES ('19018', 'dao');\nINSERT INTO `pinyin` VALUES ('19023', 'dang');\nINSERT INTO `pinyin` VALUES ('19038', 'dan');\nINSERT INTO `pinyin` VALUES ('19212', 'dai');\nINSERT INTO `pinyin` VALUES ('19218', 'da');\nINSERT INTO `pinyin` VALUES ('19224', 'cuo');\nINSERT INTO `pinyin` VALUES ('19227', 'cun');\nINSERT INTO `pinyin` VALUES ('19235', 'cui');\nINSERT INTO `pinyin` VALUES ('19238', 'cuan');\nINSERT INTO `pinyin` VALUES ('19242', 'cu');\nINSERT INTO `pinyin` VALUES ('19243', 'cou');\nINSERT INTO `pinyin` VALUES ('19249', 'cong');\nINSERT INTO `pinyin` VALUES ('19261', 'ci');\nINSERT INTO `pinyin` VALUES ('19263', 'chuo');\nINSERT INTO `pinyin` VALUES ('19270', 'chun');\nINSERT INTO `pinyin` VALUES ('19275', 'chui');\nINSERT INTO `pinyin` VALUES ('19281', 'chuang');\nINSERT INTO `pinyin` VALUES ('19288', 'chuan');\nINSERT INTO `pinyin` VALUES ('19289', 'chuai');\nINSERT INTO `pinyin` VALUES ('19467', 'chu');\nINSERT INTO `pinyin` VALUES ('19479', 'chou');\nINSERT INTO `pinyin` VALUES ('19484', 'chong');\nINSERT INTO `pinyin` VALUES ('19500', 'chi');\nINSERT INTO `pinyin` VALUES ('19515', 'cheng');\nINSERT INTO `pinyin` VALUES ('19525', 'chen');\nINSERT INTO `pinyin` VALUES ('19531', 'che');\nINSERT INTO `pinyin` VALUES ('19540', 'chao');\nINSERT INTO `pinyin` VALUES ('19715', 'chang');\nINSERT INTO `pinyin` VALUES ('19725', 'chan');\nINSERT INTO `pinyin` VALUES ('19728', 'chai');\nINSERT INTO `pinyin` VALUES ('19739', 'cha');\nINSERT INTO `pinyin` VALUES ('19741', 'ceng');\nINSERT INTO `pinyin` VALUES ('19746', 'ce');\nINSERT INTO `pinyin` VALUES ('19751', 'cao');\nINSERT INTO `pinyin` VALUES ('19756', 'cang');\nINSERT INTO `pinyin` VALUES ('19763', 'can');\nINSERT INTO `pinyin` VALUES ('19774', 'cai');\nINSERT INTO `pinyin` VALUES ('19775', 'ca');\nINSERT INTO `pinyin` VALUES ('19784', 'bu');\nINSERT INTO `pinyin` VALUES ('19805', 'bo');\nINSERT INTO `pinyin` VALUES ('19976', 'bing');\nINSERT INTO `pinyin` VALUES ('19982', 'bin');\nINSERT INTO `pinyin` VALUES ('19986', 'bie');\nINSERT INTO `pinyin` VALUES ('19990', 'biao');\nINSERT INTO `pinyin` VALUES ('20002', 'bian');\nINSERT INTO `pinyin` VALUES ('20026', 'bi');\nINSERT INTO `pinyin` VALUES ('20032', 'beng');\nINSERT INTO `pinyin` VALUES ('20036', 'ben');\nINSERT INTO `pinyin` VALUES ('20051', 'bei');\nINSERT INTO `pinyin` VALUES ('20230', 'bao');\nINSERT INTO `pinyin` VALUES ('20242', 'bang');\nINSERT INTO `pinyin` VALUES ('20257', 'ban');\nINSERT INTO `pinyin` VALUES ('20265', 'bai');\nINSERT INTO `pinyin` VALUES ('20283', 'ba');\nINSERT INTO `pinyin` VALUES ('20292', 'ao');\nINSERT INTO `pinyin` VALUES ('20295', 'ang');\nINSERT INTO `pinyin` VALUES ('20304', 'an');\nINSERT INTO `pinyin` VALUES ('20317', 'ai');\nINSERT INTO `pinyin` VALUES ('20319', 'a');\n```\n\n\n### \n\n``` mysql\nselect f_to_pinyin(\"\");\n```\n","slug":"zh-cn-to-pinyin","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsk000pcwnnf1289smm","content":"<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk</span><br><span class=\"line\">BEGIN</span><br><span class=\"line\">    DECLARE mycode INT;</span><br><span class=\"line\">    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE lcode INT;</span><br><span class=\"line\">    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE rcode INT;</span><br><span class=\"line\">    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT &apos;&apos;;</span><br><span class=\"line\">    DECLARE lp INT;</span><br><span class=\"line\">    SET mycode = 0;</span><br><span class=\"line\">    SET lp = 1;</span><br><span class=\"line\">    SET NAME = HEX(NAME);</span><br><span class=\"line\">    WHILE lp &lt; LENGTH(NAME) DO</span><br><span class=\"line\">        SET tmp_lcode = SUBSTRING(NAME, lp, 2);</span><br><span class=\"line\">        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); </span><br><span class=\"line\">        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);</span><br><span class=\"line\">        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); </span><br><span class=\"line\">        IF lcode &gt; 128 THEN</span><br><span class=\"line\">            SET mycode =65536 - lcode * 256 - rcode ;</span><br><span class=\"line\">            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` &gt;= ABS(mycode) ORDER BY `code` ASC LIMIT 1;</span><br><span class=\"line\">            SET lp = lp + 4;</span><br><span class=\"line\">        ELSE</span><br><span class=\"line\">            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));</span><br><span class=\"line\">            SET lp = lp + 2;</span><br><span class=\"line\">        END IF;</span><br><span class=\"line\">    END WHILE;</span><br><span class=\"line\">    RETURN LOWER(mypy);</span><br><span class=\"line\">END</span><br></pre></td></tr></table></figure>\n<h3 id=\"ascii\"><a href=\"#ascii\" class=\"headerlink\" title=\"ascii\"></a>ascii</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE `pinyin` (</span><br><span class=\"line\">  `code` int(11) NOT NULL,</span><br><span class=\"line\">  `py` varchar(10) CHARACTER SET gbk NOT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`code`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10254&apos;, &apos;zuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10256&apos;, &apos;zun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10260&apos;, &apos;zui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10262&apos;, &apos;zuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10270&apos;, &apos;zu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10274&apos;, &apos;zou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10281&apos;, &apos;zong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10296&apos;, &apos;zi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10307&apos;, &apos;zhuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10309&apos;, &apos;zhun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10315&apos;, &apos;zhui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10322&apos;, &apos;zhuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10328&apos;, &apos;zhuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10329&apos;, &apos;zhuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10331&apos;, &apos;zhua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10519&apos;, &apos;zhu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10533&apos;, &apos;zhou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10544&apos;, &apos;zhong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10587&apos;, &apos;zhi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10764&apos;, &apos;zheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10780&apos;, &apos;zhen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10790&apos;, &apos;zhe&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10800&apos;, &apos;zhao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10815&apos;, &apos;zhang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10832&apos;, &apos;zhan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10838&apos;, &apos;zhai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11014&apos;, &apos;zha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11018&apos;, &apos;zeng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11019&apos;, &apos;zen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11020&apos;, &apos;zei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11024&apos;, &apos;ze&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11038&apos;, &apos;zao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11041&apos;, &apos;zang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11045&apos;, &apos;zan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11052&apos;, &apos;zai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11055&apos;, &apos;za&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11067&apos;, &apos;yun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11077&apos;, &apos;yue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11097&apos;, &apos;yuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11303&apos;, &apos;yu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11324&apos;, &apos;you&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11339&apos;, &apos;yong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11340&apos;, &apos;yo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11358&apos;, &apos;ying&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11536&apos;, &apos;yin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11589&apos;, &apos;yi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11604&apos;, &apos;ye&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11781&apos;, &apos;yao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11798&apos;, &apos;yang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11831&apos;, &apos;yan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11847&apos;, &apos;ya&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11861&apos;, &apos;xun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11867&apos;, &apos;xue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12039&apos;, &apos;xuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12058&apos;, &apos;xu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12067&apos;, &apos;xiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12074&apos;, &apos;xiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12089&apos;, &apos;xing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12099&apos;, &apos;xin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12120&apos;, &apos;xie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12300&apos;, &apos;xiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12320&apos;, &apos;xiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12346&apos;, &apos;xian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12359&apos;, &apos;xia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12556&apos;, &apos;xi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12585&apos;, &apos;wu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12594&apos;, &apos;wo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12597&apos;, &apos;weng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12607&apos;, &apos;wen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12802&apos;, &apos;wei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12812&apos;, &apos;wang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12829&apos;, &apos;wan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12831&apos;, &apos;wai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12838&apos;, &apos;wa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12849&apos;, &apos;tuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12852&apos;, &apos;tun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12858&apos;, &apos;tui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12860&apos;, &apos;tuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12871&apos;, &apos;tu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12875&apos;, &apos;tou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12888&apos;, &apos;tong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13060&apos;, &apos;ting&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13063&apos;, &apos;tie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13068&apos;, &apos;tiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13076&apos;, &apos;tian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13091&apos;, &apos;ti&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13095&apos;, &apos;teng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13096&apos;, &apos;te&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13107&apos;, &apos;tao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13120&apos;, &apos;tang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13138&apos;, &apos;tan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13147&apos;, &apos;tai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13318&apos;, &apos;ta&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13326&apos;, &apos;suo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13329&apos;, &apos;sun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13340&apos;, &apos;sui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13343&apos;, &apos;suan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13356&apos;, &apos;su&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13359&apos;, &apos;sou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13367&apos;, &apos;song&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13383&apos;, &apos;si&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13387&apos;, &apos;shuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13391&apos;, &apos;shun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13395&apos;, &apos;shui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13398&apos;, &apos;shuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13400&apos;, &apos;shuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13404&apos;, &apos;shuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13406&apos;, &apos;shua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13601&apos;, &apos;shu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13611&apos;, &apos;shou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13658&apos;, &apos;shi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13831&apos;, &apos;sheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13847&apos;, &apos;shen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13859&apos;, &apos;she&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13870&apos;, &apos;shao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13878&apos;, &apos;shang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13894&apos;, &apos;shan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13896&apos;, &apos;shai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13905&apos;, &apos;sha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13906&apos;, &apos;seng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13907&apos;, &apos;sen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13910&apos;, &apos;se&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13914&apos;, &apos;sao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13917&apos;, &apos;sang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14083&apos;, &apos;san&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14087&apos;, &apos;sai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14090&apos;, &apos;sa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14092&apos;, &apos;ruo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14094&apos;, &apos;run&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14097&apos;, &apos;rui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14099&apos;, &apos;ruan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14109&apos;, &apos;ru&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14112&apos;, &apos;rou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14122&apos;, &apos;rong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14123&apos;, &apos;ri&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14125&apos;, &apos;reng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14135&apos;, &apos;ren&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14137&apos;, &apos;re&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14140&apos;, &apos;rao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14145&apos;, &apos;rang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14149&apos;, &apos;ran&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14151&apos;, &apos;qun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14159&apos;, &apos;que&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14170&apos;, &apos;quan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14345&apos;, &apos;qu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14353&apos;, &apos;qiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14355&apos;, &apos;qiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14368&apos;, &apos;qing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14379&apos;, &apos;qin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14384&apos;, &apos;qie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14399&apos;, &apos;qiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14407&apos;, &apos;qiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14429&apos;, &apos;qian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14594&apos;, &apos;qia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14630&apos;, &apos;qi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14645&apos;, &apos;pu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14654&apos;, &apos;po&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14663&apos;, &apos;ping&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14668&apos;, &apos;pin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14670&apos;, &apos;pie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14674&apos;, &apos;piao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14678&apos;, &apos;pian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14857&apos;, &apos;pi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14871&apos;, &apos;peng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14873&apos;, &apos;pen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14882&apos;, &apos;pei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14889&apos;, &apos;pao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14894&apos;, &apos;pang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14902&apos;, &apos;pan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14908&apos;, &apos;pai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14914&apos;, &apos;pa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14921&apos;, &apos;ou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14922&apos;, &apos;o&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14926&apos;, &apos;nuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14928&apos;, &apos;nue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14929&apos;, &apos;nuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14930&apos;, &apos;nv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14933&apos;, &apos;nu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14937&apos;, &apos;nong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14941&apos;, &apos;niu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15109&apos;, &apos;ning&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15110&apos;, &apos;nin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15117&apos;, &apos;nie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15119&apos;, &apos;niao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15121&apos;, &apos;niang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15128&apos;, &apos;nian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15139&apos;, &apos;ni&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15140&apos;, &apos;neng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15141&apos;, &apos;nen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15143&apos;, &apos;nei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15144&apos;, &apos;ne&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15149&apos;, &apos;nao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15150&apos;, &apos;nang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15153&apos;, &apos;nan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15158&apos;, &apos;nai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15165&apos;, &apos;na&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15180&apos;, &apos;mu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15183&apos;, &apos;mou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15362&apos;, &apos;mo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15363&apos;, &apos;miu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15369&apos;, &apos;ming&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15375&apos;, &apos;min&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15377&apos;, &apos;mie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15385&apos;, &apos;miao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15394&apos;, &apos;mian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15408&apos;, &apos;mi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15416&apos;, &apos;meng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15419&apos;, &apos;men&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15435&apos;, &apos;mei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15436&apos;, &apos;me&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15448&apos;, &apos;mao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15454&apos;, &apos;mang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15625&apos;, &apos;man&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15631&apos;, &apos;mai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15640&apos;, &apos;ma&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15652&apos;, &apos;luo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15659&apos;, &apos;lun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15661&apos;, &apos;lue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15667&apos;, &apos;luan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15681&apos;, &apos;lv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15701&apos;, &apos;lu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15707&apos;, &apos;lou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15878&apos;, &apos;long&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15889&apos;, &apos;liu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15903&apos;, &apos;ling&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15915&apos;, &apos;lin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15920&apos;, &apos;lie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15933&apos;, &apos;liao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15944&apos;, &apos;liang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15958&apos;, &apos;lian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15959&apos;, &apos;lia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16155&apos;, &apos;li&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16158&apos;, &apos;leng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16169&apos;, &apos;lei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16171&apos;, &apos;le&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16180&apos;, &apos;lao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16187&apos;, &apos;lang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16202&apos;, &apos;lan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16205&apos;, &apos;lai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16212&apos;, &apos;la&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16216&apos;, &apos;kuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16220&apos;, &apos;kun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16393&apos;, &apos;kui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16401&apos;, &apos;kuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16403&apos;, &apos;kuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16407&apos;, &apos;kuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16412&apos;, &apos;kua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16419&apos;, &apos;ku&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16423&apos;, &apos;kou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16427&apos;, &apos;kong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16429&apos;, &apos;keng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16433&apos;, &apos;ken&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16448&apos;, &apos;ke&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16452&apos;, &apos;kao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16459&apos;, &apos;kang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16465&apos;, &apos;kan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16470&apos;, &apos;kai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16474&apos;, &apos;ka&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16647&apos;, &apos;jun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16657&apos;, &apos;jue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16664&apos;, &apos;juan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16689&apos;, &apos;ju&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16706&apos;, &apos;jiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16708&apos;, &apos;jiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16733&apos;, &apos;jing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16915&apos;, &apos;jin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16942&apos;, &apos;jie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16970&apos;, &apos;jiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16983&apos;, &apos;jiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17185&apos;, &apos;jian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17202&apos;, &apos;jia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17417&apos;, &apos;ji&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17427&apos;, &apos;huo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17433&apos;, &apos;hun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17454&apos;, &apos;hui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17468&apos;, &apos;huang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17482&apos;, &apos;huan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17487&apos;, &apos;huai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17496&apos;, &apos;hua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17676&apos;, &apos;hu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17683&apos;, &apos;hou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17692&apos;, &apos;hong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17697&apos;, &apos;heng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17701&apos;, &apos;hen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17703&apos;, &apos;hei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17721&apos;, &apos;he&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17730&apos;, &apos;hao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17733&apos;, &apos;hang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17752&apos;, &apos;han&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17759&apos;, &apos;hai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17922&apos;, &apos;ha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17928&apos;, &apos;guo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17931&apos;, &apos;gun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17947&apos;, &apos;gui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17950&apos;, &apos;guang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17961&apos;, &apos;guan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17964&apos;, &apos;guai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17970&apos;, &apos;gua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17988&apos;, &apos;gu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17997&apos;, &apos;gou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18012&apos;, &apos;gong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18181&apos;, &apos;geng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18183&apos;, &apos;gen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18184&apos;, &apos;gei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18201&apos;, &apos;ge&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18211&apos;, &apos;gao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18220&apos;, &apos;gang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18231&apos;, &apos;gan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18237&apos;, &apos;gai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18239&apos;, &apos;ga&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18446&apos;, &apos;fu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18447&apos;, &apos;fou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18448&apos;, &apos;fo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18463&apos;, &apos;feng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18478&apos;, &apos;fen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18490&apos;, &apos;fei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18501&apos;, &apos;fang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18518&apos;, &apos;fan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18526&apos;, &apos;fa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18696&apos;, &apos;er&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18697&apos;, &apos;en&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18710&apos;, &apos;e&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18722&apos;, &apos;duo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18731&apos;, &apos;dun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18735&apos;, &apos;dui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18741&apos;, &apos;duan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18756&apos;, &apos;du&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18763&apos;, &apos;dou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18773&apos;, &apos;dong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18774&apos;, &apos;diu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18783&apos;, &apos;ding&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18952&apos;, &apos;die&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18961&apos;, &apos;diao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18977&apos;, &apos;dian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18996&apos;, &apos;di&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19003&apos;, &apos;deng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19006&apos;, &apos;de&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19018&apos;, &apos;dao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19023&apos;, &apos;dang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19038&apos;, &apos;dan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19212&apos;, &apos;dai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19218&apos;, &apos;da&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19224&apos;, &apos;cuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19227&apos;, &apos;cun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19235&apos;, &apos;cui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19238&apos;, &apos;cuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19242&apos;, &apos;cu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19243&apos;, &apos;cou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19249&apos;, &apos;cong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19261&apos;, &apos;ci&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19263&apos;, &apos;chuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19270&apos;, &apos;chun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19275&apos;, &apos;chui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19281&apos;, &apos;chuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19288&apos;, &apos;chuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19289&apos;, &apos;chuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19467&apos;, &apos;chu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19479&apos;, &apos;chou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19484&apos;, &apos;chong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19500&apos;, &apos;chi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19515&apos;, &apos;cheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19525&apos;, &apos;chen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19531&apos;, &apos;che&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19540&apos;, &apos;chao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19715&apos;, &apos;chang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19725&apos;, &apos;chan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19728&apos;, &apos;chai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19739&apos;, &apos;cha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19741&apos;, &apos;ceng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19746&apos;, &apos;ce&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19751&apos;, &apos;cao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19756&apos;, &apos;cang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19763&apos;, &apos;can&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19774&apos;, &apos;cai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19775&apos;, &apos;ca&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19784&apos;, &apos;bu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19805&apos;, &apos;bo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19976&apos;, &apos;bing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19982&apos;, &apos;bin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19986&apos;, &apos;bie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19990&apos;, &apos;biao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20002&apos;, &apos;bian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20026&apos;, &apos;bi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20032&apos;, &apos;beng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20036&apos;, &apos;ben&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20051&apos;, &apos;bei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20230&apos;, &apos;bao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20242&apos;, &apos;bang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20257&apos;, &apos;ban&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20265&apos;, &apos;bai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20283&apos;, &apos;ba&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20292&apos;, &apos;ao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20295&apos;, &apos;ang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20304&apos;, &apos;an&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20317&apos;, &apos;ai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20319&apos;, &apos;a&apos;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select f_to_pinyin(&quot;&quot;);</span><br></pre></td></tr></table></figure>\n","excerpt":"<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE FUNCTION `f_to_pinyin`(NAME VARCHAR(255) CHARSET gbk) RETURNS varchar(255) CHARSET gbk</span><br><span class=\"line\">BEGIN</span><br><span class=\"line\">    DECLARE mycode INT;</span><br><span class=\"line\">    DECLARE tmp_lcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE lcode INT;</span><br><span class=\"line\">    DECLARE tmp_rcode VARCHAR(2) CHARSET gbk;</span><br><span class=\"line\">    DECLARE rcode INT;</span><br><span class=\"line\">    DECLARE mypy VARCHAR(255) CHARSET gbk DEFAULT &apos;&apos;;</span><br><span class=\"line\">    DECLARE lp INT;</span><br><span class=\"line\">    SET mycode = 0;</span><br><span class=\"line\">    SET lp = 1;</span><br><span class=\"line\">    SET NAME = HEX(NAME);</span><br><span class=\"line\">    WHILE lp &lt; LENGTH(NAME) DO</span><br><span class=\"line\">        SET tmp_lcode = SUBSTRING(NAME, lp, 2);</span><br><span class=\"line\">        SET lcode = CAST(ASCII(UNHEX(tmp_lcode)) AS UNSIGNED); </span><br><span class=\"line\">        SET tmp_rcode = SUBSTRING(NAME, lp + 2, 2);</span><br><span class=\"line\">        SET rcode = CAST(ASCII(UNHEX(tmp_rcode)) AS UNSIGNED); </span><br><span class=\"line\">        IF lcode &gt; 128 THEN</span><br><span class=\"line\">            SET mycode =65536 - lcode * 256 - rcode ;</span><br><span class=\"line\">            SELECT CONCAT(mypy,py) INTO mypy FROM pinyin WHERE `code` &gt;= ABS(mycode) ORDER BY `code` ASC LIMIT 1;</span><br><span class=\"line\">            SET lp = lp + 4;</span><br><span class=\"line\">        ELSE</span><br><span class=\"line\">            SET mypy = CONCAT(mypy,CHAR(CAST(ASCII(UNHEX(SUBSTRING(NAME, lp, 2))) AS UNSIGNED)));</span><br><span class=\"line\">            SET lp = lp + 2;</span><br><span class=\"line\">        END IF;</span><br><span class=\"line\">    END WHILE;</span><br><span class=\"line\">    RETURN LOWER(mypy);</span><br><span class=\"line\">END</span><br></pre></td></tr></table></figure>\n<h3 id=\"ascii\"><a href=\"#ascii\" class=\"headerlink\" title=\"ascii\"></a>ascii</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">CREATE TABLE `pinyin` (</span><br><span class=\"line\">  `code` int(11) NOT NULL,</span><br><span class=\"line\">  `py` varchar(10) CHARACTER SET gbk NOT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`code`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10254&apos;, &apos;zuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10256&apos;, &apos;zun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10260&apos;, &apos;zui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10262&apos;, &apos;zuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10270&apos;, &apos;zu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10274&apos;, &apos;zou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10281&apos;, &apos;zong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10296&apos;, &apos;zi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10307&apos;, &apos;zhuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10309&apos;, &apos;zhun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10315&apos;, &apos;zhui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10322&apos;, &apos;zhuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10328&apos;, &apos;zhuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10329&apos;, &apos;zhuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10331&apos;, &apos;zhua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10519&apos;, &apos;zhu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10533&apos;, &apos;zhou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10544&apos;, &apos;zhong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10587&apos;, &apos;zhi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10764&apos;, &apos;zheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10780&apos;, &apos;zhen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10790&apos;, &apos;zhe&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10800&apos;, &apos;zhao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10815&apos;, &apos;zhang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10832&apos;, &apos;zhan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;10838&apos;, &apos;zhai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11014&apos;, &apos;zha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11018&apos;, &apos;zeng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11019&apos;, &apos;zen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11020&apos;, &apos;zei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11024&apos;, &apos;ze&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11038&apos;, &apos;zao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11041&apos;, &apos;zang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11045&apos;, &apos;zan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11052&apos;, &apos;zai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11055&apos;, &apos;za&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11067&apos;, &apos;yun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11077&apos;, &apos;yue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11097&apos;, &apos;yuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11303&apos;, &apos;yu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11324&apos;, &apos;you&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11339&apos;, &apos;yong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11340&apos;, &apos;yo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11358&apos;, &apos;ying&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11536&apos;, &apos;yin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11589&apos;, &apos;yi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11604&apos;, &apos;ye&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11781&apos;, &apos;yao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11798&apos;, &apos;yang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11831&apos;, &apos;yan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11847&apos;, &apos;ya&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11861&apos;, &apos;xun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;11867&apos;, &apos;xue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12039&apos;, &apos;xuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12058&apos;, &apos;xu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12067&apos;, &apos;xiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12074&apos;, &apos;xiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12089&apos;, &apos;xing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12099&apos;, &apos;xin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12120&apos;, &apos;xie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12300&apos;, &apos;xiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12320&apos;, &apos;xiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12346&apos;, &apos;xian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12359&apos;, &apos;xia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12556&apos;, &apos;xi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12585&apos;, &apos;wu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12594&apos;, &apos;wo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12597&apos;, &apos;weng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12607&apos;, &apos;wen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12802&apos;, &apos;wei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12812&apos;, &apos;wang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12829&apos;, &apos;wan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12831&apos;, &apos;wai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12838&apos;, &apos;wa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12849&apos;, &apos;tuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12852&apos;, &apos;tun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12858&apos;, &apos;tui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12860&apos;, &apos;tuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12871&apos;, &apos;tu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12875&apos;, &apos;tou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;12888&apos;, &apos;tong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13060&apos;, &apos;ting&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13063&apos;, &apos;tie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13068&apos;, &apos;tiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13076&apos;, &apos;tian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13091&apos;, &apos;ti&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13095&apos;, &apos;teng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13096&apos;, &apos;te&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13107&apos;, &apos;tao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13120&apos;, &apos;tang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13138&apos;, &apos;tan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13147&apos;, &apos;tai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13318&apos;, &apos;ta&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13326&apos;, &apos;suo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13329&apos;, &apos;sun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13340&apos;, &apos;sui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13343&apos;, &apos;suan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13356&apos;, &apos;su&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13359&apos;, &apos;sou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13367&apos;, &apos;song&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13383&apos;, &apos;si&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13387&apos;, &apos;shuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13391&apos;, &apos;shun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13395&apos;, &apos;shui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13398&apos;, &apos;shuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13400&apos;, &apos;shuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13404&apos;, &apos;shuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13406&apos;, &apos;shua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13601&apos;, &apos;shu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13611&apos;, &apos;shou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13658&apos;, &apos;shi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13831&apos;, &apos;sheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13847&apos;, &apos;shen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13859&apos;, &apos;she&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13870&apos;, &apos;shao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13878&apos;, &apos;shang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13894&apos;, &apos;shan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13896&apos;, &apos;shai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13905&apos;, &apos;sha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13906&apos;, &apos;seng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13907&apos;, &apos;sen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13910&apos;, &apos;se&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13914&apos;, &apos;sao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;13917&apos;, &apos;sang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14083&apos;, &apos;san&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14087&apos;, &apos;sai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14090&apos;, &apos;sa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14092&apos;, &apos;ruo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14094&apos;, &apos;run&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14097&apos;, &apos;rui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14099&apos;, &apos;ruan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14109&apos;, &apos;ru&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14112&apos;, &apos;rou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14122&apos;, &apos;rong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14123&apos;, &apos;ri&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14125&apos;, &apos;reng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14135&apos;, &apos;ren&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14137&apos;, &apos;re&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14140&apos;, &apos;rao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14145&apos;, &apos;rang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14149&apos;, &apos;ran&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14151&apos;, &apos;qun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14159&apos;, &apos;que&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14170&apos;, &apos;quan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14345&apos;, &apos;qu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14353&apos;, &apos;qiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14355&apos;, &apos;qiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14368&apos;, &apos;qing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14379&apos;, &apos;qin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14384&apos;, &apos;qie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14399&apos;, &apos;qiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14407&apos;, &apos;qiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14429&apos;, &apos;qian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14594&apos;, &apos;qia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14630&apos;, &apos;qi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14645&apos;, &apos;pu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14654&apos;, &apos;po&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14663&apos;, &apos;ping&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14668&apos;, &apos;pin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14670&apos;, &apos;pie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14674&apos;, &apos;piao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14678&apos;, &apos;pian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14857&apos;, &apos;pi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14871&apos;, &apos;peng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14873&apos;, &apos;pen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14882&apos;, &apos;pei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14889&apos;, &apos;pao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14894&apos;, &apos;pang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14902&apos;, &apos;pan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14908&apos;, &apos;pai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14914&apos;, &apos;pa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14921&apos;, &apos;ou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14922&apos;, &apos;o&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14926&apos;, &apos;nuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14928&apos;, &apos;nue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14929&apos;, &apos;nuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14930&apos;, &apos;nv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14933&apos;, &apos;nu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14937&apos;, &apos;nong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;14941&apos;, &apos;niu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15109&apos;, &apos;ning&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15110&apos;, &apos;nin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15117&apos;, &apos;nie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15119&apos;, &apos;niao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15121&apos;, &apos;niang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15128&apos;, &apos;nian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15139&apos;, &apos;ni&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15140&apos;, &apos;neng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15141&apos;, &apos;nen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15143&apos;, &apos;nei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15144&apos;, &apos;ne&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15149&apos;, &apos;nao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15150&apos;, &apos;nang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15153&apos;, &apos;nan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15158&apos;, &apos;nai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15165&apos;, &apos;na&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15180&apos;, &apos;mu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15183&apos;, &apos;mou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15362&apos;, &apos;mo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15363&apos;, &apos;miu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15369&apos;, &apos;ming&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15375&apos;, &apos;min&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15377&apos;, &apos;mie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15385&apos;, &apos;miao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15394&apos;, &apos;mian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15408&apos;, &apos;mi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15416&apos;, &apos;meng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15419&apos;, &apos;men&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15435&apos;, &apos;mei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15436&apos;, &apos;me&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15448&apos;, &apos;mao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15454&apos;, &apos;mang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15625&apos;, &apos;man&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15631&apos;, &apos;mai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15640&apos;, &apos;ma&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15652&apos;, &apos;luo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15659&apos;, &apos;lun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15661&apos;, &apos;lue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15667&apos;, &apos;luan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15681&apos;, &apos;lv&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15701&apos;, &apos;lu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15707&apos;, &apos;lou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15878&apos;, &apos;long&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15889&apos;, &apos;liu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15903&apos;, &apos;ling&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15915&apos;, &apos;lin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15920&apos;, &apos;lie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15933&apos;, &apos;liao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15944&apos;, &apos;liang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15958&apos;, &apos;lian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;15959&apos;, &apos;lia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16155&apos;, &apos;li&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16158&apos;, &apos;leng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16169&apos;, &apos;lei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16171&apos;, &apos;le&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16180&apos;, &apos;lao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16187&apos;, &apos;lang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16202&apos;, &apos;lan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16205&apos;, &apos;lai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16212&apos;, &apos;la&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16216&apos;, &apos;kuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16220&apos;, &apos;kun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16393&apos;, &apos;kui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16401&apos;, &apos;kuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16403&apos;, &apos;kuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16407&apos;, &apos;kuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16412&apos;, &apos;kua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16419&apos;, &apos;ku&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16423&apos;, &apos;kou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16427&apos;, &apos;kong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16429&apos;, &apos;keng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16433&apos;, &apos;ken&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16448&apos;, &apos;ke&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16452&apos;, &apos;kao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16459&apos;, &apos;kang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16465&apos;, &apos;kan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16470&apos;, &apos;kai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16474&apos;, &apos;ka&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16647&apos;, &apos;jun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16657&apos;, &apos;jue&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16664&apos;, &apos;juan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16689&apos;, &apos;ju&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16706&apos;, &apos;jiu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16708&apos;, &apos;jiong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16733&apos;, &apos;jing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16915&apos;, &apos;jin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16942&apos;, &apos;jie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16970&apos;, &apos;jiao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;16983&apos;, &apos;jiang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17185&apos;, &apos;jian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17202&apos;, &apos;jia&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17417&apos;, &apos;ji&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17427&apos;, &apos;huo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17433&apos;, &apos;hun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17454&apos;, &apos;hui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17468&apos;, &apos;huang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17482&apos;, &apos;huan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17487&apos;, &apos;huai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17496&apos;, &apos;hua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17676&apos;, &apos;hu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17683&apos;, &apos;hou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17692&apos;, &apos;hong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17697&apos;, &apos;heng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17701&apos;, &apos;hen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17703&apos;, &apos;hei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17721&apos;, &apos;he&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17730&apos;, &apos;hao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17733&apos;, &apos;hang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17752&apos;, &apos;han&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17759&apos;, &apos;hai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17922&apos;, &apos;ha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17928&apos;, &apos;guo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17931&apos;, &apos;gun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17947&apos;, &apos;gui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17950&apos;, &apos;guang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17961&apos;, &apos;guan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17964&apos;, &apos;guai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17970&apos;, &apos;gua&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17988&apos;, &apos;gu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;17997&apos;, &apos;gou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18012&apos;, &apos;gong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18181&apos;, &apos;geng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18183&apos;, &apos;gen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18184&apos;, &apos;gei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18201&apos;, &apos;ge&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18211&apos;, &apos;gao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18220&apos;, &apos;gang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18231&apos;, &apos;gan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18237&apos;, &apos;gai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18239&apos;, &apos;ga&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18446&apos;, &apos;fu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18447&apos;, &apos;fou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18448&apos;, &apos;fo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18463&apos;, &apos;feng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18478&apos;, &apos;fen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18490&apos;, &apos;fei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18501&apos;, &apos;fang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18518&apos;, &apos;fan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18526&apos;, &apos;fa&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18696&apos;, &apos;er&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18697&apos;, &apos;en&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18710&apos;, &apos;e&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18722&apos;, &apos;duo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18731&apos;, &apos;dun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18735&apos;, &apos;dui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18741&apos;, &apos;duan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18756&apos;, &apos;du&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18763&apos;, &apos;dou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18773&apos;, &apos;dong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18774&apos;, &apos;diu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18783&apos;, &apos;ding&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18952&apos;, &apos;die&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18961&apos;, &apos;diao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18977&apos;, &apos;dian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;18996&apos;, &apos;di&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19003&apos;, &apos;deng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19006&apos;, &apos;de&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19018&apos;, &apos;dao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19023&apos;, &apos;dang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19038&apos;, &apos;dan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19212&apos;, &apos;dai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19218&apos;, &apos;da&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19224&apos;, &apos;cuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19227&apos;, &apos;cun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19235&apos;, &apos;cui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19238&apos;, &apos;cuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19242&apos;, &apos;cu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19243&apos;, &apos;cou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19249&apos;, &apos;cong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19261&apos;, &apos;ci&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19263&apos;, &apos;chuo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19270&apos;, &apos;chun&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19275&apos;, &apos;chui&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19281&apos;, &apos;chuang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19288&apos;, &apos;chuan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19289&apos;, &apos;chuai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19467&apos;, &apos;chu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19479&apos;, &apos;chou&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19484&apos;, &apos;chong&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19500&apos;, &apos;chi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19515&apos;, &apos;cheng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19525&apos;, &apos;chen&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19531&apos;, &apos;che&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19540&apos;, &apos;chao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19715&apos;, &apos;chang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19725&apos;, &apos;chan&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19728&apos;, &apos;chai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19739&apos;, &apos;cha&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19741&apos;, &apos;ceng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19746&apos;, &apos;ce&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19751&apos;, &apos;cao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19756&apos;, &apos;cang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19763&apos;, &apos;can&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19774&apos;, &apos;cai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19775&apos;, &apos;ca&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19784&apos;, &apos;bu&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19805&apos;, &apos;bo&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19976&apos;, &apos;bing&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19982&apos;, &apos;bin&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19986&apos;, &apos;bie&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;19990&apos;, &apos;biao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20002&apos;, &apos;bian&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20026&apos;, &apos;bi&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20032&apos;, &apos;beng&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20036&apos;, &apos;ben&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20051&apos;, &apos;bei&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20230&apos;, &apos;bao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20242&apos;, &apos;bang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20257&apos;, &apos;ban&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20265&apos;, &apos;bai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20283&apos;, &apos;ba&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20292&apos;, &apos;ao&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20295&apos;, &apos;ang&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20304&apos;, &apos;an&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20317&apos;, &apos;ai&apos;);</span><br><span class=\"line\">INSERT INTO `pinyin` VALUES (&apos;20319&apos;, &apos;a&apos;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select f_to_pinyin(&quot;&quot;);</span><br></pre></td></tr></table></figure>"},{"title":"(dependency injection pattern)","date":"2015-09-27T16:00:00.000Z","_content":"\n Laravel \n\n[](https://en.wikipedia.org/wiki/Dependency_injection)\n1. \n2. setter\n3. \n\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n```\n\n## \n```php\n\nclass DependencyInjection\n{\n    public $shape;\n\n    public function __construct(Shape $shape)\n    {\n        $this->shape = $shape;\n    }\n}\n\n\n// \n\n$rectangle = new Rectangle(4, 2);\n$r_di = new DependencyInjection($rectangle);\necho $r_di->shape->getCircum();\necho $r_di->shape->getArea();\n\n$circle = new Circle(3);\n$c_di = new DependencyInjection($circle);\necho $c_di->shape->getCircum();\necho $c_di->shape->getArea();\n```\n\n## setter \n\n```php\n\nclass DependencyInjectionSetter\n{\n\n    public $shape;\n\n    public function setter(Shape $shape)\n    {\n\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$rectangle = new Rectangle(4, 2);\n$setter_di = new DependencyInjectionSetter();\n$setter_di->setter($rectangle);\necho $setter_di->shape->getCircum();\n\n```\n\n## interface \n\n```php\ninterface ServiceSetter\n{\n    public function setService(Shape $shape);\n}\n\nclass ServiceClient implements ServiceSetter\n{\n\n    public $shape;\n\n    public function setService(Shape $shape)\n    {\n        // TODO: Implement setService() method.\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$sc = new ServiceClient();\n$sc->setService($rectangle);\necho $sc->shape->getArea();\n```","source":"_posts/2015/dependency-injection-pattern.md","raw":"---\ntitle: (dependency injection pattern)\ndate: 2015-09-28\ntags: \n- design pattern\n---\n\n Laravel \n\n[](https://en.wikipedia.org/wiki/Dependency_injection)\n1. \n2. setter\n3. \n\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n```\n\n## \n```php\n\nclass DependencyInjection\n{\n    public $shape;\n\n    public function __construct(Shape $shape)\n    {\n        $this->shape = $shape;\n    }\n}\n\n\n// \n\n$rectangle = new Rectangle(4, 2);\n$r_di = new DependencyInjection($rectangle);\necho $r_di->shape->getCircum();\necho $r_di->shape->getArea();\n\n$circle = new Circle(3);\n$c_di = new DependencyInjection($circle);\necho $c_di->shape->getCircum();\necho $c_di->shape->getArea();\n```\n\n## setter \n\n```php\n\nclass DependencyInjectionSetter\n{\n\n    public $shape;\n\n    public function setter(Shape $shape)\n    {\n\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$rectangle = new Rectangle(4, 2);\n$setter_di = new DependencyInjectionSetter();\n$setter_di->setter($rectangle);\necho $setter_di->shape->getCircum();\n\n```\n\n## interface \n\n```php\ninterface ServiceSetter\n{\n    public function setService(Shape $shape);\n}\n\nclass ServiceClient implements ServiceSetter\n{\n\n    public $shape;\n\n    public function setService(Shape $shape)\n    {\n        // TODO: Implement setService() method.\n        $this->shape = $shape;\n    }\n}\n\n//\n\n$sc = new ServiceClient();\n$sc->setService($rectangle);\necho $sc->shape->getArea();\n```","slug":"dependency-injection-pattern","published":1,"updated":"2017-01-05T12:24:48.394Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsm000qcwnnph4x4lxq","content":"<p> Laravel </p>\n<p><a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" target=\"_blank\" rel=\"external\"></a></p>\n<ol>\n<li></li>\n<li>setter</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjection</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$r_di = <span class=\"keyword\">new</span> DependencyInjection($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getArea();</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = <span class=\"keyword\">new</span> Circle(<span class=\"number\">3</span>);</span><br><span class=\"line\">$c_di = <span class=\"keyword\">new</span> DependencyInjection($circle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>\n<h2 id=\"setter-\"><a href=\"#setter-\" class=\"headerlink\" title=\"setter \"></a>setter </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjectionSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setter</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$setter_di = <span class=\"keyword\">new</span> DependencyInjectionSetter();</span><br><span class=\"line\">$setter_di-&gt;setter($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $setter_di-&gt;shape-&gt;getCircum();</span><br></pre></td></tr></table></figure>\n<h2 id=\"interface-\"><a href=\"#interface-\" class=\"headerlink\" title=\"interface \"></a>interface </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ServiceSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ServiceClient</span> <span class=\"keyword\">implements</span> <span class=\"title\">ServiceSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement setService() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$sc = <span class=\"keyword\">new</span> ServiceClient();</span><br><span class=\"line\">$sc-&gt;setService($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $sc-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p> Laravel </p>\n<p><a href=\"https://en.wikipedia.org/wiki/Dependency_injection\"></a></p>\n<ol>\n<li></li>\n<li>setter</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjection</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$r_di = <span class=\"keyword\">new</span> DependencyInjection($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $r_di-&gt;shape-&gt;getArea();</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = <span class=\"keyword\">new</span> Circle(<span class=\"number\">3</span>);</span><br><span class=\"line\">$c_di = <span class=\"keyword\">new</span> DependencyInjection($circle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getCircum();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $c_di-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>\n<h2 id=\"setter-\"><a href=\"#setter-\" class=\"headerlink\" title=\"setter \"></a>setter </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DependencyInjectionSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setter</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = <span class=\"keyword\">new</span> Rectangle(<span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">$setter_di = <span class=\"keyword\">new</span> DependencyInjectionSetter();</span><br><span class=\"line\">$setter_di-&gt;setter($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $setter_di-&gt;shape-&gt;getCircum();</span><br></pre></td></tr></table></figure>\n<h2 id=\"interface-\"><a href=\"#interface-\" class=\"headerlink\" title=\"interface \"></a>interface </h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ServiceSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ServiceClient</span> <span class=\"keyword\">implements</span> <span class=\"title\">ServiceSetter</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> $shape;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setService</span><span class=\"params\">(Shape $shape)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement setService() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;shape = $shape;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">$sc = <span class=\"keyword\">new</span> ServiceClient();</span><br><span class=\"line\">$sc-&gt;setService($rectangle);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $sc-&gt;shape-&gt;getArea();</span><br></pre></td></tr></table></figure>"},{"title":"(facade pattern)","date":"2015-09-21T16:00:00.000Z","_content":"\nFacade ,**Laravel ****()\n\n\n```php\n// OsInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * OsInterface\n */\ninterface OsInterface\n{\n    /**\n     * halt the OS\n     */\n    public function halt();\n}\n\n\n// BiosInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * BiosInterface\n */\ninterface BiosInterface\n{\n    /**\n     * execute the BIOS\n     */\n    public function execute();\n\n    /**\n     * wait for halt\n     */\n    public function waitForKeyPress();\n\n    /**\n     * launches the OS\n     *\n     * @param OsInterface $os\n     */\n    public function launch(OsInterface $os);\n\n    /**\n     * power down BIOS\n     */\n    public function powerDown();\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * \n */\nclass Facade\n{\n    /**\n     * @var OsInterface\n     */\n    protected $os;\n\n    /**\n     * @var BiosInterface\n     */\n    protected $bios;\n\n    /**\n     * This is the perfect time to use a dependency injection container\n     * to create an instance of this class\n     *\n     * @param BiosInterface $bios\n     * @param OsInterface   $os\n     */\n    public function __construct(BiosInterface $bios, OsInterface $os)\n    {\n        $this->bios = $bios;\n        $this->os = $os;\n    }\n\n    /**\n     * turn on the system\n     */\n    public function turnOn()\n    {\n        $this->bios->execute();\n        $this->bios->waitForKeyPress();\n        $this->bios->launch($this->os);\n    }\n\n    /**\n     * turn off the system\n     */\n    public function turnOff()\n    {\n        $this->os->halt();\n        $this->bios->powerDown();\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Structural\\Facade\\Tests;\n\nuse DesignPatterns\\Structural\\Facade\\Facade as Computer;\nuse DesignPatterns\\Structural\\Facade\\OsInterface;\n\n/**\n * FacadeTest\n */\nclass FacadeTest extends \\PHPUnit_Framework_TestCase\n{\n\n    public function getComputer()\n    {\n        $bios = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\BiosInterface')\n                ->setMethods(array('launch', 'execute', 'waitForKeyPress'))\n                ->disableAutoload()\n                ->getMock();\n        $os = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\OsInterface')\n                ->setMethods(array('getName'))\n                ->disableAutoload()\n                ->getMock();\n        $bios->expects($this->once())\n                ->method('launch')\n                ->with($os);\n        $os->expects($this->once())\n                ->method('getName')\n                ->will($this->returnValue('Linux'));\n\n        $facade = new Computer($bios, $os);\n        return array(array($facade, $os));\n    }\n\n    /**\n     * @dataProvider getComputer\n     */\n    public function testComputerOn(Computer $facade, OsInterface $os)\n    {\n        // interface is simpler :\n        $facade->turnOn();\n        // but I can access to lower component\n        $this->assertEquals('Linux', $os->getName());\n    }\n}\n```\n","source":"_posts/2015/facade-pattern.md","raw":"---\ntitle: (facade pattern)\ndate: 2015-09-22\ntags: \n- design pattern\n---\n\nFacade ,**Laravel ****()\n\n\n```php\n// OsInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * OsInterface\n */\ninterface OsInterface\n{\n    /**\n     * halt the OS\n     */\n    public function halt();\n}\n\n\n// BiosInterface.php\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * BiosInterface\n */\ninterface BiosInterface\n{\n    /**\n     * execute the BIOS\n     */\n    public function execute();\n\n    /**\n     * wait for halt\n     */\n    public function waitForKeyPress();\n\n    /**\n     * launches the OS\n     *\n     * @param OsInterface $os\n     */\n    public function launch(OsInterface $os);\n\n    /**\n     * power down BIOS\n     */\n    public function powerDown();\n}\n\n\n//\n\nnamespace DesignPatterns\\Structural\\Facade;\n\n/**\n * \n */\nclass Facade\n{\n    /**\n     * @var OsInterface\n     */\n    protected $os;\n\n    /**\n     * @var BiosInterface\n     */\n    protected $bios;\n\n    /**\n     * This is the perfect time to use a dependency injection container\n     * to create an instance of this class\n     *\n     * @param BiosInterface $bios\n     * @param OsInterface   $os\n     */\n    public function __construct(BiosInterface $bios, OsInterface $os)\n    {\n        $this->bios = $bios;\n        $this->os = $os;\n    }\n\n    /**\n     * turn on the system\n     */\n    public function turnOn()\n    {\n        $this->bios->execute();\n        $this->bios->waitForKeyPress();\n        $this->bios->launch($this->os);\n    }\n\n    /**\n     * turn off the system\n     */\n    public function turnOff()\n    {\n        $this->os->halt();\n        $this->bios->powerDown();\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Structural\\Facade\\Tests;\n\nuse DesignPatterns\\Structural\\Facade\\Facade as Computer;\nuse DesignPatterns\\Structural\\Facade\\OsInterface;\n\n/**\n * FacadeTest\n */\nclass FacadeTest extends \\PHPUnit_Framework_TestCase\n{\n\n    public function getComputer()\n    {\n        $bios = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\BiosInterface')\n                ->setMethods(array('launch', 'execute', 'waitForKeyPress'))\n                ->disableAutoload()\n                ->getMock();\n        $os = $this->getMockBuilder('DesignPatterns\\Structural\\Facade\\OsInterface')\n                ->setMethods(array('getName'))\n                ->disableAutoload()\n                ->getMock();\n        $bios->expects($this->once())\n                ->method('launch')\n                ->with($os);\n        $os->expects($this->once())\n                ->method('getName')\n                ->will($this->returnValue('Linux'));\n\n        $facade = new Computer($bios, $os);\n        return array(array($facade, $os));\n    }\n\n    /**\n     * @dataProvider getComputer\n     */\n    public function testComputerOn(Computer $facade, OsInterface $os)\n    {\n        // interface is simpler :\n        $facade->turnOn();\n        // but I can access to lower component\n        $this->assertEquals('Linux', $os->getName());\n    }\n}\n```\n","slug":"facade-pattern","published":1,"updated":"2017-01-05T12:14:02.031Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsp000scwnnifybwgn6","content":"<p>Facade ,<em></em>Laravel <strong></strong>()</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// OsInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * OsInterface</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">OsInterface</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * halt the OS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">halt</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BiosInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * BiosInterface</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">BiosInterface</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * execute the BIOS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * wait for halt</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">waitForKeyPress</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * launches the OS</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> OsInterface $os</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">launch</span><span class=\"params\">(OsInterface $os)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * power down BIOS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">powerDown</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Facade</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> OsInterface</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $os;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> BiosInterface</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $bios;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * This is the perfect time to use a dependency injection container</span><br><span class=\"line\">     * to create an instance of this class</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> BiosInterface $bios</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> OsInterface   $os</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(BiosInterface $bios, OsInterface $os)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios = $bios;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os = $os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * turn on the system</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOn</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;execute();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;waitForKeyPress();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;launch(<span class=\"keyword\">$this</span>-&gt;os);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * turn off the system</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOff</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os-&gt;halt();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;powerDown();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Facade</span> <span class=\"title\">as</span> <span class=\"title\">Computer</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">OsInterface</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * FacadeTest</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FacadeTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getComputer</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $bios = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\BiosInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'launch'</span>, <span class=\"string\">'execute'</span>, <span class=\"string\">'waitForKeyPress'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $os = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\OsInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'getName'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $bios-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'launch'</span>)</span><br><span class=\"line\">                -&gt;with($os);</span><br><span class=\"line\">        $os-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'getName'</span>)</span><br><span class=\"line\">                -&gt;will(<span class=\"keyword\">$this</span>-&gt;returnValue(<span class=\"string\">'Linux'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        $facade = <span class=\"keyword\">new</span> Computer($bios, $os);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">array</span>(<span class=\"keyword\">array</span>($facade, $os));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@dataProvider</span> getComputer</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testComputerOn</span><span class=\"params\">(Computer $facade, OsInterface $os)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// interface is simpler :</span></span><br><span class=\"line\">        $facade-&gt;turnOn();</span><br><span class=\"line\">        <span class=\"comment\">// but I can access to lower component</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertEquals(<span class=\"string\">'Linux'</span>, $os-&gt;getName());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p>Facade ,<em></em>Laravel <strong></strong>()</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// OsInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * OsInterface</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">OsInterface</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * halt the OS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">halt</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// BiosInterface.php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * BiosInterface</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">BiosInterface</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * execute the BIOS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * wait for halt</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">waitForKeyPress</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * launches the OS</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> OsInterface $os</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">launch</span><span class=\"params\">(OsInterface $os)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * power down BIOS</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">powerDown</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Facade</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> OsInterface</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $os;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> BiosInterface</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $bios;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * This is the perfect time to use a dependency injection container</span><br><span class=\"line\">     * to create an instance of this class</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> BiosInterface $bios</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> OsInterface   $os</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(BiosInterface $bios, OsInterface $os)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios = $bios;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os = $os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * turn on the system</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOn</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;execute();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;waitForKeyPress();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;launch(<span class=\"keyword\">$this</span>-&gt;os);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * turn off the system</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">turnOff</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;os-&gt;halt();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;bios-&gt;powerDown();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">Facade</span> <span class=\"title\">as</span> <span class=\"title\">Computer</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Structural</span>\\<span class=\"title\">Facade</span>\\<span class=\"title\">OsInterface</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * FacadeTest</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FacadeTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getComputer</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $bios = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\BiosInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'launch'</span>, <span class=\"string\">'execute'</span>, <span class=\"string\">'waitForKeyPress'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $os = <span class=\"keyword\">$this</span>-&gt;getMockBuilder(<span class=\"string\">'DesignPatterns\\Structural\\Facade\\OsInterface'</span>)</span><br><span class=\"line\">                -&gt;setMethods(<span class=\"keyword\">array</span>(<span class=\"string\">'getName'</span>))</span><br><span class=\"line\">                -&gt;disableAutoload()</span><br><span class=\"line\">                -&gt;getMock();</span><br><span class=\"line\">        $bios-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'launch'</span>)</span><br><span class=\"line\">                -&gt;with($os);</span><br><span class=\"line\">        $os-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">                -&gt;method(<span class=\"string\">'getName'</span>)</span><br><span class=\"line\">                -&gt;will(<span class=\"keyword\">$this</span>-&gt;returnValue(<span class=\"string\">'Linux'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        $facade = <span class=\"keyword\">new</span> Computer($bios, $os);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">array</span>(<span class=\"keyword\">array</span>($facade, $os));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * <span class=\"doctag\">@dataProvider</span> getComputer</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testComputerOn</span><span class=\"params\">(Computer $facade, OsInterface $os)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// interface is simpler :</span></span><br><span class=\"line\">        $facade-&gt;turnOn();</span><br><span class=\"line\">        <span class=\"comment\">// but I can access to lower component</span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertEquals(<span class=\"string\">'Linux'</span>, $os-&gt;getName());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"(factory pattern)","date":"2015-09-26T16:00:00.000Z","_content":"\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n\n\n// \nclass Factory\n{\n\n    public static function create()\n    {\n        //\n        switch (func_num_args()) {\n            case 1:\n                return new Circle(func_get_arg(0));\n                break;\n            case 2:\n                return new Rectangle(func_get_arg(0), func_get_arg(1));\n                break;\n        }\n\n    }\n}\n\n\n$rectangle = Factory::create(4,2);\necho $rectangle->getCircum().\" \";\necho $rectangle->getArea().\" \";\n\n$circle = Factory::create(3);\necho $circle->getCircum().\" \";\necho $circle->getArea();\n```","source":"_posts/2015/factory-pattern.md","raw":"---\ntitle: (factory pattern)\ndate: 2015-09-27\ntags: \n- design pattern\n---\n\n```php\ninterface Shape\n{\n    public function getCircum();\n\n    public function getArea();\n}\n\n//\n\nclass Rectangle implements Shape\n{\n\n    private $width, $height;\n\n    public function __construct($width, $height)\n    {\n        $this->width = $width;\n        $this->height = $height;\n    }\n\n    public function getCircum()\n    {\n\n        return ($this->width + $this->height) * 2;\n    }\n\n    public function getArea()\n    {\n\n        return $this->width * $this->height;\n    }\n}\n\nclass Circle implements Shape\n{\n\n    private $radii;\n\n    public function __construct($radii)\n    {\n        $this->radii = $radii;\n    }\n\n    public function getCircum()\n    {\n        // TODO: Implement getCircum() method.\n        return 2 * M_PI * $this->radii;\n\n    }\n\n    public function getArea()\n    {\n        // TODO: Implement getArea() method.\n        return M_PI * pow($this->radii, 2);\n    }\n}\n\n\n\n// \nclass Factory\n{\n\n    public static function create()\n    {\n        //\n        switch (func_num_args()) {\n            case 1:\n                return new Circle(func_get_arg(0));\n                break;\n            case 2:\n                return new Rectangle(func_get_arg(0), func_get_arg(1));\n                break;\n        }\n\n    }\n}\n\n\n$rectangle = Factory::create(4,2);\necho $rectangle->getCircum().\" \";\necho $rectangle->getArea().\" \";\n\n$circle = Factory::create(3);\necho $circle->getCircum().\" \";\necho $circle->getArea();\n```","slug":"factory-pattern","published":1,"updated":"2017-01-05T12:15:55.487Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsr000ucwnn26vulpwq","content":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Factory</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">create</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (func_num_args()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Circle(func_get_arg(<span class=\"number\">0</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Rectangle(func_get_arg(<span class=\"number\">0</span>), func_get_arg(<span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = Factory::create(<span class=\"number\">4</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getArea().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = Factory::create(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getArea();</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $width, $height;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($width, $height)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;width = $width;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;height = $height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">$this</span>-&gt;width + <span class=\"keyword\">$this</span>-&gt;height) * <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;width * <span class=\"keyword\">$this</span>-&gt;height;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">implements</span> <span class=\"title\">Shape</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($radii)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;radii = $radii;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCircum</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getCircum() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> * M_PI * <span class=\"keyword\">$this</span>-&gt;radii;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getArea</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement getArea() method.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> M_PI * pow(<span class=\"keyword\">$this</span>-&gt;radii, <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Factory</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">create</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (func_num_args()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Circle(func_get_arg(<span class=\"number\">0</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Rectangle(func_get_arg(<span class=\"number\">0</span>), func_get_arg(<span class=\"number\">1</span>));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">$rectangle = Factory::create(<span class=\"number\">4</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $rectangle-&gt;getArea().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">$circle = Factory::create(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getCircum().<span class=\"string\">\" \"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $circle-&gt;getArea();</span><br></pre></td></tr></table></figure>"},{"title":"ID","date":"2015-12-04T05:57:12.000Z","updated":"2015-12-04T05:57:12.000Z","_content":"\n# \n1. message-id\n2. order-id\n3. tiezi-id\n\n`cluster index`\n\n<!-- more -->\n\n- selectmessage-id/ order by time/ limit 100\n- selectorder-id/ order by time/ limit 100\n- selecttiezi-id/ order by time/ limit 100\ntimetimenon-cluster index\n \ntime\n`select message-id/ (order by message-id)/limit 100`\nmessage-id\n \n\n1. \n2. \n \n\n## \n### 1. auto_increment\n#### \n1. \n1. \n1. \n1. \n\n#### \n\n1. +ID\n1. ID\n\n#### ****\n\n1. \n2. ID\n\n![pic](/images/technology/gen-id.png)\n\n13auto_incrementID00,3,6,911,4,7,1022,5,8,11, \n\n****\n1. ID00,311ID\n2. ID\n\n \n### ID\n\nID\n\n![pic](/images/technology/gen-id2.png)\n\nmasterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6\n#### \n1. ID\n1. ID\n\n#### \n1. \n1. ID0,1,2,3,4,5max-id53645\n1. ID\n\n#### ****\n** ** 1\n\n![pic](/images/technology/gen-id3.png)\nvip+keepalived\n \n### uuid\nIDIDApplicationID\n\nuuid`string ID = GenUUID();`\n#### \n1. ID\n1. \n\n```php\n// com_create_guid()\nfunction guid(){\n    if (function_exists('com_create_guid')){\n        return com_create_guid();\n    }else{\n        mt_srand((double)microtime()*10000);//optional for php 4.2.0 and up.\n        $charid = strtoupper(md5(uniqid(rand(), true)));\n        $hyphen = chr(45);// \"-\"\n        $uuid = chr(123)// \"{\"\n                .substr($charid, 0, 8).$hyphen\n                .substr($charid, 8, 4).$hyphen\n                .substr($charid,12, 4).$hyphen\n                .substr($charid,16, 4).$hyphen\n                .substr($charid,20,12)\n                .chr(125);// \"}\"\n        return $uuid;\n    }\n}\necho guid();\n```\n#### \n1. \n1. uuiduint64\n \n### \nuuidID\n`uint64 ID = GenTimeMS();`\n\n#### \n1. ID\n1. ID\n1. ID\n\n#### \n11000ID, 1000000ID\n \n### snowflake [snowflake](https://github.com/twitter/snowflake)\nsnowflaketwitterID.\n\n0---0000000000 0000000000 0000000000 0000000000 0 --- 00000 ---00000 ---000000000000\n\n![pic](/images/technology/snowflake-64bit.jpg)\n\n\"41bit()\", (1L << 41) / (3600L * 24 * 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471\n\"10bitid{0}\", (1L << 10) - 1   1023\n\"12bitid{0}\", (1L << 12) - 1 4095\n\nlongID`41bit``10bit``12bit`****`1000 * (2^12-1)  1000 * ((1 << 12)- 1)`4096000ID\n\n\nsnowflakeID\n\nID\n1. 1W510W\n1. 254\n1. 100\n1. 5ID10\n\n\n1. 201611ID10 `10*365*24*3600*1000=320*10^9`39bit\n1. 10W1007bit\n1. 542bit\n1. 1007bit\n1. 104bit\n\n#### \n64bit\n1. ID\n1. ID\n1. ID\n1. ID\n\n#### \n1IDID\n\nID`message-id/ order-id/ tiezi-id`IDID**ID**ID\n0**0IDID****009**\n\n```java\nclass Snowflake\n{\n\n    //idbit5bitworkerid5bitdatacenterid\n    const int WorkerIdBits = 5;\n    const int DatacenterIdBits = 5;\n    //bit\n    const int SequenceBits = 12;\n    //\n    const long MaxWorkerId = -1L ^ (-1L << WorkerIdBits);\n    const long MaxDatacenterId = -1L ^ (-1L << DatacenterIdBits);\n    private const long SequenceMask = -1L ^ (-1L << SequenceBits);\n    //\n    public const int WorkerIdShift = SequenceBits;\n    public const int DatacenterIdShift = SequenceBits + WorkerIdBits;\n    public const int TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;\n\n    //\n    private long _sequence = 0L;\n    //\n    private long _lastTimestamp = -1L;\n\n\n    public long WorkerId { get; protected set; }\n    public long DatacenterId { get; protected set; }\n\n    public Snowflake(long workerId, long datacenterId, long sequence = 0L) \n    {\n        WorkerId = workerId;\n        DatacenterId = datacenterId;\n        _sequence = sequence;\n    \n        // sanity check for workerId\n        if (workerId > MaxWorkerId || workerId < 0) \n        {\n            throw new ArgumentException( String.Format(\"worker Id can't be greater than {0} or less than 0\", MaxWorkerId) );\n        }\n\n        if (datacenterId > MaxDatacenterId || datacenterId < 0)\n        {\n            throw new ArgumentException( String.Format(\"datacenter Id can't be greater than {0} or less than 0\", MaxDatacenterId));\n        }\n\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    /// <returns></returns>\n    public long TimeGen()\n    {\n        DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);//\n        return (long)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n    }\n\n    readonly object _lock = new Object();\n\n    public virtual long NextId()\n    {\n        lock (_lock)\n        {\n            var timestamp = TimeGen();\n\n            if (timestamp < _lastTimestamp)\n            {\n                throw new InvalidSystemClock(String.Format(\n                    \"{0}\", _lastTimestamp - timestamp));\n            }\n\n            if (_lastTimestamp == timestamp)\n            {\n                _sequence = (_sequence + 1) & SequenceMask;\n                if (_sequence == 0)\n                {\n                    //\n                    timestamp = TilNextMillis(_lastTimestamp);\n                }\n            }\n            else\n            {\n                _sequence = 0;\n            }\n\n            _lastTimestamp = timestamp;\n            //snowflake\n            var id = (timestamp << TimestampLeftShift) |\n                     (DatacenterId << DatacenterIdShift) |\n                     (WorkerId << WorkerIdShift) | _sequence;\n\n            return id;\n        }\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    protected virtual long TilNextMillis(long lastTimestamp)\n    {\n        var timestamp = TimeGen();\n        while (timestamp <= lastTimestamp)\n        {\n            //\n            timestamp = TimeGen();\n        }\n        return timestamp;\n    }\n}\n```","source":"_posts/2015/gen-id-way.md","raw":"---\ntitle: ID\ndate: 2015-12-04 13:57:12\nupdated: 2015-12-04 13:57:12\ntags:\ncategories:\n---\n\n# \n1. message-id\n2. order-id\n3. tiezi-id\n\n`cluster index`\n\n<!-- more -->\n\n- selectmessage-id/ order by time/ limit 100\n- selectorder-id/ order by time/ limit 100\n- selecttiezi-id/ order by time/ limit 100\ntimetimenon-cluster index\n \ntime\n`select message-id/ (order by message-id)/limit 100`\nmessage-id\n \n\n1. \n2. \n \n\n## \n### 1. auto_increment\n#### \n1. \n1. \n1. \n1. \n\n#### \n\n1. +ID\n1. ID\n\n#### ****\n\n1. \n2. ID\n\n![pic](/images/technology/gen-id.png)\n\n13auto_incrementID00,3,6,911,4,7,1022,5,8,11, \n\n****\n1. ID00,311ID\n2. ID\n\n \n### ID\n\nID\n\n![pic](/images/technology/gen-id2.png)\n\nmasterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6\n#### \n1. ID\n1. ID\n\n#### \n1. \n1. ID0,1,2,3,4,5max-id53645\n1. ID\n\n#### ****\n** ** 1\n\n![pic](/images/technology/gen-id3.png)\nvip+keepalived\n \n### uuid\nIDIDApplicationID\n\nuuid`string ID = GenUUID();`\n#### \n1. ID\n1. \n\n```php\n// com_create_guid()\nfunction guid(){\n    if (function_exists('com_create_guid')){\n        return com_create_guid();\n    }else{\n        mt_srand((double)microtime()*10000);//optional for php 4.2.0 and up.\n        $charid = strtoupper(md5(uniqid(rand(), true)));\n        $hyphen = chr(45);// \"-\"\n        $uuid = chr(123)// \"{\"\n                .substr($charid, 0, 8).$hyphen\n                .substr($charid, 8, 4).$hyphen\n                .substr($charid,12, 4).$hyphen\n                .substr($charid,16, 4).$hyphen\n                .substr($charid,20,12)\n                .chr(125);// \"}\"\n        return $uuid;\n    }\n}\necho guid();\n```\n#### \n1. \n1. uuiduint64\n \n### \nuuidID\n`uint64 ID = GenTimeMS();`\n\n#### \n1. ID\n1. ID\n1. ID\n\n#### \n11000ID, 1000000ID\n \n### snowflake [snowflake](https://github.com/twitter/snowflake)\nsnowflaketwitterID.\n\n0---0000000000 0000000000 0000000000 0000000000 0 --- 00000 ---00000 ---000000000000\n\n![pic](/images/technology/snowflake-64bit.jpg)\n\n\"41bit()\", (1L << 41) / (3600L * 24 * 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471\n\"10bitid{0}\", (1L << 10) - 1   1023\n\"12bitid{0}\", (1L << 12) - 1 4095\n\nlongID`41bit``10bit``12bit`****`1000 * (2^12-1)  1000 * ((1 << 12)- 1)`4096000ID\n\n\nsnowflakeID\n\nID\n1. 1W510W\n1. 254\n1. 100\n1. 5ID10\n\n\n1. 201611ID10 `10*365*24*3600*1000=320*10^9`39bit\n1. 10W1007bit\n1. 542bit\n1. 1007bit\n1. 104bit\n\n#### \n64bit\n1. ID\n1. ID\n1. ID\n1. ID\n\n#### \n1IDID\n\nID`message-id/ order-id/ tiezi-id`IDID**ID**ID\n0**0IDID****009**\n\n```java\nclass Snowflake\n{\n\n    //idbit5bitworkerid5bitdatacenterid\n    const int WorkerIdBits = 5;\n    const int DatacenterIdBits = 5;\n    //bit\n    const int SequenceBits = 12;\n    //\n    const long MaxWorkerId = -1L ^ (-1L << WorkerIdBits);\n    const long MaxDatacenterId = -1L ^ (-1L << DatacenterIdBits);\n    private const long SequenceMask = -1L ^ (-1L << SequenceBits);\n    //\n    public const int WorkerIdShift = SequenceBits;\n    public const int DatacenterIdShift = SequenceBits + WorkerIdBits;\n    public const int TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;\n\n    //\n    private long _sequence = 0L;\n    //\n    private long _lastTimestamp = -1L;\n\n\n    public long WorkerId { get; protected set; }\n    public long DatacenterId { get; protected set; }\n\n    public Snowflake(long workerId, long datacenterId, long sequence = 0L) \n    {\n        WorkerId = workerId;\n        DatacenterId = datacenterId;\n        _sequence = sequence;\n    \n        // sanity check for workerId\n        if (workerId > MaxWorkerId || workerId < 0) \n        {\n            throw new ArgumentException( String.Format(\"worker Id can't be greater than {0} or less than 0\", MaxWorkerId) );\n        }\n\n        if (datacenterId > MaxDatacenterId || datacenterId < 0)\n        {\n            throw new ArgumentException( String.Format(\"datacenter Id can't be greater than {0} or less than 0\", MaxDatacenterId));\n        }\n\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    /// <returns></returns>\n    public long TimeGen()\n    {\n        DateTime Jan1st1970 = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc);//\n        return (long)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;\n    }\n\n    readonly object _lock = new Object();\n\n    public virtual long NextId()\n    {\n        lock (_lock)\n        {\n            var timestamp = TimeGen();\n\n            if (timestamp < _lastTimestamp)\n            {\n                throw new InvalidSystemClock(String.Format(\n                    \"{0}\", _lastTimestamp - timestamp));\n            }\n\n            if (_lastTimestamp == timestamp)\n            {\n                _sequence = (_sequence + 1) & SequenceMask;\n                if (_sequence == 0)\n                {\n                    //\n                    timestamp = TilNextMillis(_lastTimestamp);\n                }\n            }\n            else\n            {\n                _sequence = 0;\n            }\n\n            _lastTimestamp = timestamp;\n            //snowflake\n            var id = (timestamp << TimestampLeftShift) |\n                     (DatacenterId << DatacenterIdShift) |\n                     (WorkerId << WorkerIdShift) | _sequence;\n\n            return id;\n        }\n    }\n    /// <summary>\n    /// \n    /// </summary>\n    protected virtual long TilNextMillis(long lastTimestamp)\n    {\n        var timestamp = TimeGen();\n        while (timestamp <= lastTimestamp)\n        {\n            //\n            timestamp = TimeGen();\n        }\n        return timestamp;\n    }\n}\n```","slug":"gen-id-way","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopst000xcwnn1q37mrk1","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>message-id</li>\n<li>order-id</li>\n<li>tiezi-id</li>\n</ol>\n<p><code>cluster index</code></p>\n<a id=\"more\"></a>\n<p></p>\n<ul>\n<li>selectmessage-id/ order by time/ limit 100</li>\n<li>selectorder-id/ order by time/ limit 100</li>\n<li>selecttiezi-id/ order by time/ limit 100<br>timetimenon-cluster index</li>\n</ul>\n<p>time<br><code>select message-id/ (order by message-id)/limit 100</code><br>message-id</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1--auto-increment\"><a href=\"#1--auto-increment\" class=\"headerlink\" title=\"1. auto_increment\"></a>1. auto_increment</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>+ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><ol>\n<li></li>\n<li>ID</li>\n</ol>\n<p><img src=\"/images/technology/gen-id.png\" alt=\"pic\"></p>\n<p>13auto_incrementID00,3,6,911,4,7,1022,5,8,11, </p>\n<p><strong></strong></p>\n<ol>\n<li>ID00,311ID</li>\n<li>ID<br></li>\n</ol>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>ID</p>\n<p><img src=\"/images/technology/gen-id2.png\" alt=\"pic\"></p>\n<p>masterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6</p>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>ID0,1,2,3,4,5max-id53645</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><p><strong> </strong> 1</p>\n<p><img src=\"/images/technology/gen-id3.png\" alt=\"pic\"><br>vip+keepalived</p>\n<h3 id=\"uuid\"><a href=\"#uuid\" class=\"headerlink\" title=\"uuid\"></a>uuid</h3><p>IDIDApplicationID</p>\n<p>uuid<code>string ID = GenUUID();</code></p>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// com_create_guid()</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">guid</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (function_exists(<span class=\"string\">'com_create_guid'</span>))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> com_create_guid();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        mt_srand((double)microtime()*<span class=\"number\">10000</span>);<span class=\"comment\">//optional for php 4.2.0 and up.</span></span><br><span class=\"line\">        $charid = strtoupper(md5(uniqid(rand(), <span class=\"keyword\">true</span>)));</span><br><span class=\"line\">        $hyphen = chr(<span class=\"number\">45</span>);<span class=\"comment\">// \"-\"</span></span><br><span class=\"line\">        $uuid = chr(<span class=\"number\">123</span>)<span class=\"comment\">// \"&#123;\"</span></span><br><span class=\"line\">                .substr($charid, <span class=\"number\">0</span>, <span class=\"number\">8</span>).$hyphen</span><br><span class=\"line\">                .substr($charid, <span class=\"number\">8</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">12</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">16</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">20</span>,<span class=\"number\">12</span>)</span><br><span class=\"line\">                .chr(<span class=\"number\">125</span>);<span class=\"comment\">// \"&#125;\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> $uuid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> guid();</span><br></pre></td></tr></table></figure>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>uuiduint64</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>uuidID<br><code>uint64 ID = GenTimeMS();</code></p>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><p>11000ID, 1000000ID</p>\n<h3 id=\"snowflake-snowflake\"><a href=\"#snowflake-snowflake\" class=\"headerlink\" title=\"snowflake snowflake\"></a>snowflake <a href=\"https://github.com/twitter/snowflake\" target=\"_blank\" rel=\"external\">snowflake</a></h3><p>snowflaketwitterID.</p>\n<p>00000000000 0000000000 0000000000 0000000000 0  00000 00000 000000000000</p>\n<p><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"pic\"></p>\n<p>41bit(), (1L &lt;&lt; 41) / (3600L <em> 24 </em> 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471<br>10bitid{0}, (1L &lt;&lt; 10) - 1   1023<br>12bitid{0}, (1L &lt;&lt; 12) - 1 4095</p>\n<p>longID<code>41bit</code><code>10bit</code><code>12bit</code><strong></strong><code>1000 * (2^12-1)  1000 * ((1 &lt;&lt; 12)- 1)</code>4096000ID</p>\n<p>snowflakeID</p>\n<p>ID</p>\n<ol>\n<li>1W510W</li>\n<li>254</li>\n<li>100</li>\n<li>5ID10</li>\n</ol>\n<p></p>\n<ol>\n<li>201611ID10 <code>10*365*24*3600*1000=320*10^9</code>39bit</li>\n<li>10W1007bit</li>\n<li>542bit</li>\n<li>1007bit</li>\n<li>104bit</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>64bit</p>\n<ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>1IDID<br><br>ID<code>message-id/ order-id/ tiezi-id</code>IDID<strong>ID</strong>ID<br>0<strong>0IDID</strong><strong>009</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Snowflake</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//idbit5bitworkerid5bitdatacenterid</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"comment\">//bit</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> SequenceBits = <span class=\"number\">12</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxWorkerId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; WorkerIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxDatacenterId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; DatacenterIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> SequenceMask = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; SequenceBits);</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdShift = SequenceBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdShift = SequenceBits + WorkerIdBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _sequence = <span class=\"number\">0L</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _lastTimestamp = -<span class=\"number\">1L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> WorkerId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> DatacenterId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Snowflake</span><span class=\"params\">(<span class=\"keyword\">long</span> workerId, <span class=\"keyword\">long</span> datacenterId, <span class=\"keyword\">long</span> sequence = <span class=\"number\">0</span>L)</span> </span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        WorkerId = workerId;</span><br><span class=\"line\">        DatacenterId = datacenterId;</span><br><span class=\"line\">        _sequence = sequence;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// sanity check for workerId</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (workerId &gt; MaxWorkerId || workerId &lt; <span class=\"number\">0</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"worker Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxWorkerId) );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (datacenterId &gt; MaxDatacenterId || datacenterId &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"datacenter Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxDatacenterId));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;returns&gt;&lt;/returns&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">TimeGen</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        DateTime Jan1st1970 = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, DateTimeKind.Utc);<span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">long</span>)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    readonly object _lock = <span class=\"keyword\">new</span> Object();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">NextId</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        lock (_lock)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            var timestamp = TimeGen();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (timestamp &lt; _lastTimestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidSystemClock(String.Format(</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;0&#125;\"</span>, _lastTimestamp - timestamp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (_lastTimestamp == timestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = (_sequence + <span class=\"number\">1</span>) &amp; SequenceMask;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (_sequence == <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    timestamp = TilNextMillis(_lastTimestamp);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            _lastTimestamp = timestamp;</span><br><span class=\"line\">            <span class=\"comment\">//snowflake</span></span><br><span class=\"line\">            var id = (timestamp &lt;&lt; TimestampLeftShift) |</span><br><span class=\"line\">                     (DatacenterId &lt;&lt; DatacenterIdShift) |</span><br><span class=\"line\">                     (WorkerId &lt;&lt; WorkerIdShift) | _sequence;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">TilNextMillis</span><span class=\"params\">(<span class=\"keyword\">long</span> lastTimestamp)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        var timestamp = TimeGen();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (timestamp &lt;= lastTimestamp)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            timestamp = TimeGen();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> timestamp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>message-id</li>\n<li>order-id</li>\n<li>tiezi-id</li>\n</ol>\n<p><code>cluster index</code></p>","more":"<p></p>\n<ul>\n<li>selectmessage-id/ order by time/ limit 100</li>\n<li>selectorder-id/ order by time/ limit 100</li>\n<li>selecttiezi-id/ order by time/ limit 100<br>timetimenon-cluster index</li>\n</ul>\n<p>time<br><code>select message-id/ (order by message-id)/limit 100</code><br>message-id</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1--auto-increment\"><a href=\"#1--auto-increment\" class=\"headerlink\" title=\"1. auto_increment\"></a>1. auto_increment</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>+ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><ol>\n<li></li>\n<li>ID</li>\n</ol>\n<p><img src=\"/images/technology/gen-id.png\" alt=\"pic\"></p>\n<p>13auto_incrementID00,3,6,911,4,7,1022,5,8,11, </p>\n<p><strong></strong></p>\n<ol>\n<li>ID00,311ID</li>\n<li>ID<br></li>\n</ol>\n<h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>ID</p>\n<p><img src=\"/images/technology/gen-id2.png\" alt=\"pic\"></p>\n<p>masterID0ID6IDID5IDIDID0,1,2,3,4,5IDIDID116,7,8,9,10,11ID1/6</p>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>ID0,1,2,3,4,5max-id53645</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a><strong></strong></h4><p><strong> </strong> 1</p>\n<p><img src=\"/images/technology/gen-id3.png\" alt=\"pic\"><br>vip+keepalived</p>\n<h3 id=\"uuid\"><a href=\"#uuid\" class=\"headerlink\" title=\"uuid\"></a>uuid</h3><p>IDIDApplicationID</p>\n<p>uuid<code>string ID = GenUUID();</code></p>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// com_create_guid()</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">guid</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (function_exists(<span class=\"string\">'com_create_guid'</span>))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> com_create_guid();</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        mt_srand((double)microtime()*<span class=\"number\">10000</span>);<span class=\"comment\">//optional for php 4.2.0 and up.</span></span><br><span class=\"line\">        $charid = strtoupper(md5(uniqid(rand(), <span class=\"keyword\">true</span>)));</span><br><span class=\"line\">        $hyphen = chr(<span class=\"number\">45</span>);<span class=\"comment\">// \"-\"</span></span><br><span class=\"line\">        $uuid = chr(<span class=\"number\">123</span>)<span class=\"comment\">// \"&#123;\"</span></span><br><span class=\"line\">                .substr($charid, <span class=\"number\">0</span>, <span class=\"number\">8</span>).$hyphen</span><br><span class=\"line\">                .substr($charid, <span class=\"number\">8</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">12</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">16</span>, <span class=\"number\">4</span>).$hyphen</span><br><span class=\"line\">                .substr($charid,<span class=\"number\">20</span>,<span class=\"number\">12</span>)</span><br><span class=\"line\">                .chr(<span class=\"number\">125</span>);<span class=\"comment\">// \"&#125;\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> $uuid;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> guid();</span><br></pre></td></tr></table></figure>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>uuiduint64</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>uuidID<br><code>uint64 ID = GenTimeMS();</code></p>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><p>11000ID, 1000000ID</p>\n<h3 id=\"snowflake-snowflake\"><a href=\"#snowflake-snowflake\" class=\"headerlink\" title=\"snowflake snowflake\"></a>snowflake <a href=\"https://github.com/twitter/snowflake\">snowflake</a></h3><p>snowflaketwitterID.</p>\n<p>00000000000 0000000000 0000000000 0000000000 0  00000 00000 000000000000</p>\n<p><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"pic\"></p>\n<p>41bit(), (1L &lt;&lt; 41) / (3600L <em> 24 </em> 365 * 1000.0)1L41  2199023255552 /31536000000=69.73057000101471<br>10bitid{0}, (1L &lt;&lt; 10) - 1   1023<br>12bitid{0}, (1L &lt;&lt; 12) - 1 4095</p>\n<p>longID<code>41bit</code><code>10bit</code><code>12bit</code><strong></strong><code>1000 * (2^12-1)  1000 * ((1 &lt;&lt; 12)- 1)</code>4096000ID</p>\n<p>snowflakeID</p>\n<p>ID</p>\n<ol>\n<li>1W510W</li>\n<li>254</li>\n<li>100</li>\n<li>5ID10</li>\n</ol>\n<p></p>\n<ol>\n<li>201611ID10 <code>10*365*24*3600*1000=320*10^9</code>39bit</li>\n<li>10W1007bit</li>\n<li>542bit</li>\n<li>1007bit</li>\n<li>104bit</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>64bit</p>\n<ol>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n<li>ID</li>\n</ol>\n<h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><p>1IDID<br><br>ID<code>message-id/ order-id/ tiezi-id</code>IDID<strong>ID</strong>ID<br>0<strong>0IDID</strong><strong>009</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Snowflake</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//idbit5bitworkerid5bitdatacenterid</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdBits = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"comment\">//bit</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> SequenceBits = <span class=\"number\">12</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxWorkerId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; WorkerIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> MaxDatacenterId = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; DatacenterIdBits);</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">const</span> <span class=\"keyword\">long</span> SequenceMask = -<span class=\"number\">1L</span> ^ (-<span class=\"number\">1L</span> &lt;&lt; SequenceBits);</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WorkerIdShift = SequenceBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DatacenterIdShift = SequenceBits + WorkerIdBits;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> TimestampLeftShift = SequenceBits + WorkerIdBits + DatacenterIdBits;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _sequence = <span class=\"number\">0L</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> _lastTimestamp = -<span class=\"number\">1L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> WorkerId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> DatacenterId &#123; get; <span class=\"keyword\">protected</span> set; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Snowflake</span><span class=\"params\">(<span class=\"keyword\">long</span> workerId, <span class=\"keyword\">long</span> datacenterId, <span class=\"keyword\">long</span> sequence = <span class=\"number\">0</span>L)</span> </span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        WorkerId = workerId;</span><br><span class=\"line\">        DatacenterId = datacenterId;</span><br><span class=\"line\">        _sequence = sequence;</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// sanity check for workerId</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (workerId &gt; MaxWorkerId || workerId &lt; <span class=\"number\">0</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"worker Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxWorkerId) );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (datacenterId &gt; MaxDatacenterId || datacenterId &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException( String.Format(<span class=\"string\">\"datacenter Id can't be greater than &#123;0&#125; or less than 0\"</span>, MaxDatacenterId));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;returns&gt;&lt;/returns&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">TimeGen</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        DateTime Jan1st1970 = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, DateTimeKind.Utc);<span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">long</span>)(DateTime.UtcNow - Jan1st1970).TotalMilliseconds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    readonly object _lock = <span class=\"keyword\">new</span> Object();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">NextId</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        lock (_lock)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            var timestamp = TimeGen();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (timestamp &lt; _lastTimestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidSystemClock(String.Format(</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;0&#125;\"</span>, _lastTimestamp - timestamp));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (_lastTimestamp == timestamp)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = (_sequence + <span class=\"number\">1</span>) &amp; SequenceMask;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (_sequence == <span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    timestamp = TilNextMillis(_lastTimestamp);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                _sequence = <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            _lastTimestamp = timestamp;</span><br><span class=\"line\">            <span class=\"comment\">//snowflake</span></span><br><span class=\"line\">            var id = (timestamp &lt;&lt; TimestampLeftShift) |</span><br><span class=\"line\">                     (DatacenterId &lt;&lt; DatacenterIdShift) |</span><br><span class=\"line\">                     (WorkerId &lt;&lt; WorkerIdShift) | _sequence;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/// &lt;summary&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">/// </span></span><br><span class=\"line\">    <span class=\"comment\">/// &lt;/summary&gt;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> virtual <span class=\"keyword\">long</span> <span class=\"title\">TilNextMillis</span><span class=\"params\">(<span class=\"keyword\">long</span> lastTimestamp)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        var timestamp = TimeGen();</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (timestamp &lt;= lastTimestamp)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            timestamp = TimeGen();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> timestamp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2015-06-22T06:50:38.000Z","updated":"2015-06-22T06:50:38.000Z","_content":"\n\n# 90\n\n\"22\"9090I AM SURE U WILL FIND A DIFFERENT U.\n<!-- more -->\n## 20\n\n## \n\n## \n\n## \n\n## \n\n## \n\n  \n\n## \n\n \n\n## \n\n  711   \n\n## deadline\n\n## \n\n> event-time-log \n\n## \n\n\n\n## \n\n## TEFCAS\n\nT---- E---- F---- C---- A---- S---- [](http://www.jianshu.com/p/e9054cb333e8)\n\n# \n\n1. How \"\" \"\"  TA \n2. What \"\" \n3. Why Why\n\n 60%  Why  What\n\n What to do  \"\"  ``\n\n`` ``  \"\"   \"\" \n\n\n:[](http://sivers.org/horses)\n","source":"_posts/2015/grown-up.md","raw":"---\ntitle: \ndate: 2015-06-22 14:50:38\nupdated: 2015-06-22 14:50:38\ntags:\n- \ncategories:\n---\n\n\n# 90\n\n\"22\"9090I AM SURE U WILL FIND A DIFFERENT U.\n<!-- more -->\n## 20\n\n## \n\n## \n\n## \n\n## \n\n## \n\n  \n\n## \n\n \n\n## \n\n  711   \n\n## deadline\n\n## \n\n> event-time-log \n\n## \n\n\n\n## \n\n## TEFCAS\n\nT---- E---- F---- C---- A---- S---- [](http://www.jianshu.com/p/e9054cb333e8)\n\n# \n\n1. How \"\" \"\"  TA \n2. What \"\" \n3. Why Why\n\n 60%  Why  What\n\n What to do  \"\"  ``\n\n`` ``  \"\"   \"\" \n\n\n:[](http://sivers.org/horses)\n","slug":"grown-up","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsw000zcwnnrftmsprr","content":"<h1 id=\"90\"><a href=\"#90\" class=\"headerlink\" title=\"90\"></a>90</h1><p>229090I AM SURE U WILL FIND A DIFFERENT U.<br><a id=\"more\"></a></p>\n<h2 id=\"20\"><a href=\"#20\" class=\"headerlink\" title=\"20\"></a>20</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  711   </p>\n<h2 id=\"deadline\"><a href=\"#deadline\" class=\"headerlink\" title=\"deadline\"></a>deadline</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>event-time-log </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"TEFCAS\"><a href=\"#TEFCAS\" class=\"headerlink\" title=\"TEFCAS\"></a>TEFCAS</h2><p>T- E- F- C- A- S- <a href=\"http://www.jianshu.com/p/e9054cb333e8\" target=\"_blank\" rel=\"external\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>How    TA </li>\n<li>What  </li>\n<li>Why Why</li>\n</ol>\n<p> 60%  Why  What</p>\n<p> What to do    <code></code></p>\n<p><code></code> <code></code>      </p>\n<p>:<a href=\"http://sivers.org/horses\" target=\"_blank\" rel=\"external\"></a></p>\n","excerpt":"<h1 id=\"90\"><a href=\"#90\" class=\"headerlink\" title=\"90\"></a>90</h1><p>229090I AM SURE U WILL FIND A DIFFERENT U.<br>","more":"</p>\n<h2 id=\"20\"><a href=\"#20\" class=\"headerlink\" title=\"20\"></a>20</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  711   </p>\n<h2 id=\"deadline\"><a href=\"#deadline\" class=\"headerlink\" title=\"deadline\"></a>deadline</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>event-time-log </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"TEFCAS\"><a href=\"#TEFCAS\" class=\"headerlink\" title=\"TEFCAS\"></a>TEFCAS</h2><p>T- E- F- C- A- S- <a href=\"http://www.jianshu.com/p/e9054cb333e8\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>How    TA </li>\n<li>What  </li>\n<li>Why Why</li>\n</ol>\n<p> 60%  Why  What</p>\n<p> What to do    <code></code></p>\n<p><code></code> <code></code>      </p>\n<p>:<a href=\"http://sivers.org/horses\"></a></p>"},{"title":"gulp tutorial","date":"2016-07-15T02:58:29.000Z","updated":"2016-07-15T02:58:29.000Z","_content":"### nodejs\nnodejs,npm \n\n``` cli\n  //\n  npm install cnpm -g --registry=https://registry.npm.taobao.org\n  npm uninstall xxx\n  //\n  npm list\n```\n<!-- more -->\n### gulp,package.json\n\n `cnpm install gulp -g` ,  `cnpm init` , `cnpm install gulp --save-dev`\ngulpgulpgulpgulpgulpgulp\n `package.json`  `cnpm help package.json`\n\n### gulp,demo\ngulpfile.jsgulpjsgulpfile.js,demo\n\n``` javascript\n\n  // require('node_modules')\n  var gulp = require('gulp'), //gulp\n    less = require('gulp-less');\n\n  //testLess\n  gulp.task('testLess', function () {\n    gulp.src('src/less/index.less') //\n        .pipe(less()) //\n        .pipe(gulp.dest('src/css')); //src/cssindex.css\n  });\n\n  gulp.task('default',['testLess', 'elseTask']); // elseTaskelseTask\n\n  //gulp.task(name[, deps], fn)   name deps fn\n  //gulp.src(globs[, options])   globs()\n  //gulp.dest(path[, options]) \n```\n `gulp testLess` `gulp default` or  `gulp`\n\n\n### gulp  laravel \n\n```\nnpm install -g gulp\ngulp -v\n\n```\nlaravel  package.json  `npm install` gluplaravel-elixir\n\n#### Elixir \n `gulpfile.js`\n``` javascript\nelixir(function(mix) {\n    mix.less('app.less');\n});\n```\nmix.less Less app.less  resources/assets/less \n\n\n[Laravel Elixir](http://www.tuicool.com/articles/YRV7Fz)\n","source":"_posts/2015/gulp-tutorial.md","raw":"---\ntitle: gulp tutorial\ndate: 2016-07-15 10:58:29\nupdated: 2016-07-15 10:58:29\ntags:\ncategories:\n---\n### nodejs\nnodejs,npm \n\n``` cli\n  //\n  npm install cnpm -g --registry=https://registry.npm.taobao.org\n  npm uninstall xxx\n  //\n  npm list\n```\n<!-- more -->\n### gulp,package.json\n\n `cnpm install gulp -g` ,  `cnpm init` , `cnpm install gulp --save-dev`\ngulpgulpgulpgulpgulpgulp\n `package.json`  `cnpm help package.json`\n\n### gulp,demo\ngulpfile.jsgulpjsgulpfile.js,demo\n\n``` javascript\n\n  // require('node_modules')\n  var gulp = require('gulp'), //gulp\n    less = require('gulp-less');\n\n  //testLess\n  gulp.task('testLess', function () {\n    gulp.src('src/less/index.less') //\n        .pipe(less()) //\n        .pipe(gulp.dest('src/css')); //src/cssindex.css\n  });\n\n  gulp.task('default',['testLess', 'elseTask']); // elseTaskelseTask\n\n  //gulp.task(name[, deps], fn)   name deps fn\n  //gulp.src(globs[, options])   globs()\n  //gulp.dest(path[, options]) \n```\n `gulp testLess` `gulp default` or  `gulp`\n\n\n### gulp  laravel \n\n```\nnpm install -g gulp\ngulp -v\n\n```\nlaravel  package.json  `npm install` gluplaravel-elixir\n\n#### Elixir \n `gulpfile.js`\n``` javascript\nelixir(function(mix) {\n    mix.less('app.less');\n});\n```\nmix.less Less app.less  resources/assets/less \n\n\n[Laravel Elixir](http://www.tuicool.com/articles/YRV7Fz)\n","slug":"gulp-tutorial","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopsx0010cwnnwac4fof6","content":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><p>nodejs,npm </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">npm uninstall xxx</span><br><span class=\"line\">//</span><br><span class=\"line\">npm list</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"gulp-package-json\"><a href=\"#gulp-package-json\" class=\"headerlink\" title=\"gulp,package.json\"></a>gulp,package.json</h3><p> <code>cnpm install gulp -g</code> ,  <code>cnpm init</code> , <code>cnpm install gulp --save-dev</code><br>gulpgulpgulpgulpgulpgulp<br> <code>package.json</code>  <code>cnpm help package.json</code></p>\n<h3 id=\"gulp-demo\"><a href=\"#gulp-demo\" class=\"headerlink\" title=\"gulp,demo\"></a>gulp,demo</h3><p>gulpfile.jsgulpjsgulpfile.js,demo</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// require('node_modules')</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>), <span class=\"comment\">//gulp</span></span><br><span class=\"line\">  less = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-less'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//testLess</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'testLess'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  gulp.src(<span class=\"string\">'src/less/index.less'</span>) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(less()) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'src/css'</span>)); <span class=\"comment\">//src/cssindex.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>,[<span class=\"string\">'testLess'</span>, <span class=\"string\">'elseTask'</span>]); <span class=\"comment\">// elseTaskelseTask</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn)   name deps fn</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options])   globs()</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) </span></span><br></pre></td></tr></table></figure>\n<p> <code>gulp testLess</code> <code>gulp default</code> or  <code>gulp</code></p>\n<h3 id=\"gulp--laravel-\"><a href=\"#gulp--laravel-\" class=\"headerlink\" title=\"gulp  laravel \"></a>gulp  laravel </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g gulp</span><br><span class=\"line\">gulp -v</span><br></pre></td></tr></table></figure>\n<p>laravel  package.json  <code>npm install</code> gluplaravel-elixir</p>\n<h4 id=\"Elixir-\"><a href=\"#Elixir-\" class=\"headerlink\" title=\"Elixir \"></a>Elixir </h4><p> <code>gulpfile.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">elixir(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mix</span>) </span>&#123;</span><br><span class=\"line\">    mix.less(<span class=\"string\">'app.less'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>mix.less Less app.less  resources/assets/less </p>\n<p><a href=\"http://www.tuicool.com/articles/YRV7Fz\" target=\"_blank\" rel=\"external\">Laravel Elixir</a></p>\n","excerpt":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><p>nodejs,npm </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br><span class=\"line\">npm uninstall xxx</span><br><span class=\"line\">//</span><br><span class=\"line\">npm list</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"gulp-package-json\"><a href=\"#gulp-package-json\" class=\"headerlink\" title=\"gulp,package.json\"></a>gulp,package.json</h3><p> <code>cnpm install gulp -g</code> ,  <code>cnpm init</code> , <code>cnpm install gulp --save-dev</code><br>gulpgulpgulpgulpgulpgulp<br> <code>package.json</code>  <code>cnpm help package.json</code></p>\n<h3 id=\"gulp-demo\"><a href=\"#gulp-demo\" class=\"headerlink\" title=\"gulp,demo\"></a>gulp,demo</h3><p>gulpfile.jsgulpjsgulpfile.js,demo</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// require('node_modules')</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>), <span class=\"comment\">//gulp</span></span><br><span class=\"line\">  less = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-less'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//testLess</span></span><br><span class=\"line\">gulp.task(<span class=\"string\">'testLess'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  gulp.src(<span class=\"string\">'src/less/index.less'</span>) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(less()) <span class=\"comment\">//</span></span><br><span class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'src/css'</span>)); <span class=\"comment\">//src/cssindex.css</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>,[<span class=\"string\">'testLess'</span>, <span class=\"string\">'elseTask'</span>]); <span class=\"comment\">// elseTaskelseTask</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//gulp.task(name[, deps], fn)   name deps fn</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.src(globs[, options])   globs()</span></span><br><span class=\"line\"><span class=\"comment\">//gulp.dest(path[, options]) </span></span><br></pre></td></tr></table></figure>\n<p> <code>gulp testLess</code> <code>gulp default</code> or  <code>gulp</code></p>\n<h3 id=\"gulp--laravel-\"><a href=\"#gulp--laravel-\" class=\"headerlink\" title=\"gulp  laravel \"></a>gulp  laravel </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g gulp</span><br><span class=\"line\">gulp -v</span><br></pre></td></tr></table></figure>\n<p>laravel  package.json  <code>npm install</code> gluplaravel-elixir</p>\n<h4 id=\"Elixir-\"><a href=\"#Elixir-\" class=\"headerlink\" title=\"Elixir \"></a>Elixir </h4><p> <code>gulpfile.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">elixir(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mix</span>) </span>&#123;</span><br><span class=\"line\">    mix.less(<span class=\"string\">'app.less'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>mix.less Less app.less  resources/assets/less </p>\n<p><a href=\"http://www.tuicool.com/articles/YRV7Fz\">Laravel Elixir</a></p>"},{"title":"","date":"2015-10-15T02:58:29.000Z","updated":"2015-10-15T02:58:29.000Z","_content":"\n## \n\n### \n\nkpi<!--more-->\n\n**** go for fuzzinesshow \n\n### \n\n9010%\n\n\n\n\n\n> ****24\n>\n> ****\n>\n> **** \n>\n> ****sns\n\n\n\n 21\n\n\n\n### balance\n\n50comfortable\n\n### 9TIps9 ways to feel less anxiou\n\n### at work\n\n1. take a deep breath and acknowledge that you're anxious\n2. (instead of coffee,caffeine-free chamomile tea,it's relaxing)\n3. (whatch a show you like during lunch break )\n4.  (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)\n5. (take ten minutes to yourself during your work day)\n6. talk with a friend,something unrelated to work)\n7. (instead of sugary treats,try natural energy snacks like almonds !)\n8. (get rid of your clutter)\n9. (make sure to get a good night's sleep)\n","source":"_posts/2015/how-to-happy-work.md","raw":"---\ntitle: \ndate: 2015-10-15 10:58:29\nupdated: 2015-10-15 10:58:29\ntags: work\ncategories:\n---\n\n## \n\n### \n\nkpi<!--more-->\n\n**** go for fuzzinesshow \n\n### \n\n9010%\n\n\n\n\n\n> ****24\n>\n> ****\n>\n> **** \n>\n> ****sns\n\n\n\n 21\n\n\n\n### balance\n\n50comfortable\n\n### 9TIps9 ways to feel less anxiou\n\n### at work\n\n1. take a deep breath and acknowledge that you're anxious\n2. (instead of coffee,caffeine-free chamomile tea,it's relaxing)\n3. (whatch a show you like during lunch break )\n4.  (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)\n5. (take ten minutes to yourself during your work day)\n6. talk with a friend,something unrelated to work)\n7. (instead of sugary treats,try natural energy snacks like almonds !)\n8. (get rid of your clutter)\n9. (make sure to get a good night's sleep)\n","slug":"how-to-happy-work","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopt10013cwnn35ntc462","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>kpi<a id=\"more\"></a></p>\n<p><strong></strong> go for fuzzinesshow </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>9010%</p>\n<p></p>\n<p></p>\n<blockquote>\n<p><strong></strong>24</p>\n<p><strong></strong></p>\n<p><strong></strong> </p>\n<p><strong></strong>sns</p>\n</blockquote>\n<p> 21</p>\n<h3 id=\"balance\"><a href=\"#balance\" class=\"headerlink\" title=\"balance\"></a>balance</h3><p>50comfortable</p>\n<h3 id=\"9TIps9-ways-to-feel-less-anxiou\"><a href=\"#9TIps9-ways-to-feel-less-anxiou\" class=\"headerlink\" title=\"9TIps9 ways to feel less anxiou\"></a>9TIps9 ways to feel less anxiou</h3><h3 id=\"at-work\"><a href=\"#at-work\" class=\"headerlink\" title=\"at work\"></a>at work</h3><ol>\n<li>take a deep breath and acknowledge that youre anxious</li>\n<li>(instead of coffee,caffeine-free chamomile tea,its relaxing)</li>\n<li>(whatch a show you like during lunch break )</li>\n<li> (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)</li>\n<li>(take ten minutes to yourself during your work day)</li>\n<li>talk with a friend,something unrelated to work)</li>\n<li>(instead of sugary treats,try natural energy snacks like almonds !)</li>\n<li>(get rid of your clutter)</li>\n<li>(make sure to get a good nights sleep)</li>\n</ol>\n","excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>kpi","more":"</p>\n<p><strong></strong> go for fuzzinesshow </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>9010%</p>\n<p></p>\n<p></p>\n<blockquote>\n<p><strong></strong>24</p>\n<p><strong></strong></p>\n<p><strong></strong> </p>\n<p><strong></strong>sns</p>\n</blockquote>\n<p> 21</p>\n<h3 id=\"balance\"><a href=\"#balance\" class=\"headerlink\" title=\"balance\"></a>balance</h3><p>50comfortable</p>\n<h3 id=\"9TIps9-ways-to-feel-less-anxiou\"><a href=\"#9TIps9-ways-to-feel-less-anxiou\" class=\"headerlink\" title=\"9TIps9 ways to feel less anxiou\"></a>9TIps9 ways to feel less anxiou</h3><h3 id=\"at-work\"><a href=\"#at-work\" class=\"headerlink\" title=\"at work\"></a>at work</h3><ol>\n<li>take a deep breath and acknowledge that youre anxious</li>\n<li>(instead of coffee,caffeine-free chamomile tea,its relaxing)</li>\n<li>(whatch a show you like during lunch break )</li>\n<li> (visualize filling up a balloon,exhale in 7-second intervals it clears your mind)</li>\n<li>(take ten minutes to yourself during your work day)</li>\n<li>talk with a friend,something unrelated to work)</li>\n<li>(instead of sugary treats,try natural energy snacks like almonds !)</li>\n<li>(get rid of your clutter)</li>\n<li>(make sure to get a good nights sleep)</li>\n</ol>"},{"layout":"scaffold","title":"","date":"2015-06-21T09:25:46.000Z","_content":"\n## \n\n1.\n2.<!-- more -->\n3.\n4.\n5.\n\n### \n\n--\n\n\n> - \n> - \n> - \n> - \n> - \n\n\n\n1.\n2.\n\n### \n","source":"_posts/2015/hui-lai-shi.md","raw":"layout: scaffold\ntitle: \ndate: 2015-06-21 17:25:46\ntags:\n---\n\n## \n\n1.\n2.<!-- more -->\n3.\n4.\n5.\n\n### \n\n--\n\n\n> - \n> - \n> - \n> - \n> - \n\n\n\n1.\n2.\n\n### \n","slug":"hui-lai-shi","published":1,"updated":"2017-01-04T03:53:16.142Z","comments":1,"photos":[],"link":"","_id":"cixkcopt20014cwnnzcjhj2s4","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>1.<br>2.<a id=\"more\"></a><br>3.<br>4.<br>5.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p><br>1.<br>2.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>1.<br>2.","more":"<br>3.<br>4.<br>5.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p><br>1.<br>2.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>"},{"title":"mac ","date":"2015-07-29T05:42:55.000Z","updated":"2015-07-29T05:42:55.000Z","_content":"\n## Homebrew\n``` bash\n  //install\n  ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n\n  //use\n  brew search /apache*/\n  brew install wget\n  brew uninstall wget\n\n```\n> [](http://brew.sh/)\n\n<!--more-->\n## zsh bash\n```bash\n   sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n```\ncat /etc/shells sh\n`chsh -s /bin/bash`   `chsh -s /bin/zsh`\n\n[zsh](http://ohmyz.sh/)\n## apache\nmac\n```bash\n  brew install apache\n```\n\n## nginx\n\n``` bash\n  brew install nginx\n\n  sudo nginx\n  nginx -s reload|reopen|stop|quit\n  nginx -t\n```\n8080\n```bash\n  vim /usr/local/etc/nginx/nginx.conf\n```\n\n```bash\n  /usr/local/Cellar/nginx/$version/html\n```\n## mysql\n```bash\n  brew install mysql\n```\n\nWe've installed your MySQL database without a root password. To secure it run:\n    `mysql_secure_installation`\nTo connect run:\n    `mysql -uroot`\nTo have launchd start mysql now and restart at login:\n  `brew services start mysql`\nOr, if you don't want/need a background service you can just run:\n  `mysql.server start`\n\n5.7mysql.erver start  `mysql -uroot` .\n\n``` bash\nmysql_install_db --verbose --user='whoami' --basedir=\"$(brew --prefix mysql)\" --datadir=/usr/local/var/mysql --tmpdir=/tmp\n```\n`mysqladmin -u root password 'password'`\n\n## php\n\n> [](https://github.com/Homebrew/homebrew-php)\n\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    `LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so`\n\nThe php.ini file can be found in:\n    `/usr/local/etc/php/5.6/php.ini`\n\n Extensions \n\nIf you are having issues with custom extension compiling, ensure that\nyou are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:\n\n      PATH=\"/usr/local/bin:$PATH\"\n\nPHP56 Extensions will always be compiled against this PHP. Please install them\nusing --without-homebrew-php to enable compiling against system PHP.\n\n PHP CLI \n\nIf you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,\n~/.zshrc, ~/.profile or your shell's equivalent configuration file:\n\n      export PATH=\"$(brew --prefix homebrew/php/php56)/bin:$PATH\"\n\n FPM \n\nlaunchctl\nTo launch php-fpm on startup:\n    mkdir -p ~/Library/LaunchAgents\n    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/\n    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist\n\nThe control script is located at /usr/local/opt/php56/sbin/php56-fpm\n\nOS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:\n\n  PATH=\"/usr/local/sbin:$PATH\"\n\nYou may also need to edit the plist to use the correct \"UserName\".\n\nPlease note that the plist was called 'homebrew-php.josegonzalez.php56.plist' in old versions\nof this formula.\n\nTo have launchd start homebrew/php/php56 now and restart at login:\n  brew services start homebrew/php/php56\n  brew services restart homebrew/php/php56\n\n\n\n## mac \n\n```bash\n  cd ~\n  //\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n  // \n  # curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n  //unix\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n\n```\n\n> - Terminal  [iTerm](https://www.iterm2.com/)\n> - Finder  [TotalFinder](http://totalfinder.binaryage.com/) / [Path Finder](http://www.cocoatech.com/pathfinder/)\n> - Spotlight  [QuickSilver](https://qsapp.com/) / [Alfred](https://www.alfredapp.com/)\n\n[Terminal cheatsheet](https://github.com/0nn0/terminal-mac-cheatsheet)\n\n## xcode\nxcode-select --install\n\n## rvm\n```bash\n  curl -sSL https://get.rvm.io | bash -s stable\n  rvm install 2.3.1\n  rvm use 2.3.1\n```\n## nvm\n\n```bash\n  brew install nvm\n  nvm install 4\n  nvm use 4\n```\n\n## atom\n```bash\n  brew cask install atom\n\n```\n","source":"_posts/2015/mac-web.md","raw":"---\ntitle: mac \ndate: 2015-07-29 13:42:55\nupdated: 2015-07-29 13:42:55\ntags:\ncategories:\n---\n\n## Homebrew\n``` bash\n  //install\n  ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n\n  //use\n  brew search /apache*/\n  brew install wget\n  brew uninstall wget\n\n```\n> [](http://brew.sh/)\n\n<!--more-->\n## zsh bash\n```bash\n   sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n```\ncat /etc/shells sh\n`chsh -s /bin/bash`   `chsh -s /bin/zsh`\n\n[zsh](http://ohmyz.sh/)\n## apache\nmac\n```bash\n  brew install apache\n```\n\n## nginx\n\n``` bash\n  brew install nginx\n\n  sudo nginx\n  nginx -s reload|reopen|stop|quit\n  nginx -t\n```\n8080\n```bash\n  vim /usr/local/etc/nginx/nginx.conf\n```\n\n```bash\n  /usr/local/Cellar/nginx/$version/html\n```\n## mysql\n```bash\n  brew install mysql\n```\n\nWe've installed your MySQL database without a root password. To secure it run:\n    `mysql_secure_installation`\nTo connect run:\n    `mysql -uroot`\nTo have launchd start mysql now and restart at login:\n  `brew services start mysql`\nOr, if you don't want/need a background service you can just run:\n  `mysql.server start`\n\n5.7mysql.erver start  `mysql -uroot` .\n\n``` bash\nmysql_install_db --verbose --user='whoami' --basedir=\"$(brew --prefix mysql)\" --datadir=/usr/local/var/mysql --tmpdir=/tmp\n```\n`mysqladmin -u root password 'password'`\n\n## php\n\n> [](https://github.com/Homebrew/homebrew-php)\n\n\nTo enable PHP in Apache add the following to httpd.conf and restart Apache:\n    `LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so`\n\nThe php.ini file can be found in:\n    `/usr/local/etc/php/5.6/php.ini`\n\n Extensions \n\nIf you are having issues with custom extension compiling, ensure that\nyou are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:\n\n      PATH=\"/usr/local/bin:$PATH\"\n\nPHP56 Extensions will always be compiled against this PHP. Please install them\nusing --without-homebrew-php to enable compiling against system PHP.\n\n PHP CLI \n\nIf you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,\n~/.zshrc, ~/.profile or your shell's equivalent configuration file:\n\n      export PATH=\"$(brew --prefix homebrew/php/php56)/bin:$PATH\"\n\n FPM \n\nlaunchctl\nTo launch php-fpm on startup:\n    mkdir -p ~/Library/LaunchAgents\n    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/\n    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist\n\nThe control script is located at /usr/local/opt/php56/sbin/php56-fpm\n\nOS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:\n\n  PATH=\"/usr/local/sbin:$PATH\"\n\nYou may also need to edit the plist to use the correct \"UserName\".\n\nPlease note that the plist was called 'homebrew-php.josegonzalez.php56.plist' in old versions\nof this formula.\n\nTo have launchd start homebrew/php/php56 now and restart at login:\n  brew services start homebrew/php/php56\n  brew services restart homebrew/php/php56\n\n\n\n## mac \n\n```bash\n  cd ~\n  //\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile\n  // \n  # curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt\n  //unix\n  curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases\n\n```\n\n> - Terminal  [iTerm](https://www.iterm2.com/)\n> - Finder  [TotalFinder](http://totalfinder.binaryage.com/) / [Path Finder](http://www.cocoatech.com/pathfinder/)\n> - Spotlight  [QuickSilver](https://qsapp.com/) / [Alfred](https://www.alfredapp.com/)\n\n[Terminal cheatsheet](https://github.com/0nn0/terminal-mac-cheatsheet)\n\n## xcode\nxcode-select --install\n\n## rvm\n```bash\n  curl -sSL https://get.rvm.io | bash -s stable\n  rvm install 2.3.1\n  rvm use 2.3.1\n```\n## nvm\n\n```bash\n  brew install nvm\n  nvm install 4\n  nvm use 4\n```\n\n## atom\n```bash\n  brew cask install atom\n\n```\n","slug":"mac-web","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopt50016cwnn5haktvgi","content":"<h2 id=\"Homebrew\"><a href=\"#Homebrew\" class=\"headerlink\" title=\"Homebrew\"></a>Homebrew</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//install</span><br><span class=\"line\">ruby <span class=\"_\">-e</span> <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">//use</span><br><span class=\"line\">brew search /apache*/</span><br><span class=\"line\">brew install wget</span><br><span class=\"line\">brew uninstall wget</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"http://brew.sh/\" target=\"_blank\" rel=\"external\"></a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"zsh-bash\"><a href=\"#zsh-bash\" class=\"headerlink\" title=\"zsh bash\"></a>zsh bash</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh -c <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>\"</span></span><br></pre></td></tr></table></figure>\n<p>cat /etc/shells sh<br><code>chsh -s /bin/bash</code>   <code>chsh -s /bin/zsh</code></p>\n<p><a href=\"http://ohmyz.sh/\" target=\"_blank\" rel=\"external\">zsh</a></p>\n<h2 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h2><p>mac<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install apache</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h2><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo nginx</span><br><span class=\"line\">nginx <span class=\"_\">-s</span> reload|reopen|stop|quit</span><br><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></p>\n<p>8080<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/<span class=\"built_in\">local</span>/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/<span class=\"built_in\">local</span>/Cellar/nginx/<span class=\"variable\">$version</span>/html</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install mysql</span><br></pre></td></tr></table></figure>\n<p><br>Weve installed your MySQL database without a root password. To secure it run:<br>    <code>mysql_secure_installation</code><br>To connect run:<br>    <code>mysql -uroot</code><br>To have launchd start mysql now and restart at login:<br>  <code>brew services start mysql</code><br>Or, if you dont want/need a background service you can just run:<br>  <code>mysql.server start</code></p>\n<p>5.7mysql.erver start  <code>mysql -uroot</code> .<br><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql_install_db --verbose --user=<span class=\"string\">'whoami'</span> --basedir=<span class=\"string\">\"<span class=\"variable\">$(brew --prefix mysql)</span>\"</span> --datadir=/usr/<span class=\"built_in\">local</span>/var/mysql --tmpdir=/tmp</span><br></pre></td></tr></table></figure></p>\n<p><code>mysqladmin -u root password &#39;password&#39;</code></p>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><blockquote>\n<p><a href=\"https://github.com/Homebrew/homebrew-php\" target=\"_blank\" rel=\"external\"></a><br></p>\n</blockquote>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    <code>LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so</code></p>\n<p>The php.ini file can be found in:<br>    <code>/usr/local/etc/php/5.6/php.ini</code></p>\n<p> Extensions </p>\n<p>If you are having issues with custom extension compiling, ensure that<br>you are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:</p>\n<pre><code>PATH=&quot;/usr/local/bin:$PATH&quot;\n</code></pre><p>PHP56 Extensions will always be compiled against this PHP. Please install them<br>using without-homebrew-php to enable compiling against system PHP.</p>\n<p> PHP CLI </p>\n<p>If you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,<br>~/.zshrc, ~/.profile or your shells equivalent configuration file:</p>\n<pre><code>export PATH=&quot;$(brew --prefix homebrew/php/php56)/bin:$PATH&quot;\n</code></pre><p> FPM </p>\n<p>launchctl<br>To launch php-fpm on startup:<br>    mkdir -p ~/Library/LaunchAgents<br>    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/<br>    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist</p>\n<p>The control script is located at /usr/local/opt/php56/sbin/php56-fpm</p>\n<p>OS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:</p>\n<p>  PATH=/usr/local/sbin:$PATH</p>\n<p>You may also need to edit the plist to use the correct UserName.</p>\n<p>Please note that the plist was called homebrew-php.josegonzalez.php56.plist in old versions<br>of this formula.</p>\n<p>To have launchd start homebrew/php/php56 now and restart at login:<br>  brew services start homebrew/php/php56<br>  brew services restart homebrew/php/php56</p>\n<h2 id=\"mac-\"><a href=\"#mac-\" class=\"headerlink\" title=\"mac \"></a>mac </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">//</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"comment\"># curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</span></span><br><span class=\"line\">//unix</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<ul>\n<li>Terminal  <a href=\"https://www.iterm2.com/\" target=\"_blank\" rel=\"external\">iTerm</a></li>\n<li>Finder  <a href=\"http://totalfinder.binaryage.com/\" target=\"_blank\" rel=\"external\">TotalFinder</a> / <a href=\"http://www.cocoatech.com/pathfinder/\" target=\"_blank\" rel=\"external\">Path Finder</a></li>\n<li>Spotlight  <a href=\"https://qsapp.com/\" target=\"_blank\" rel=\"external\">QuickSilver</a> / <a href=\"https://www.alfredapp.com/\" target=\"_blank\" rel=\"external\">Alfred</a></li>\n</ul>\n</blockquote>\n<p><a href=\"https://github.com/0nn0/terminal-mac-cheatsheet\" target=\"_blank\" rel=\"external\">Terminal cheatsheet</a></p>\n<h2 id=\"xcode\"><a href=\"#xcode\" class=\"headerlink\" title=\"xcode\"></a>xcode</h2><p>xcode-select install</p>\n<h2 id=\"rvm\"><a href=\"#rvm\" class=\"headerlink\" title=\"rvm\"></a>rvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl <span class=\"_\">-s</span>SL https://get.rvm.io | bash <span class=\"_\">-s</span> stable</span><br><span class=\"line\">rvm install 2.3.1</span><br><span class=\"line\">rvm use 2.3.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"nvm\"><a href=\"#nvm\" class=\"headerlink\" title=\"nvm\"></a>nvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nvm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\">nvm use 4</span><br></pre></td></tr></table></figure>\n<h2 id=\"atom\"><a href=\"#atom\" class=\"headerlink\" title=\"atom\"></a>atom</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install atom</span><br></pre></td></tr></table></figure>\n","excerpt":"<h2 id=\"Homebrew\"><a href=\"#Homebrew\" class=\"headerlink\" title=\"Homebrew\"></a>Homebrew</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//install</span><br><span class=\"line\">ruby <span class=\"_\">-e</span> <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">//use</span><br><span class=\"line\">brew search /apache*/</span><br><span class=\"line\">brew install wget</span><br><span class=\"line\">brew uninstall wget</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"http://brew.sh/\"></a></p>\n</blockquote>","more":"<h2 id=\"zsh-bash\"><a href=\"#zsh-bash\" class=\"headerlink\" title=\"zsh bash\"></a>zsh bash</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sh -c <span class=\"string\">\"<span class=\"variable\">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>\"</span></span><br></pre></td></tr></table></figure>\n<p>cat /etc/shells sh<br><code>chsh -s /bin/bash</code>   <code>chsh -s /bin/zsh</code></p>\n<p><a href=\"http://ohmyz.sh/\">zsh</a></p>\n<h2 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h2><p>mac<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install apache</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h2><p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo nginx</span><br><span class=\"line\">nginx <span class=\"_\">-s</span> reload|reopen|stop|quit</span><br><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure></p>\n<p>8080<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/<span class=\"built_in\">local</span>/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/<span class=\"built_in\">local</span>/Cellar/nginx/<span class=\"variable\">$version</span>/html</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install mysql</span><br></pre></td></tr></table></figure>\n<p><br>Weve installed your MySQL database without a root password. To secure it run:<br>    <code>mysql_secure_installation</code><br>To connect run:<br>    <code>mysql -uroot</code><br>To have launchd start mysql now and restart at login:<br>  <code>brew services start mysql</code><br>Or, if you dont want/need a background service you can just run:<br>  <code>mysql.server start</code></p>\n<p>5.7mysql.erver start  <code>mysql -uroot</code> .<br><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql_install_db --verbose --user=<span class=\"string\">'whoami'</span> --basedir=<span class=\"string\">\"<span class=\"variable\">$(brew --prefix mysql)</span>\"</span> --datadir=/usr/<span class=\"built_in\">local</span>/var/mysql --tmpdir=/tmp</span><br></pre></td></tr></table></figure></p>\n<p><code>mysqladmin -u root password &#39;password&#39;</code></p>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><blockquote>\n<p><a href=\"https://github.com/Homebrew/homebrew-php\"></a><br></p>\n</blockquote>\n<p>To enable PHP in Apache add the following to httpd.conf and restart Apache:<br>    <code>LoadModule php5_module    /usr/local/opt/php56/libexec/apache2/libphp5.so</code></p>\n<p>The php.ini file can be found in:<br>    <code>/usr/local/etc/php/5.6/php.ini</code></p>\n<p> Extensions </p>\n<p>If you are having issues with custom extension compiling, ensure that<br>you are using the brew version, by placing /usr/local/bin before /usr/sbin in your PATH:</p>\n<pre><code>PATH=&quot;/usr/local/bin:$PATH&quot;\n</code></pre><p>PHP56 Extensions will always be compiled against this PHP. Please install them<br>using without-homebrew-php to enable compiling against system PHP.</p>\n<p> PHP CLI </p>\n<p>If you wish to swap the PHP you use on the command line, you should add the following to ~/.bashrc,<br>~/.zshrc, ~/.profile or your shells equivalent configuration file:</p>\n<pre><code>export PATH=&quot;$(brew --prefix homebrew/php/php56)/bin:$PATH&quot;\n</code></pre><p> FPM </p>\n<p>launchctl<br>To launch php-fpm on startup:<br>    mkdir -p ~/Library/LaunchAgents<br>    cp /usr/local/opt/php56/homebrew.mxcl.php56.plist ~/Library/LaunchAgents/<br>    launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.php56.plist</p>\n<p>The control script is located at /usr/local/opt/php56/sbin/php56-fpm</p>\n<p>OS X 10.8 and newer come with php-fpm pre-installed, to ensure you are using the brew version you need to make sure /usr/local/sbin is before /usr/sbin in your PATH:</p>\n<p>  PATH=/usr/local/sbin:$PATH</p>\n<p>You may also need to edit the plist to use the correct UserName.</p>\n<p>Please note that the plist was called homebrew-php.josegonzalez.php56.plist in old versions<br>of this formula.</p>\n<p>To have launchd start homebrew/php/php56 now and restart at login:<br>  brew services start homebrew/php/php56<br>  brew services restart homebrew/php/php56</p>\n<h2 id=\"mac-\"><a href=\"#mac-\" class=\"headerlink\" title=\"mac \"></a>mac </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">//</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_profile</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"comment\"># curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.bash_prompt</span></span><br><span class=\"line\">//unix</span><br><span class=\"line\">curl -O https://raw.githubusercontent.com/donnemartin/dev-setup/master/.aliases</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<ul>\n<li>Terminal  <a href=\"https://www.iterm2.com/\">iTerm</a></li>\n<li>Finder  <a href=\"http://totalfinder.binaryage.com/\">TotalFinder</a> / <a href=\"http://www.cocoatech.com/pathfinder/\">Path Finder</a></li>\n<li>Spotlight  <a href=\"https://qsapp.com/\">QuickSilver</a> / <a href=\"https://www.alfredapp.com/\">Alfred</a></li>\n</ul>\n</blockquote>\n<p><a href=\"https://github.com/0nn0/terminal-mac-cheatsheet\">Terminal cheatsheet</a></p>\n<h2 id=\"xcode\"><a href=\"#xcode\" class=\"headerlink\" title=\"xcode\"></a>xcode</h2><p>xcode-select install</p>\n<h2 id=\"rvm\"><a href=\"#rvm\" class=\"headerlink\" title=\"rvm\"></a>rvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl <span class=\"_\">-s</span>SL https://get.rvm.io | bash <span class=\"_\">-s</span> stable</span><br><span class=\"line\">rvm install 2.3.1</span><br><span class=\"line\">rvm use 2.3.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"nvm\"><a href=\"#nvm\" class=\"headerlink\" title=\"nvm\"></a>nvm</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install nvm</span><br><span class=\"line\">nvm install 4</span><br><span class=\"line\">nvm use 4</span><br></pre></td></tr></table></figure>\n<h2 id=\"atom\"><a href=\"#atom\" class=\"headerlink\" title=\"atom\"></a>atom</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install atom</span><br></pre></td></tr></table></figure>"},{"title":"Markdown","date":"2015-03-14T16:43:20.000Z","_content":"\n## markdown  sublime text 3 \n\nWindows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,\nstControl + `\n<!-- more -->\n\n``` bash\n\n\timport  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())\n\n```\n\nstPreferences -> Package SettingsPackage Control\nmarkdown preview\nCtrl+Shift+pPackage Control: install Pakagemarkdown preview\n\n\nMarkdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml\n\npreview in browserstmarkdown\n\n\n\n * ctrl+shift+m *\n\n\nstmarkdown previewpreview in browserPreferences -> Key Bindings User(Key Bindings Default)\n\n > { \"keys\": [\"alt+m\"], \"command\": \"markdown_preview\", \"args\": { \"target\": \"browser\"} }\n\n\"alt+m\"\n\nmathjax\nPreferences ->Package Settings->Markdown Preview->Setting Default3136\n\n``` config\n\n\t\"enable_mathjax\": false,\n\t\"enable_highlight\": false,\n\n```\n falsetrue\nPreferences ->Color Scheme\nmarkdown\n[TOC]\n\n\n## markdown \n\n@changyuan\n\nEmphasis, aka italics, with *asterisks* or _underscores_.\nStrong emphasis, aka bold, with **asterisks** or __underscores__.\nCombined emphasis with **asterisks and _underscores_**.\nStrikethrough uses two tildes. ~~Scratch this.~~\n\n[1](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)\n[2](https://guides.github.com/features/mastering-markdown/)\n\n\n## emoji\n:smile::thumbsup::thumbsup:\n~~emo~~\n[emoji](http://www.emoji-cheat-sheet.com/)\n","source":"_posts/2015/markdown.md","raw":"---\ntitle: Markdown\ndate: 2015-03-15 00:43:20\ntags:\n- tools\ncategories:\n---\n\n## markdown  sublime text 3 \n\nWindows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,\nstControl + `\n<!-- more -->\n\n``` bash\n\n\timport  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())\n\n```\n\nstPreferences -> Package SettingsPackage Control\nmarkdown preview\nCtrl+Shift+pPackage Control: install Pakagemarkdown preview\n\n\nMarkdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml\n\npreview in browserstmarkdown\n\n\n\n * ctrl+shift+m *\n\n\nstmarkdown previewpreview in browserPreferences -> Key Bindings User(Key Bindings Default)\n\n > { \"keys\": [\"alt+m\"], \"command\": \"markdown_preview\", \"args\": { \"target\": \"browser\"} }\n\n\"alt+m\"\n\nmathjax\nPreferences ->Package Settings->Markdown Preview->Setting Default3136\n\n``` config\n\n\t\"enable_mathjax\": false,\n\t\"enable_highlight\": false,\n\n```\n falsetrue\nPreferences ->Color Scheme\nmarkdown\n[TOC]\n\n\n## markdown \n\n@changyuan\n\nEmphasis, aka italics, with *asterisks* or _underscores_.\nStrong emphasis, aka bold, with **asterisks** or __underscores__.\nCombined emphasis with **asterisks and _underscores_**.\nStrikethrough uses two tildes. ~~Scratch this.~~\n\n[1](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)\n[2](https://guides.github.com/features/mastering-markdown/)\n\n\n## emoji\n:smile::thumbsup::thumbsup:\n~~emo~~\n[emoji](http://www.emoji-cheat-sheet.com/)\n","slug":"markdown","published":1,"updated":"2017-01-04T03:57:43.839Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoptb0018cwnn0kztz9ps","content":"<h2 id=\"markdown--sublime-text-3-\"><a href=\"#markdown--sublime-text-3-\" class=\"headerlink\" title=\"markdown  sublime text 3 \"></a>markdown  sublime text 3 </h2><p>Windows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,<br>stControl + `<br><a id=\"more\"></a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import  urllib.request,os;pf=<span class=\"string\">'Package Control.sublime-package'</span>;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),<span class=\"string\">'wb'</span>).write(urllib.request.urlopen(<span class=\"string\">'http://sublime.wbond.net/'</span>+pf.replace(<span class=\"string\">' '</span>,<span class=\"string\">'%20'</span>)).read())</span><br></pre></td></tr></table></figure>\n<p>stPreferences -&gt; Package SettingsPackage Control<br>markdown preview<br>Ctrl+Shift+pPackage Control: install Pakagemarkdown preview</p>\n<p><br>Markdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml</p>\n<p>preview in browserstmarkdown</p>\n<p></p>\n<p> <em> ctrl+shift+m </em></p>\n<p><br>stmarkdown previewpreview in browserPreferences -&gt; Key Bindings User(Key Bindings Default)</p>\n<blockquote>\n<p>{ keys: [alt+m], command: markdown_preview, args: { target: browser} }</p>\n</blockquote>\n<p>alt+m</p>\n<p>mathjax<br>Preferences -&gt;Package Settings-&gt;Markdown Preview-&gt;Setting Default3136</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&quot;enable_mathjax&quot;: false,</span><br><span class=\"line\">&quot;enable_highlight&quot;: false,</span><br></pre></td></tr></table></figure>\n<p> falsetrue<br>Preferences -&gt;Color Scheme<br>markdown<br>[TOC]<br></p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>@changyuan</p>\n<p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.<br>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.<br>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.<br>Strikethrough uses two tildes. <del>Scratch this.</del></p>\n<p><a href=\"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet\" target=\"_blank\" rel=\"external\">1</a><br><a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"external\">2</a></p>\n<h2 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h2><p>:smile::thumbsup::thumbsup:<br><del>emo</del><br><a href=\"http://www.emoji-cheat-sheet.com/\" target=\"_blank\" rel=\"external\">emoji</a></p>\n","excerpt":"<h2 id=\"markdown--sublime-text-3-\"><a href=\"#markdown--sublime-text-3-\" class=\"headerlink\" title=\"markdown  sublime text 3 \"></a>markdown  sublime text 3 </h2><p>Windows/Mac/LinuxstMarkdownmarkdownMarkdown PreviewMathjax(Windows,<br>stControl + `<br>","more":"</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">import  urllib.request,os;pf=<span class=\"string\">'Package Control.sublime-package'</span>;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),<span class=\"string\">'wb'</span>).write(urllib.request.urlopen(<span class=\"string\">'http://sublime.wbond.net/'</span>+pf.replace(<span class=\"string\">' '</span>,<span class=\"string\">'%20'</span>)).read())</span><br></pre></td></tr></table></figure>\n<p>stPreferences -&gt; Package SettingsPackage Control<br>markdown preview<br>Ctrl+Shift+pPackage Control: install Pakagemarkdown preview</p>\n<p><br>Markdown Previewpreview in browserExport HTML in Sublime Textmarkdownhtml</p>\n<p>preview in browserstmarkdown</p>\n<p></p>\n<p> <em> ctrl+shift+m </em></p>\n<p><br>stmarkdown previewpreview in browserPreferences -&gt; Key Bindings User(Key Bindings Default)</p>\n<blockquote>\n<p>{ keys: [alt+m], command: markdown_preview, args: { target: browser} }</p>\n</blockquote>\n<p>alt+m</p>\n<p>mathjax<br>Preferences -&gt;Package Settings-&gt;Markdown Preview-&gt;Setting Default3136</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&quot;enable_mathjax&quot;: false,</span><br><span class=\"line\">&quot;enable_highlight&quot;: false,</span><br></pre></td></tr></table></figure>\n<p> falsetrue<br>Preferences -&gt;Color Scheme<br>markdown<br>[TOC]<br></p>\n<h2 id=\"markdown-\"><a href=\"#markdown-\" class=\"headerlink\" title=\"markdown \"></a>markdown </h2><p>@changyuan</p>\n<p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.<br>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.<br>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.<br>Strikethrough uses two tildes. <del>Scratch this.</del></p>\n<p><a href=\"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet\">1</a><br><a href=\"https://guides.github.com/features/mastering-markdown/\">2</a></p>\n<h2 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h2><p>:smile::thumbsup::thumbsup:<br><del>emo</del><br><a href=\"http://www.emoji-cheat-sheet.com/\">emoji</a></p>"},{"title":"nodejs ","date":"2015-11-14T07:44:47.000Z","updated":"2015-11-14T07:44:47.000Z","_content":"\nNode.js Node.js  API Node.js Node.js while(true)\n<!-- more -->\n### \n```bash\n\t#mac\n    brew install nvm\n\t#linux\n    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash\n\t# \n    nvm ls-remote \n\tnvm install v7.1.0\n\tnvm use v7.1.0\n\n\tnvm list\n\t# cnpm\n\tnpm install -g cnpm --registry=https://registry.npm.taobao.org\n\t# \n\tnpm config get registry\n\tnpm config set registry https://registry.npm.taobao.org\n\t\n\n```\n\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nvar data = fs.readFileSync('input.txt');\n\nconsole.log(data.toString());\nconsole.log(\"!\");\n```\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nfs.readFile('input.txt', function (err, data) {\n    if (err) return console.error(err);\n    console.log(data.toString());\n});\n\nconsole.log(\"!\");\n```\n\n","source":"_posts/2015/nodejs.md","raw":"---\ntitle: nodejs \ndate: 2015-11-14 15:44:47\nupdated: 2015-11-14 15:44:47\ntags:\ncategories:\n---\n\nNode.js Node.js  API Node.js Node.js while(true)\n<!-- more -->\n### \n```bash\n\t#mac\n    brew install nvm\n\t#linux\n    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash\n\t# \n    nvm ls-remote \n\tnvm install v7.1.0\n\tnvm use v7.1.0\n\n\tnvm list\n\t# cnpm\n\tnpm install -g cnpm --registry=https://registry.npm.taobao.org\n\t# \n\tnpm config get registry\n\tnpm config set registry https://registry.npm.taobao.org\n\t\n\n```\n\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nvar data = fs.readFileSync('input.txt');\n\nconsole.log(data.toString());\nconsole.log(\"!\");\n```\n\n### \n```javascript\nvar fs = require(\"fs\");\n\nfs.readFile('input.txt', function (err, data) {\n    if (err) return console.error(err);\n    console.log(data.toString());\n});\n\nconsole.log(\"!\");\n```\n\n","slug":"nodejs","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopte001acwnn8rzi2dh4","content":"<p>Node.js Node.js  API Node.js Node.js while(true)<br><a id=\"more\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#mac</span></span><br><span class=\"line\">   brew install nvm</span><br><span class=\"line\"><span class=\"comment\">#linux</span></span><br><span class=\"line\">   curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">   nvm ls-remote </span><br><span class=\"line\">nvm install v7.1.0</span><br><span class=\"line\">nvm use v7.1.0</span><br><span class=\"line\"></span><br><span class=\"line\">nvm list</span><br><span class=\"line\"><span class=\"comment\"># cnpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">npm config get registry</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> data = fs.readFileSync(<span class=\"string\">'input.txt'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">'input.txt'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n","excerpt":"<p>Node.js Node.js  API Node.js Node.js while(true)<br>","more":"</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#mac</span></span><br><span class=\"line\">   brew install nvm</span><br><span class=\"line\"><span class=\"comment\">#linux</span></span><br><span class=\"line\">   curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">   nvm ls-remote </span><br><span class=\"line\">nvm install v7.1.0</span><br><span class=\"line\">nvm use v7.1.0</span><br><span class=\"line\"></span><br><span class=\"line\">nvm list</span><br><span class=\"line\"><span class=\"comment\"># cnpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">npm config get registry</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> data = fs.readFileSync(<span class=\"string\">'input.txt'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">'input.txt'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">\"!\"</span>);</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2015-09-21T16:00:00.000Z","_content":"\n**/**/********\n\n\n\n\n****\n\nPHP `SplSubject`  `SplObserver``SplSubject` ****`SplObserver` ****** SplSubject** ** SplObserver**\n\n## 1\n```php\n//phpimplements\ninterface IObserver\n{\n    function onChanged( $sender, $args );\n}\n\ninterface IObservable\n{\n    function addObserver( $observer );\n}\n\nclass UserList implements IObservable\n{\n    private $_observers = array();\n\n    public function addCustomer( $name )\n    {\n        foreach( $this->_observers as $obs )\n            $obs->onChanged( $this, $name );\n    }\n\n    public function addObserver( $observer )\n    {\n        $this->_observers []= $observer;\n    }\n}\n\nclass UserListLogger implements IObserver\n{\n    public function onChanged( $sender, $args )\n    {\n        echo( \"'$args' added to user list\\n\" );\n    }\n}\n\n$ul = new UserList();\n$ul->addObserver( new UserListLogger());\n$ul->addCustomer( \"Jack\" );\n\n```\n\n\n#### 2 \nphp SplSubject,SplObserver \n```php\n\n// User.php \n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n *  :  ()\n *\n * \n *\n */\nclass User implements \\SplSubject\n{\n    /**\n     * user data\n     *\n     * @var array\n     */\n    protected $data = array();\n\n    /**\n     * observers\n     *\n     * @var \\SplObjectStorage\n     */\n    protected $observers;\n    \n    public function __construct()\n    {\n        $this->observers = new \\SplObjectStorage();\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function attach(\\SplObserver $observer)\n    {\n        $this->observers->attach($observer);\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function detach(\\SplObserver $observer)\n    {\n        $this->observers->detach($observer);\n    }\n\n    /**\n     * \n     *\n     * @return void\n     */\n    public function notify()\n    {\n        /** @var \\SplObserver $observer */\n        foreach ($this->observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    /**\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[$name] = $value;\n\n        // \n        $this->notify();\n    }\n}\n\n// UserObserver.php  // \n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n * UserObserver \n */\nclass UserObserver implements \\SplObserver\n{\n    /**\n     * \n     *  Subject \n     *\n     * @param \\SplSubject $subject\n     */\n    public function update(\\SplSubject $subject)\n    {\n        echo get_class($subject) . ' has been updated';\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Behavioral\\Observer\\Tests;\n\nuse DesignPatterns\\Behavioral\\Observer\\UserObserver;\nuse DesignPatterns\\Behavioral\\Observer\\User;\n\n/**\n * ObserverTest \n */\nclass ObserverTest extends \\PHPUnit_Framework_TestCase\n{\n\n    protected $observer;\n\n    protected function setUp()\n    {\n        $this->observer = new UserObserver();\n    }\n\n    /**\n     * \n     */\n    public function testNotify()\n    {\n        $this->expectOutputString('DesignPatterns\\Behavioral\\Observer\\User has been updated');\n        $subject = new User();\n\n        $subject->attach($this->observer);\n        $subject->property = 123;\n    }\n\n    /**\n     * \n     */\n    public function testAttachDetach()\n    {\n        $subject = new User();\n        $reflection = new \\ReflectionProperty($subject, 'observers');\n\n        $reflection->setAccessible(true);\n        /** @var \\SplObjectStorage $observers */\n        $observers = $reflection->getValue($subject);\n\n        $this->assertInstanceOf('SplObjectStorage', $observers);\n        $this->assertFalse($observers->contains($this->observer));\n\n        $subject->attach($this->observer);\n        $this->assertTrue($observers->contains($this->observer));\n\n        $subject->detach($this->observer);\n        $this->assertFalse($observers->contains($this->observer));\n    }\n\n    /**\n     *  update() \n     */\n    public function testUpdateCalling()\n    {\n        $subject = new User();\n        $observer = $this->getMock('SplObserver');\n        $subject->attach($observer);\n\n        $observer->expects($this->once())\n            ->method('update')\n            ->with($subject);\n\n        $subject->notify();\n    }\n}\n\n```\n\n## demo\n`SplObjectStorage` attach ,detach \n```php\n\nclass MyObserver1 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MyObserver2 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MySubject implements SplSubject {\n    private $_observers;\n    private $_name;\n\n    public function __construct($name) {\n        $this->_observers = new SplObjectStorage();\n        $this->_name = $name;\n    }\n\n    public function attach(SplObserver $observer) {\n        $this->_observers->attach($observer);\n    }\n\n    public function detach(SplObserver $observer) {\n        $this->_observers->detach($observer);\n    }\n\n    public function notify() {\n        foreach ($this->_observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    public function getName() {\n        return $this->_name;\n    }\n}\n\n$observer1 = new MyObserver1();\n$observer2 = new MyObserver2();\n\n$subject = new MySubject(\"test\");\n\n$subject->attach($observer1);\n$subject->attach($observer2);\n$subject->notify();\n\n```\n\n\n## \n\n```php\n\n/**\n* Subject,that who makes news\n*/\nclass Newspaper implements \\SplSubject{\n    private $name;\n    private $observers = array();\n    private $content;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n\n    //add observer\n    public function attach(\\SplObserver $observer) {\n        $this->observers[] = $observer;\n    }\n    \n    //remove observer\n    public function detach(\\SplObserver $observer) {\n        \n        $key = array_search($observer,$this->observers, true);\n        if($key){\n            unset($this->observers[$key]);\n        }\n    }\n    \n    //set breakouts news\n    public function breakOutNews($content) {\n        $this->content = $content;\n        $this->notify();\n    }\n    \n    public function getContent() {\n        return $this->content.\" ({$this->name})\";\n    }\n    \n    //notify observers(or some of them)\n    public function notify() {\n        foreach ($this->observers as $value) {\n            $value->update($this);\n        }\n    }\n}\n\n/**\n* Observer,that who recieves news\n*/\nclass Reader implements SplObserver{\n    private $name;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n    \n    public function update(\\SplSubject $subject) {\n        echo $this->name.' is reading breakout news <b>'.$subject->getContent().'</b><br>';\n    }\n}\n\n$newspaper = new Newspaper('Newyork Times');\n\n$allen = new Reader('Allen');\n$jim = new Reader('Jim');\n$linda = new Reader('Linda');\n\n//add reader\n$newspaper->attach($allen);\n$newspaper->attach($jim);\n$newspaper->attach($linda);\n\n//remove reader\n$newspaper->detach($linda);\n\n//set break outs\n$newspaper->breakOutNews('USA break down!');\n\n```","source":"_posts/2015/observer-pattern.md","raw":"---\ntitle: \ndate: 2015-09-22\ntags: \n- design pattern\n---\n\n**/**/********\n\n\n\n\n****\n\nPHP `SplSubject`  `SplObserver``SplSubject` ****`SplObserver` ****** SplSubject** ** SplObserver**\n\n## 1\n```php\n//phpimplements\ninterface IObserver\n{\n    function onChanged( $sender, $args );\n}\n\ninterface IObservable\n{\n    function addObserver( $observer );\n}\n\nclass UserList implements IObservable\n{\n    private $_observers = array();\n\n    public function addCustomer( $name )\n    {\n        foreach( $this->_observers as $obs )\n            $obs->onChanged( $this, $name );\n    }\n\n    public function addObserver( $observer )\n    {\n        $this->_observers []= $observer;\n    }\n}\n\nclass UserListLogger implements IObserver\n{\n    public function onChanged( $sender, $args )\n    {\n        echo( \"'$args' added to user list\\n\" );\n    }\n}\n\n$ul = new UserList();\n$ul->addObserver( new UserListLogger());\n$ul->addCustomer( \"Jack\" );\n\n```\n\n\n#### 2 \nphp SplSubject,SplObserver \n```php\n\n// User.php \n\n<?php\n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n *  :  ()\n *\n * \n *\n */\nclass User implements \\SplSubject\n{\n    /**\n     * user data\n     *\n     * @var array\n     */\n    protected $data = array();\n\n    /**\n     * observers\n     *\n     * @var \\SplObjectStorage\n     */\n    protected $observers;\n    \n    public function __construct()\n    {\n        $this->observers = new \\SplObjectStorage();\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function attach(\\SplObserver $observer)\n    {\n        $this->observers->attach($observer);\n    }\n\n    /**\n     * \n     *\n     * @param \\SplObserver $observer\n     *\n     * @return void\n     */\n    public function detach(\\SplObserver $observer)\n    {\n        $this->observers->detach($observer);\n    }\n\n    /**\n     * \n     *\n     * @return void\n     */\n    public function notify()\n    {\n        /** @var \\SplObserver $observer */\n        foreach ($this->observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    /**\n     *\n     * @param string $name\n     * @param mixed  $value\n     *\n     * @return void\n     */\n    public function __set($name, $value)\n    {\n        $this->data[$name] = $value;\n\n        // \n        $this->notify();\n    }\n}\n\n// UserObserver.php  // \n\nnamespace DesignPatterns\\Behavioral\\Observer;\n\n/**\n * UserObserver \n */\nclass UserObserver implements \\SplObserver\n{\n    /**\n     * \n     *  Subject \n     *\n     * @param \\SplSubject $subject\n     */\n    public function update(\\SplSubject $subject)\n    {\n        echo get_class($subject) . ' has been updated';\n    }\n}\n\n// \n\nnamespace DesignPatterns\\Behavioral\\Observer\\Tests;\n\nuse DesignPatterns\\Behavioral\\Observer\\UserObserver;\nuse DesignPatterns\\Behavioral\\Observer\\User;\n\n/**\n * ObserverTest \n */\nclass ObserverTest extends \\PHPUnit_Framework_TestCase\n{\n\n    protected $observer;\n\n    protected function setUp()\n    {\n        $this->observer = new UserObserver();\n    }\n\n    /**\n     * \n     */\n    public function testNotify()\n    {\n        $this->expectOutputString('DesignPatterns\\Behavioral\\Observer\\User has been updated');\n        $subject = new User();\n\n        $subject->attach($this->observer);\n        $subject->property = 123;\n    }\n\n    /**\n     * \n     */\n    public function testAttachDetach()\n    {\n        $subject = new User();\n        $reflection = new \\ReflectionProperty($subject, 'observers');\n\n        $reflection->setAccessible(true);\n        /** @var \\SplObjectStorage $observers */\n        $observers = $reflection->getValue($subject);\n\n        $this->assertInstanceOf('SplObjectStorage', $observers);\n        $this->assertFalse($observers->contains($this->observer));\n\n        $subject->attach($this->observer);\n        $this->assertTrue($observers->contains($this->observer));\n\n        $subject->detach($this->observer);\n        $this->assertFalse($observers->contains($this->observer));\n    }\n\n    /**\n     *  update() \n     */\n    public function testUpdateCalling()\n    {\n        $subject = new User();\n        $observer = $this->getMock('SplObserver');\n        $subject->attach($observer);\n\n        $observer->expects($this->once())\n            ->method('update')\n            ->with($subject);\n\n        $subject->notify();\n    }\n}\n\n```\n\n## demo\n`SplObjectStorage` attach ,detach \n```php\n\nclass MyObserver1 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MyObserver2 implements SplObserver {\n    public function update(SplSubject $subject) {\n        echo __CLASS__ . ' - ' . $subject->getName();\n    }\n}\n\nclass MySubject implements SplSubject {\n    private $_observers;\n    private $_name;\n\n    public function __construct($name) {\n        $this->_observers = new SplObjectStorage();\n        $this->_name = $name;\n    }\n\n    public function attach(SplObserver $observer) {\n        $this->_observers->attach($observer);\n    }\n\n    public function detach(SplObserver $observer) {\n        $this->_observers->detach($observer);\n    }\n\n    public function notify() {\n        foreach ($this->_observers as $observer) {\n            $observer->update($this);\n        }\n    }\n\n    public function getName() {\n        return $this->_name;\n    }\n}\n\n$observer1 = new MyObserver1();\n$observer2 = new MyObserver2();\n\n$subject = new MySubject(\"test\");\n\n$subject->attach($observer1);\n$subject->attach($observer2);\n$subject->notify();\n\n```\n\n\n## \n\n```php\n\n/**\n* Subject,that who makes news\n*/\nclass Newspaper implements \\SplSubject{\n    private $name;\n    private $observers = array();\n    private $content;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n\n    //add observer\n    public function attach(\\SplObserver $observer) {\n        $this->observers[] = $observer;\n    }\n    \n    //remove observer\n    public function detach(\\SplObserver $observer) {\n        \n        $key = array_search($observer,$this->observers, true);\n        if($key){\n            unset($this->observers[$key]);\n        }\n    }\n    \n    //set breakouts news\n    public function breakOutNews($content) {\n        $this->content = $content;\n        $this->notify();\n    }\n    \n    public function getContent() {\n        return $this->content.\" ({$this->name})\";\n    }\n    \n    //notify observers(or some of them)\n    public function notify() {\n        foreach ($this->observers as $value) {\n            $value->update($this);\n        }\n    }\n}\n\n/**\n* Observer,that who recieves news\n*/\nclass Reader implements SplObserver{\n    private $name;\n    \n    public function __construct($name) {\n        $this->name = $name;\n    }\n    \n    public function update(\\SplSubject $subject) {\n        echo $this->name.' is reading breakout news <b>'.$subject->getContent().'</b><br>';\n    }\n}\n\n$newspaper = new Newspaper('Newyork Times');\n\n$allen = new Reader('Allen');\n$jim = new Reader('Jim');\n$linda = new Reader('Linda');\n\n//add reader\n$newspaper->attach($allen);\n$newspaper->attach($jim);\n$newspaper->attach($linda);\n\n//remove reader\n$newspaper->detach($linda);\n\n//set break outs\n$newspaper->breakOutNews('USA break down!');\n\n```","slug":"observer-pattern","published":1,"updated":"2017-01-05T12:09:11.297Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopti001ccwnnnoam587e","content":"<p><strong>/</strong>/<strong></strong><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>PHP <code>SplSubject</code>  <code>SplObserver</code><code>SplSubject</code> <strong></strong><code>SplObserver</code> <strong></strong><strong> SplSubject</strong> <strong> SplObserver</strong></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//phpimplements</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObservable</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserList</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObservable</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCustomer</span><span class=\"params\">( $name )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>( <span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $obs )</span><br><span class=\"line\">            $obs-&gt;onChanged( <span class=\"keyword\">$this</span>, $name );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers []= $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserListLogger</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span>( <span class=\"string\">\"'$args' added to user list\\n\"</span> );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$ul = <span class=\"keyword\">new</span> UserList();</span><br><span class=\"line\">$ul-&gt;addObserver( <span class=\"keyword\">new</span> UserListLogger());</span><br><span class=\"line\">$ul-&gt;addCustomer( <span class=\"string\">\"Jack\"</span> );</span><br></pre></td></tr></table></figure>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4><p>php SplSubject,SplObserver <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User.php </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> *  :  ()</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * </span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * user data</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> array</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * observers</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> \\SplObjectStorage</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observers;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers = <span class=\"keyword\">new</span> \\SplObjectStorage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObserver $observer */</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> string $name</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> mixed  $value</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[$name] = $value;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// UserObserver.php  // </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * UserObserver </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserObserver</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *  Subject </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplSubject $subject</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> get_class($subject) . <span class=\"string\">' has been updated'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">UserObserver</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * ObserverTest </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObserverTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observer;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setUp</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observer = <span class=\"keyword\">new</span> UserObserver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testNotify</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;expectOutputString(<span class=\"string\">'DesignPatterns\\Behavioral\\Observer\\User has been updated'</span>);</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        $subject-&gt;property = <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testAttachDetach</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $reflection = <span class=\"keyword\">new</span> \\ReflectionProperty($subject, <span class=\"string\">'observers'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        $reflection-&gt;setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObjectStorage $observers */</span></span><br><span class=\"line\">        $observers = $reflection-&gt;getValue($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertInstanceOf(<span class=\"string\">'SplObjectStorage'</span>, $observers);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;detach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     *  update() </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testUpdateCalling</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $observer = <span class=\"keyword\">$this</span>-&gt;getMock(<span class=\"string\">'SplObserver'</span>);</span><br><span class=\"line\">        $subject-&gt;attach($observer);</span><br><span class=\"line\"></span><br><span class=\"line\">        $observer-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">            -&gt;method(<span class=\"string\">'update'</span>)</span><br><span class=\"line\">            -&gt;with($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p><code>SplObjectStorage</code> attach ,detach <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver1</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver2</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySubject</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplSubject</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers = <span class=\"keyword\">new</span> SplObjectStorage();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$observer1 = <span class=\"keyword\">new</span> MyObserver1();</span><br><span class=\"line\">$observer2 = <span class=\"keyword\">new</span> MyObserver2();</span><br><span class=\"line\"></span><br><span class=\"line\">$subject = <span class=\"keyword\">new</span> MySubject(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$subject-&gt;attach($observer1);</span><br><span class=\"line\">$subject-&gt;attach($observer2);</span><br><span class=\"line\">$subject-&gt;notify();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\">* Subject,that who makes news</span><br><span class=\"line\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Newspaper</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $content;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//add observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers[] = $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//remove observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        $key = array_search($observer,<span class=\"keyword\">$this</span>-&gt;observers, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>($key)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">unset</span>(<span class=\"keyword\">$this</span>-&gt;observers[$key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//set breakouts news</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">breakOutNews</span><span class=\"params\">($content)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;content = $content;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;content.<span class=\"string\">\" (&#123;$this-&gt;name&#125;)\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//notify observers(or some of them)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $value) &#123;</span><br><span class=\"line\">            $value-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\">* Observer,that who recieves news</span><br><span class=\"line\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reader</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">$this</span>-&gt;name.<span class=\"string\">' is reading breakout news &lt;b&gt;'</span>.$subject-&gt;getContent().<span class=\"string\">'&lt;/b&gt;&lt;br&gt;'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$newspaper = <span class=\"keyword\">new</span> Newspaper(<span class=\"string\">'Newyork Times'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$allen = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Allen'</span>);</span><br><span class=\"line\">$jim = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Jim'</span>);</span><br><span class=\"line\">$linda = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Linda'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//add reader</span></span><br><span class=\"line\">$newspaper-&gt;attach($allen);</span><br><span class=\"line\">$newspaper-&gt;attach($jim);</span><br><span class=\"line\">$newspaper-&gt;attach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//remove reader</span></span><br><span class=\"line\">$newspaper-&gt;detach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//set break outs</span></span><br><span class=\"line\">$newspaper-&gt;breakOutNews(<span class=\"string\">'USA break down!'</span>);</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p><strong>/</strong>/<strong></strong><strong></strong></p>\n<p></p>\n<p><strong></strong></p>\n<p>PHP <code>SplSubject</code>  <code>SplObserver</code><code>SplSubject</code> <strong></strong><code>SplObserver</code> <strong></strong><strong> SplSubject</strong> <strong> SplObserver</strong></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//phpimplements</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">IObservable</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserList</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObservable</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCustomer</span><span class=\"params\">( $name )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span>( <span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $obs )</span><br><span class=\"line\">            $obs-&gt;onChanged( <span class=\"keyword\">$this</span>, $name );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addObserver</span><span class=\"params\">( $observer )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers []= $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserListLogger</span> <span class=\"keyword\">implements</span> <span class=\"title\">IObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onChanged</span><span class=\"params\">( $sender, $args )</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span>( <span class=\"string\">\"'$args' added to user list\\n\"</span> );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$ul = <span class=\"keyword\">new</span> UserList();</span><br><span class=\"line\">$ul-&gt;addObserver( <span class=\"keyword\">new</span> UserListLogger());</span><br><span class=\"line\">$ul-&gt;addCustomer( <span class=\"string\">\"Jack\"</span> );</span><br></pre></td></tr></table></figure>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4><p>php SplSubject,SplObserver <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User.php </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> *  :  ()</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * </span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * user data</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> array</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $data = <span class=\"keyword\">array</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * observers</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@var</span> \\SplObjectStorage</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observers;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers = <span class=\"keyword\">new</span> \\SplObjectStorage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplObserver $observer</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObserver $observer */</span></span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> string $name</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> mixed  $value</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@return</span> void</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__set</span><span class=\"params\">($name, $value)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;data[$name] = $value;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// UserObserver.php  // </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * UserObserver </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserObserver</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplObserver</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     *  Subject </span><br><span class=\"line\">     *</span><br><span class=\"line\">     * <span class=\"doctag\">@param</span> \\SplSubject $subject</span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> get_class($subject) . <span class=\"string\">' has been updated'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">Tests</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">UserObserver</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">DesignPatterns</span>\\<span class=\"title\">Behavioral</span>\\<span class=\"title\">Observer</span>\\<span class=\"title\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\"> * ObserverTest </span><br><span class=\"line\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ObserverTest</span> <span class=\"keyword\">extends</span> \\<span class=\"title\">PHPUnit_Framework_TestCase</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> $observer;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setUp</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observer = <span class=\"keyword\">new</span> UserObserver();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testNotify</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;expectOutputString(<span class=\"string\">'DesignPatterns\\Behavioral\\Observer\\User has been updated'</span>);</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        $subject-&gt;property = <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testAttachDetach</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $reflection = <span class=\"keyword\">new</span> \\ReflectionProperty($subject, <span class=\"string\">'observers'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        $reflection-&gt;setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"comment\">/** <span class=\"doctag\">@var</span> \\SplObjectStorage $observers */</span></span><br><span class=\"line\">        $observers = $reflection-&gt;getValue($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertInstanceOf(<span class=\"string\">'SplObjectStorage'</span>, $observers);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;attach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertTrue($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;detach(<span class=\"keyword\">$this</span>-&gt;observer);</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;assertFalse($observers-&gt;contains(<span class=\"keyword\">$this</span>-&gt;observer));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span><br><span class=\"line\">     *  update() </span><br><span class=\"line\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testUpdateCalling</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        $subject = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">        $observer = <span class=\"keyword\">$this</span>-&gt;getMock(<span class=\"string\">'SplObserver'</span>);</span><br><span class=\"line\">        $subject-&gt;attach($observer);</span><br><span class=\"line\"></span><br><span class=\"line\">        $observer-&gt;expects(<span class=\"keyword\">$this</span>-&gt;once())</span><br><span class=\"line\">            -&gt;method(<span class=\"string\">'update'</span>)</span><br><span class=\"line\">            -&gt;with($subject);</span><br><span class=\"line\"></span><br><span class=\"line\">        $subject-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"demo\"><a href=\"#demo\" class=\"headerlink\" title=\"demo\"></a>demo</h2><p><code>SplObjectStorage</code> attach ,detach <br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver1</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObserver2</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">__CLASS__</span> . <span class=\"string\">' - '</span> . $subject-&gt;getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MySubject</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplSubject</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_observers;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers = <span class=\"keyword\">new</span> SplObjectStorage();</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;attach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_observers-&gt;detach($observer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;_observers <span class=\"keyword\">as</span> $observer) &#123;</span><br><span class=\"line\">            $observer-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;_name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$observer1 = <span class=\"keyword\">new</span> MyObserver1();</span><br><span class=\"line\">$observer2 = <span class=\"keyword\">new</span> MyObserver2();</span><br><span class=\"line\"></span><br><span class=\"line\">$subject = <span class=\"keyword\">new</span> MySubject(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$subject-&gt;attach($observer1);</span><br><span class=\"line\">$subject-&gt;attach($observer2);</span><br><span class=\"line\">$subject-&gt;notify();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\">* Subject,that who makes news</span><br><span class=\"line\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Newspaper</span> <span class=\"keyword\">implements</span> \\<span class=\"title\">SplSubject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $observers = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $content;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//add observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">attach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;observers[] = $observer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//remove observer</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">detach</span><span class=\"params\">(\\SplObserver $observer)</span> </span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        $key = array_search($observer,<span class=\"keyword\">$this</span>-&gt;observers, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>($key)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">unset</span>(<span class=\"keyword\">$this</span>-&gt;observers[$key]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//set breakouts news</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">breakOutNews</span><span class=\"params\">($content)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;content = $content;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;notify();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContent</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;content.<span class=\"string\">\" (&#123;$this-&gt;name&#125;)\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//notify observers(or some of them)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;observers <span class=\"keyword\">as</span> $value) &#123;</span><br><span class=\"line\">            $value-&gt;update(<span class=\"keyword\">$this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span><br><span class=\"line\">* Observer,that who recieves news</span><br><span class=\"line\">*/</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reader</span> <span class=\"keyword\">implements</span> <span class=\"title\">SplObserver</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">($name)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update</span><span class=\"params\">(\\SplSubject $subject)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"keyword\">$this</span>-&gt;name.<span class=\"string\">' is reading breakout news &lt;b&gt;'</span>.$subject-&gt;getContent().<span class=\"string\">'&lt;/b&gt;&lt;br&gt;'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$newspaper = <span class=\"keyword\">new</span> Newspaper(<span class=\"string\">'Newyork Times'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$allen = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Allen'</span>);</span><br><span class=\"line\">$jim = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Jim'</span>);</span><br><span class=\"line\">$linda = <span class=\"keyword\">new</span> Reader(<span class=\"string\">'Linda'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//add reader</span></span><br><span class=\"line\">$newspaper-&gt;attach($allen);</span><br><span class=\"line\">$newspaper-&gt;attach($jim);</span><br><span class=\"line\">$newspaper-&gt;attach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//remove reader</span></span><br><span class=\"line\">$newspaper-&gt;detach($linda);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//set break outs</span></span><br><span class=\"line\">$newspaper-&gt;breakOutNews(<span class=\"string\">'USA break down!'</span>);</span><br></pre></td></tr></table></figure>"},{"title":"(singleton pattern)","date":"2015-09-22T16:00:00.000Z","_content":"\n-  `private`  \n-  \n-  getInstance() \n- __clone\n\n```php\nclass Singleton\n{\n\n    private $name;\n\n    private static $instance;\n\n    private function __construct()\n    {\n\n    }\n\n    private function __clone()\n    {\n        // TODO: Implement __clone() method.\n    }\n\n\n    public static function getInstance()\n    {\n\n        if (!self::$instance instanceof self) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n\n    public function getName()\n    {\n        return $this->name;\n    }\n\n    public function setName($name)\n    {\n        $this->name = $name;\n    }\n\n    public function sayHi()\n    {\n        echo \"hi\";\n    }\n\n}\n\n\n// demo\n\n$single = Singleton::getInstance();\n//$c_single= clone  $single;\n$single->setName(\"TOM\");\necho $single->getName();\n```","source":"_posts/2015/singleton-pattern.md","raw":"---\ntitle: (singleton pattern)\ndate: 2015-09-23\ntags: \n- design pattern\n---\n\n-  `private`  \n-  \n-  getInstance() \n- __clone\n\n```php\nclass Singleton\n{\n\n    private $name;\n\n    private static $instance;\n\n    private function __construct()\n    {\n\n    }\n\n    private function __clone()\n    {\n        // TODO: Implement __clone() method.\n    }\n\n\n    public static function getInstance()\n    {\n\n        if (!self::$instance instanceof self) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n\n    public function getName()\n    {\n        return $this->name;\n    }\n\n    public function setName($name)\n    {\n        $this->name = $name;\n    }\n\n    public function sayHi()\n    {\n        echo \"hi\";\n    }\n\n}\n\n\n// demo\n\n$single = Singleton::getInstance();\n//$c_single= clone  $single;\n$single->setName(\"TOM\");\necho $single->getName();\n```","slug":"singleton-pattern","published":1,"updated":"2017-01-05T12:25:08.027Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoptm001ecwnndvfcul06","content":"<ul>\n<li> <code>private</code>  </li>\n<li> </li>\n<li> getInstance() </li>\n<li>__clone</li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> $instance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__clone</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement __clone() method.</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getInstance</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"keyword\">self</span>::$instance <span class=\"keyword\">instanceof</span> <span class=\"keyword\">self</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>::$instance = <span class=\"keyword\">new</span> <span class=\"keyword\">self</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>::$instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setName</span><span class=\"params\">($name)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayHi</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"hi\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// demo</span></span><br><span class=\"line\"></span><br><span class=\"line\">$single = Singleton::getInstance();</span><br><span class=\"line\"><span class=\"comment\">//$c_single= clone  $single;</span></span><br><span class=\"line\">$single-&gt;setName(<span class=\"string\">\"TOM\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $single-&gt;getName();</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<ul>\n<li> <code>private</code>  </li>\n<li> </li>\n<li> getInstance() </li>\n<li>__clone</li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span></span><br><span class=\"line\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> $name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> $instance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__clone</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Implement __clone() method.</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getInstance</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"keyword\">self</span>::$instance <span class=\"keyword\">instanceof</span> <span class=\"keyword\">self</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>::$instance = <span class=\"keyword\">new</span> <span class=\"keyword\">self</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">self</span>::$instance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setName</span><span class=\"params\">($name)</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;name = $name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayHi</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"hi\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// demo</span></span><br><span class=\"line\"></span><br><span class=\"line\">$single = Singleton::getInstance();</span><br><span class=\"line\"><span class=\"comment\">//$c_single= clone  $single;</span></span><br><span class=\"line\">$single-&gt;setName(<span class=\"string\">\"TOM\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $single-&gt;getName();</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2016-08-11T03:19:01.000Z","updated":"2016-08-11T03:19:01.000Z","_content":"\n### \n\n****Inverted index************\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n- [](https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8)\n\n- \n\n\n  \n\n- ![{\\displaystyleT_{0}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110)`\"it is what it is\"`\n- ![{\\displaystyleT_{1}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd)`\"what is it\"`\n- ![{\\displaystyleT_{2}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf)`\"it is a banana\"`\n\n```\n\"a\":      {2}\n\"banana\": {2}\n\"is\":     {0, 1, 2}\n\"it\":     {0, 1, 2}\n\"what\":   {0, 1}\n```\n\"what\", \"is\"  \"it\"  ![coll](https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1)\n\n `\"banana\": {(2, 3)}`  \"banana\" ( {\\displaystyle T_{2}} T_{2})( 3)\n\n```\n\"a\":      {(2, 2)}\n\"banana\": {(2, 3)}\n\"is\":     {(0, 1), (0, 4), (1, 1), (2, 1)}\n\"it\":     {(0, 0), (0, 3), (1, 2), (2, 0)}\n\"what\":   {(0, 2), (1, 0)}\n```\n\n\"what is it\" 011\n\n\n \n\n\n\n\n### \n\n#### \n  [4]   , , ,\n  \n  1term\n  2hashterm\n  3\n  DocID\n  \n  1 G ,\n  2\n\n\n####  \n  [4]  ,\n  \n  \n   \n  \n  1ABABAB\n  2)  , , ( inverted file)\n  \n  \n   ,\n\n>[1]: http://blog.csdn.net/hguisu/article/details/7962350\n>[baike]: http://baike.baidu.com/view/676861.htm\n>[wikipedia]: https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\n>[2]: http://blog.csdn.net/hguisu/article/details/7962350\n","source":"_posts/2016/Inverted-index.md","raw":"---\ntitle: \ndate: 2016-08-11 11:19:01\nupdated: 2016-08-11 11:19:01\ntags:\ncategories:\n---\n\n### \n\n****Inverted index************\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n- [](https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8)\n\n- \n\n\n  \n\n- ![{\\displaystyleT_{0}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110)`\"it is what it is\"`\n- ![{\\displaystyleT_{1}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd)`\"what is it\"`\n- ![{\\displaystyleT_{2}=}](https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf)`\"it is a banana\"`\n\n```\n\"a\":      {2}\n\"banana\": {2}\n\"is\":     {0, 1, 2}\n\"it\":     {0, 1, 2}\n\"what\":   {0, 1}\n```\n\"what\", \"is\"  \"it\"  ![coll](https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1)\n\n `\"banana\": {(2, 3)}`  \"banana\" ( {\\displaystyle T_{2}} T_{2})( 3)\n\n```\n\"a\":      {(2, 2)}\n\"banana\": {(2, 3)}\n\"is\":     {(0, 1), (0, 4), (1, 1), (2, 1)}\n\"it\":     {(0, 0), (0, 3), (1, 2), (2, 0)}\n\"what\":   {(0, 2), (1, 0)}\n```\n\n\"what is it\" 011\n\n\n \n\n\n\n\n### \n\n#### \n  [4]   , , ,\n  \n  1term\n  2hashterm\n  3\n  DocID\n  \n  1 G ,\n  2\n\n\n####  \n  [4]  ,\n  \n  \n   \n  \n  1ABABAB\n  2)  , , ( inverted file)\n  \n  \n   ,\n\n>[1]: http://blog.csdn.net/hguisu/article/details/7962350\n>[baike]: http://baike.baidu.com/view/676861.htm\n>[wikipedia]: https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\n>[2]: http://blog.csdn.net/hguisu/article/details/7962350\n","slug":"Inverted-index","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopto001gcwnnqaclepm5","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>Inverted index<strong></strong><strong></strong><strong></strong><br><a id=\"more\"></a><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<ul>\n<li><p><a href=\"https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8\" target=\"_blank\" rel=\"external\"></a></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110\" alt=\"{\\displaystyleT_{0}=}\"><code>&quot;it is what it is&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd\" alt=\"{\\displaystyleT_{1}=}\"><code>&quot;what is it&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf\" alt=\"{\\displaystyleT_{2}=}\"><code>&quot;it is a banana&quot;</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;2&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;2&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;0, 1&#125;</span><br></pre></td></tr></table></figure>\n<p>what, is  it  <img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1\" alt=\"coll\"></p>\n<p> <code>&quot;banana&quot;: {(2, 3)}</code>  banana ( {\\displaystyle T<em>{2}} T</em>{2})( 3)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;(2, 2)&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;(2, 3)&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;(0, 1), (0, 4), (1, 1), (2, 1)&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;(0, 0), (0, 3), (1, 2), (2, 0)&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;(0, 2), (1, 0)&#125;</span><br></pre></td></tr></table></figure>\n<p>what is it 011</p>\n<p><br> <br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]   , , ,<br>  <br>  1term<br>  2hashterm<br>  3<br>  DocID<br>  <br>  1 G ,<br>  2</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]  ,<br>  <br>  <br>   <br>  <br>  1ABABAB<br>  2)  , , ( inverted file)<br>  <br>  <br>   ,</p>\n<blockquote>\n<p>[1]: <a href=\"http://blog.csdn.net/hguisu/article/details/7962350\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/hguisu/article/details/7962350</a></p>\n<p>[baike]: <a href=\"http://baike.baidu.com/view/676861.htm\" target=\"_blank\" rel=\"external\">http://baike.baidu.com/view/676861.htm</a></p>\n<p>[wikipedia]: <a href=\"https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\" target=\"_blank\" rel=\"external\">https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95</a></p>\n<p>[2]: <a href=\"http://blog.csdn.net/hguisu/article/details/7962350\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/hguisu/article/details/7962350</a></p>\n</blockquote>\n","excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong>Inverted index<strong></strong><strong></strong><strong></strong><br>","more":"<br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<ul>\n<li><p><a href=\"https://zh.wikipedia.org/wiki/%E5%88%97%E8%A1%A8\"></a></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p>  </p>\n<ul>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1ab3d9202f18a678affe9a339511bef0a7b8b110\" alt=\"{\\displaystyleT_{0}=}\"><code>&quot;it is what it is&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/57ac5840245616f79874f4635b3bcb2e3da344dd\" alt=\"{\\displaystyleT_{1}=}\"><code>&quot;what is it&quot;</code></li>\n<li><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5713cf5634b3846b4d68c3383b65db289511d8bf\" alt=\"{\\displaystyleT_{2}=}\"><code>&quot;it is a banana&quot;</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;2&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;2&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;0, 1, 2&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;0, 1&#125;</span><br></pre></td></tr></table></figure>\n<p>what, is  it  <img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/576f880df65391031d612f3d9130ebd81575f6a1\" alt=\"coll\"></p>\n<p> <code>&quot;banana&quot;: {(2, 3)}</code>  banana ( {\\displaystyle T<em>{2}} T</em>{2})( 3)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;a&quot;:      &#123;(2, 2)&#125;</span><br><span class=\"line\">&quot;banana&quot;: &#123;(2, 3)&#125;</span><br><span class=\"line\">&quot;is&quot;:     &#123;(0, 1), (0, 4), (1, 1), (2, 1)&#125;</span><br><span class=\"line\">&quot;it&quot;:     &#123;(0, 0), (0, 3), (1, 2), (2, 0)&#125;</span><br><span class=\"line\">&quot;what&quot;:   &#123;(0, 2), (1, 0)&#125;</span><br></pre></td></tr></table></figure>\n<p>what is it 011</p>\n<p><br> <br><br><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]   , , ,<br>  <br>  1term<br>  2hashterm<br>  3<br>  DocID<br>  <br>  1 G ,<br>  2</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  [4]  ,<br>  <br>  <br>   <br>  <br>  1ABABAB<br>  2)  , , ( inverted file)<br>  <br>  <br>   ,</p>\n<blockquote>\n<p>[1]: <a href=\"http://blog.csdn.net/hguisu/article/details/7962350\">http://blog.csdn.net/hguisu/article/details/7962350</a></p>\n<p>[baike]: <a href=\"http://baike.baidu.com/view/676861.htm\">http://baike.baidu.com/view/676861.htm</a></p>\n<p>[wikipedia]: <a href=\"https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\">https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95</a></p>\n<p>[2]: <a href=\"http://blog.csdn.net/hguisu/article/details/7962350\">http://blog.csdn.net/hguisu/article/details/7962350</a></p>\n</blockquote>"},{"title":"YC","date":"2015-06-20T08:43:09.000Z","_content":"\n# \n\n`Sam`\n\n> No matter what you choose, build stuff and be around smart people. \"Stuff\" can be a lot of different things Building stuffs----\n\n----\n<!-- more -->\n----\n\n\n\n# \n\n- Great Idea \n- Great Product \n- Great Team \n- Great Execution \n\n\n\n> ----......  \"\"......  \n\n\"\"----\n\n# \n\n\n\n> \n\n\n\n> \n\n......  \n\n> ......  \n\n# \n\n- \n- \n- \n\n- ......\n\n- \"\"\n- ...... ......\n\n\"/\"\n\n>   ----\n\n# \n\n> fall in love with the problem, not the solution. \n\n> It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them... \"\"----\n\n\n\n> ****...... **** ****\n\n# \n\n\n\n1. \n2. \n3. \n4. \n\n ()\n\n## \n\n>      \n\n****\"\"\"\"---- **** \n\n# \n\n- \n- \n- \n- \n- \n\n \n\n# (intuitive,counter-intuitive)\n\n \"\",\n\n1. ----\"\"----\n2. \n\n  > Sam\"10\"Sam\"\"\n\n# ?\n\n- ----\n- \n- DAURetention......\n\nPR\n\n> \n\n\"****\"\n\n>    \n\nNir Eyal(Hooked: How to Build Habit-Forming Products)[<https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&*Version*=1&*entries*=0>]\n\n# \n\n- \n- ()\n- \n\n# \n\n1. ......\n2. 1000......S1......\n3. FacebookGrowth Team----......\n4. ----......\n\n\n\n>   ......\n\n, \n\n# \n\n- autonomy \n- mastery \n- purpose \n\n# \n\nSam\n\n> One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. ----\n\n# \n\n- capturing value\n- lies people tell\n- how to build a monopoly\n- last mover advantage\n- history of innovation\n- psychology of competition\n\n21   From Zero to One \n\n--------......\n\n****\n\n(YC )[<http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html>]\n","source":"_posts/2015/yc-create-note.md","raw":"---\ntitle: YC\ndate: 2015-06-20T16:43:09.000Z\ntags:\n  - \n  - \ncategories: null\n---\n\n# \n\n`Sam`\n\n> No matter what you choose, build stuff and be around smart people. \"Stuff\" can be a lot of different things Building stuffs----\n\n----\n<!-- more -->\n----\n\n\n\n# \n\n- Great Idea \n- Great Product \n- Great Team \n- Great Execution \n\n\n\n> ----......  \"\"......  \n\n\"\"----\n\n# \n\n\n\n> \n\n\n\n> \n\n......  \n\n> ......  \n\n# \n\n- \n- \n- \n\n- ......\n\n- \"\"\n- ...... ......\n\n\"/\"\n\n>   ----\n\n# \n\n> fall in love with the problem, not the solution. \n\n> It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them... \"\"----\n\n\n\n> ****...... **** ****\n\n# \n\n\n\n1. \n2. \n3. \n4. \n\n ()\n\n## \n\n>      \n\n****\"\"\"\"---- **** \n\n# \n\n- \n- \n- \n- \n- \n\n \n\n# (intuitive,counter-intuitive)\n\n \"\",\n\n1. ----\"\"----\n2. \n\n  > Sam\"10\"Sam\"\"\n\n# ?\n\n- ----\n- \n- DAURetention......\n\nPR\n\n> \n\n\"****\"\n\n>    \n\nNir Eyal(Hooked: How to Build Habit-Forming Products)[<https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&*Version*=1&*entries*=0>]\n\n# \n\n- \n- ()\n- \n\n# \n\n1. ......\n2. 1000......S1......\n3. FacebookGrowth Team----......\n4. ----......\n\n\n\n>   ......\n\n, \n\n# \n\n- autonomy \n- mastery \n- purpose \n\n# \n\nSam\n\n> One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. ----\n\n# \n\n- capturing value\n- lies people tell\n- how to build a monopoly\n- last mover advantage\n- history of innovation\n- psychology of competition\n\n21   From Zero to One \n\n--------......\n\n****\n\n(YC )[<http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html>]\n","slug":"yc-create-note","published":1,"updated":"2017-01-04T04:01:05.910Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopts001jcwnnw0zf68gk","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Sam</code></p>\n<blockquote>\n<p>No matter what you choose, build stuff and be around smart people. Stuff can be a lot of different things Building stuffs-</p>\n</blockquote>\n<p>-<br><a id=\"more\"></a><br>-</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>Great Idea </li>\n<li>Great Product </li>\n<li>Great Team </li>\n<li>Great Execution </li>\n</ul>\n<p></p>\n<blockquote>\n<p>-    </p>\n</blockquote>\n<p>-</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li> </li>\n</ul>\n<p>/</p>\n<blockquote>\n<p>  -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>fall in love with the problem, not the solution. </p>\n<p>It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them -</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><strong></strong> <strong></strong> <strong></strong></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> ()</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>     </p>\n</blockquote>\n<p><strong></strong>- <strong></strong> </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n<h1 id=\"-intuitive-counter-intuitive\"><a href=\"#-intuitive-counter-intuitive\" class=\"headerlink\" title=\"(intuitive,counter-intuitive)\"></a>(intuitive,counter-intuitive)</h1><p> ,</p>\n<ol>\n<li>--</li>\n<li><p></p>\n<blockquote>\n<p>Sam10Sam</p>\n</blockquote>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h1><ul>\n<li>-</li>\n<li></li>\n<li>DAURetention</li>\n</ul>\n<p>PR</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Nir Eyal(Hooked: How to Build Habit-Forming Products)[<a href=\"https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0\" target=\"_blank\" rel=\"external\">https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0</a>]</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li>1000S1</li>\n<li>FacebookGrowth Team-</li>\n<li>-</li>\n</ol>\n<p></p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>, </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>autonomy </li>\n<li>mastery </li>\n<li>purpose </li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Sam</p>\n<blockquote>\n<p>One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>capturing value</li>\n<li>lies people tell</li>\n<li>how to build a monopoly</li>\n<li>last mover advantage</li>\n<li>history of innovation</li>\n<li>psychology of competition</li>\n</ul>\n<p>21   From Zero to One </p>\n<p>--</p>\n<p><strong></strong></p>\n<p>(YC )[<a href=\"http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html\" target=\"_blank\" rel=\"external\">http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html</a>]</p>\n","excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Sam</code></p>\n<blockquote>\n<p>No matter what you choose, build stuff and be around smart people. Stuff can be a lot of different things Building stuffs-</p>\n</blockquote>\n<p>-<br>","more":"<br>-</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>Great Idea </li>\n<li>Great Product </li>\n<li>Great Team </li>\n<li>Great Execution </li>\n</ul>\n<p></p>\n<blockquote>\n<p>-    </p>\n</blockquote>\n<p>-</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>  </p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li> </li>\n</ul>\n<p>/</p>\n<blockquote>\n<p>  -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>fall in love with the problem, not the solution. </p>\n<p>It is your job to listen to their problems, and translate those into what is going to build the best and simplest solution for them -</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><strong></strong> <strong></strong> <strong></strong></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p> ()</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>     </p>\n</blockquote>\n<p><strong></strong>- <strong></strong> </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n<h1 id=\"-intuitive-counter-intuitive\"><a href=\"#-intuitive-counter-intuitive\" class=\"headerlink\" title=\"(intuitive,counter-intuitive)\"></a>(intuitive,counter-intuitive)</h1><p> ,</p>\n<ol>\n<li>--</li>\n<li><p></p>\n<blockquote>\n<p>Sam10Sam</p>\n</blockquote>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h1><ul>\n<li>-</li>\n<li></li>\n<li>DAURetention</li>\n</ul>\n<p>PR</p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><strong></strong></p>\n<blockquote>\n<p>   </p>\n</blockquote>\n<p>Nir Eyal(Hooked: How to Build Habit-Forming Products)[<a href=\"https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0\">https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products-ebook/dp/B00HJ4A43S?ie=UTF8&amp;*Version*=1&amp;*entries*=0</a>]</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li>1000S1</li>\n<li>FacebookGrowth Team-</li>\n<li>-</li>\n</ol>\n<p></p>\n<blockquote>\n<p>  </p>\n</blockquote>\n<p>, </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>autonomy </li>\n<li>mastery </li>\n<li>purpose </li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Sam</p>\n<blockquote>\n<p>One of the exciting things about startups is that they are a surprisingly even playing field. Young and inexperienced, you can do this. Old and experienced, you can do this, too. -</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>capturing value</li>\n<li>lies people tell</li>\n<li>how to build a monopoly</li>\n<li>last mover advantage</li>\n<li>history of innovation</li>\n<li>psychology of competition</li>\n</ul>\n<p>21   From Zero to One </p>\n<p>--</p>\n<p><strong></strong></p>\n<p>(YC )[<a href=\"http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html\">http://zhibimo.com/read/xiaolai/growth/competition-is-for-losers.html</a>]</p>"},{"title":"beyond feeling ","date":"2016-07-30T04:58:54.000Z","updated":"2016-07-30T04:58:54.000Z","_content":"> \n\n<!--more-->\n# \n\n## \n## \n## \n\nJohn Watson``\n\n## \n\n## \n\n1. ** ** \n2. ** ** \n3. **  **\n4. **  ** \n\n## \n\n# \n ``\n## \n``,\n## \n> 1. \n> 2.  \n> 3.     \n\n\n\n## \n\n## \n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n\n## \n\n\n# \n\n:happy:\n> \n","source":"_posts/2016/beyond-feeling.md","raw":"---\ntitle: beyond feeling \ndate: 2016-07-30 12:58:54\nupdated: 2016-07-30 12:58:54\ntags: \n-  \n- \ncategories:\n---\n> \n\n<!--more-->\n# \n\n## \n## \n## \n\nJohn Watson``\n\n## \n\n## \n\n1. ** ** \n2. ** ** \n3. **  **\n4. **  ** \n\n## \n\n# \n ``\n## \n``,\n## \n> 1. \n> 2.  \n> 3.     \n\n\n\n## \n\n## \n\n1. \n2. \n3. \n4. \n5. \n6. \n7. \n\n## \n\n\n# \n\n:happy:\n> \n","slug":"beyond-feeling","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoptv001lcwnnaoxgdsaj","content":"<blockquote>\n<p></p>\n</blockquote>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>John Watson<code></code><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><strong> </strong> </li>\n<li><strong> </strong> </li>\n<li><strong>  </strong></li>\n<li><strong>  </strong> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code>,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ol>\n<li></li>\n<li> </li>\n<li>    </li>\n</ol>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:happy:</p>\n<blockquote>\n<p></p>\n</blockquote>\n","excerpt":"<blockquote>\n<p></p>\n</blockquote>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>John Watson<code></code><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><strong> </strong> </li>\n<li><strong> </strong> </li>\n<li><strong>  </strong></li>\n<li><strong>  </strong> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code>,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ol>\n<li></li>\n<li> </li>\n<li>    </li>\n</ol>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:happy:</p>\n<blockquote>\n<p></p>\n</blockquote>"},{"title":"MangoDB ","date":"2016-11-02T09:27:38.000Z","updated":"2016-11-02T09:27:38.000Z","_content":"\n\n### \n\n####  \n```\n    curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/\n    mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb\n\n    mkdir /data/db\n    touch /var/logs/mongodb/mongodb.logs\n    cd mongdb/bin && vim mongodb.conf\n\n```\n<!-- more -->\n#### mongodb.conf\n```\ndbpath=/data/db\nlogpath=/var/logs/mongodb\nport=27017\n#fork=true\n#nohttpinterface=true\n\n```\n####mongodbIP\n\n`/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf`\n `/usr/local/mongodb/bin/mongod --help`   -f--config --bind_ip ip\n`/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf`  `/etc/rc.d/rc.local` \n\n\n####  \n `mongod --config /usr/local/mongodb/mongodb.conf`  `/usr/local/mongodb/bin/mongo` JavaScript `show dbs` `db.version()` \n\n##### mongodb\nps -ef | grep mongod  //\ncat /proc/24283/limits //\n\n### php\n[](https://pecl.php.net/package/mongodb)\n```\ncd mongodb-1.1.9\n/usr/php/bin/phpize\n./configure --with-php-config=/usr/askphp/bin/php-config \nmake;make install\n\n```\n\n#### PHP\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->createCollection(\"my_col\");\n```\n##### \n```php    \n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $document = array(\n                \"title\" => \"MongoDB\",\n                \"description\" => \"database\",\n                \"likes\" => 100,\n                \"url\" => \"http://www.baidu.com\",\n                \"by\"=>\"change.net\"\n                );\n    $ret_ins  = $collection->insert($document);\n```\n\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->update(array(\"title\"=>\"MongoDB\"), array('$set'=>array(\"title\"=>\"MongoDB\")));\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->remove(array(\"title\"=>\"MongoDB\"),  array(\"justOne\" => true));\n\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n\n---\n### \n\n#### Start Mongod && Command\n\n```sql\n\nmongod\nps aux | grep mongo\n\n-- Start the Mongo Shell\nmongo\nshow dbs\nuse meals-development\nshow collections\nshow users\nshow roles\nshow profile\nshow databases\n\ndb.auth()\ndb.help()\n-- collection  \ndb.collection.help()\ndb.collection.find().help()\n\ndb.collection.findOne()\ndb.collection.find().toArray()\n\n\ndb.collection.insert()\ndb.collection.update()\ndb.collection.save()\ndb.collection.remove()\ndb.collection.drop()\ndb.collection.createIndex()\ndb.getSiblingDB()\n\n```\n#### Data Types \n[](https://docs.mongodb.com/v3.2/core/shell-types/#types)\n##### Date\n- Date() method which returns the current date as a string.\n- new Date() constructor which returns a Date object using the ISODate() wrapper.\n- ISODate() constructor which returns a Date object using the ISODate() wrapper.\n\n##### ObjectId\nnew ObjectId\n\n##### NumberLong &&  NumberInt\nNumberLong(\"2090845886852\")demo\n> db.collection.insert( { _id: 10, calc: NumberLong(\"2090845886852\") } )\n> db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(\"2555555000000\")}})\n\n> db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )\n\n#### Check Types\n\n- instanceof -- mydoc._id instanceof ObjectId\n- typeof -- typeof mydoc._id\n\n\n\n#### SQL &&  MongoDB Mapping Chart\n[sqlnosql](https://gist.github.com/aponxi/4380516)\n##### Executables\n|MySQL/Oracle\t | MongoDB\n---|---|---\nDatabase Server | mysqld/oracle| mongod\nDatabase Client | mysql/sqlplus| mongo\n##### Terminology and Concepts\nSQL Terms/Concepts\t | MongoDB Terms/Concepts\n---|---|\ndatabase |\tdatabase\ntable |\tcollection\nrow\t| document or BSON document\ncolumn\t| field\nindex |\tindex\ntable joins | embedded documents and linking\nprimary key,Specify any unique column or column combination as primary key.|primary key,In MongoDB, the primary key is automatically set to the _id field.\n\n\n#### Create and Alter and CURD\n\n\n```sql\ndb.users.insert( {\n    user_id: \"abc123\",\n    age: 55,\n    status: \"A\"\n } )\n \n -- However, you can also explicitly create a collection:\n db.createCollection(\"users\")\n \n db.users.ensureIndex( { user_id: 1 } )\n db.users.ensureIndex( { user_id: 1, age: -1 } )\n db.users.drop()\n \n \n db.users.find()\n db.users.find(\n    { },\n    { user_id: 1, status: 1 }\n)\n\ndb.users.find(\n    { },\n    { user_id: 1, status: 1, _id: 0 }\n)\n\ndb.users.find(\n    { status: \"A\" },\n    { user_id: 1, status: 1, _id: 0 }\n)\ndb.users.find(\n   { age: { $gt: 25, $lte: 50 } }\n)\ndb.users.find(\n   { user_id: /^bc/ }\n)\ndb.users.find( { status: \"A\" } ).sort( { user_id: 1 } )\n\ndb.users.count()\ndb.users.find().count()\n\ndb.users.count( { user_id: { $exists: true } } )\ndb.users.find( { user_id: { $exists: true } } ).count()\n\ndb.users.count( { age: { $gt: 30 } } )\ndb.users.find( { age: { $gt: 30 } } ).count()\n\ndb.users.distinct( \"status\" )\n\ndb.users.findOne()\ndb.users.find().limit(1)\n\ndb.users.find().limit(5).skip(10)\ndb.users.find( { status: \"A\" } ).explain()\n\ndb.users.update(\n   { age: { $gt: 25 } },\n   { $set: { status: \"C\" } },\n   { multi: true }\n)\n\ndb.users.update(\n   { status: \"A\" } ,\n   { $inc: { age: 3 } },\n   { multi: true }\n)\n\n\ndb.users.remove( { status: \"D\" } )\ndb.users.remove( )\n```\n\n#### \n##### INSERTING DATA\n\n```sql\ndb.customers.insert({  \n    first_name: \"chris\",\n    last_name:  \"aiv\" \n})\n\n--Append a lot of data into a customer\ndb.customers.insert({  \n    first_name: \"Peter\",\n    age: 32,\n    address: {\n        street: \"120 Main St\",\n        city: \"Chicago\",\n        state: \"Illinois\",\n        zip: \"38475\"\n    },\n    phone: {\n        home: \"5555555555\",\n        work: \"4444444444\",\n        mobile: \"3333333333\"\n    },\n    services: [\n        {\n            service_id: \"time warner\"\n        },\n        {\n            service_id: \"pge\"\n        },\n        {\n            service_id: \"moviepass\"\n        }\n    ],\n    services_count: 3\n});\n\n-- Append data to a customer\n\ndb.customers.insert({  \n    first_name: \"Billy\",\n    last_name:  \"Corgan\",\n    gender: \"m\"\n})\n\n-- Insert multiple customers in one query\n\ndb.customers.insert([  \n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Hendrix\"\n    },\n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Page\"\n    },\n    {\n    first_name: \"Kurt\",\n    last_name:  \"Cobain\"\n    },\n    {\n    first_name: \"Adrian\",\n    last_name:  \"Belew\"\n    },\n    {\n    first_name: \"Billy\",\n    last_name:  \"Corgan\"\n    }\n])\n\n\n```\n##### FINDING DATA\n\n```sql\ndb.customers.find({ first_name: \"Peter\"}, { services: 1})  \ndb.customers.find({ first_name: \"Peter\"}, { \"services.service_id\": 1})  \ndb.customers.findOne(  \n    { first_name: /^billy$/i },\n    { first_name: 1 }\n)\n\ndb.customers.find({  \n    gender: \"male\"\n})\n\ndb.customers.find({  \n    gender: /(m|male)/i, first_name: /^billy$/i \n})\n\n```\n##### UPDATING DATA\n\n```sql\n-- \ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { last_name:  \"Hendrix\"}\n)\n-- Gentel Update \ndb.customers.update(  \n    { last_name: /^hendrix$/i },\n    { $set: { first_name: \"Jimmy\" } }\n)\n\n-- Increment a value in a field\ndb.customers.update(  \n    { first_name: \"Billy\" },\n    { $inc: { age: 1 }\n    }\n)\n\n-- Update or Insert a field using an object ID\ndb.customers.update(  \n    { _id: ObjectId(\"581fef808e5fac221dea48ef\") },\n    {\n        $set: {\n            first_name:\"Lucy\",\n            gender: \"m\",\n            age: 40,\n            birthdate: new Date(\"2016-11-02\")\n        }\n    }\n)\n-- Update a field using someones first name\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    {\n        $set: {\n            gender: \"male\",\n            age: 50,\n            birthdate: new Date(\"Aug 20, 1985\")\n        }\n    },\n    { upsert: true }\n)\n-- Add to an existing document\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { $push: {\n        services: {\n            service_id: 'hosting windows',\n            service_name: \"windows hosting\"\n        }\n        }\n    }\n)\n-- ,truefalse\ndb.customers.update({first_name:\"jack\"},{$inc:{age:2}},true);\ndb.customers.update({first_name:\"Jimmy\"},{$inc:{age:3}},false,true);\ndb.customers.update({first_name:\"Kurt\"},{$inc:{age:-2}});\n\n\n```\n\n##### REMOVING DATA\n\n```sql\n--Remove a field\ndb.customers.update(  \n    { last_name: \"Page\" },\n    { \n        $unset: { age: 1 }\n    }\n)\n\ndb.customers.update({first_name:\"jack\"},{$inc:{age:1}})\n--Remove a customer\ndb.customers.remove(  \n    //!!! DO NOT US THIS\n    { first_name: \"Billy\"}, true \n)\n-- Remove any customer above the age of 31\ndb.customers.remove(  \n    { age: { $gt: 31 } }\n    , true\n)\n```\n##### DELETING DATA\n\n```sql\n-- Delete a collection\ndb.customers.drop()\n```\n\n##### SEARCHING DATA\n\n```sql\n{\n  _id: 1,\n  name: { first: 'John', last: 'Backus' },\n  birth: new Date('Dec 03, 1924'),\n  death: new Date('Mar 17, 2007'),\n  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],\n  awards: [\n            { award: 'National Medal',\n              year: 1975,\n              by: 'NSF' },\n            { award: 'Turing Award',\n              year: 1977,\n              by: 'ACM' }\n          ]\n}\ndb.users.find({awards: {$elemMatch: {award:'National Medal', year:1975}}})\n\n\n--  $gt,gte,$lt,$lte,$ne\ndb.col.find({\"by\":\"\"}).pretty()\ndb.col.find({\"likes\":{$lt:50}}).pretty()\ndb.col.find({\"likes\":{$ne:50}}).pretty()\ndb.users.find({\"likes\" : {$gt : 100}})\n\n-- and or \ndb.customers.find({$or: [{key1: value1}, {key2:value2}]}).pretty()\ndb.col.find({\"likes\": {$gt:50}, $or: [{\"by\": \"\"},{\"title\": \"MongoDB \"}]}).pretty()\n//js\ndb.customers.find({$where:function(){ return this.first_name==\"jack\"}})\n\n-- \n\ndb.customers.find({name:{$regex:\"yaolan.com\"}})\n-- \ndb.customers.find({name:/yaolan.com/})\n-- \ndb.customers.find({name:{$regex:\"yaolan.com\",$options:\"$i\"}})\n\n```\n\n\n#### \n- db.collections.help() \n- db.collection.find().help();\n\n```sql\ndb.customers.distinct(\"first_name\");\ndb.customers.count({first_name:\"Jimmy\",age:{$gt:1}});\ndb.customers.count({first_name:\"Jimmy\",age:{$in:[8,90]}});\n\n-- \ndb.customers.find().limit(2).skip(1)\n-- value1  -1 \ndb.customers.find().sort({first_name:1});\ndb.customers.find().sort({first_name:-1});\n\n--  \n-- key \n-- initial:\n-- reduce \n-- condition: \n-- finalize: count\ndb.customers.group({\n    key:{age:true},\n    initial:{customers:[]},\n    reduce:function(curr,prev){ prev.customers.push(curr.first_name) }\n});\n\ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(curr.first_name); \n        prev.obj.push(curr.last_name);\n        prev.obj.push({address:\"abc\"});\n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(JSON.stringify(curr)); \n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    condition:{age:{$gt:7}},\n    reduce:function(curr,prev){ \n        prev.list = JSON.stringify(curr);   \n    },\n    finalize:function(prev){\n        prev.count =  prev.obj.length;\n    }\n});\n\n```\n\n\n##### aggregate \nagesumvalue, sql `select by_user, count(*) from mycol group by by_user`by_userby_user\n\n``` sql\ndb.customers.aggregate([{$group : {_id : \"$by_user\", num_tutorial : {$sum : 1}}}])\n\n\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$sum:2}}}])\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$avg:1}}}])\n```\n##### \nUnixLinux\n>- $project\n>- $match`$match`MongoDB\n>- $limitMongoDB\n>- $skip\n>- $unwind\n>- $group\n>- $sort\n>- $geoNear\n\n```sql\n\n    db.article.aggregate(\n        { $project : {\n            title : 1 ,\n            author : 1 ,\n        }}\n     );\n\n    db.customers.aggregate({$project:{first_name:1,age:1}})\n\n\n    db.article.aggregate(\n    { $project : {\n        _id : 0 ,\n        title : 1 ,\n        author : 1\n    }});\n    -- $match7090$group\n    db.articles.aggregate( [\n        { $match : { score : { $gt : 70, $lte : 90 } } },\n        { $group: { _id: null, count: { $sum: 1 } } }\n       ] );\n\n    -- $skip\"\"\n    db.article.aggregate({ $skip : 5 });\n\n```\n\n### mapReduce \nMap-ReduceMAPREDUCE\n> map  (, reduce )\n> reduce reducekey-valueskey-valuevaluesvalue\n> out  (,)\n> query mapquerylimitsort\n> sort limitsortmap\n> limit maplimitsort\n\n```sql\ndb.collection.mapReduce(\n   function() {emit(key,value);},  //map \n   function(key,values) {return reduceFunction},   //reduce \n   {\n      out: collection,\n      query: document,\n      sort: document,\n      limit: number\n   }\n)\n\n-- demo\ndb.posts.mapReduce( \n   function() { emit(this.user_name,1); }, \n   function(key, values) {return Array.sum(values)}, \n      {  \n         query:{status:\"active\"},  \n         out:\"post_total\" \n      }\n)\n\n```\n###  \nresultcustomers,fornext()\nvar result = db.customers.find().limit(2).skip(1)\nvar result = db.customers.find();\nresult.forEach(function(curr){\n    print(curr.first_name);\n});\n\n\n###  \n```\n-- \ndb.customers.find({age:7}).explain();\n-- hint \ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1})\ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1}).explain();\n\n--  (`ensureIndex`  `createIndex` )\ndb.customers.ensureIndex({\"first_name\":1})\ndb.customers.createIndex({\"first_name\":1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.ensureIndex({\"first_name\":1},{\"unique\":true})\n-- \ndb.customers.ensureIndex({\"first_name\":1,\"age\":-1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.getIndexes();\n--\ndb.customers.dropIndex(\"first_name_1\") \ndb.customers.dropIndex({\"first_name\":1})\ndb.customers.dropIndexes();\n```\n\n\n### Mongodb\nmongod --help\n#### replica \n`OpLog`,`sync_pullOpLog`\n```sql\n--  27017\nmongod --dbpath=E:\\MongoDB\\datamaster --master\nmongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017\nmongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n```\n `error: { \"$err\" : \"not master and slaveok=false\", \"code\" : 13435 }` `rs.slaveok()`,\n\n#### () --replSet\n1. \n2. \n> N (3)\n> \n> \n> \n> \n\n![replica](/images/replica.jpg)\n\nMongoDBMongoDB \nMongoDB\n`mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0`\nrs0MongoDB27017\nmongoDB\nMongo`rs.initiate()`\n`rs.conf()`\n `rs.status()` \n\n,\n```\nmongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset\n-- `mongo` replset \n\nrs.initiate({\n    _id:\"replset\",\n    members:[\n    {\n        _id:0,\n        host:\"127.0.0.1:27017\"\n    },\n    {\n        _id:1,\n        host:\"127.0.0.1:27018\"\n    },\n    {\n        _id:2,\n        host:\"127.0.0.1:27019\"\n    }\n    ]\n})\n\n\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`\n\n\n-- rs.addArb() \nmongod --dbpath=xxxx --port=27020 --replSet replset\nrs.addArb(\"192.168.1.2:27020\")\n\n-- rs.add \nrs.add(\"192.168.1.2:27021\")\n\n```\n `rs.status()` Mongo`db.isMaster()`,MongoDB\n\n\n### Shard\nMongodb(cluster),MongoDB\n> \n> \n> 12\n> \n> \n> \n\n![MongoDB Cluster](/images/mongo-cluster.jpg)\n>- Shard:shard serverreplica set\n>- Config Server:mongod ClusterMetadata chunk\n>- Query Routers: \n\n\n```\n-- \nShard Server 127020\nShard Server 227021\nShard Server 327022\nShard Server 427023\nConfig Server 27100\nRoute Process40000\n\n-- 1. Shard Server\nmkdir -p /www/mongoDB/shard/s0\nmkdir -p /www/mongoDB/shard/s1\nmkdir -p /www/mongoDB/shard/s2\nmkdir -p /www/mongoDB/shard/s3\nmkdir -p /www/mongoDB/shard/log\n\n/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend\n\n-- 2. Config Server,config server  `--configsvr` \nmkdir -p /www/mongoDB/shard/config\n/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend\n\n-- 3. Route ProcessmongoschunkSizechunkMB200MB.\n\n/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200\n\n-- 4. Sharding,MongoDB ShellmongosShard,mongo40000\n/usr/local/mongoDB/bin/mongo admin --port 40000\n\n\ndb.runCommand({ addshard:\"localhost:27020\" })\ndb.runCommand({ addshard:\"localhost:27021\" })\ndb.runCommand({ addshard:\"localhost:27022\" })\ndb.runCommand({ addshard:\"localhost:27023\" })\ndb.runCommand({ enablesharding:\"test\" })\ndb.runCommand({ shardcollection: \"users\", key: { id:1,time:1}})\n-- \nsh.addShard(\"localhost:27020\");\nsh.addShard(\"localhost:27021\");\nsh.addShard(\"localhost:27022\");\nsh.addShard(\"localhost:27023\");\nsh.enableSharding(\"test\");\n-- sh.shardCollection(\"<database>.<collection>\", shard-key-pattern) collectionkey\nsh.shardCollection(\"test.users\",{\"name\":1,\"_id\":1});\n\n-- 5. ,\n    use test\n\n    for(var i=0;i<=100000;i++) {\n        db.users.insert({name:\"lucy\"+i,age:i});\n    }\n\n-- 6. \nsh.status()\n\n```\n\n\n\n### \n1. \nmongod --auth --dbpath /usr/mongo/data -f /var/mongo.log\n--authmongod\n`/etc/mongodb.conf``auth=true`mongod\n2. \n\n```\n-- \ndb.createUser({  \n    \"user\": \"chrisaiv\",\n    \"pwd\": \"password\",\n    \"roles\": [\n        { role: \"clusterAdmin\", db: \"admin\" },\n        { role: \"readAnyDatabase\", db: \"admin\" },\n        \"readWrite\"\n        ]\n    },\n    { w: \"majority\", wtimeout: 5000 }\n)\n\n: `db.auth(\"admin\", \"123456\")`\n\n\n```\n3. \n`db.runCommand({fsync:1,lock:1})`\n\n\n4. \n`db.currentOp()`\n\n5. \n`use local\ndb.$cmd.sys.unlock.findOne()`\n\n\n`db.currentOp()`\n\n\n###  \n```sql\n\nmongodump -h dbhost -d dbname -c collection -o dbdirectory\nmongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory\n\n-- \nmkdir testbak\nmongodump \n-- \nmongodump -d pagedb\n-- \nmongodump -d pagedb -c page\n-- \ncd testbak\nmongorestore --drop\n-- \ncd testbak\nmongorestore -d pagedb --drop\n\n-- \nmongorestore -d pagedb -c page --drop\n-- MongoDB\nmongoimport -d pagedb -c page --type csv --headerline --drop < csvORtsvFile.csv\n-- csvORtsvFile.csvpagedbpagecvstsv\n-- `--headerline`csvtsv\n-- typecsvtsvjson\n\n\n\n### MongoDB \n```sql\nmongostat \nmongotop\nmongotop 10   -- \nmongotop --locks  -- \n```\n### MongoDB \nMongoDB  SQL  MongoDB  _id 12`db.createCollection(\"counters\")`,`db.counters.insert({_id:\"productid\",sequence_value:0})` \n\n```javascript\nfunction getNextSequenceValue(sequenceName){\n   var sequenceDocument = db.counters.findAndModify(\n      {\n         query:{_id: sequenceName },\n         update: {$inc:{sequence_value:1}},\n         new:true\n      });\n   return sequenceDocument.sequence_value;\n}\n```\n\n```sql\n    db.products.insert({\n       \"_id\":getNextSequenceValue(\"productid\"),\n       \"product_name\":\"Apple iPhone\",\n       \"category\":\"mobiles\"\n    })\n\n    db.products.insert({\n   \"_id\":getNextSequenceValue(\"productid\"),\n   \"product_name\":\"Samsung S3\",\n   \"category\":\"mobiles\"})\n\n   db.products.find()\n```\n### ObjectId\n> 4\n> 3\n> idPID\n> \n```sql\n    newObjectId = ObjectId()\n    myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")\n    ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()\n\n    new ObjectId().str\n```\n\n### GridFS \nGridFS 16MBSON()\nGridFS MonoDB\nGridFS 16M\nGridFS chunk(),256k/,chunkMongoDB(document)chunks\nGridFS `fs.files``fs.chunks`\n```sql\n --fs.files\n{\n   \"filename\": \"test.txt\",\n   \"chunkSize\": NumberInt(261120),\n   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),\n   \"md5\": \"7b762939321e146569b07f72c62cca4f\",\n   \"length\": NumberInt(646)\n}\n\n-- fs.chunks\n{\n   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),\n   \"n\": NumberInt(0),\n   \"data\": \"Mongo Binary Data\"\n}\n\n-- \nmongofiles.exe -d gridfs put song.mp3\ndb.fs.files.find()\n\n--_id (chunk)\ndb.fs.chunks.find({files_id:ObjectId('534a811bf8b4aa4d33fdf94d')})\n\n```\n\n- [](https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/)\n","source":"_posts/2016/MangoDB-cheatsheet.md","raw":"---\ntitle: MangoDB \ndate: 2016-11-02 17:27:38\nupdated: 2016-11-02 17:27:38\ntags:\n  - db\ncategories:\n---\n\n\n### \n\n####  \n```\n    curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz\n    mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/\n    mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb\n\n    mkdir /data/db\n    touch /var/logs/mongodb/mongodb.logs\n    cd mongdb/bin && vim mongodb.conf\n\n```\n<!-- more -->\n#### mongodb.conf\n```\ndbpath=/data/db\nlogpath=/var/logs/mongodb\nport=27017\n#fork=true\n#nohttpinterface=true\n\n```\n####mongodbIP\n\n`/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf`\n `/usr/local/mongodb/bin/mongod --help`   -f--config --bind_ip ip\n`/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf`  `/etc/rc.d/rc.local` \n\n\n####  \n `mongod --config /usr/local/mongodb/mongodb.conf`  `/usr/local/mongodb/bin/mongo` JavaScript `show dbs` `db.version()` \n\n##### mongodb\nps -ef | grep mongod  //\ncat /proc/24283/limits //\n\n### php\n[](https://pecl.php.net/package/mongodb)\n```\ncd mongodb-1.1.9\n/usr/php/bin/phpize\n./configure --with-php-config=/usr/askphp/bin/php-config \nmake;make install\n\n```\n\n#### PHP\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->createCollection(\"my_col\");\n```\n##### \n```php    \n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $document = array(\n                \"title\" => \"MongoDB\",\n                \"description\" => \"database\",\n                \"likes\" => 100,\n                \"url\" => \"http://www.baidu.com\",\n                \"by\"=>\"change.net\"\n                );\n    $ret_ins  = $collection->insert($document);\n```\n\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->update(array(\"title\"=>\"MongoDB\"), array('$set'=>array(\"title\"=>\"MongoDB\")));\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n##### \n```php\n    $m = new \\MongoClient();\n    $db = $m->selectDB(\"test\");\n    $collection = $db->my_col;\n    $collection->remove(array(\"title\"=>\"MongoDB\"),  array(\"justOne\" => true));\n\n    $cursor = $collection->find();\n    foreach ($cursor as $document) {\n        echo $document[\"title\"] . \"\\n\";\n    }\n```\n\n---\n### \n\n#### Start Mongod && Command\n\n```sql\n\nmongod\nps aux | grep mongo\n\n-- Start the Mongo Shell\nmongo\nshow dbs\nuse meals-development\nshow collections\nshow users\nshow roles\nshow profile\nshow databases\n\ndb.auth()\ndb.help()\n-- collection  \ndb.collection.help()\ndb.collection.find().help()\n\ndb.collection.findOne()\ndb.collection.find().toArray()\n\n\ndb.collection.insert()\ndb.collection.update()\ndb.collection.save()\ndb.collection.remove()\ndb.collection.drop()\ndb.collection.createIndex()\ndb.getSiblingDB()\n\n```\n#### Data Types \n[](https://docs.mongodb.com/v3.2/core/shell-types/#types)\n##### Date\n- Date() method which returns the current date as a string.\n- new Date() constructor which returns a Date object using the ISODate() wrapper.\n- ISODate() constructor which returns a Date object using the ISODate() wrapper.\n\n##### ObjectId\nnew ObjectId\n\n##### NumberLong &&  NumberInt\nNumberLong(\"2090845886852\")demo\n> db.collection.insert( { _id: 10, calc: NumberLong(\"2090845886852\") } )\n> db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(\"2555555000000\")}})\n\n> db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )\n\n#### Check Types\n\n- instanceof -- mydoc._id instanceof ObjectId\n- typeof -- typeof mydoc._id\n\n\n\n#### SQL &&  MongoDB Mapping Chart\n[sqlnosql](https://gist.github.com/aponxi/4380516)\n##### Executables\n|MySQL/Oracle\t | MongoDB\n---|---|---\nDatabase Server | mysqld/oracle| mongod\nDatabase Client | mysql/sqlplus| mongo\n##### Terminology and Concepts\nSQL Terms/Concepts\t | MongoDB Terms/Concepts\n---|---|\ndatabase |\tdatabase\ntable |\tcollection\nrow\t| document or BSON document\ncolumn\t| field\nindex |\tindex\ntable joins | embedded documents and linking\nprimary key,Specify any unique column or column combination as primary key.|primary key,In MongoDB, the primary key is automatically set to the _id field.\n\n\n#### Create and Alter and CURD\n\n\n```sql\ndb.users.insert( {\n    user_id: \"abc123\",\n    age: 55,\n    status: \"A\"\n } )\n \n -- However, you can also explicitly create a collection:\n db.createCollection(\"users\")\n \n db.users.ensureIndex( { user_id: 1 } )\n db.users.ensureIndex( { user_id: 1, age: -1 } )\n db.users.drop()\n \n \n db.users.find()\n db.users.find(\n    { },\n    { user_id: 1, status: 1 }\n)\n\ndb.users.find(\n    { },\n    { user_id: 1, status: 1, _id: 0 }\n)\n\ndb.users.find(\n    { status: \"A\" },\n    { user_id: 1, status: 1, _id: 0 }\n)\ndb.users.find(\n   { age: { $gt: 25, $lte: 50 } }\n)\ndb.users.find(\n   { user_id: /^bc/ }\n)\ndb.users.find( { status: \"A\" } ).sort( { user_id: 1 } )\n\ndb.users.count()\ndb.users.find().count()\n\ndb.users.count( { user_id: { $exists: true } } )\ndb.users.find( { user_id: { $exists: true } } ).count()\n\ndb.users.count( { age: { $gt: 30 } } )\ndb.users.find( { age: { $gt: 30 } } ).count()\n\ndb.users.distinct( \"status\" )\n\ndb.users.findOne()\ndb.users.find().limit(1)\n\ndb.users.find().limit(5).skip(10)\ndb.users.find( { status: \"A\" } ).explain()\n\ndb.users.update(\n   { age: { $gt: 25 } },\n   { $set: { status: \"C\" } },\n   { multi: true }\n)\n\ndb.users.update(\n   { status: \"A\" } ,\n   { $inc: { age: 3 } },\n   { multi: true }\n)\n\n\ndb.users.remove( { status: \"D\" } )\ndb.users.remove( )\n```\n\n#### \n##### INSERTING DATA\n\n```sql\ndb.customers.insert({  \n    first_name: \"chris\",\n    last_name:  \"aiv\" \n})\n\n--Append a lot of data into a customer\ndb.customers.insert({  \n    first_name: \"Peter\",\n    age: 32,\n    address: {\n        street: \"120 Main St\",\n        city: \"Chicago\",\n        state: \"Illinois\",\n        zip: \"38475\"\n    },\n    phone: {\n        home: \"5555555555\",\n        work: \"4444444444\",\n        mobile: \"3333333333\"\n    },\n    services: [\n        {\n            service_id: \"time warner\"\n        },\n        {\n            service_id: \"pge\"\n        },\n        {\n            service_id: \"moviepass\"\n        }\n    ],\n    services_count: 3\n});\n\n-- Append data to a customer\n\ndb.customers.insert({  \n    first_name: \"Billy\",\n    last_name:  \"Corgan\",\n    gender: \"m\"\n})\n\n-- Insert multiple customers in one query\n\ndb.customers.insert([  \n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Hendrix\"\n    },\n    {\n    first_name: \"Jimmy\",\n    last_name:  \"Page\"\n    },\n    {\n    first_name: \"Kurt\",\n    last_name:  \"Cobain\"\n    },\n    {\n    first_name: \"Adrian\",\n    last_name:  \"Belew\"\n    },\n    {\n    first_name: \"Billy\",\n    last_name:  \"Corgan\"\n    }\n])\n\n\n```\n##### FINDING DATA\n\n```sql\ndb.customers.find({ first_name: \"Peter\"}, { services: 1})  \ndb.customers.find({ first_name: \"Peter\"}, { \"services.service_id\": 1})  \ndb.customers.findOne(  \n    { first_name: /^billy$/i },\n    { first_name: 1 }\n)\n\ndb.customers.find({  \n    gender: \"male\"\n})\n\ndb.customers.find({  \n    gender: /(m|male)/i, first_name: /^billy$/i \n})\n\n```\n##### UPDATING DATA\n\n```sql\n-- \ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { last_name:  \"Hendrix\"}\n)\n-- Gentel Update \ndb.customers.update(  \n    { last_name: /^hendrix$/i },\n    { $set: { first_name: \"Jimmy\" } }\n)\n\n-- Increment a value in a field\ndb.customers.update(  \n    { first_name: \"Billy\" },\n    { $inc: { age: 1 }\n    }\n)\n\n-- Update or Insert a field using an object ID\ndb.customers.update(  \n    { _id: ObjectId(\"581fef808e5fac221dea48ef\") },\n    {\n        $set: {\n            first_name:\"Lucy\",\n            gender: \"m\",\n            age: 40,\n            birthdate: new Date(\"2016-11-02\")\n        }\n    }\n)\n-- Update a field using someones first name\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    {\n        $set: {\n            gender: \"male\",\n            age: 50,\n            birthdate: new Date(\"Aug 20, 1985\")\n        }\n    },\n    { upsert: true }\n)\n-- Add to an existing document\ndb.customers.update(  \n    { first_name: \"Jimmy\" },\n    { $push: {\n        services: {\n            service_id: 'hosting windows',\n            service_name: \"windows hosting\"\n        }\n        }\n    }\n)\n-- ,truefalse\ndb.customers.update({first_name:\"jack\"},{$inc:{age:2}},true);\ndb.customers.update({first_name:\"Jimmy\"},{$inc:{age:3}},false,true);\ndb.customers.update({first_name:\"Kurt\"},{$inc:{age:-2}});\n\n\n```\n\n##### REMOVING DATA\n\n```sql\n--Remove a field\ndb.customers.update(  \n    { last_name: \"Page\" },\n    { \n        $unset: { age: 1 }\n    }\n)\n\ndb.customers.update({first_name:\"jack\"},{$inc:{age:1}})\n--Remove a customer\ndb.customers.remove(  \n    //!!! DO NOT US THIS\n    { first_name: \"Billy\"}, true \n)\n-- Remove any customer above the age of 31\ndb.customers.remove(  \n    { age: { $gt: 31 } }\n    , true\n)\n```\n##### DELETING DATA\n\n```sql\n-- Delete a collection\ndb.customers.drop()\n```\n\n##### SEARCHING DATA\n\n```sql\n{\n  _id: 1,\n  name: { first: 'John', last: 'Backus' },\n  birth: new Date('Dec 03, 1924'),\n  death: new Date('Mar 17, 2007'),\n  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],\n  awards: [\n            { award: 'National Medal',\n              year: 1975,\n              by: 'NSF' },\n            { award: 'Turing Award',\n              year: 1977,\n              by: 'ACM' }\n          ]\n}\ndb.users.find({awards: {$elemMatch: {award:'National Medal', year:1975}}})\n\n\n--  $gt,gte,$lt,$lte,$ne\ndb.col.find({\"by\":\"\"}).pretty()\ndb.col.find({\"likes\":{$lt:50}}).pretty()\ndb.col.find({\"likes\":{$ne:50}}).pretty()\ndb.users.find({\"likes\" : {$gt : 100}})\n\n-- and or \ndb.customers.find({$or: [{key1: value1}, {key2:value2}]}).pretty()\ndb.col.find({\"likes\": {$gt:50}, $or: [{\"by\": \"\"},{\"title\": \"MongoDB \"}]}).pretty()\n//js\ndb.customers.find({$where:function(){ return this.first_name==\"jack\"}})\n\n-- \n\ndb.customers.find({name:{$regex:\"yaolan.com\"}})\n-- \ndb.customers.find({name:/yaolan.com/})\n-- \ndb.customers.find({name:{$regex:\"yaolan.com\",$options:\"$i\"}})\n\n```\n\n\n#### \n- db.collections.help() \n- db.collection.find().help();\n\n```sql\ndb.customers.distinct(\"first_name\");\ndb.customers.count({first_name:\"Jimmy\",age:{$gt:1}});\ndb.customers.count({first_name:\"Jimmy\",age:{$in:[8,90]}});\n\n-- \ndb.customers.find().limit(2).skip(1)\n-- value1  -1 \ndb.customers.find().sort({first_name:1});\ndb.customers.find().sort({first_name:-1});\n\n--  \n-- key \n-- initial:\n-- reduce \n-- condition: \n-- finalize: count\ndb.customers.group({\n    key:{age:true},\n    initial:{customers:[]},\n    reduce:function(curr,prev){ prev.customers.push(curr.first_name) }\n});\n\ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(curr.first_name); \n        prev.obj.push(curr.last_name);\n        prev.obj.push({address:\"abc\"});\n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    reduce:function(curr,prev){ \n        prev.obj.push(JSON.stringify(curr)); \n    }\n});\n\n-- \ndb.customers.group({\n    key:{age:true},\n    initial:{obj:[]},\n    condition:{age:{$gt:7}},\n    reduce:function(curr,prev){ \n        prev.list = JSON.stringify(curr);   \n    },\n    finalize:function(prev){\n        prev.count =  prev.obj.length;\n    }\n});\n\n```\n\n\n##### aggregate \nagesumvalue, sql `select by_user, count(*) from mycol group by by_user`by_userby_user\n\n``` sql\ndb.customers.aggregate([{$group : {_id : \"$by_user\", num_tutorial : {$sum : 1}}}])\n\n\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$sum:2}}}])\ndb.customers.aggregate([{$group : {_id: \"$age\",num:{$avg:1}}}])\n```\n##### \nUnixLinux\n>- $project\n>- $match`$match`MongoDB\n>- $limitMongoDB\n>- $skip\n>- $unwind\n>- $group\n>- $sort\n>- $geoNear\n\n```sql\n\n    db.article.aggregate(\n        { $project : {\n            title : 1 ,\n            author : 1 ,\n        }}\n     );\n\n    db.customers.aggregate({$project:{first_name:1,age:1}})\n\n\n    db.article.aggregate(\n    { $project : {\n        _id : 0 ,\n        title : 1 ,\n        author : 1\n    }});\n    -- $match7090$group\n    db.articles.aggregate( [\n        { $match : { score : { $gt : 70, $lte : 90 } } },\n        { $group: { _id: null, count: { $sum: 1 } } }\n       ] );\n\n    -- $skip\"\"\n    db.article.aggregate({ $skip : 5 });\n\n```\n\n### mapReduce \nMap-ReduceMAPREDUCE\n> map  (, reduce )\n> reduce reducekey-valueskey-valuevaluesvalue\n> out  (,)\n> query mapquerylimitsort\n> sort limitsortmap\n> limit maplimitsort\n\n```sql\ndb.collection.mapReduce(\n   function() {emit(key,value);},  //map \n   function(key,values) {return reduceFunction},   //reduce \n   {\n      out: collection,\n      query: document,\n      sort: document,\n      limit: number\n   }\n)\n\n-- demo\ndb.posts.mapReduce( \n   function() { emit(this.user_name,1); }, \n   function(key, values) {return Array.sum(values)}, \n      {  \n         query:{status:\"active\"},  \n         out:\"post_total\" \n      }\n)\n\n```\n###  \nresultcustomers,fornext()\nvar result = db.customers.find().limit(2).skip(1)\nvar result = db.customers.find();\nresult.forEach(function(curr){\n    print(curr.first_name);\n});\n\n\n###  \n```\n-- \ndb.customers.find({age:7}).explain();\n-- hint \ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1})\ndb.customers.find({gender:\"M\"},{user_name:1,_id:0}).hint({gender:1,user_name:1}).explain();\n\n--  (`ensureIndex`  `createIndex` )\ndb.customers.ensureIndex({\"first_name\":1})\ndb.customers.createIndex({\"first_name\":1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.ensureIndex({\"first_name\":1},{\"unique\":true})\n-- \ndb.customers.ensureIndex({\"first_name\":1,\"age\":-1})\ndb.customers.createIndexes([{\"first_name\":1},{\"age\":-1}])\n-- \ndb.customers.getIndexes();\n--\ndb.customers.dropIndex(\"first_name_1\") \ndb.customers.dropIndex({\"first_name\":1})\ndb.customers.dropIndexes();\n```\n\n\n### Mongodb\nmongod --help\n#### replica \n`OpLog`,`sync_pullOpLog`\n```sql\n--  27017\nmongod --dbpath=E:\\MongoDB\\datamaster --master\nmongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017\nmongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n```\n `error: { \"$err\" : \"not master and slaveok=false\", \"code\" : 13435 }` `rs.slaveok()`,\n\n#### () --replSet\n1. \n2. \n> N (3)\n> \n> \n> \n> \n\n![replica](/images/replica.jpg)\n\nMongoDBMongoDB \nMongoDB\n`mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0`\nrs0MongoDB27017\nmongoDB\nMongo`rs.initiate()`\n`rs.conf()`\n `rs.status()` \n\n,\n```\nmongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset\nmongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset\n-- `mongo` replset \n\nrs.initiate({\n    _id:\"replset\",\n    members:[\n    {\n        _id:0,\n        host:\"127.0.0.1:27017\"\n    },\n    {\n        _id:1,\n        host:\"127.0.0.1:27018\"\n    },\n    {\n        _id:2,\n        host:\"127.0.0.1:27019\"\n    }\n    ]\n})\n\n\n-- \nmongo 127.0.0.1:27017\ndb.users.insert({name:\"tom\",age:10})\ndb.users.insert({name:\"lucy\",age:13})\n\n-- \ndb.usrs.find();\n-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`\n\n\n-- rs.addArb() \nmongod --dbpath=xxxx --port=27020 --replSet replset\nrs.addArb(\"192.168.1.2:27020\")\n\n-- rs.add \nrs.add(\"192.168.1.2:27021\")\n\n```\n `rs.status()` Mongo`db.isMaster()`,MongoDB\n\n\n### Shard\nMongodb(cluster),MongoDB\n> \n> \n> 12\n> \n> \n> \n\n![MongoDB Cluster](/images/mongo-cluster.jpg)\n>- Shard:shard serverreplica set\n>- Config Server:mongod ClusterMetadata chunk\n>- Query Routers: \n\n\n```\n-- \nShard Server 127020\nShard Server 227021\nShard Server 327022\nShard Server 427023\nConfig Server 27100\nRoute Process40000\n\n-- 1. Shard Server\nmkdir -p /www/mongoDB/shard/s0\nmkdir -p /www/mongoDB/shard/s1\nmkdir -p /www/mongoDB/shard/s2\nmkdir -p /www/mongoDB/shard/s3\nmkdir -p /www/mongoDB/shard/log\n\n/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend\n/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend\n\n-- 2. Config Server,config server  `--configsvr` \nmkdir -p /www/mongoDB/shard/config\n/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend\n\n-- 3. Route ProcessmongoschunkSizechunkMB200MB.\n\n/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200\n\n-- 4. Sharding,MongoDB ShellmongosShard,mongo40000\n/usr/local/mongoDB/bin/mongo admin --port 40000\n\n\ndb.runCommand({ addshard:\"localhost:27020\" })\ndb.runCommand({ addshard:\"localhost:27021\" })\ndb.runCommand({ addshard:\"localhost:27022\" })\ndb.runCommand({ addshard:\"localhost:27023\" })\ndb.runCommand({ enablesharding:\"test\" })\ndb.runCommand({ shardcollection: \"users\", key: { id:1,time:1}})\n-- \nsh.addShard(\"localhost:27020\");\nsh.addShard(\"localhost:27021\");\nsh.addShard(\"localhost:27022\");\nsh.addShard(\"localhost:27023\");\nsh.enableSharding(\"test\");\n-- sh.shardCollection(\"<database>.<collection>\", shard-key-pattern) collectionkey\nsh.shardCollection(\"test.users\",{\"name\":1,\"_id\":1});\n\n-- 5. ,\n    use test\n\n    for(var i=0;i<=100000;i++) {\n        db.users.insert({name:\"lucy\"+i,age:i});\n    }\n\n-- 6. \nsh.status()\n\n```\n\n\n\n### \n1. \nmongod --auth --dbpath /usr/mongo/data -f /var/mongo.log\n--authmongod\n`/etc/mongodb.conf``auth=true`mongod\n2. \n\n```\n-- \ndb.createUser({  \n    \"user\": \"chrisaiv\",\n    \"pwd\": \"password\",\n    \"roles\": [\n        { role: \"clusterAdmin\", db: \"admin\" },\n        { role: \"readAnyDatabase\", db: \"admin\" },\n        \"readWrite\"\n        ]\n    },\n    { w: \"majority\", wtimeout: 5000 }\n)\n\n: `db.auth(\"admin\", \"123456\")`\n\n\n```\n3. \n`db.runCommand({fsync:1,lock:1})`\n\n\n4. \n`db.currentOp()`\n\n5. \n`use local\ndb.$cmd.sys.unlock.findOne()`\n\n\n`db.currentOp()`\n\n\n###  \n```sql\n\nmongodump -h dbhost -d dbname -c collection -o dbdirectory\nmongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory\n\n-- \nmkdir testbak\nmongodump \n-- \nmongodump -d pagedb\n-- \nmongodump -d pagedb -c page\n-- \ncd testbak\nmongorestore --drop\n-- \ncd testbak\nmongorestore -d pagedb --drop\n\n-- \nmongorestore -d pagedb -c page --drop\n-- MongoDB\nmongoimport -d pagedb -c page --type csv --headerline --drop < csvORtsvFile.csv\n-- csvORtsvFile.csvpagedbpagecvstsv\n-- `--headerline`csvtsv\n-- typecsvtsvjson\n\n\n\n### MongoDB \n```sql\nmongostat \nmongotop\nmongotop 10   -- \nmongotop --locks  -- \n```\n### MongoDB \nMongoDB  SQL  MongoDB  _id 12`db.createCollection(\"counters\")`,`db.counters.insert({_id:\"productid\",sequence_value:0})` \n\n```javascript\nfunction getNextSequenceValue(sequenceName){\n   var sequenceDocument = db.counters.findAndModify(\n      {\n         query:{_id: sequenceName },\n         update: {$inc:{sequence_value:1}},\n         new:true\n      });\n   return sequenceDocument.sequence_value;\n}\n```\n\n```sql\n    db.products.insert({\n       \"_id\":getNextSequenceValue(\"productid\"),\n       \"product_name\":\"Apple iPhone\",\n       \"category\":\"mobiles\"\n    })\n\n    db.products.insert({\n   \"_id\":getNextSequenceValue(\"productid\"),\n   \"product_name\":\"Samsung S3\",\n   \"category\":\"mobiles\"})\n\n   db.products.find()\n```\n### ObjectId\n> 4\n> 3\n> idPID\n> \n```sql\n    newObjectId = ObjectId()\n    myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")\n    ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()\n\n    new ObjectId().str\n```\n\n### GridFS \nGridFS 16MBSON()\nGridFS MonoDB\nGridFS 16M\nGridFS chunk(),256k/,chunkMongoDB(document)chunks\nGridFS `fs.files``fs.chunks`\n```sql\n --fs.files\n{\n   \"filename\": \"test.txt\",\n   \"chunkSize\": NumberInt(261120),\n   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),\n   \"md5\": \"7b762939321e146569b07f72c62cca4f\",\n   \"length\": NumberInt(646)\n}\n\n-- fs.chunks\n{\n   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),\n   \"n\": NumberInt(0),\n   \"data\": \"Mongo Binary Data\"\n}\n\n-- \nmongofiles.exe -d gridfs put song.mp3\ndb.fs.files.find()\n\n--_id (chunk)\ndb.fs.chunks.find({files_id:ObjectId('534a811bf8b4aa4d33fdf94d')})\n\n```\n\n- [](https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/)\n","slug":"MangoDB-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcoptx001ocwnn1b179cj1","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir /data/db</span><br><span class=\"line\">touch /var/logs/mongodb/mongodb.logs</span><br><span class=\"line\">cd mongdb/bin &amp;&amp; vim mongodb.conf</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"mongodb-conf\"><a href=\"#mongodb-conf\" class=\"headerlink\" title=\"mongodb.conf\"></a>mongodb.conf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=/data/db</span><br><span class=\"line\">logpath=/var/logs/mongodb</span><br><span class=\"line\">port=27017</span><br><span class=\"line\">#fork=true</span><br><span class=\"line\">#nohttpinterface=true</span><br></pre></td></tr></table></figure>\n<p>####mongodbIP</p>\n<p><code>/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf</code><br> <code>/usr/local/mongodb/bin/mongod --help</code>   -fconfig bind_ip ip<br><code>/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/etc/rc.d/rc.local</code> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/usr/local/mongodb/bin/mongo</code> JavaScript <code>show dbs</code> <code>db.version()</code> </p>\n<h5 id=\"mongodb\"><a href=\"#mongodb\" class=\"headerlink\" title=\"mongodb\"></a>mongodb</h5><p>ps -ef | grep mongod  //<br>cat /proc/24283/limits //</p>\n<h3 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h3><p><a href=\"https://pecl.php.net/package/mongodb\" target=\"_blank\" rel=\"external\"></a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd mongodb-1.1.9</span><br><span class=\"line\">/usr/php/bin/phpize</span><br><span class=\"line\">./configure --with-php-config=/usr/askphp/bin/php-config </span><br><span class=\"line\">make;make install</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;createCollection(<span class=\"string\">\"my_col\"</span>);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$document = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"title\"</span> =&gt; <span class=\"string\">\"MongoDB\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"description\"</span> =&gt; <span class=\"string\">\"database\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"likes\"</span> =&gt; <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"string\">\"url\"</span> =&gt; <span class=\"string\">\"http://www.baidu.com\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"by\"</span>=&gt;<span class=\"string\">\"change.net\"</span></span><br><span class=\"line\">            );</span><br><span class=\"line\">$ret_ins  = $collection-&gt;insert($document);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;update(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>), <span class=\"keyword\">array</span>(<span class=\"string\">'$set'</span>=&gt;<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>)));</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;remove(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>),  <span class=\"keyword\">array</span>(<span class=\"string\">\"justOne\"</span> =&gt; <span class=\"keyword\">true</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Start-Mongod-amp-amp-Command\"><a href=\"#Start-Mongod-amp-amp-Command\" class=\"headerlink\" title=\"Start Mongod &amp;&amp; Command\"></a>Start Mongod &amp;&amp; Command</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongod</span><br><span class=\"line\">ps aux | grep mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Start the Mongo Shell</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"><span class=\"keyword\">show</span> dbs</span><br><span class=\"line\"><span class=\"keyword\">use</span> meals-development</span><br><span class=\"line\"><span class=\"keyword\">show</span> collections</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">users</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">roles</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> profile</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">databases</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.auth()</span><br><span class=\"line\">db.help()</span><br><span class=\"line\"><span class=\"comment\">-- collection  </span></span><br><span class=\"line\">db.collection.help()</span><br><span class=\"line\">db.collection.find().help()</span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.findOne()</span><br><span class=\"line\">db.collection.find().toArray()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.insert()</span><br><span class=\"line\">db.collection.update()</span><br><span class=\"line\">db.collection.save()</span><br><span class=\"line\">db.collection.remove()</span><br><span class=\"line\">db.collection.drop()</span><br><span class=\"line\">db.collection.createIndex()</span><br><span class=\"line\">db.getSiblingDB()</span><br></pre></td></tr></table></figure>\n<h4 id=\"Data-Types-\"><a href=\"#Data-Types-\" class=\"headerlink\" title=\"Data Types \"></a>Data Types </h4><p><a href=\"https://docs.mongodb.com/v3.2/core/shell-types/#types\" target=\"_blank\" rel=\"external\"></a></p>\n<h5 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a>Date</h5><ul>\n<li>Date() method which returns the current date as a string.</li>\n<li>new Date() constructor which returns a Date object using the ISODate() wrapper.</li>\n<li>ISODate() constructor which returns a Date object using the ISODate() wrapper.</li>\n</ul>\n<h5 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h5><p>new ObjectId</p>\n<h5 id=\"NumberLong-amp-amp-NumberInt\"><a href=\"#NumberLong-amp-amp-NumberInt\" class=\"headerlink\" title=\"NumberLong &amp;&amp;  NumberInt\"></a>NumberLong &amp;&amp;  NumberInt</h5><p>NumberLong(2090845886852)demo</p>\n<blockquote>\n<p>db.collection.insert( { _id: 10, calc: NumberLong(2090845886852) } )<br>db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(2555555000000)}})</p>\n<p>db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )</p>\n</blockquote>\n<h4 id=\"Check-Types\"><a href=\"#Check-Types\" class=\"headerlink\" title=\"Check Types\"></a>Check Types</h4><ul>\n<li>instanceof  mydoc._id instanceof ObjectId</li>\n<li>typeof  typeof mydoc._id</li>\n</ul>\n<h4 id=\"SQL-amp-amp-MongoDB-Mapping-Chart\"><a href=\"#SQL-amp-amp-MongoDB-Mapping-Chart\" class=\"headerlink\" title=\"SQL &amp;&amp;  MongoDB Mapping Chart\"></a>SQL &amp;&amp;  MongoDB Mapping Chart</h4><p><a href=\"https://gist.github.com/aponxi/4380516\" target=\"_blank\" rel=\"external\">sqlnosql</a></p>\n<h5 id=\"Executables\"><a href=\"#Executables\" class=\"headerlink\" title=\"Executables\"></a>Executables</h5><table>\n<thead>\n<tr>\n<th></th>\n<th>MySQL/Oracle</th>\n<th>MongoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Database Server</td>\n<td>mysqld/oracle</td>\n<td>mongod</td>\n</tr>\n<tr>\n<td>Database Client</td>\n<td>mysql/sqlplus</td>\n<td>mongo</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"Terminology-and-Concepts\"><a href=\"#Terminology-and-Concepts\" class=\"headerlink\" title=\"Terminology and Concepts\"></a>Terminology and Concepts</h5><table>\n<thead>\n<tr>\n<th>SQL Terms/Concepts</th>\n<th>MongoDB Terms/Concepts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>database</td>\n<td>database</td>\n</tr>\n<tr>\n<td>table</td>\n<td>collection</td>\n</tr>\n<tr>\n<td>row</td>\n<td>document or BSON document</td>\n</tr>\n<tr>\n<td>column</td>\n<td>field</td>\n</tr>\n<tr>\n<td>index</td>\n<td>index</td>\n</tr>\n<tr>\n<td>table joins</td>\n<td>embedded documents and linking</td>\n</tr>\n<tr>\n<td>primary key,Specify any unique column or column combination as primary key.</td>\n<td>primary key,In MongoDB, the primary key is automatically set to the _id field.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"Create-and-Alter-and-CURD\"><a href=\"#Create-and-Alter-and-CURD\" class=\"headerlink\" title=\"Create and Alter and CURD\"></a>Create and Alter and CURD</h4><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.insert( &#123;</span><br><span class=\"line\">    user_id: \"abc123\",</span><br><span class=\"line\">    age: 55,</span><br><span class=\"line\">    status: \"A\"</span><br><span class=\"line\"> &#125; )</span><br><span class=\"line\"> </span><br><span class=\"line\"> -- However, you can also explicitly create a collection:</span><br><span class=\"line\"> db.createCollection(\"users\")</span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1, age: -1 &#125; )</span><br><span class=\"line\"> db.users.drop()</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.find()</span><br><span class=\"line\"> db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; status: \"A\" &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25, $lte: 50 &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; user_id: /^bc/ &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).sort( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count()</span><br><span class=\"line\">db.users.find().count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; user_id: &#123; $exists: true &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; user_id: &#123; $exists: true &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; age: &#123; $gt: 30 &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; age: &#123; $gt: 30 &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.distinct( \"status\" )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.findOne()</span><br><span class=\"line\">db.users.find().limit(1)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find().limit(5).skip(10)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).explain()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25 &#125; &#125;,</span><br><span class=\"line\">   &#123; $set: &#123; status: \"C\" &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; status: \"A\" &#125; ,</span><br><span class=\"line\">   &#123; $inc: &#123; age: 3 &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.users.remove( &#123; status: \"D\" &#125; )</span><br><span class=\"line\">db.users.remove( )</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"INSERTING-DATA\"><a href=\"#INSERTING-DATA\" class=\"headerlink\" title=\"INSERTING DATA\"></a>INSERTING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"chris\",</span><br><span class=\"line\">    last_name:  \"aiv\" </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">--Append a lot of data into a customer</span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Peter\",</span><br><span class=\"line\">    age: 32,</span><br><span class=\"line\">    address: &#123;</span><br><span class=\"line\">        street: \"120 Main St\",</span><br><span class=\"line\">        city: \"Chicago\",</span><br><span class=\"line\">        state: \"Illinois\",</span><br><span class=\"line\">        zip: \"38475\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    phone: &#123;</span><br><span class=\"line\">        home: \"5555555555\",</span><br><span class=\"line\">        work: \"4444444444\",</span><br><span class=\"line\">        mobile: \"3333333333\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    services: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"time warner\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"pge\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"moviepass\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    services_count: 3</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- Append data to a customer</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\",</span><br><span class=\"line\">    gender: \"m\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Insert multiple customers in one query</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert([  </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Hendrix\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Page\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Kurt\",</span><br><span class=\"line\">    last_name:  \"Cobain\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Adrian\",</span><br><span class=\"line\">    last_name:  \"Belew\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h5 id=\"FINDING-DATA\"><a href=\"#FINDING-DATA\" class=\"headerlink\" title=\"FINDING DATA\"></a>FINDING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; services: 1&#125;)  </span><br><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; \"services.service_id\": 1&#125;)  </span><br><span class=\"line\">db.customers.findOne(  </span><br><span class=\"line\">    &#123; first_name: /^billy$/i &#125;,</span><br><span class=\"line\">    &#123; first_name: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: \"male\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: /(m|male)/i, first_name: /^billy$/i </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"UPDATING-DATA\"><a href=\"#UPDATING-DATA\" class=\"headerlink\" title=\"UPDATING DATA\"></a>UPDATING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; last_name:  \"Hendrix\"&#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Gentel Update </span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: /^hendrix$/i &#125;,</span><br><span class=\"line\">    &#123; $set: &#123; first_name: \"Jimmy\" &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Increment a value in a field</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Billy\" &#125;,</span><br><span class=\"line\">    &#123; $inc: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Update or Insert a field using an object ID</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; _id: ObjectId(\"581fef808e5fac221dea48ef\") &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $set: &#123;</span><br><span class=\"line\">            first_name:\"Lucy\",</span><br><span class=\"line\">            gender: \"m\",</span><br><span class=\"line\">            age: 40,</span><br><span class=\"line\">            birthdate: new Date(\"2016-11-02\")</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Update a field using someones first name</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $set: &#123;</span><br><span class=\"line\">            gender: \"male\",</span><br><span class=\"line\">            age: 50,</span><br><span class=\"line\">            birthdate: new Date(\"Aug 20, 1985\")</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; upsert: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Add to an existing document</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; $push: &#123;</span><br><span class=\"line\">        services: &#123;</span><br><span class=\"line\">            service_id: 'hosting windows',</span><br><span class=\"line\">            service_name: \"windows hosting\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- ,truefalse</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:2&#125;&#125;,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Jimmy\"&#125;,&#123;$inc:&#123;age:3&#125;&#125;,false,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Kurt\"&#125;,&#123;$inc:&#123;age:-2&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"REMOVING-DATA\"><a href=\"#REMOVING-DATA\" class=\"headerlink\" title=\"REMOVING DATA\"></a>REMOVING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--Remove a field</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: \"Page\" &#125;,</span><br><span class=\"line\">    &#123; </span><br><span class=\"line\">        $unset: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:1&#125;&#125;)</span><br><span class=\"line\">--Remove a customer</span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    //!!! DO NOT US THIS</span><br><span class=\"line\">    &#123; first_name: \"Billy\"&#125;, true </span><br><span class=\"line\">)</span><br><span class=\"line\">-- Remove any customer above the age of 31</span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    &#123; age: &#123; $gt: 31 &#125; &#125;</span><br><span class=\"line\">    , true</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h5 id=\"DELETING-DATA\"><a href=\"#DELETING-DATA\" class=\"headerlink\" title=\"DELETING DATA\"></a>DELETING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- Delete a collection</span></span><br><span class=\"line\">db.customers.drop()</span><br></pre></td></tr></table></figure>\n<h5 id=\"SEARCHING-DATA\"><a href=\"#SEARCHING-DATA\" class=\"headerlink\" title=\"SEARCHING DATA\"></a>SEARCHING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  _id: 1,</span><br><span class=\"line\">  name: &#123; first: 'John', last: 'Backus' &#125;,</span><br><span class=\"line\">  birth: new Date('Dec 03, 1924'),</span><br><span class=\"line\">  death: new Date('Mar 17, 2007'),</span><br><span class=\"line\">  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],</span><br><span class=\"line\">  awards: [</span><br><span class=\"line\">            &#123; award: 'National Medal',</span><br><span class=\"line\">              year: 1975,</span><br><span class=\"line\">              by: 'NSF' &#125;,</span><br><span class=\"line\">            &#123; award: 'Turing Award',</span><br><span class=\"line\">              year: 1977,</span><br><span class=\"line\">              by: 'ACM' &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.users.find(&#123;awards: &#123;$elemMatch: &#123;award:'National Medal', year:1975&#125;&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">--  $gt,gte,$lt,$lte,$ne</span><br><span class=\"line\">db.col.find(&#123;\"by\":\"\"&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$lt:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$ne:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.users.find(&#123;\"likes\" : &#123;$gt : 100&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- and or </span><br><span class=\"line\">db.customers.find(&#123;$or: [&#123;key1: value1&#125;, &#123;key2:value2&#125;]&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\": &#123;$gt:50&#125;, $or: [&#123;\"by\": \"\"&#125;,&#123;\"title\": \"MongoDB \"&#125;]&#125;).pretty()</span><br><span class=\"line\">//js</span><br><span class=\"line\">db.customers.find(&#123;$where:function()&#123; return this.first_name==\"jack\"&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\"&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;name:/yaolan.com/&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\",$options:\"$i\"&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>db.collections.help() </li>\n<li>db.collection.find().help();</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.distinct(\"first_name\");</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$gt:1&#125;&#125;);</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$in:[8,90]&#125;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find().limit(2).skip(1)</span><br><span class=\"line\">-- value1  -1 </span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:1&#125;);</span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:-1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">--  </span><br><span class=\"line\">-- key </span><br><span class=\"line\">-- initial:</span><br><span class=\"line\">-- reduce </span><br><span class=\"line\">-- condition: </span><br><span class=\"line\">-- finalize: count</span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;customers:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; prev.customers.push(curr.first_name) &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(curr.first_name); </span><br><span class=\"line\">        prev.obj.push(curr.last_name);</span><br><span class=\"line\">        prev.obj.push(&#123;address:\"abc\"&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(JSON.stringify(curr)); </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    condition:&#123;age:&#123;$gt:7&#125;&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.list = JSON.stringify(curr);   </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    finalize:function(prev)&#123;</span><br><span class=\"line\">        prev.count =  prev.obj.length;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"aggregate-\"><a href=\"#aggregate-\" class=\"headerlink\" title=\"aggregate \"></a>aggregate </h5><p>agesumvalue, sql <code>select by_user, count(*) from mycol group by by_user</code>by_userby_user</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id : \"$by_user\", num_tutorial : &#123;$sum : 1&#125;&#125;&#125;])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$sum:2&#125;&#125;&#125;])</span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$avg:1&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>UnixLinux</p>\n<blockquote>\n<ul>\n<li>$project</li>\n<li>$match<code>$match</code>MongoDB</li>\n<li>$limitMongoDB</li>\n<li>$skip</li>\n<li>$unwind</li>\n<li>$group</li>\n<li>$sort</li>\n<li>$geoNear</li>\n</ul>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">    &#123; $project : &#123;</span><br><span class=\"line\">        title : 1 ,</span><br><span class=\"line\">        author : 1 ,</span><br><span class=\"line\">    &#125;&#125;</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate(&#123;$project:&#123;first_name:1,age:1&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">&#123; $project : &#123;</span><br><span class=\"line\">    _id : 0 ,</span><br><span class=\"line\">    title : 1 ,</span><br><span class=\"line\">    author : 1</span><br><span class=\"line\">&#125;&#125;);</span><br><span class=\"line\">-- $match7090$group</span><br><span class=\"line\">db.articles.aggregate( [</span><br><span class=\"line\">    &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;,</span><br><span class=\"line\">    &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125;</span><br><span class=\"line\">   ] );</span><br><span class=\"line\"></span><br><span class=\"line\">-- $skip\"\"</span><br><span class=\"line\">db.article.aggregate(&#123; $skip : 5 &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"mapReduce\"><a href=\"#mapReduce\" class=\"headerlink\" title=\"mapReduce\"></a>mapReduce</h3><p>Map-ReduceMAPREDUCE</p>\n<blockquote>\n<p>map  (, reduce )<br>reduce reducekey-valueskey-valuevaluesvalue<br>out  (,)<br>query mapquerylimitsort<br>sort limitsortmap<br>limit maplimitsort</p>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.mapReduce(</span><br><span class=\"line\">   function() &#123;emit(key,value);&#125;,  //map </span><br><span class=\"line\">   function(key,values) &#123;return reduceFunction&#125;,   //reduce </span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      out: collection,</span><br><span class=\"line\">      query: document,</span><br><span class=\"line\">      sort: document,</span><br><span class=\"line\">      limit: number</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- demo</span><br><span class=\"line\">db.posts.mapReduce( </span><br><span class=\"line\">   function() &#123; emit(this.user_name,1); &#125;, </span><br><span class=\"line\">   function(key, values) &#123;return Array.sum(values)&#125;, </span><br><span class=\"line\">      &#123;  </span><br><span class=\"line\">         query:&#123;status:\"active\"&#125;,  </span><br><span class=\"line\">         out:\"post_total\" </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>resultcustomers,fornext()<br>var result = db.customers.find().limit(2).skip(1)<br>var result = db.customers.find();<br>result.forEach(function(curr){<br>    print(curr.first_name);<br>});</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;age:7&#125;).explain();</span><br><span class=\"line\">-- hint </span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;)</span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;).explain();</span><br><span class=\"line\"></span><br><span class=\"line\">--  (`ensureIndex`  `createIndex` )</span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1,&quot;age&quot;:-1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.getIndexes();</span><br><span class=\"line\">--</span><br><span class=\"line\">db.customers.dropIndex(&quot;first_name_1&quot;) </span><br><span class=\"line\">db.customers.dropIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.dropIndexes();</span><br></pre></td></tr></table></figure>\n<h3 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h3><p>mongod help</p>\n<h4 id=\"replica-\"><a href=\"#replica-\" class=\"headerlink\" title=\"replica \"></a>replica </h4><p><code>OpLog</code>,<code>sync_pullOpLog</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--  27017</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\datamaster --master</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017</span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:\"tom\",age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:\"lucy\",age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br></pre></td></tr></table></figure></p>\n<p> <code>error: { &quot;$err&quot; : &quot;not master and slaveok=false&quot;, &quot;code&quot; : 13435 }</code> <code>rs.slaveok()</code>,</p>\n<h4 id=\"---replSet\"><a href=\"#---replSet\" class=\"headerlink\" title=\"() replSet\"></a>() replSet</h4><ol>\n<li></li>\n<li><blockquote>\n<p>N (3)<br><br><br><br></p>\n</blockquote>\n</li>\n</ol>\n<p><img src=\"/images/replica.jpg\" alt=\"replica\"></p>\n<p>MongoDBMongoDB <br>MongoDB<br><code>mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0</code><br>rs0MongoDB27017<br>mongoDB<br>Mongo<code>rs.initiate()</code><br><code>rs.conf()</code><br> <code>rs.status()</code> </p>\n<p>,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset</span><br><span class=\"line\">-- `mongo` replset </span><br><span class=\"line\"></span><br><span class=\"line\">rs.initiate(&#123;</span><br><span class=\"line\">    _id:&quot;replset&quot;,</span><br><span class=\"line\">    members:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:0,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27017&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:1,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27018&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:2,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27019&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;tom&quot;,age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;lucy&quot;,age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br><span class=\"line\">-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.addArb() </span><br><span class=\"line\">mongod --dbpath=xxxx --port=27020 --replSet replset</span><br><span class=\"line\">rs.addArb(&quot;192.168.1.2:27020&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.add </span><br><span class=\"line\">rs.add(&quot;192.168.1.2:27021&quot;)</span><br></pre></td></tr></table></figure></p>\n<p> <code>rs.status()</code> Mongo<code>db.isMaster()</code>,MongoDB</p>\n<h3 id=\"Shard\"><a href=\"#Shard\" class=\"headerlink\" title=\"Shard\"></a>Shard</h3><p>Mongodb(cluster),MongoDB</p>\n<blockquote>\n<p><br><br>12<br><br><br></p>\n</blockquote>\n<p><img src=\"/images/mongo-cluster.jpg\" alt=\"MongoDB Cluster\"></p>\n<blockquote>\n<ul>\n<li>Shard:shard serverreplica set</li>\n<li>Config Server:mongod ClusterMetadata chunk</li>\n<li>Query Routers: </li>\n</ul>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">Shard Server 127020</span><br><span class=\"line\">Shard Server 227021</span><br><span class=\"line\">Shard Server 327022</span><br><span class=\"line\">Shard Server 427023</span><br><span class=\"line\">Config Server 27100</span><br><span class=\"line\">Route Process40000</span><br><span class=\"line\"></span><br><span class=\"line\">-- 1. Shard Server</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s0</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s1</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s2</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s3</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/log</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 2. Config Server,config server  `--configsvr` </span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/config</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 3. Route ProcessmongoschunkSizechunkMB200MB.</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200</span><br><span class=\"line\"></span><br><span class=\"line\">-- 4. Sharding,MongoDB ShellmongosShard,mongo40000</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongo admin --port 40000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27020&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27021&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27022&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27023&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; enablesharding:&quot;test&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; shardcollection: &quot;users&quot;, key: &#123; id:1,time:1&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">sh.addShard(&quot;localhost:27020&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27021&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27022&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27023&quot;);</span><br><span class=\"line\">sh.enableSharding(&quot;test&quot;);</span><br><span class=\"line\">-- sh.shardCollection(&quot;&lt;database&gt;.&lt;collection&gt;&quot;, shard-key-pattern) collectionkey</span><br><span class=\"line\">sh.shardCollection(&quot;test.users&quot;,&#123;&quot;name&quot;:1,&quot;_id&quot;:1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- 5. ,</span><br><span class=\"line\">    use test</span><br><span class=\"line\"></span><br><span class=\"line\">    for(var i=0;i&lt;=100000;i++) &#123;</span><br><span class=\"line\">        db.users.insert(&#123;name:&quot;lucy&quot;+i,age:i&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 6. </span><br><span class=\"line\">sh.status()</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br>mongod auth dbpath /usr/mongo/data -f /var/mongo.log<br>authmongod<br><code>/etc/mongodb.conf</code><code>auth=true</code>mongod</li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.createUser(&#123;  </span><br><span class=\"line\">    &quot;user&quot;: &quot;chrisaiv&quot;,</span><br><span class=\"line\">    &quot;pwd&quot;: &quot;password&quot;,</span><br><span class=\"line\">    &quot;roles&quot;: [</span><br><span class=\"line\">        &#123; role: &quot;clusterAdmin&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &#123; role: &quot;readAnyDatabase&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &quot;readWrite&quot;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; w: &quot;majority&quot;, wtimeout: 5000 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">: `db.auth(&quot;admin&quot;, &quot;123456&quot;)`</span><br></pre></td></tr></table></figure>\n<ol>\n<li><p><br><code>db.runCommand({fsync:1,lock:1})</code><br></p>\n</li>\n<li><p><br><code>db.currentOp()</code></p>\n</li>\n<li><p><br><code>use local\ndb.$cmd.sys.unlock.findOne()</code><br><br><br><code>db.currentOp()</code></p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongodump -h dbhost -d dbname -c collection -o dbdirectory</span><br><span class=\"line\">mongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mkdir testbak</span><br><span class=\"line\">mongodump </span><br><span class=\"line\">-- </span><br><span class=\"line\">mongodump -d pagedb</span><br><span class=\"line\">-- </span><br><span class=\"line\">mongodump -d pagedb -c page</span><br><span class=\"line\">-- </span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore --drop</span><br><span class=\"line\">-- </span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore -d pagedb --drop</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongorestore -d pagedb -c page --drop</span><br><span class=\"line\">-- MongoDB</span><br><span class=\"line\">mongoimport -d pagedb -c page --type csv --headerline --drop &lt; csvORtsvFile.csv</span><br><span class=\"line\">-- csvORtsvFile.csvpagedbpagecvstsv</span><br><span class=\"line\">-- `--headerline`csvtsv</span><br><span class=\"line\">-- typecsvtsvjson</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### MongoDB </span><br><span class=\"line\">```sql</span><br><span class=\"line\">mongostat </span><br><span class=\"line\">mongotop</span><br><span class=\"line\">mongotop 10   -- </span><br><span class=\"line\">mongotop --locks  -- </span><br></pre></td></tr></table></figure>\n<h3 id=\"MongoDB-\"><a href=\"#MongoDB-\" class=\"headerlink\" title=\"MongoDB \"></a>MongoDB </h3><p>MongoDB  SQL  MongoDB  _id 12<code>db.createCollection(&quot;counters&quot;)</code>,<code>db.counters.insert({_id:&quot;productid&quot;,sequence_value:0})</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNextSequenceValue</span>(<span class=\"params\">sequenceName</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> sequenceDocument = db.counters.findAndModify(</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         query:&#123;_id: sequenceName &#125;,</span><br><span class=\"line\">         update: &#123;$inc:&#123;sequence_value:<span class=\"number\">1</span>&#125;&#125;,</span><br><span class=\"line\">         <span class=\"keyword\">new</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> sequenceDocument.sequence_value;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">    \"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">    \"product_name\":\"Apple iPhone\",</span><br><span class=\"line\">    \"category\":\"mobiles\"</span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">\"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">\"product_name\":\"Samsung S3\",</span><br><span class=\"line\">\"category\":\"mobiles\"&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.products.find()</span><br></pre></td></tr></table></figure>\n<h3 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h3><blockquote>\n<p>4<br>3<br>idPID<br><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">newObjectId = ObjectId()</span><br><span class=\"line\">myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")</span><br><span class=\"line\">ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()</span><br><span class=\"line\"></span><br><span class=\"line\">new ObjectId().str</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"GridFS\"><a href=\"#GridFS\" class=\"headerlink\" title=\"GridFS\"></a>GridFS</h3><p>GridFS 16MBSON()<br>GridFS MonoDB<br>GridFS 16M<br>GridFS chunk(),256k/,chunkMongoDB(document)chunks<br>GridFS <code>fs.files</code><code>fs.chunks</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> --fs.files</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"filename\": \"test.txt\",</span><br><span class=\"line\">   \"chunkSize\": NumberInt(261120),</span><br><span class=\"line\">   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),</span><br><span class=\"line\">   \"md5\": \"7b762939321e146569b07f72c62cca4f\",</span><br><span class=\"line\">   \"length\": NumberInt(646)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- fs.chunks</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),</span><br><span class=\"line\">   \"n\": NumberInt(0),</span><br><span class=\"line\">   \"data\": \"Mongo Binary Data\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongofiles.exe -d gridfs put song.mp3</span><br><span class=\"line\">db.fs.files.find()</span><br><span class=\"line\"></span><br><span class=\"line\">--_id (chunk)</span><br><span class=\"line\">db.fs.chunks.find(&#123;files_id:ObjectId('534a811bf8b4aa4d33fdf94d')&#125;)</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><a href=\"https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/\" target=\"_blank\" rel=\"external\"></a></li>\n</ul>\n","excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">tar zxvf mongodb-linux-x86_64-rhel62-3.2.10.tgz</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 /usr/local/</span><br><span class=\"line\">mv mongodb-linux-x86_64-rhel62-3.2.10 mongodb</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir /data/db</span><br><span class=\"line\">touch /var/logs/mongodb/mongodb.logs</span><br><span class=\"line\">cd mongdb/bin &amp;&amp; vim mongodb.conf</span><br></pre></td></tr></table></figure>","more":"<h4 id=\"mongodb-conf\"><a href=\"#mongodb-conf\" class=\"headerlink\" title=\"mongodb.conf\"></a>mongodb.conf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dbpath=/data/db</span><br><span class=\"line\">logpath=/var/logs/mongodb</span><br><span class=\"line\">port=27017</span><br><span class=\"line\">#fork=true</span><br><span class=\"line\">#nohttpinterface=true</span><br></pre></td></tr></table></figure>\n<p>####mongodbIP</p>\n<p><code>/usr/local/mongodb/bin/mongod --bind_ip localhost -f /usr/local/mongodb/mongodb.conf</code><br> <code>/usr/local/mongodb/bin/mongod --help</code>   -fconfig bind_ip ip<br><code>/usr/local/mongodb/bin/mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/etc/rc.d/rc.local</code> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <code>mongod --config /usr/local/mongodb/mongodb.conf</code>  <code>/usr/local/mongodb/bin/mongo</code> JavaScript <code>show dbs</code> <code>db.version()</code> </p>\n<h5 id=\"mongodb\"><a href=\"#mongodb\" class=\"headerlink\" title=\"mongodb\"></a>mongodb</h5><p>ps -ef | grep mongod  //<br>cat /proc/24283/limits //</p>\n<h3 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h3><p><a href=\"https://pecl.php.net/package/mongodb\"></a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd mongodb-1.1.9</span><br><span class=\"line\">/usr/php/bin/phpize</span><br><span class=\"line\">./configure --with-php-config=/usr/askphp/bin/php-config </span><br><span class=\"line\">make;make install</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"PHP\"><a href=\"#PHP\" class=\"headerlink\" title=\"PHP\"></a>PHP</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;createCollection(<span class=\"string\">\"my_col\"</span>);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$document = <span class=\"keyword\">array</span>(</span><br><span class=\"line\">            <span class=\"string\">\"title\"</span> =&gt; <span class=\"string\">\"MongoDB\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"description\"</span> =&gt; <span class=\"string\">\"database\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"likes\"</span> =&gt; <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"string\">\"url\"</span> =&gt; <span class=\"string\">\"http://www.baidu.com\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"by\"</span>=&gt;<span class=\"string\">\"change.net\"</span></span><br><span class=\"line\">            );</span><br><span class=\"line\">$ret_ins  = $collection-&gt;insert($document);</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;update(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>), <span class=\"keyword\">array</span>(<span class=\"string\">'$set'</span>=&gt;<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>)));</span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$m = <span class=\"keyword\">new</span> \\MongoClient();</span><br><span class=\"line\">$db = $m-&gt;selectDB(<span class=\"string\">\"test\"</span>);</span><br><span class=\"line\">$collection = $db-&gt;my_col;</span><br><span class=\"line\">$collection-&gt;remove(<span class=\"keyword\">array</span>(<span class=\"string\">\"title\"</span>=&gt;<span class=\"string\">\"MongoDB\"</span>),  <span class=\"keyword\">array</span>(<span class=\"string\">\"justOne\"</span> =&gt; <span class=\"keyword\">true</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">$cursor = $collection-&gt;find();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> ($cursor <span class=\"keyword\">as</span> $document) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">echo</span> $document[<span class=\"string\">\"title\"</span>] . <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Start-Mongod-amp-amp-Command\"><a href=\"#Start-Mongod-amp-amp-Command\" class=\"headerlink\" title=\"Start Mongod &amp;&amp; Command\"></a>Start Mongod &amp;&amp; Command</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongod</span><br><span class=\"line\">ps aux | grep mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- Start the Mongo Shell</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"><span class=\"keyword\">show</span> dbs</span><br><span class=\"line\"><span class=\"keyword\">use</span> meals-development</span><br><span class=\"line\"><span class=\"keyword\">show</span> collections</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">users</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">roles</span></span><br><span class=\"line\"><span class=\"keyword\">show</span> profile</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">databases</span></span><br><span class=\"line\"></span><br><span class=\"line\">db.auth()</span><br><span class=\"line\">db.help()</span><br><span class=\"line\"><span class=\"comment\">-- collection  </span></span><br><span class=\"line\">db.collection.help()</span><br><span class=\"line\">db.collection.find().help()</span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.findOne()</span><br><span class=\"line\">db.collection.find().toArray()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.collection.insert()</span><br><span class=\"line\">db.collection.update()</span><br><span class=\"line\">db.collection.save()</span><br><span class=\"line\">db.collection.remove()</span><br><span class=\"line\">db.collection.drop()</span><br><span class=\"line\">db.collection.createIndex()</span><br><span class=\"line\">db.getSiblingDB()</span><br></pre></td></tr></table></figure>\n<h4 id=\"Data-Types-\"><a href=\"#Data-Types-\" class=\"headerlink\" title=\"Data Types \"></a>Data Types </h4><p><a href=\"https://docs.mongodb.com/v3.2/core/shell-types/#types\"></a></p>\n<h5 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a>Date</h5><ul>\n<li>Date() method which returns the current date as a string.</li>\n<li>new Date() constructor which returns a Date object using the ISODate() wrapper.</li>\n<li>ISODate() constructor which returns a Date object using the ISODate() wrapper.</li>\n</ul>\n<h5 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h5><p>new ObjectId</p>\n<h5 id=\"NumberLong-amp-amp-NumberInt\"><a href=\"#NumberLong-amp-amp-NumberInt\" class=\"headerlink\" title=\"NumberLong &amp;&amp;  NumberInt\"></a>NumberLong &amp;&amp;  NumberInt</h5><p>NumberLong(2090845886852)demo</p>\n<blockquote>\n<p>db.collection.insert( { _id: 10, calc: NumberLong(2090845886852) } )<br>db.collection.update( { _id: 10 },{$set:{ calc: NumberLong(2555555000000)}})</p>\n<p>db.collection.update( { _id: 10 },{$inc:{ calc: NumberLong(5) } } )</p>\n</blockquote>\n<h4 id=\"Check-Types\"><a href=\"#Check-Types\" class=\"headerlink\" title=\"Check Types\"></a>Check Types</h4><ul>\n<li>instanceof  mydoc._id instanceof ObjectId</li>\n<li>typeof  typeof mydoc._id</li>\n</ul>\n<h4 id=\"SQL-amp-amp-MongoDB-Mapping-Chart\"><a href=\"#SQL-amp-amp-MongoDB-Mapping-Chart\" class=\"headerlink\" title=\"SQL &amp;&amp;  MongoDB Mapping Chart\"></a>SQL &amp;&amp;  MongoDB Mapping Chart</h4><p><a href=\"https://gist.github.com/aponxi/4380516\">sqlnosql</a></p>\n<h5 id=\"Executables\"><a href=\"#Executables\" class=\"headerlink\" title=\"Executables\"></a>Executables</h5><table>\n<thead>\n<tr>\n<th></th>\n<th>MySQL/Oracle</th>\n<th>MongoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Database Server</td>\n<td>mysqld/oracle</td>\n<td>mongod</td>\n</tr>\n<tr>\n<td>Database Client</td>\n<td>mysql/sqlplus</td>\n<td>mongo</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"Terminology-and-Concepts\"><a href=\"#Terminology-and-Concepts\" class=\"headerlink\" title=\"Terminology and Concepts\"></a>Terminology and Concepts</h5><table>\n<thead>\n<tr>\n<th>SQL Terms/Concepts</th>\n<th>MongoDB Terms/Concepts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>database</td>\n<td>database</td>\n</tr>\n<tr>\n<td>table</td>\n<td>collection</td>\n</tr>\n<tr>\n<td>row</td>\n<td>document or BSON document</td>\n</tr>\n<tr>\n<td>column</td>\n<td>field</td>\n</tr>\n<tr>\n<td>index</td>\n<td>index</td>\n</tr>\n<tr>\n<td>table joins</td>\n<td>embedded documents and linking</td>\n</tr>\n<tr>\n<td>primary key,Specify any unique column or column combination as primary key.</td>\n<td>primary key,In MongoDB, the primary key is automatically set to the _id field.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"Create-and-Alter-and-CURD\"><a href=\"#Create-and-Alter-and-CURD\" class=\"headerlink\" title=\"Create and Alter and CURD\"></a>Create and Alter and CURD</h4><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.insert( &#123;</span><br><span class=\"line\">    user_id: \"abc123\",</span><br><span class=\"line\">    age: 55,</span><br><span class=\"line\">    status: \"A\"</span><br><span class=\"line\"> &#125; )</span><br><span class=\"line\"> </span><br><span class=\"line\"> -- However, you can also explicitly create a collection:</span><br><span class=\"line\"> db.createCollection(\"users\")</span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"> db.users.ensureIndex( &#123; user_id: 1, age: -1 &#125; )</span><br><span class=\"line\"> db.users.drop()</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"> db.users.find()</span><br><span class=\"line\"> db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">    &#123; status: \"A\" &#125;,</span><br><span class=\"line\">    &#123; user_id: 1, status: 1, _id: 0 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25, $lte: 50 &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find(</span><br><span class=\"line\">   &#123; user_id: /^bc/ &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).sort( &#123; user_id: 1 &#125; )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count()</span><br><span class=\"line\">db.users.find().count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; user_id: &#123; $exists: true &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; user_id: &#123; $exists: true &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.count( &#123; age: &#123; $gt: 30 &#125; &#125; )</span><br><span class=\"line\">db.users.find( &#123; age: &#123; $gt: 30 &#125; &#125; ).count()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.distinct( \"status\" )</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.findOne()</span><br><span class=\"line\">db.users.find().limit(1)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.find().limit(5).skip(10)</span><br><span class=\"line\">db.users.find( &#123; status: \"A\" &#125; ).explain()</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; age: &#123; $gt: 25 &#125; &#125;,</span><br><span class=\"line\">   &#123; $set: &#123; status: \"C\" &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.users.update(</span><br><span class=\"line\">   &#123; status: \"A\" &#125; ,</span><br><span class=\"line\">   &#123; $inc: &#123; age: 3 &#125; &#125;,</span><br><span class=\"line\">   &#123; multi: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.users.remove( &#123; status: \"D\" &#125; )</span><br><span class=\"line\">db.users.remove( )</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"INSERTING-DATA\"><a href=\"#INSERTING-DATA\" class=\"headerlink\" title=\"INSERTING DATA\"></a>INSERTING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"chris\",</span><br><span class=\"line\">    last_name:  \"aiv\" </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">--Append a lot of data into a customer</span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Peter\",</span><br><span class=\"line\">    age: 32,</span><br><span class=\"line\">    address: &#123;</span><br><span class=\"line\">        street: \"120 Main St\",</span><br><span class=\"line\">        city: \"Chicago\",</span><br><span class=\"line\">        state: \"Illinois\",</span><br><span class=\"line\">        zip: \"38475\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    phone: &#123;</span><br><span class=\"line\">        home: \"5555555555\",</span><br><span class=\"line\">        work: \"4444444444\",</span><br><span class=\"line\">        mobile: \"3333333333\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    services: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"time warner\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"pge\"</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            service_id: \"moviepass\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    services_count: 3</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- Append data to a customer</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert(&#123;  </span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\",</span><br><span class=\"line\">    gender: \"m\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Insert multiple customers in one query</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.insert([  </span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Hendrix\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Jimmy\",</span><br><span class=\"line\">    last_name:  \"Page\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Kurt\",</span><br><span class=\"line\">    last_name:  \"Cobain\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Adrian\",</span><br><span class=\"line\">    last_name:  \"Belew\"</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    first_name: \"Billy\",</span><br><span class=\"line\">    last_name:  \"Corgan\"</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h5 id=\"FINDING-DATA\"><a href=\"#FINDING-DATA\" class=\"headerlink\" title=\"FINDING DATA\"></a>FINDING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; services: 1&#125;)  </span><br><span class=\"line\">db.customers.find(&#123; first_name: \"Peter\"&#125;, &#123; \"services.service_id\": 1&#125;)  </span><br><span class=\"line\">db.customers.findOne(  </span><br><span class=\"line\">    &#123; first_name: /^billy$/i &#125;,</span><br><span class=\"line\">    &#123; first_name: 1 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: \"male\"</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;  </span><br><span class=\"line\">    gender: /(m|male)/i, first_name: /^billy$/i </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"UPDATING-DATA\"><a href=\"#UPDATING-DATA\" class=\"headerlink\" title=\"UPDATING DATA\"></a>UPDATING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; last_name:  \"Hendrix\"&#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Gentel Update </span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: /^hendrix$/i &#125;,</span><br><span class=\"line\">    &#123; $set: &#123; first_name: \"Jimmy\" &#125; &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Increment a value in a field</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Billy\" &#125;,</span><br><span class=\"line\">    &#123; $inc: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- Update or Insert a field using an object ID</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; _id: ObjectId(\"581fef808e5fac221dea48ef\") &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $set: &#123;</span><br><span class=\"line\">            first_name:\"Lucy\",</span><br><span class=\"line\">            gender: \"m\",</span><br><span class=\"line\">            age: 40,</span><br><span class=\"line\">            birthdate: new Date(\"2016-11-02\")</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Update a field using someones first name</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $set: &#123;</span><br><span class=\"line\">            gender: \"male\",</span><br><span class=\"line\">            age: 50,</span><br><span class=\"line\">            birthdate: new Date(\"Aug 20, 1985\")</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; upsert: true &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- Add to an existing document</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; first_name: \"Jimmy\" &#125;,</span><br><span class=\"line\">    &#123; $push: &#123;</span><br><span class=\"line\">        services: &#123;</span><br><span class=\"line\">            service_id: 'hosting windows',</span><br><span class=\"line\">            service_name: \"windows hosting\"</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">-- ,truefalse</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:2&#125;&#125;,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Jimmy\"&#125;,&#123;$inc:&#123;age:3&#125;&#125;,false,true);</span><br><span class=\"line\">db.customers.update(&#123;first_name:\"Kurt\"&#125;,&#123;$inc:&#123;age:-2&#125;&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"REMOVING-DATA\"><a href=\"#REMOVING-DATA\" class=\"headerlink\" title=\"REMOVING DATA\"></a>REMOVING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--Remove a field</span><br><span class=\"line\">db.customers.update(  </span><br><span class=\"line\">    &#123; last_name: \"Page\" &#125;,</span><br><span class=\"line\">    &#123; </span><br><span class=\"line\">        $unset: &#123; age: 1 &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.update(&#123;first_name:\"jack\"&#125;,&#123;$inc:&#123;age:1&#125;&#125;)</span><br><span class=\"line\">--Remove a customer</span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    //!!! DO NOT US THIS</span><br><span class=\"line\">    &#123; first_name: \"Billy\"&#125;, true </span><br><span class=\"line\">)</span><br><span class=\"line\">-- Remove any customer above the age of 31</span><br><span class=\"line\">db.customers.remove(  </span><br><span class=\"line\">    &#123; age: &#123; $gt: 31 &#125; &#125;</span><br><span class=\"line\">    , true</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h5 id=\"DELETING-DATA\"><a href=\"#DELETING-DATA\" class=\"headerlink\" title=\"DELETING DATA\"></a>DELETING DATA</h5><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- Delete a collection</span></span><br><span class=\"line\">db.customers.drop()</span><br></pre></td></tr></table></figure>\n<h5 id=\"SEARCHING-DATA\"><a href=\"#SEARCHING-DATA\" class=\"headerlink\" title=\"SEARCHING DATA\"></a>SEARCHING DATA</h5><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  _id: 1,</span><br><span class=\"line\">  name: &#123; first: 'John', last: 'Backus' &#125;,</span><br><span class=\"line\">  birth: new Date('Dec 03, 1924'),</span><br><span class=\"line\">  death: new Date('Mar 17, 2007'),</span><br><span class=\"line\">  contribs: [ 'Fortran', 'ALGOL', 'Backus-Naur Form', 'FP' ],</span><br><span class=\"line\">  awards: [</span><br><span class=\"line\">            &#123; award: 'National Medal',</span><br><span class=\"line\">              year: 1975,</span><br><span class=\"line\">              by: 'NSF' &#125;,</span><br><span class=\"line\">            &#123; award: 'Turing Award',</span><br><span class=\"line\">              year: 1977,</span><br><span class=\"line\">              by: 'ACM' &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.users.find(&#123;awards: &#123;$elemMatch: &#123;award:'National Medal', year:1975&#125;&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">--  $gt,gte,$lt,$lte,$ne</span><br><span class=\"line\">db.col.find(&#123;\"by\":\"\"&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$lt:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\":&#123;$ne:50&#125;&#125;).pretty()</span><br><span class=\"line\">db.users.find(&#123;\"likes\" : &#123;$gt : 100&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- and or </span><br><span class=\"line\">db.customers.find(&#123;$or: [&#123;key1: value1&#125;, &#123;key2:value2&#125;]&#125;).pretty()</span><br><span class=\"line\">db.col.find(&#123;\"likes\": &#123;$gt:50&#125;, $or: [&#123;\"by\": \"\"&#125;,&#123;\"title\": \"MongoDB \"&#125;]&#125;).pretty()</span><br><span class=\"line\">//js</span><br><span class=\"line\">db.customers.find(&#123;$where:function()&#123; return this.first_name==\"jack\"&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\"&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;name:/yaolan.com/&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;name:&#123;$regex:\"yaolan.com\",$options:\"$i\"&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>db.collections.help() </li>\n<li>db.collection.find().help();</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.distinct(\"first_name\");</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$gt:1&#125;&#125;);</span><br><span class=\"line\">db.customers.count(&#123;first_name:\"Jimmy\",age:&#123;$in:[8,90]&#125;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find().limit(2).skip(1)</span><br><span class=\"line\">-- value1  -1 </span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:1&#125;);</span><br><span class=\"line\">db.customers.find().sort(&#123;first_name:-1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">--  </span><br><span class=\"line\">-- key </span><br><span class=\"line\">-- initial:</span><br><span class=\"line\">-- reduce </span><br><span class=\"line\">-- condition: </span><br><span class=\"line\">-- finalize: count</span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;customers:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; prev.customers.push(curr.first_name) &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(curr.first_name); </span><br><span class=\"line\">        prev.obj.push(curr.last_name);</span><br><span class=\"line\">        prev.obj.push(&#123;address:\"abc\"&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.obj.push(JSON.stringify(curr)); </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.group(&#123;</span><br><span class=\"line\">    key:&#123;age:true&#125;,</span><br><span class=\"line\">    initial:&#123;obj:[]&#125;,</span><br><span class=\"line\">    condition:&#123;age:&#123;$gt:7&#125;&#125;,</span><br><span class=\"line\">    reduce:function(curr,prev)&#123; </span><br><span class=\"line\">        prev.list = JSON.stringify(curr);   </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    finalize:function(prev)&#123;</span><br><span class=\"line\">        prev.count =  prev.obj.length;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h5 id=\"aggregate-\"><a href=\"#aggregate-\" class=\"headerlink\" title=\"aggregate \"></a>aggregate </h5><p>agesumvalue, sql <code>select by_user, count(*) from mycol group by by_user</code>by_userby_user</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id : \"$by_user\", num_tutorial : &#123;$sum : 1&#125;&#125;&#125;])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$sum:2&#125;&#125;&#125;])</span><br><span class=\"line\">db.customers.aggregate([&#123;$group : &#123;_id: \"$age\",num:&#123;$avg:1&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>UnixLinux</p>\n<blockquote>\n<ul>\n<li>$project</li>\n<li>$match<code>$match</code>MongoDB</li>\n<li>$limitMongoDB</li>\n<li>$skip</li>\n<li>$unwind</li>\n<li>$group</li>\n<li>$sort</li>\n<li>$geoNear</li>\n</ul>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">    &#123; $project : &#123;</span><br><span class=\"line\">        title : 1 ,</span><br><span class=\"line\">        author : 1 ,</span><br><span class=\"line\">    &#125;&#125;</span><br><span class=\"line\"> );</span><br><span class=\"line\"></span><br><span class=\"line\">db.customers.aggregate(&#123;$project:&#123;first_name:1,age:1&#125;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.article.aggregate(</span><br><span class=\"line\">&#123; $project : &#123;</span><br><span class=\"line\">    _id : 0 ,</span><br><span class=\"line\">    title : 1 ,</span><br><span class=\"line\">    author : 1</span><br><span class=\"line\">&#125;&#125;);</span><br><span class=\"line\">-- $match7090$group</span><br><span class=\"line\">db.articles.aggregate( [</span><br><span class=\"line\">    &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;,</span><br><span class=\"line\">    &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125;</span><br><span class=\"line\">   ] );</span><br><span class=\"line\"></span><br><span class=\"line\">-- $skip\"\"</span><br><span class=\"line\">db.article.aggregate(&#123; $skip : 5 &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"mapReduce\"><a href=\"#mapReduce\" class=\"headerlink\" title=\"mapReduce\"></a>mapReduce</h3><p>Map-ReduceMAPREDUCE</p>\n<blockquote>\n<p>map  (, reduce )<br>reduce reducekey-valueskey-valuevaluesvalue<br>out  (,)<br>query mapquerylimitsort<br>sort limitsortmap<br>limit maplimitsort</p>\n</blockquote>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.mapReduce(</span><br><span class=\"line\">   function() &#123;emit(key,value);&#125;,  //map </span><br><span class=\"line\">   function(key,values) &#123;return reduceFunction&#125;,   //reduce </span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      out: collection,</span><br><span class=\"line\">      query: document,</span><br><span class=\"line\">      sort: document,</span><br><span class=\"line\">      limit: number</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">-- demo</span><br><span class=\"line\">db.posts.mapReduce( </span><br><span class=\"line\">   function() &#123; emit(this.user_name,1); &#125;, </span><br><span class=\"line\">   function(key, values) &#123;return Array.sum(values)&#125;, </span><br><span class=\"line\">      &#123;  </span><br><span class=\"line\">         query:&#123;status:\"active\"&#125;,  </span><br><span class=\"line\">         out:\"post_total\" </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>resultcustomers,fornext()<br>var result = db.customers.find().limit(2).skip(1)<br>var result = db.customers.find();<br>result.forEach(function(curr){<br>    print(curr.first_name);<br>});</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.customers.find(&#123;age:7&#125;).explain();</span><br><span class=\"line\">-- hint </span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;)</span><br><span class=\"line\">db.customers.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;).explain();</span><br><span class=\"line\"></span><br><span class=\"line\">--  (`ensureIndex`  `createIndex` )</span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.ensureIndex(&#123;&quot;first_name&quot;:1,&quot;age&quot;:-1&#125;)</span><br><span class=\"line\">db.customers.createIndexes([&#123;&quot;first_name&quot;:1&#125;,&#123;&quot;age&quot;:-1&#125;])</span><br><span class=\"line\">-- </span><br><span class=\"line\">db.customers.getIndexes();</span><br><span class=\"line\">--</span><br><span class=\"line\">db.customers.dropIndex(&quot;first_name_1&quot;) </span><br><span class=\"line\">db.customers.dropIndex(&#123;&quot;first_name&quot;:1&#125;)</span><br><span class=\"line\">db.customers.dropIndexes();</span><br></pre></td></tr></table></figure>\n<h3 id=\"Mongodb\"><a href=\"#Mongodb\" class=\"headerlink\" title=\"Mongodb\"></a>Mongodb</h3><p>mongod help</p>\n<h4 id=\"replica-\"><a href=\"#replica-\" class=\"headerlink\" title=\"replica \"></a>replica </h4><p><code>OpLog</code>,<code>sync_pullOpLog</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--  27017</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\datamaster --master</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\dataslave --port=27018 --slave --source=127.0.0.1:27017</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\dataslave1 --port=27019 --slave --source=127.0.0.1:27017</span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:\"tom\",age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:\"lucy\",age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br></pre></td></tr></table></figure></p>\n<p> <code>error: { &quot;$err&quot; : &quot;not master and slaveok=false&quot;, &quot;code&quot; : 13435 }</code> <code>rs.slaveok()</code>,</p>\n<h4 id=\"---replSet\"><a href=\"#---replSet\" class=\"headerlink\" title=\"() replSet\"></a>() replSet</h4><ol>\n<li></li>\n<li><blockquote>\n<p>N (3)<br><br><br><br></p>\n</blockquote>\n</li>\n</ol>\n<p><img src=\"/images/replica.jpg\" alt=\"replica\"></p>\n<p>MongoDBMongoDB <br>MongoDB<br><code>mongod --port 27017 --dbpath=E:\\MongoDB\\datamaster --replSet rs0</code><br>rs0MongoDB27017<br>mongoDB<br>Mongo<code>rs.initiate()</code><br><code>rs.conf()</code><br> <code>rs.status()</code> </p>\n<p>,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetmaster --port=27017  --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave --port=27018 --replSet replset</span><br><span class=\"line\">mongod --dbpath=E:\\MongoDB\\replsetslave1 --port=27019  --replSet replset</span><br><span class=\"line\">-- `mongo` replset </span><br><span class=\"line\"></span><br><span class=\"line\">rs.initiate(&#123;</span><br><span class=\"line\">    _id:&quot;replset&quot;,</span><br><span class=\"line\">    members:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:0,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27017&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:1,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27018&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _id:2,</span><br><span class=\"line\">        host:&quot;127.0.0.1:27019&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongo 127.0.0.1:27017</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;tom&quot;,age:10&#125;)</span><br><span class=\"line\">db.users.insert(&#123;name:&quot;lucy&quot;,age:13&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">db.usrs.find();</span><br><span class=\"line\">-- `not master and slaveok=false` ,, `db.getMongo().setSlaveOk()` `rs.slaveOk()`</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.addArb() </span><br><span class=\"line\">mongod --dbpath=xxxx --port=27020 --replSet replset</span><br><span class=\"line\">rs.addArb(&quot;192.168.1.2:27020&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">-- rs.add </span><br><span class=\"line\">rs.add(&quot;192.168.1.2:27021&quot;)</span><br></pre></td></tr></table></figure></p>\n<p> <code>rs.status()</code> Mongo<code>db.isMaster()</code>,MongoDB</p>\n<h3 id=\"Shard\"><a href=\"#Shard\" class=\"headerlink\" title=\"Shard\"></a>Shard</h3><p>Mongodb(cluster),MongoDB</p>\n<blockquote>\n<p><br><br>12<br><br><br></p>\n</blockquote>\n<p><img src=\"/images/mongo-cluster.jpg\" alt=\"MongoDB Cluster\"></p>\n<blockquote>\n<ul>\n<li>Shard:shard serverreplica set</li>\n<li>Config Server:mongod ClusterMetadata chunk</li>\n<li>Query Routers: </li>\n</ul>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">Shard Server 127020</span><br><span class=\"line\">Shard Server 227021</span><br><span class=\"line\">Shard Server 327022</span><br><span class=\"line\">Shard Server 427023</span><br><span class=\"line\">Config Server 27100</span><br><span class=\"line\">Route Process40000</span><br><span class=\"line\"></span><br><span class=\"line\">-- 1. Shard Server</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s0</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s1</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s2</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/s3</span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/log</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27020 --dbpath=E:/MongoDB/shard/s0 --logpath=E:/MongoDB/shard/log/s0.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27021 --dbpath=E:/MongoDB/shard/s1 --logpath=E:/MongoDB/shard/log/s1.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27022 --dbpath=E:/MongoDB/shard/s2 --logpath=E:/MongoDB/shard/log/s2.log --logappend</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27023 --dbpath=E:/MongoDB/shard/s3 --logpath=E:/MongoDB/shard/log/s3.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 2. Config Server,config server  `--configsvr` </span><br><span class=\"line\">mkdir -p /www/mongoDB/shard/config</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongod --port 27100 --configsvr --dbpath=E:/MongoDB/shard/config --logpath=E:/MongoDB/shard/log/config.log --logappend</span><br><span class=\"line\"></span><br><span class=\"line\">-- 3. Route ProcessmongoschunkSizechunkMB200MB.</span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --logpath=E:/MongoDB/shard/log/route.log --chunkSize 200</span><br><span class=\"line\"></span><br><span class=\"line\">-- 4. Sharding,MongoDB ShellmongosShard,mongo40000</span><br><span class=\"line\">/usr/local/mongoDB/bin/mongo admin --port 40000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27020&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27021&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27022&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; addshard:&quot;localhost:27023&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; enablesharding:&quot;test&quot; &#125;)</span><br><span class=\"line\">db.runCommand(&#123; shardcollection: &quot;users&quot;, key: &#123; id:1,time:1&#125;&#125;)</span><br><span class=\"line\">-- </span><br><span class=\"line\">sh.addShard(&quot;localhost:27020&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27021&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27022&quot;);</span><br><span class=\"line\">sh.addShard(&quot;localhost:27023&quot;);</span><br><span class=\"line\">sh.enableSharding(&quot;test&quot;);</span><br><span class=\"line\">-- sh.shardCollection(&quot;&lt;database&gt;.&lt;collection&gt;&quot;, shard-key-pattern) collectionkey</span><br><span class=\"line\">sh.shardCollection(&quot;test.users&quot;,&#123;&quot;name&quot;:1,&quot;_id&quot;:1&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">-- 5. ,</span><br><span class=\"line\">    use test</span><br><span class=\"line\"></span><br><span class=\"line\">    for(var i=0;i&lt;=100000;i++) &#123;</span><br><span class=\"line\">        db.users.insert(&#123;name:&quot;lucy&quot;+i,age:i&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 6. </span><br><span class=\"line\">sh.status()</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br>mongod auth dbpath /usr/mongo/data -f /var/mongo.log<br>authmongod<br><code>/etc/mongodb.conf</code><code>auth=true</code>mongod</li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- </span><br><span class=\"line\">db.createUser(&#123;  </span><br><span class=\"line\">    &quot;user&quot;: &quot;chrisaiv&quot;,</span><br><span class=\"line\">    &quot;pwd&quot;: &quot;password&quot;,</span><br><span class=\"line\">    &quot;roles&quot;: [</span><br><span class=\"line\">        &#123; role: &quot;clusterAdmin&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &#123; role: &quot;readAnyDatabase&quot;, db: &quot;admin&quot; &#125;,</span><br><span class=\"line\">        &quot;readWrite&quot;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; w: &quot;majority&quot;, wtimeout: 5000 &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">: `db.auth(&quot;admin&quot;, &quot;123456&quot;)`</span><br></pre></td></tr></table></figure>\n<ol>\n<li><p><br><code>db.runCommand({fsync:1,lock:1})</code><br></p>\n</li>\n<li><p><br><code>db.currentOp()</code></p>\n</li>\n<li><p><br><code>use local\ndb.$cmd.sys.unlock.findOne()</code><br><br><br><code>db.currentOp()</code></p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">mongodump -h dbhost -d dbname -c collection -o dbdirectory</span><br><span class=\"line\">mongorestore -h dbhost -d dbname -c collection --directoryperdb dbdirectory</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mkdir testbak</span><br><span class=\"line\">mongodump </span><br><span class=\"line\">-- </span><br><span class=\"line\">mongodump -d pagedb</span><br><span class=\"line\">-- </span><br><span class=\"line\">mongodump -d pagedb -c page</span><br><span class=\"line\">-- </span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore --drop</span><br><span class=\"line\">-- </span><br><span class=\"line\">cd testbak</span><br><span class=\"line\">mongorestore -d pagedb --drop</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongorestore -d pagedb -c page --drop</span><br><span class=\"line\">-- MongoDB</span><br><span class=\"line\">mongoimport -d pagedb -c page --type csv --headerline --drop &lt; csvORtsvFile.csv</span><br><span class=\"line\">-- csvORtsvFile.csvpagedbpagecvstsv</span><br><span class=\"line\">-- `--headerline`csvtsv</span><br><span class=\"line\">-- typecsvtsvjson</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">### MongoDB </span><br><span class=\"line\">```sql</span><br><span class=\"line\">mongostat </span><br><span class=\"line\">mongotop</span><br><span class=\"line\">mongotop 10   -- </span><br><span class=\"line\">mongotop --locks  -- </span><br></pre></td></tr></table></figure>\n<h3 id=\"MongoDB-\"><a href=\"#MongoDB-\" class=\"headerlink\" title=\"MongoDB \"></a>MongoDB </h3><p>MongoDB  SQL  MongoDB  _id 12<code>db.createCollection(&quot;counters&quot;)</code>,<code>db.counters.insert({_id:&quot;productid&quot;,sequence_value:0})</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNextSequenceValue</span>(<span class=\"params\">sequenceName</span>)</span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> sequenceDocument = db.counters.findAndModify(</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         query:&#123;_id: sequenceName &#125;,</span><br><span class=\"line\">         update: &#123;$inc:&#123;sequence_value:<span class=\"number\">1</span>&#125;&#125;,</span><br><span class=\"line\">         <span class=\"keyword\">new</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">   <span class=\"keyword\">return</span> sequenceDocument.sequence_value;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">    \"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">    \"product_name\":\"Apple iPhone\",</span><br><span class=\"line\">    \"category\":\"mobiles\"</span><br><span class=\"line\"> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"> db.products.insert(&#123;</span><br><span class=\"line\">\"_id\":getNextSequenceValue(\"productid\"),</span><br><span class=\"line\">\"product_name\":\"Samsung S3\",</span><br><span class=\"line\">\"category\":\"mobiles\"&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">db.products.find()</span><br></pre></td></tr></table></figure>\n<h3 id=\"ObjectId\"><a href=\"#ObjectId\" class=\"headerlink\" title=\"ObjectId\"></a>ObjectId</h3><blockquote>\n<p>4<br>3<br>idPID<br><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">newObjectId = ObjectId()</span><br><span class=\"line\">myObjectId = ObjectId(\"5349b4ddd2781d08c09890f4\")</span><br><span class=\"line\">ObjectId(\"5349b4ddd2781d08c09890f4\").getTimestamp()</span><br><span class=\"line\"></span><br><span class=\"line\">new ObjectId().str</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"GridFS\"><a href=\"#GridFS\" class=\"headerlink\" title=\"GridFS\"></a>GridFS</h3><p>GridFS 16MBSON()<br>GridFS MonoDB<br>GridFS 16M<br>GridFS chunk(),256k/,chunkMongoDB(document)chunks<br>GridFS <code>fs.files</code><code>fs.chunks</code><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> --fs.files</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"filename\": \"test.txt\",</span><br><span class=\"line\">   \"chunkSize\": NumberInt(261120),</span><br><span class=\"line\">   \"uploadDate\": ISODate(\"2014-04-13T11:32:33.557Z\"),</span><br><span class=\"line\">   \"md5\": \"7b762939321e146569b07f72c62cca4f\",</span><br><span class=\"line\">   \"length\": NumberInt(646)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- fs.chunks</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   \"files_id\": ObjectId(\"534a75d19f54bfec8a2fe44b\"),</span><br><span class=\"line\">   \"n\": NumberInt(0),</span><br><span class=\"line\">   \"data\": \"Mongo Binary Data\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">-- </span><br><span class=\"line\">mongofiles.exe -d gridfs put song.mp3</span><br><span class=\"line\">db.fs.files.find()</span><br><span class=\"line\"></span><br><span class=\"line\">--_id (chunk)</span><br><span class=\"line\">db.fs.chunks.find(&#123;files_id:ObjectId('534a811bf8b4aa4d33fdf94d')&#125;)</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li><a href=\"https://docs.mongodb.com/v3.2/tutorial/access-mongo-shell-help/\"></a></li>\n</ul>"},{"title":"","date":"2016-10-16T03:45:39.000Z","updated":"2016-10-16T03:45:39.000Z","_content":"adwords\n<!--more-->\n\n### \ngoogle\n- 70%80%\n- \n- \n\n\n### \n****\n\n---\n\n****\n\n>:\n- \n- \n- \n\n\n\n---\n\n:\n\n\n\n> \n\n---\n\n  ``\n\n\n()\n- \n- \n\n\n> \n> \n\n---\n\n0\n\n\n### \nadwords70%80%\n\n:\n> ****\n\n### \n\n\n#### \n\nIFID\n\n****\n\n>\n\n### \n\n\n\n- \n- \n\n\n### \n\n#### \n\n\n##### \n24\n\n#### \nc2b\n\n#### \n\n\n#### \n\n\n### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n- \n- \n- --\n\n\n\n#### 2%\n2%\n\n\n:\n****\n\n\n\n#### \n2%2%\n\n","source":"_posts/2016/big-data-time.md","raw":"---\ntitle: \ndate: 2016-10-16 11:45:39\nupdated: 2016-10-16 11:45:39\ntags:\ncategories:\n---\nadwords\n<!--more-->\n\n### \ngoogle\n- 70%80%\n- \n- \n\n\n### \n****\n\n---\n\n****\n\n>:\n- \n- \n- \n\n\n\n---\n\n:\n\n\n\n> \n\n---\n\n  ``\n\n\n()\n- \n- \n\n\n> \n> \n\n---\n\n0\n\n\n### \nadwords70%80%\n\n:\n> ****\n\n### \n\n\n#### \n\nIFID\n\n****\n\n>\n\n### \n\n\n\n- \n- \n\n\n### \n\n#### \n\n\n##### \n24\n\n#### \nc2b\n\n#### \n\n\n#### \n\n\n### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n#### \n\n\n- \n- \n- --\n\n\n\n#### 2%\n2%\n\n\n:\n****\n\n\n\n#### \n2%2%\n\n","slug":"big-data-time","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopu2001qcwnnci67yb9o","content":"<p>adwords<br><a id=\"more\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>google</p>\n<ul>\n<li>70%80%</li>\n<li></li>\n<li><br></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<hr>\n<p><strong></strong></p>\n<blockquote>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<hr>\n<p>:</p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<hr>\n<p>  <code></code></p>\n<p>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<hr>\n<p>0<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>adwords70%80%</p>\n<p>:</p>\n<blockquote>\n<p> <strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>IFID</p>\n<p><strong></strong></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>24</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>c2b</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2%\"></a>2%</h4><p>2%<br></p>\n<p>:<br><strong></strong><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>2%2%</p>\n","excerpt":"<p>adwords<br>","more":"</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>google</p>\n<ul>\n<li>70%80%</li>\n<li></li>\n<li><br></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong></p>\n<hr>\n<p><strong></strong></p>\n<blockquote>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<hr>\n<p>:</p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<hr>\n<p>  <code></code></p>\n<p>()</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<hr>\n<p>0<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>adwords70%80%</p>\n<p>:</p>\n<blockquote>\n<p> <strong></strong></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>IFID</p>\n<p><strong></strong></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>24</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>c2b</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2%\"></a>2%</h4><p>2%<br></p>\n<p>:<br><strong></strong><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>2%2%</p>"},{"title":"","date":"2016-01-28T09:21:06.000Z","updated":"2016-01-28T09:21:06.000Z","_content":"\n# \nPPT\n\n1. \n\n2. auto shardingmongoDBauto sharding\n\n<!-- more -->\n\n1. 0-11-2\n2-3\n\n\n2. hash2\n\n\n\n3. \n\n\n3. \n\n99%\n58\n\n\n****\n\n\n# \n\n\n\n\n\n\n\n\n\n\n\n99%1%\n1%80%\n\n\n********\n\n\n\nauto-increment-id**id10111011**\n\n\nid\n1. id0024681135792\n2. auto-increment-idid[](http://changyuan.github.io/2015/12/04/gen-id-way/)\n3. ,\n\t- 50%\n\t- \n\n\n# \n\n\n\n1. \n2. cache\n**cache**\ncachecache hitcache miss\n\ncache\n1. cache\n2. cachecache miss\n3. \n\n\n# \n\n58++58\n\nkeykey\n\n5\n\n\n58\n\ncachecache\nitemcache miss\n1cachecachecache\n2item10cachekey\n\n# \n58N2N\n\nhash\n\n\n\n24021302\n\n\n\nN2N 24482325\n\n2325online schema change\n\n\nmongodbmysql\n\n\n\n\n\n1mongomysql\n\n2\n\n\n3\n\n\n\n\n# \n- \n- \n- hash\n- ************standby50%\n- **********++**\n- :\n: key\n: item\n\n[](http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=400465735&idx=1&sn=8d7067de4cc8f73ea5558f07e0a9340e&scene=21#wechat_redirect)\n> 1.  shadow-mastermaster\n> 2. hash\n> 3. 02\n![db-mater](/images/technology/snowflake-64bit.jpg)\n\n\nP.S.:\n> - CAP\n> - Consistency(), \n> - Availability(), \n> - Partition tolerance() \n> -  \n> - ","source":"_posts/2016/design-mysql.md","raw":"---\ntitle: \ndate: 2016-01-28 17:21:06\nupdated: 2016-01-28 17:21:06\ntags:\n- mysql\ncategories:\n---\n\n# \nPPT\n\n1. \n\n2. auto shardingmongoDBauto sharding\n\n<!-- more -->\n\n1. 0-11-2\n2-3\n\n\n2. hash2\n\n\n\n3. \n\n\n3. \n\n99%\n58\n\n\n****\n\n\n# \n\n\n\n\n\n\n\n\n\n\n\n99%1%\n1%80%\n\n\n********\n\n\n\nauto-increment-id**id10111011**\n\n\nid\n1. id0024681135792\n2. auto-increment-idid[](http://changyuan.github.io/2015/12/04/gen-id-way/)\n3. ,\n\t- 50%\n\t- \n\n\n# \n\n\n\n1. \n2. cache\n**cache**\ncachecache hitcache miss\n\ncache\n1. cache\n2. cachecache miss\n3. \n\n\n# \n\n58++58\n\nkeykey\n\n5\n\n\n58\n\ncachecache\nitemcache miss\n1cachecachecache\n2item10cachekey\n\n# \n58N2N\n\nhash\n\n\n\n24021302\n\n\n\nN2N 24482325\n\n2325online schema change\n\n\nmongodbmysql\n\n\n\n\n\n1mongomysql\n\n2\n\n\n3\n\n\n\n\n# \n- \n- \n- hash\n- ************standby50%\n- **********++**\n- :\n: key\n: item\n\n[](http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=400465735&idx=1&sn=8d7067de4cc8f73ea5558f07e0a9340e&scene=21#wechat_redirect)\n> 1.  shadow-mastermaster\n> 2. hash\n> 3. 02\n![db-mater](/images/technology/snowflake-64bit.jpg)\n\n\nP.S.:\n> - CAP\n> - Consistency(), \n> - Availability(), \n> - Partition tolerance() \n> -  \n> - ","slug":"design-mysql","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopu4001rcwnnxtceumrh","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>PPT</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>auto shardingmongoDBauto sharding</p>\n</li>\n</ol>\n<a id=\"more\"></a>\n<p></p>\n<ol>\n<li><p>0-11-2<br>2-3<br></p>\n</li>\n<li><p>hash2<br><br></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<ol>\n<li><br><br>99%<br>58<br></li>\n</ol>\n<p><strong></strong></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><br><br></p>\n<p><br><br></p>\n<p><br>99%1%<br>1%80%</p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>auto-increment-id<strong>id10111011</strong></p>\n<p>id</p>\n<ol>\n<li>id0024681135792</li>\n<li>auto-increment-idid<a href=\"http://changyuan.github.io/2015/12/04/gen-id-way/\"></a></li>\n<li>,<ul>\n<li>50%</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li>cache<br><strong>cache</strong><br>cachecache hitcache miss</li>\n</ol>\n<p>cache</p>\n<ol>\n<li>cache</li>\n<li>cachecache miss</li>\n<li></li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58++58</p>\n<p>keykey</p>\n<p>5</p>\n<p>58</p>\n<p>cachecache<br>itemcache miss<br>1cachecachecache<br>2item10cachekey</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58N2N</p>\n<p>hash</p>\n<p><br>24021302</p>\n<p><br>N2N 24482325</p>\n<p>2325online schema change<br><br><br>mongodbmysql</p>\n<p></p>\n<p><br>1mongomysql</p>\n<p>2<br></p>\n<p>3<br><br><br></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li>hash</li>\n<li><strong></strong><strong></strong><strong></strong>standby50%</li>\n<li><strong></strong><strong></strong><strong>++</strong></li>\n<li>:<br>: key<br>: item</li>\n</ul>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400465735&amp;idx=1&amp;sn=8d7067de4cc8f73ea5558f07e0a9340e&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"external\"></a></p>\n<blockquote>\n<ol>\n<li> shadow-mastermaster</li>\n<li>hash</li>\n<li>02<br><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"db-mater\"></li>\n</ol>\n</blockquote>\n<p>P.S.:</p>\n<blockquote>\n<ul>\n<li>CAP</li>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() </li>\n<li> </li>\n<li></li>\n</ul>\n</blockquote>\n","excerpt":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>PPT</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>auto shardingmongoDBauto sharding</p>\n</li>\n</ol>","more":"<p></p>\n<ol>\n<li><p>0-11-2<br>2-3<br></p>\n</li>\n<li><p>hash2<br><br></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<ol>\n<li><br><br>99%<br>58<br></li>\n</ol>\n<p><strong></strong></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p><br><br></p>\n<p><br><br></p>\n<p><br>99%1%<br>1%80%</p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<p>auto-increment-id<strong>id10111011</strong></p>\n<p>id</p>\n<ol>\n<li>id0024681135792</li>\n<li>auto-increment-idid<a href=\"http://changyuan.github.io/2015/12/04/gen-id-way/\"></a></li>\n<li>,<ul>\n<li>50%</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li></li>\n<li>cache<br><strong>cache</strong><br>cachecache hitcache miss</li>\n</ol>\n<p>cache</p>\n<ol>\n<li>cache</li>\n<li>cachecache miss</li>\n<li></li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58++58</p>\n<p>keykey</p>\n<p>5</p>\n<p>58</p>\n<p>cachecache<br>itemcache miss<br>1cachecachecache<br>2item10cachekey</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>58N2N</p>\n<p>hash</p>\n<p><br>24021302</p>\n<p><br>N2N 24482325</p>\n<p>2325online schema change<br><br><br>mongodbmysql</p>\n<p></p>\n<p><br>1mongomysql</p>\n<p>2<br></p>\n<p>3<br><br><br></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li></li>\n<li>hash</li>\n<li><strong></strong><strong></strong><strong></strong>standby50%</li>\n<li><strong></strong><strong></strong><strong>++</strong></li>\n<li>:<br>: key<br>: item</li>\n</ul>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400465735&amp;idx=1&amp;sn=8d7067de4cc8f73ea5558f07e0a9340e&amp;scene=21#wechat_redirect\"></a></p>\n<blockquote>\n<ol>\n<li> shadow-mastermaster</li>\n<li>hash</li>\n<li>02<br><img src=\"/images/technology/snowflake-64bit.jpg\" alt=\"db-mater\"></li>\n</ol>\n</blockquote>\n<p>P.S.:</p>\n<blockquote>\n<ul>\n<li>CAP</li>\n<li>Consistency(), </li>\n<li>Availability(), </li>\n<li>Partition tolerance() </li>\n<li> </li>\n<li></li>\n</ul>\n</blockquote>"},{"title":"flex","date":"2016-11-30T07:31:13.000Z","_content":"\n[](https://developer.mozilla.org/en-US/docs/Web/CSS/box_model) display + position + float[](https://css-tricks.com/centering-css-complete-guide/)\n\nFlexFlexible Box\"\"\nFlex\n<!-- more -->\n```css\n.box{\n  display: flex;\n  // display: inline-flex;\n}\n\n\n.box{\n  display: -webkit-flex; /* Safari */\n  display: flex;\n}\n```\nFlexfloatclearvertical-align\nFlexFlexflex container\"\"Flexflex item\"\"\n\n### \n\n1. flex-direction:\n>- row\n>- row-reverse\n>- column\n>- column-reverse\n\n2. flex-wrap:\n nowrap | wrap | wrap-reverse\n\n3. flex-flow\nflex-flowflex-directionflex-wraprow nowrap\n\n4. justify-content\n>- flex-start\n>- flex-end\n>- center \n>- space-between\n>- space-around\n\n5. align-items\n>- flex-start\n>- flex-end\n>- center\n>- baseline: \n>- stretchauto\n\n6. align-content \n>- flex-start\n>- flex-end\n>- center\n>- space-between\n>- space-around\n>- stretch\n\n### \n\n1. order 0\n2. flex-grow 0****0 \n3. flex-shrink 1****1 \n4. flex-basis  main size****auto\n5. flex  flex-grow, flex-shrink  flex-basis0 0 auto\n6. align-self  align-itemsautoalign-itemsstretch\n7. margin : auto \"margin\"\"auto\"margin\"auto\"****\n margin-right: auto;  \n\nflex \t0 1 auto ; auto<=> \" 1 1 auto \"; none<=> \"0 0  auto\"\nflex\n-flex-basis growshrink\n```html\n<style>\n#main {\n    width: 350px;\n    height: 100px;\n    border: 1px solid #c3c3c3;\n    display: flex;\n}\n#main div {\n    flex: 0 1 80px;\n}\n\n#main div:nth-of-type(5) {\n  flex: 0 1 30px;\n}\nflex-grow : \nflex-shrink: \n</style>\n</head>\n<body>\n\n<div id=\"main\">\n  <div style=\"background-color:coral;\">1</div>\n  <div style=\"background-color:lightblue;\">2</div>\n  <div style=\"background-color:khaki;\">3</div>\n  <div style=\"background-color:pink;\">4</div>\n  <div style=\"background-color:lightgrey;\">5</div>\n</div>\n```\n\n[](http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin)\n\n### DEMO\n\n[](https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824)\n[](https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522)\n[](https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d)","source":"_posts/2016/flex.md","raw":"---\ntitle: flex\ndate: 2016-11-30 15:31:13\ntags:\ncategories:\n---\n\n[](https://developer.mozilla.org/en-US/docs/Web/CSS/box_model) display + position + float[](https://css-tricks.com/centering-css-complete-guide/)\n\nFlexFlexible Box\"\"\nFlex\n<!-- more -->\n```css\n.box{\n  display: flex;\n  // display: inline-flex;\n}\n\n\n.box{\n  display: -webkit-flex; /* Safari */\n  display: flex;\n}\n```\nFlexfloatclearvertical-align\nFlexFlexflex container\"\"Flexflex item\"\"\n\n### \n\n1. flex-direction:\n>- row\n>- row-reverse\n>- column\n>- column-reverse\n\n2. flex-wrap:\n nowrap | wrap | wrap-reverse\n\n3. flex-flow\nflex-flowflex-directionflex-wraprow nowrap\n\n4. justify-content\n>- flex-start\n>- flex-end\n>- center \n>- space-between\n>- space-around\n\n5. align-items\n>- flex-start\n>- flex-end\n>- center\n>- baseline: \n>- stretchauto\n\n6. align-content \n>- flex-start\n>- flex-end\n>- center\n>- space-between\n>- space-around\n>- stretch\n\n### \n\n1. order 0\n2. flex-grow 0****0 \n3. flex-shrink 1****1 \n4. flex-basis  main size****auto\n5. flex  flex-grow, flex-shrink  flex-basis0 0 auto\n6. align-self  align-itemsautoalign-itemsstretch\n7. margin : auto \"margin\"\"auto\"margin\"auto\"****\n margin-right: auto;  \n\nflex \t0 1 auto ; auto<=> \" 1 1 auto \"; none<=> \"0 0  auto\"\nflex\n-flex-basis growshrink\n```html\n<style>\n#main {\n    width: 350px;\n    height: 100px;\n    border: 1px solid #c3c3c3;\n    display: flex;\n}\n#main div {\n    flex: 0 1 80px;\n}\n\n#main div:nth-of-type(5) {\n  flex: 0 1 30px;\n}\nflex-grow : \nflex-shrink: \n</style>\n</head>\n<body>\n\n<div id=\"main\">\n  <div style=\"background-color:coral;\">1</div>\n  <div style=\"background-color:lightblue;\">2</div>\n  <div style=\"background-color:khaki;\">3</div>\n  <div style=\"background-color:pink;\">4</div>\n  <div style=\"background-color:lightgrey;\">5</div>\n</div>\n```\n\n[](http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin)\n\n### DEMO\n\n[](https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824)\n[](https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522)\n[](https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d)","slug":"flex","published":1,"updated":"2017-01-04T05:16:27.969Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopu6001ucwnnmzl6hgd1","content":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/box_model\" target=\"_blank\" rel=\"external\"></a> display + position + float<a href=\"https://css-tricks.com/centering-css-complete-guide/\" target=\"_blank\" rel=\"external\"></a></p>\n<p>FlexFlexible Box<br>Flex<br><a id=\"more\"></a><br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.box&#123;</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">  // display: inline-flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">.box&#123;</span><br><span class=\"line\">  display: -webkit-flex; /* Safari */</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Flexfloatclearvertical-align<br>FlexFlexflex containerFlexflex item</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>flex-direction:</p>\n<blockquote>\n<ul>\n<li>row</li>\n<li>row-reverse</li>\n<li>column</li>\n<li>column-reverse</li>\n</ul>\n</blockquote>\n</li>\n<li><p>flex-wrap:<br>nowrap | wrap | wrap-reverse</p>\n</li>\n<li><p>flex-flow<br>flex-flowflex-directionflex-wraprow nowrap</p>\n</li>\n<li><p>justify-content</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center </li>\n<li>space-between</li>\n<li>space-around</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-items</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>baseline: </li>\n<li>stretchauto</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-content </p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>space-between</li>\n<li>space-around</li>\n<li>stretch</li>\n</ul>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>order 0</li>\n<li>flex-grow 0<strong></strong>0 </li>\n<li>flex-shrink 1<strong></strong>1 </li>\n<li>flex-basis  main size<strong></strong>auto</li>\n<li>flex  flex-grow, flex-shrink  flex-basis0 0 auto</li>\n<li>align-self  align-itemsautoalign-itemsstretch</li>\n<li>margin : auto marginautomarginauto<strong></strong><br> margin-right: auto;  </li>\n</ol>\n<p>flex     0 1 auto ; auto&lt;=&gt;  1 1 auto ; none&lt;=&gt; 0 0  auto<br>flex<br>-flex-basis growshrink<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\"><span class=\"selector-id\">#main</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">350px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#c3c3c3</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">80px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:nth-of-type(5)</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">flex</span>: <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">30px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">flex-grow</span> : </span><br><span class=\"line\"><span class=\"selector-tag\">flex-shrink</span>: </span><br><span class=\"line\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"main\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:coral;\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightblue;\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:khaki;\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:pink;\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightgrey;\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin\" target=\"_blank\" rel=\"external\"></a></p>\n<h3 id=\"DEMO\"><a href=\"#DEMO\" class=\"headerlink\" title=\"DEMO\"></a>DEMO</h3><p><a href=\"https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824\" target=\"_blank\" rel=\"external\"></a><br><a href=\"https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522\" target=\"_blank\" rel=\"external\"></a><br><a href=\"https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d\" target=\"_blank\" rel=\"external\"></a></p>\n","excerpt":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/box_model\"></a> display + position + float<a href=\"https://css-tricks.com/centering-css-complete-guide/\"></a></p>\n<p>FlexFlexible Box<br>Flex<br>","more":"<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.box&#123;</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">  // display: inline-flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">.box&#123;</span><br><span class=\"line\">  display: -webkit-flex; /* Safari */</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Flexfloatclearvertical-align<br>FlexFlexflex containerFlexflex item</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>flex-direction:</p>\n<blockquote>\n<ul>\n<li>row</li>\n<li>row-reverse</li>\n<li>column</li>\n<li>column-reverse</li>\n</ul>\n</blockquote>\n</li>\n<li><p>flex-wrap:<br>nowrap | wrap | wrap-reverse</p>\n</li>\n<li><p>flex-flow<br>flex-flowflex-directionflex-wraprow nowrap</p>\n</li>\n<li><p>justify-content</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center </li>\n<li>space-between</li>\n<li>space-around</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-items</p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>baseline: </li>\n<li>stretchauto</li>\n</ul>\n</blockquote>\n</li>\n<li><p>align-content </p>\n<blockquote>\n<ul>\n<li>flex-start</li>\n<li>flex-end</li>\n<li>center</li>\n<li>space-between</li>\n<li>space-around</li>\n<li>stretch</li>\n</ul>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>order 0</li>\n<li>flex-grow 0<strong></strong>0 </li>\n<li>flex-shrink 1<strong></strong>1 </li>\n<li>flex-basis  main size<strong></strong>auto</li>\n<li>flex  flex-grow, flex-shrink  flex-basis0 0 auto</li>\n<li>align-self  align-itemsautoalign-itemsstretch</li>\n<li>margin : auto marginautomarginauto<strong></strong><br> margin-right: auto;  </li>\n</ol>\n<p>flex     0 1 auto ; auto&lt;=&gt;  1 1 auto ; none&lt;=&gt; 0 0  auto<br>flex<br>-flex-basis growshrink<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span><br><span class=\"line\"><span class=\"selector-id\">#main</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">350px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#c3c3c3</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">flex</span>: <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">80px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#main</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:nth-of-type(5)</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">flex</span>: <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">30px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">flex-grow</span> : </span><br><span class=\"line\"><span class=\"selector-tag\">flex-shrink</span>: </span><br><span class=\"line\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"main\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:coral;\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightblue;\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:khaki;\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:pink;\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color:lightgrey;\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"http://www.runoob.com/try/try.php?filename=trycss3_flexbox_margin\"></a></p>\n<h3 id=\"DEMO\"><a href=\"#DEMO\" class=\"headerlink\" title=\"DEMO\"></a>DEMO</h3><p><a href=\"https://gist.github.com/changyuan/cce6e8818c038760d8cadccfd8f96824\"></a><br><a href=\"https://gist.github.com/changyuan/02c14ca2aabc7107950d0056fa654522\"></a><br><a href=\"https://gist.github.com/changyuan/77cfcd7344a8522b7e365865a0428c2d\"></a></p>"},{"title":"","date":"2016-06-23T03:38:22.000Z","updated":"2016-06-23T03:38:22.000Z","_content":"\n\n# Growth Hack = \n\n## ()\n\n1.mvp(minimal viable product), 20 2.pmf(product market fit) 60\n\n- \n- \n-  3.Growth Hack 60()-90 4.20()-->75\n\npitch\n\n##  ( Growth ) \n\n\n\n10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 \n\n NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS \n\n NPS  70\n<!-- more -->\n# \n\n## PMF\n\n- \n-  20-50--- 3-60---30,\n\n### growth = conversion - churn()\n\n=\n\n## (Landing page)\n\n- \n- \n- How it works\n- /\n- CALL TO ACTION()\n- \n\n## CALL TO ACTION \n\n \"Leads\"  Email List  \n\n##  online chat\n\nChurn  online chat \n\nIntercom Zopim\n\n<http://blog.xdite.net/posts/2016/02/01/grow-product-systematically>\n","source":"_posts/2016/growth-hack.md","raw":"---\ntitle: \ndate: 2016-06-23 11:38:22\nupdated: 2016-06-23 11:38:22\ntags:\ncategories:\n---\n\n\n# Growth Hack = \n\n## ()\n\n1.mvp(minimal viable product), 20 2.pmf(product market fit) 60\n\n- \n- \n-  3.Growth Hack 60()-90 4.20()-->75\n\npitch\n\n##  ( Growth ) \n\n\n\n10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 \n\n NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS \n\n NPS  70\n<!-- more -->\n# \n\n## PMF\n\n- \n-  20-50--- 3-60---30,\n\n### growth = conversion - churn()\n\n=\n\n## (Landing page)\n\n- \n- \n- How it works\n- /\n- CALL TO ACTION()\n- \n\n## CALL TO ACTION \n\n \"Leads\"  Email List  \n\n##  online chat\n\nChurn  online chat \n\nIntercom Zopim\n\n<http://blog.xdite.net/posts/2016/02/01/grow-product-systematically>\n","slug":"growth-hack","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopu8001wcwnneain5tre","content":"<h1 id=\"Growth-Hack-\"><a href=\"#Growth-Hack-\" class=\"headerlink\" title=\"Growth Hack = \"></a>Growth Hack = </h1><h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h2><p>1.mvp(minimal viable product), 20 2.pmf(product market fit) 60</p>\n<ul>\n<li></li>\n<li></li>\n<li> 3.Growth Hack 60()-90 4.20()&gt;75</li>\n</ul>\n<p>pitch</p>\n<h2 id=\"-Growth-\"><a href=\"#-Growth-\" class=\"headerlink\" title=\" ( Growth ) \"></a> ( Growth ) </h2><p></p>\n<p>10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 </p>\n<p> NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS </p>\n<p> NPS  70<br><a id=\"more\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"PMF\"><a href=\"#PMF\" class=\"headerlink\" title=\"PMF\"></a>PMF</h2><ul>\n<li></li>\n<li> 20-50 3-6030,</li>\n</ul>\n<h3 id=\"growth-conversion-churn-\"><a href=\"#growth-conversion-churn-\" class=\"headerlink\" title=\"growth = conversion - churn()\"></a>growth = conversion - churn()</h3><p>=</p>\n<h2 id=\"-Landing-page\"><a href=\"#-Landing-page\" class=\"headerlink\" title=\"(Landing page)\"></a>(Landing page)</h2><ul>\n<li></li>\n<li></li>\n<li>How it works</li>\n<li>/</li>\n<li>CALL TO ACTION()</li>\n<li></li>\n</ul>\n<h2 id=\"CALL-TO-ACTION-\"><a href=\"#CALL-TO-ACTION-\" class=\"headerlink\" title=\"CALL TO ACTION \"></a>CALL TO ACTION </h2><p> Leads  Email List  </p>\n<h2 id=\"-online-chat\"><a href=\"#-online-chat\" class=\"headerlink\" title=\" online chat\"></a> online chat</h2><p>Churn  online chat </p>\n<p>Intercom Zopim</p>\n<p><a href=\"http://blog.xdite.net/posts/2016/02/01/grow-product-systematically\" target=\"_blank\" rel=\"external\">http://blog.xdite.net/posts/2016/02/01/grow-product-systematically</a></p>\n","excerpt":"<h1 id=\"Growth-Hack-\"><a href=\"#Growth-Hack-\" class=\"headerlink\" title=\"Growth Hack = \"></a>Growth Hack = </h1><h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h2><p>1.mvp(minimal viable product), 20 2.pmf(product market fit) 60</p>\n<ul>\n<li></li>\n<li></li>\n<li> 3.Growth Hack 60()-90 4.20()&gt;75</li>\n</ul>\n<p>pitch</p>\n<h2 id=\"-Growth-\"><a href=\"#-Growth-\" class=\"headerlink\" title=\" ( Growth ) \"></a> ( Growth ) </h2><p></p>\n<p>10  20 Minmal Viable Product 40  60 Product Market Fit 75  90 </p>\n<p> NPS   40 NPS   60 NPS  20   75 NPS  40   90 NPS  50   NPS </p>\n<p> NPS  70<br>","more":"</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"PMF\"><a href=\"#PMF\" class=\"headerlink\" title=\"PMF\"></a>PMF</h2><ul>\n<li></li>\n<li> 20-50 3-6030,</li>\n</ul>\n<h3 id=\"growth-conversion-churn-\"><a href=\"#growth-conversion-churn-\" class=\"headerlink\" title=\"growth = conversion - churn()\"></a>growth = conversion - churn()</h3><p>=</p>\n<h2 id=\"-Landing-page\"><a href=\"#-Landing-page\" class=\"headerlink\" title=\"(Landing page)\"></a>(Landing page)</h2><ul>\n<li></li>\n<li></li>\n<li>How it works</li>\n<li>/</li>\n<li>CALL TO ACTION()</li>\n<li></li>\n</ul>\n<h2 id=\"CALL-TO-ACTION-\"><a href=\"#CALL-TO-ACTION-\" class=\"headerlink\" title=\"CALL TO ACTION \"></a>CALL TO ACTION </h2><p> Leads  Email List  </p>\n<h2 id=\"-online-chat\"><a href=\"#-online-chat\" class=\"headerlink\" title=\" online chat\"></a> online chat</h2><p>Churn  online chat </p>\n<p>Intercom Zopim</p>\n<p><a href=\"http://blog.xdite.net/posts/2016/02/01/grow-product-systematically\">http://blog.xdite.net/posts/2016/02/01/grow-product-systematically</a></p>"},{"title":"Mysql","date":"2016-01-28T05:52:43.000Z","updated":"2016-01-28T05:52:43.000Z","_content":"\n:\n\n++ ++\n\n# \n1. cpu\n2. 1000w\n3. 20\n4. \n5. 3Bsql\n\n<!-- more -->\n\n# \n\n7. \n- tinyint(1Byte)\n- smallint(2Byte)\n- mediumint(3Byte)\n- int(4Byte)\n- bigint(8Byte)\n- bad caseint(1)/int(11)\n\n8. \n- intchar(15)ip\n- enumset,`sex` enum (F, M)\n- NULLNULLNULLNULL\n```sql\nbad case\n`name` char(32) default null\n`age` int not null\ngood case\n`age` int not null default 0\n```\n9. text/blob\nvarchartextblob;\n\n# \n12. \n13. \n14. `select id where age +1 = 10;`\n15. innodbSK;;innodb\n16. \n\n# sql\n17. sqlsqlcpusql\n18. ,\n19. trig/func\n20. select *  cpuio\n21. ORIN()`or`n`in`log(n)in200\n```sql\nselect id from t where phone=159 or phone=136;\n=>\nselect id from t where phone in (159, 136);\n```\n22. ORUNION\nmysql\n```sql\nselect id from t where phone = 159 or name = john;\n=>\nselect id from t where phone=159\nunion\nselect id from t where name=jonh\n```\n23. %\n24. count(*)\n25. limit\nlimit\n```sql\nselect id from t limit 10000, 10;\n=>\nselect id from t where id > 10000 limit 10;\n```\n26. `union all``union`, `union`\n27. join\n28. group by,,\n29. \n30. `load data`\nload datainsert20\n31. \n32. \n```sql\nshow profile;\nmysqlsla;\nmysqldumpslow;\nexplain;\nshow slow log;\nshow processlist;\nshow query_response_time(percona)\n```","source":"_posts/2016/ganji-design-msyql-rule.md","raw":"---\ntitle: Mysql\ndate: 2016-01-28 13:52:43\nupdated: 2016-01-28 13:52:43\ntags:\ncategories:\n---\n\n:\n\n++ ++\n\n# \n1. cpu\n2. 1000w\n3. 20\n4. \n5. 3Bsql\n\n<!-- more -->\n\n# \n\n7. \n- tinyint(1Byte)\n- smallint(2Byte)\n- mediumint(3Byte)\n- int(4Byte)\n- bigint(8Byte)\n- bad caseint(1)/int(11)\n\n8. \n- intchar(15)ip\n- enumset,`sex` enum (F, M)\n- NULLNULLNULLNULL\n```sql\nbad case\n`name` char(32) default null\n`age` int not null\ngood case\n`age` int not null default 0\n```\n9. text/blob\nvarchartextblob;\n\n# \n12. \n13. \n14. `select id where age +1 = 10;`\n15. innodbSK;;innodb\n16. \n\n# sql\n17. sqlsqlcpusql\n18. ,\n19. trig/func\n20. select *  cpuio\n21. ORIN()`or`n`in`log(n)in200\n```sql\nselect id from t where phone=159 or phone=136;\n=>\nselect id from t where phone in (159, 136);\n```\n22. ORUNION\nmysql\n```sql\nselect id from t where phone = 159 or name = john;\n=>\nselect id from t where phone=159\nunion\nselect id from t where name=jonh\n```\n23. %\n24. count(*)\n25. limit\nlimit\n```sql\nselect id from t limit 10000, 10;\n=>\nselect id from t where id > 10000 limit 10;\n```\n26. `union all``union`, `union`\n27. join\n28. group by,,\n29. \n30. `load data`\nload datainsert20\n31. \n32. \n```sql\nshow profile;\nmysqlsla;\nmysqldumpslow;\nexplain;\nshow slow log;\nshow processlist;\nshow query_response_time(percona)\n```","slug":"ganji-design-msyql-rule","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopua001ycwnnxc5jiznf","content":"<p>:</p>\n<p>++ ++</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>cpu</li>\n<li>1000w</li>\n<li>20</li>\n<li></li>\n<li>3Bsql</li>\n</ol>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n</ol>\n<ul>\n<li>tinyint(1Byte)</li>\n<li>smallint(2Byte)</li>\n<li>mediumint(3Byte)</li>\n<li>int(4Byte)</li>\n<li>bigint(8Byte)</li>\n<li>bad caseint(1)/int(11)</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>intchar(15)ip</li>\n<li>enumset,<code>sex</code> enum (F, M)</li>\n<li>NULLNULLNULLNULL<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bad case</span><br><span class=\"line\">`name` char(32) default null</span><br><span class=\"line\">`age` int not null</span><br><span class=\"line\">good case</span><br><span class=\"line\">`age` int not null default 0</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol>\n<li>text/blob<br>varchartextblob;</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li><code>select id where age +1 = 10;</code></li>\n<li>innodbSK;;innodb</li>\n<li></li>\n</ol>\n<h1 id=\"sql\"><a href=\"#sql\" class=\"headerlink\" title=\"sql\"></a>sql</h1><ol>\n<li>sqlsqlcpusql</li>\n<li>,</li>\n<li>trig/func</li>\n<li>select *  cpuio</li>\n<li><p>ORIN()<code>or</code>n<code>in</code>log(n)in200</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t where phone=159 or phone=136;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where phone in (159, 136);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ORUNION<br>mysql</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t where phone = 159 or name = john;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where phone=159</span><br><span class=\"line\">union</span><br><span class=\"line\">select id from t where name=jonh</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>%</p>\n</li>\n<li>count(*)</li>\n<li><p>limit<br>limit</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t limit 10000, 10;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where id &gt; 10000 limit 10;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>union all</code><code>union</code>, <code>union</code></p>\n</li>\n<li>join</li>\n<li>group by,,</li>\n<li></li>\n<li><code>load data</code><br>load datainsert20</li>\n<li></li>\n<li><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> profile;</span><br><span class=\"line\">mysqlsla;</span><br><span class=\"line\">mysqldumpslow;</span><br><span class=\"line\"><span class=\"keyword\">explain</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> slow <span class=\"keyword\">log</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">processlist</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> query_response_time(percona)</span><br></pre></td></tr></table></figure></li>\n</ol>\n","excerpt":"<p>:</p>\n<p>++ ++</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>cpu</li>\n<li>1000w</li>\n<li>20</li>\n<li></li>\n<li>3Bsql</li>\n</ol>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n</ol>\n<ul>\n<li>tinyint(1Byte)</li>\n<li>smallint(2Byte)</li>\n<li>mediumint(3Byte)</li>\n<li>int(4Byte)</li>\n<li>bigint(8Byte)</li>\n<li>bad caseint(1)/int(11)</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>intchar(15)ip</li>\n<li>enumset,<code>sex</code> enum (F, M)</li>\n<li>NULLNULLNULLNULL<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bad case</span><br><span class=\"line\">`name` char(32) default null</span><br><span class=\"line\">`age` int not null</span><br><span class=\"line\">good case</span><br><span class=\"line\">`age` int not null default 0</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol>\n<li>text/blob<br>varchartextblob;</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li><code>select id where age +1 = 10;</code></li>\n<li>innodbSK;;innodb</li>\n<li></li>\n</ol>\n<h1 id=\"sql\"><a href=\"#sql\" class=\"headerlink\" title=\"sql\"></a>sql</h1><ol>\n<li>sqlsqlcpusql</li>\n<li>,</li>\n<li>trig/func</li>\n<li>select *  cpuio</li>\n<li><p>ORIN()<code>or</code>n<code>in</code>log(n)in200</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t where phone=159 or phone=136;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where phone in (159, 136);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ORUNION<br>mysql</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t where phone = 159 or name = john;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where phone=159</span><br><span class=\"line\">union</span><br><span class=\"line\">select id from t where name=jonh</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>%</p>\n</li>\n<li>count(*)</li>\n<li><p>limit<br>limit</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select id from t limit 10000, 10;</span><br><span class=\"line\">=&gt;</span><br><span class=\"line\">select id from t where id &gt; 10000 limit 10;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>union all</code><code>union</code>, <code>union</code></p>\n</li>\n<li>join</li>\n<li>group by,,</li>\n<li></li>\n<li><code>load data</code><br>load datainsert20</li>\n<li></li>\n<li><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">show</span> profile;</span><br><span class=\"line\">mysqlsla;</span><br><span class=\"line\">mysqldumpslow;</span><br><span class=\"line\"><span class=\"keyword\">explain</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> slow <span class=\"keyword\">log</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> <span class=\"keyword\">processlist</span>;</span><br><span class=\"line\"><span class=\"keyword\">show</span> query_response_time(percona)</span><br></pre></td></tr></table></figure></li>\n</ol>"},{"title":"","date":"2016-10-12T13:49:53.000Z","updated":"2016-10-12T13:49:53.000Z","_content":"\n50\n<!--more-->\n\n##### \n persuasion science\n \n \n \n \n \n \n\n\n##### \nsocial proof\n \n \n \n\n##### \n\n\n\n##### VS\n**social norm******\n> \n\n> 12.2\n\n##### \n\n\n\n##### \n\n\n##### \n\n\n##### \n \n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n\n\n##### \n44\n\n##### \n\n\n##### \nps\n\n##### \n8%~10%\n\n##### \n\n\n##### \n\n:\n> :1961\n> :1961\n> :\n> :1961\n\n##### \n\n\n##### \n\n\n##### \n- \n- \n- \n- \n\n##### \n\n\n##### \n\n\n##### \n98%2%\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n:\n\n##### \n\n\n##### \n ****  ****  **** \n:\n>- \n>- \n>- ****\n\n##### \n\n\n##### \n****``\n>\n\n##### \n****\n\n##### \n ****\n\n##### \n> 10%9.8%10.2%\n> 15.58516\n> **\n\n\n:3:47\n\n##### \n****,****\n\n##### \n>:\n\n- 35****\n- 580286286580\n- \n\n##### \n****\n\n> 750\n> 750\n\n750\n\n##### \n\n\n##### \n  \n\n##### \n\n\n##### \n **** ****\n\n##### \n\n\n##### \n2120\n\n##### \n   ****\n\n##### \n\n\n\n\n\n- \n- `\n- \n- \n\n\n\n\n##### \n\n``****** ``\n\n> \n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n******** \n\n##### \n****,\n:\n- \n- \n- \n****\n\n##### \n","source":"_posts/2016/influence.md","raw":"---\ntitle: \ndate: 2016-10-12 21:49:53\nupdated: 2016-10-12 21:49:53\ntags:\n- \ncategories:\n---\n\n50\n<!--more-->\n\n##### \n persuasion science\n \n \n \n \n \n \n\n\n##### \nsocial proof\n \n \n \n\n##### \n\n\n\n##### VS\n**social norm******\n> \n\n> 12.2\n\n##### \n\n\n\n##### \n\n\n##### \n\n\n##### \n \n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n\n\n##### \n44\n\n##### \n\n\n##### \nps\n\n##### \n8%~10%\n\n##### \n\n\n##### \n\n:\n> :1961\n> :1961\n> :\n> :1961\n\n##### \n\n\n##### \n\n\n##### \n- \n- \n- \n- \n\n##### \n\n\n##### \n\n\n##### \n98%2%\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n\n\n##### \n:\n\n##### \n\n\n##### \n ****  ****  **** \n:\n>- \n>- \n>- ****\n\n##### \n\n\n##### \n****``\n>\n\n##### \n****\n\n##### \n ****\n\n##### \n> 10%9.8%10.2%\n> 15.58516\n> **\n\n\n:3:47\n\n##### \n****,****\n\n##### \n>:\n\n- 35****\n- 580286286580\n- \n\n##### \n****\n\n> 750\n> 750\n\n750\n\n##### \n\n\n##### \n  \n\n##### \n\n\n##### \n **** ****\n\n##### \n\n\n##### \n2120\n\n##### \n   ****\n\n##### \n\n\n\n\n\n- \n- `\n- \n- \n\n\n\n\n##### \n\n``****** ``\n\n> \n\n##### \n\n\n##### \n\n\n##### \n****\n\n##### \n******** \n\n##### \n****,\n:\n- \n- \n- \n****\n\n##### \n","slug":"influence","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopuc0020cwnnfaqiwsck","content":"<p>50<br><a id=\"more\"></a></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> persuasion science<br> <br> <br> <br> <br> <br> <br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>social proof<br> <br> <br> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"VS\"><a href=\"#VS\" class=\"headerlink\" title=\"VS\"></a>VS</h5><p><strong>social norm</strong><em></em><em></em></p>\n<blockquote>\n<p></p>\n<p>12.2</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>44</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ps</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>8%~10%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br>:</p>\n<blockquote>\n<p>:1961<br>:1961<br>:<br>:1961</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>98%2%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>:</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong>  <strong></strong>  <strong></strong> <br>:</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n</ul>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>10%9.8%10.2%<br>15.58516<br><em></em></p>\n</blockquote>\n<p><br>:3:47</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>:</p>\n</blockquote>\n<ul>\n<li>35<strong></strong></li>\n<li>580286286580</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><br></p>\n<blockquote>\n<p>750<br>750</p>\n</blockquote>\n<p>750</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>2120</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>   <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<p></p>\n<ul>\n<li></li>\n<li>`</li>\n<li></li>\n<li></li>\n</ul>\n<p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br><code></code><strong></strong><em></em> <code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><strong></strong> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<br>:</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><strong></strong></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n","excerpt":"<p>50<br>","more":"</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> persuasion science<br> <br> <br> <br> <br> <br> <br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>social proof<br> <br> <br> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"VS\"><a href=\"#VS\" class=\"headerlink\" title=\"VS\"></a>VS</h5><p><strong>social norm</strong><em></em><em></em></p>\n<blockquote>\n<p></p>\n<p>12.2</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>44</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ps</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>8%~10%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br>:</p>\n<blockquote>\n<p>:1961<br>:1961<br>:<br>:1961</p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>98%2%</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>:</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong>  <strong></strong>  <strong></strong> <br>:</p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n</ul>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>10%9.8%10.2%<br>15.58516<br><em></em></p>\n</blockquote>\n<p><br>:3:47</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><blockquote>\n<p>:</p>\n</blockquote>\n<ul>\n<li>35<strong></strong></li>\n<li>580286286580</li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><br></p>\n<blockquote>\n<p>750<br>750</p>\n</blockquote>\n<p>750</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> <strong></strong> <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>2120</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>   <strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<p></p>\n<ul>\n<li></li>\n<li>`</li>\n<li></li>\n<li></li>\n</ul>\n<p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br><code></code><strong></strong><em></em> <code></code></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong><strong></strong> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong></strong>,<br>:</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><strong></strong></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>"},{"title":"mysql","date":"2016-12-23T07:51:26.000Z","updated":"2016-12-23T07:51:26.000Z","_content":"\n### \n& : 11\n| : 11.\n^ : 1010\n\n### \n```\n$a = 6 2 110\n$b = 3 2 11\n$a & $b 110  11\n$a$b11,0.110  011\n010,2\n```\n\n<!-- more -->\n\n### \n\n\n1. varchar1,2,3,11\n2. ,1-121248163264128512102420484096\n 1,10,12`1+512+4096=4609`,4096 \n\n> ****1\n\n#### \n\n```sql\n\n--   |\nSELECT (4|2|1); --- = 7\n\n-- ^\nSELECT 7 ^ 1;\n\n-- 3\nSELECT * FROM `spots` WHERE `month` & 4 = 4;\n\n-- 43252\n\t\nUPDATE `spots` SET `month` = `month` | 2 WHERE `id` = 4325\n\n-- \nUPDATE `spots` SET` month` = `month` ^ 2 WHERE`id`= 4325\n\n-- 111216145\n\nSELECT * FROM `spots` WHERE `month` & 6145 = 6145\n\n-- 1,11,12\nSELECT * FROM `spots` WHERE (`month` & 4096 = 4096) or (`month` & 2048 = 2048) or (`month` & 1 = 1)\n\n```\n\n","source":"_posts/2016/mysql-bit.md","raw":"---\ntitle: mysql\ndate: 2016-12-23 15:51:26\nupdated: 2016-12-23 15:51:26\ntags:\ncategories:\n---\n\n### \n& : 11\n| : 11.\n^ : 1010\n\n### \n```\n$a = 6 2 110\n$b = 3 2 11\n$a & $b 110  11\n$a$b11,0.110  011\n010,2\n```\n\n<!-- more -->\n\n### \n\n\n1. varchar1,2,3,11\n2. ,1-121248163264128512102420484096\n 1,10,12`1+512+4096=4609`,4096 \n\n> ****1\n\n#### \n\n```sql\n\n--   |\nSELECT (4|2|1); --- = 7\n\n-- ^\nSELECT 7 ^ 1;\n\n-- 3\nSELECT * FROM `spots` WHERE `month` & 4 = 4;\n\n-- 43252\n\t\nUPDATE `spots` SET `month` = `month` | 2 WHERE `id` = 4325\n\n-- \nUPDATE `spots` SET` month` = `month` ^ 2 WHERE`id`= 4325\n\n-- 111216145\n\nSELECT * FROM `spots` WHERE `month` & 6145 = 6145\n\n-- 1,11,12\nSELECT * FROM `spots` WHERE (`month` & 4096 = 4096) or (`month` & 2048 = 2048) or (`month` & 1 = 1)\n\n```\n\n","slug":"mysql-bit","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopuh0022cwnno0s6ujle","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>&amp; : 11<br>| : 11.<br>^ : 1010</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$a = 6 2 110</span><br><span class=\"line\">$b = 3 2 11</span><br><span class=\"line\">$a &amp; $b 110  11</span><br><span class=\"line\">$a$b11,0.110  011</span><br><span class=\"line\">010,2</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ol>\n<li>varchar1,2,3,11</li>\n<li>,1-121248163264128512102420484096<br> 1,10,12<code>1+512+4096=4609</code>,4096 </li>\n</ol>\n<blockquote>\n<p><strong></strong>1</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--   |</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> (<span class=\"number\">4</span>|<span class=\"number\">2</span>|<span class=\"number\">1</span>); <span class=\"comment\">--- = 7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ^</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"number\">7</span> ^ <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 3</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">4</span> = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 43252</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span> <span class=\"string\">`month`</span> = <span class=\"string\">`month`</span> | <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`id`</span> = <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span><span class=\"string\">` month`</span> = <span class=\"string\">`month`</span> ^ <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span><span class=\"string\">`id`</span>= <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 111216145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">6145</span> = <span class=\"number\">6145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 1,11,12</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">4096</span> = <span class=\"number\">4096</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">2048</span> = <span class=\"number\">2048</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">1</span> = <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n","excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>&amp; : 11<br>| : 11.<br>^ : 1010</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$a = 6 2 110</span><br><span class=\"line\">$b = 3 2 11</span><br><span class=\"line\">$a &amp; $b 110  11</span><br><span class=\"line\">$a$b11,0.110  011</span><br><span class=\"line\">010,2</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ol>\n<li>varchar1,2,3,11</li>\n<li>,1-121248163264128512102420484096<br> 1,10,12<code>1+512+4096=4609</code>,4096 </li>\n</ol>\n<blockquote>\n<p><strong></strong>1</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--   |</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> (<span class=\"number\">4</span>|<span class=\"number\">2</span>|<span class=\"number\">1</span>); <span class=\"comment\">--- = 7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ^</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"number\">7</span> ^ <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 3</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">4</span> = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 43252</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span> <span class=\"string\">`month`</span> = <span class=\"string\">`month`</span> | <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`id`</span> = <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">SET</span><span class=\"string\">` month`</span> = <span class=\"string\">`month`</span> ^ <span class=\"number\">2</span> <span class=\"keyword\">WHERE</span><span class=\"string\">`id`</span>= <span class=\"number\">4325</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 111216145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> <span class=\"string\">`month`</span> &amp; <span class=\"number\">6145</span> = <span class=\"number\">6145</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 1,11,12</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"string\">`spots`</span> <span class=\"keyword\">WHERE</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">4096</span> = <span class=\"number\">4096</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">2048</span> = <span class=\"number\">2048</span>) <span class=\"keyword\">or</span> (<span class=\"string\">`month`</span> &amp; <span class=\"number\">1</span> = <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>"},{"title":"npm-script","date":"2016-11-23T07:07:28.000Z","updated":"2016-11-23T07:07:28.000Z","_content":"\n# npm scripts \n\nNode  npm npm \n\n npm npm scripts\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg)\n\n<!-- more -->\n##  npm \n\t\nnpm `package.json``scripts`\n\n```javascript\n{\n  // ...\n  \"scripts\": {\n    \"build\": \"node build.js\"\n  }\n}\n```\n\n`package.json``scripts``build``node build.js`\n\n`npm run`\n\n```bash\n$ npm run build\n# \n$ node build.js\n```\n\n`package.json` npm \n\n> - \n- `npm run test`\n-  npm \n\n npm `npm run`\n\n```bash\n$ npm run\n```\n\n## \n\nnpm `npm run` Shell Shell  Shell Bash npm \n\n`npm run` Shell`node_modules/.bin``PATH``PATH`\n\n`node_modules/.bin` Mocha`mocha test`\n\n```javascript\n\"test\": \"mocha test\"\n```\n\n\n\n```javascript\n\"test\": \"./node_modules/.bin/mocha test\"\n```\n\n npm  Shell  Node \n\nnpm  Shell `0`npm \n\n## \n\n npm  Shell  Shell \n\n```javascript\n\"lint\": \"jshint *.js\"\n\"lint\": \"jshint **/*.js\"\n```\n\n`*``**`\n\n Shell \n\n```javascript\n\"test\": \"tap test/\\*.js\"\n```\n\n## \n\n npm `--`\n\n```javascript\n\"lint\": \"jshint **.js\"\n```\n\n`npm run lint`\n\n```bash\n$ npm run lint --  --reporter checkstyle > checkstyle.xml\n```\n\n`package.json`\n\n```javascript\n\"lint\": \"jshint **.js\",\n\"lint:checkstyle\": \"npm run lint -- --reporter checkstyle > checkstyle.xml\"\n```\n\n## \n\n npm \n\n`&`\n\n```bash\n$ npm run script1.js & npm run script2.js\n```\n\n`&&`\n\n```bash\n$ npm run script1.js && npm run script2.js\n```\n\n Bash  node [script-runner](https://github.com/paulpflug/script-runner)[npm-run-all](https://github.com/mysticatea/npm-run-all)[redrun](https://github.com/coderaiser/redrun)\n\n## \n\nnpm npm \n\n```javascript\n\"start\": \"node server.js\"\n\"install\": \"node-gyp rebuild\"\n```\n\n`npm run start``node server.js``server.js``npm run install``node-gyp rebuild``binding.gyp`\n\n## \n\nnpm `pre``post``build``prebuild``postbuild`\n\n```javascript\n\"prebuild\": \"echo I run before the build script\",\n\"build\": \"cross-env NODE_ENV=production webpack\",\n\"postbuild\": \"echo I run after the build script\"\n```\n\n`npm run build`\n\n```bash\nnpm run prebuild && npm run build && npm run postbuild\n```\n\n\n\n```javascript\n\"clean\": \"rimraf ./dist && mkdir dist\",\n\"prebuild\": \"npm run clean\",\n\"build\": \"cross-env NODE_ENV=production webpack\"\n```\n\nnpm \n\n> - prepublishpostpublish\n- preinstallpostinstall\n- preuninstallpostuninstall\n- preversionpostversion\n- pretestposttest\n- prestoppoststop\n- prestartpoststart\n- prerestartpostrestart\n\n`pre``post``myscript``premyscript``postmyscript``pre``post``prepretest``postposttest`\n\nnpm `npm_lifecycle_event``pretest``test``posttest``npm scripts`\n\n```javascript\nconst TARGET = process.env.npm_lifecycle_event;\n\nif (TARGET === 'test') {\n  console.log(`Running the test task!`);\n}\n\nif (TARGET === 'pretest') {\n  console.log(`Running the pretest task!`);\n}\n\nif (TARGET === 'posttest') {\n  console.log(`Running the posttest task!`);\n}\n```\n\n`prepublish``npm publish``npm install` npm 4 `prepare``prepublish` npm 5 `prepublish``npm publish`\n\n## \n\n npm \n\n> - `npm start``npm run start`\n- `npm stop``npm run stop`\n- `npm test``npm run test`\n- `npm restart``npm run stop && npm run restart && npm run start`\n\n`npm start``npm stop``npm restart``npm restart``stop``restart``start`\n\n> 1. prerestart\n1. prestop\n1. stop\n1. poststop\n1. restart\n1. prestart\n1. start\n1. poststart\n1. postrestart \n\n## \n\nnpm  npm \n\n`npm_package_`npm `package.json``package.json`\n\n```javascript\n{\n  \"name\": \"foo\", \n  \"version\": \"1.2.5\",\n  \"scripts\": {\n    \"view\": \"node view.js\"\n  }\n}\n```\n\n`npm_package_name``foo``npm_package_version``1.2.5`\n\n```javascript\n// view.js\nconsole.log(process.env.npm_package_name); // foo\nconsole.log(process.env.npm_package_version); // 1.2.5\n```\n\n`process.env``package.json` Bash `$npm_package_name``$npm_package_version`\n\n`npm_package_``package.json`\n\n```javascript\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"xxx\"\n  },\n  scripts: {\n    \"view\": \"echo $npm_package_repository_type\"\n  }\n```\n\n`repository``type``npm_package_repository_type`\n\n\n\n```javascript\n\"scripts\": {\n  \"install\": \"foo.js\"\n}\n```\n\n`npm_package_scripts_install``foo.js`\n\nnpm `npm_config_` npm `npm config get xxx``npm_config_tag`\n\n```javascript\n\"view\": \"echo $npm_config_tag\",\n```\n\n`package.json``config`\n\n```javascript\n{ \n  \"name\" : \"foo\",\n  \"config\" : { \"port\" : \"8080\" },\n  \"scripts\" : { \"start\" : \"node server.js\" }\n}\n```\n\n`npm_package_config_port``8080`\n\n```bash\n$ npm config set foo:port 80\n```\n\n`env`\n\n```javascript\n\"env\": \"env\"\n```\n\n## \n\n```javascript\n// \n\"clean\": \"rimraf dist/*\",\n\n//  HTTP \n\"serve\": \"http-server -p 9090 dist/\",\n\n// \n\"open:dev\": \"opener http://localhost:9090\",\n\n// \n \"livereload\": \"live-reload --port 9091 dist/\",\n\n//  HTML \n\"build:html\": \"jade index.jade > dist/index.html\",\n\n//  CSS \n\"watch:css\": \"watch 'npm run build:css' assets/styles/\",\n\n//  HTML \n\"watch:html\": \"watch 'npm run build:html' assets/html\",\n\n//  Amazon S3\n\"deploy:prod\": \"s3-cli sync ./dist/ s3://example-com/prod-site/\",\n\n//  favicon\n\"build:favicon\": \"node scripts/favicon.js\",\n```\n\n## \n\n- [How to Use npm as a Build Tool](https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/), by Keith Cirkel\n- [Awesome npm scripts](https://github.com/RyanZim/awesome-npm-scripts#articles), by Ryan Zimmerman\n","source":"_posts/2016/npm-script.md","raw":"---\ntitle: npm-script\ndate: 2016-11-23 15:07:28\nupdated: 2016-11-23 15:07:28\ntags:\n- js\ncategories:\n---\n\n# npm scripts \n\nNode  npm npm \n\n npm npm scripts\n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg)\n\n<!-- more -->\n##  npm \n\t\nnpm `package.json``scripts`\n\n```javascript\n{\n  // ...\n  \"scripts\": {\n    \"build\": \"node build.js\"\n  }\n}\n```\n\n`package.json``scripts``build``node build.js`\n\n`npm run`\n\n```bash\n$ npm run build\n# \n$ node build.js\n```\n\n`package.json` npm \n\n> - \n- `npm run test`\n-  npm \n\n npm `npm run`\n\n```bash\n$ npm run\n```\n\n## \n\nnpm `npm run` Shell Shell  Shell Bash npm \n\n`npm run` Shell`node_modules/.bin``PATH``PATH`\n\n`node_modules/.bin` Mocha`mocha test`\n\n```javascript\n\"test\": \"mocha test\"\n```\n\n\n\n```javascript\n\"test\": \"./node_modules/.bin/mocha test\"\n```\n\n npm  Shell  Node \n\nnpm  Shell `0`npm \n\n## \n\n npm  Shell  Shell \n\n```javascript\n\"lint\": \"jshint *.js\"\n\"lint\": \"jshint **/*.js\"\n```\n\n`*``**`\n\n Shell \n\n```javascript\n\"test\": \"tap test/\\*.js\"\n```\n\n## \n\n npm `--`\n\n```javascript\n\"lint\": \"jshint **.js\"\n```\n\n`npm run lint`\n\n```bash\n$ npm run lint --  --reporter checkstyle > checkstyle.xml\n```\n\n`package.json`\n\n```javascript\n\"lint\": \"jshint **.js\",\n\"lint:checkstyle\": \"npm run lint -- --reporter checkstyle > checkstyle.xml\"\n```\n\n## \n\n npm \n\n`&`\n\n```bash\n$ npm run script1.js & npm run script2.js\n```\n\n`&&`\n\n```bash\n$ npm run script1.js && npm run script2.js\n```\n\n Bash  node [script-runner](https://github.com/paulpflug/script-runner)[npm-run-all](https://github.com/mysticatea/npm-run-all)[redrun](https://github.com/coderaiser/redrun)\n\n## \n\nnpm npm \n\n```javascript\n\"start\": \"node server.js\"\n\"install\": \"node-gyp rebuild\"\n```\n\n`npm run start``node server.js``server.js``npm run install``node-gyp rebuild``binding.gyp`\n\n## \n\nnpm `pre``post``build``prebuild``postbuild`\n\n```javascript\n\"prebuild\": \"echo I run before the build script\",\n\"build\": \"cross-env NODE_ENV=production webpack\",\n\"postbuild\": \"echo I run after the build script\"\n```\n\n`npm run build`\n\n```bash\nnpm run prebuild && npm run build && npm run postbuild\n```\n\n\n\n```javascript\n\"clean\": \"rimraf ./dist && mkdir dist\",\n\"prebuild\": \"npm run clean\",\n\"build\": \"cross-env NODE_ENV=production webpack\"\n```\n\nnpm \n\n> - prepublishpostpublish\n- preinstallpostinstall\n- preuninstallpostuninstall\n- preversionpostversion\n- pretestposttest\n- prestoppoststop\n- prestartpoststart\n- prerestartpostrestart\n\n`pre``post``myscript``premyscript``postmyscript``pre``post``prepretest``postposttest`\n\nnpm `npm_lifecycle_event``pretest``test``posttest``npm scripts`\n\n```javascript\nconst TARGET = process.env.npm_lifecycle_event;\n\nif (TARGET === 'test') {\n  console.log(`Running the test task!`);\n}\n\nif (TARGET === 'pretest') {\n  console.log(`Running the pretest task!`);\n}\n\nif (TARGET === 'posttest') {\n  console.log(`Running the posttest task!`);\n}\n```\n\n`prepublish``npm publish``npm install` npm 4 `prepare``prepublish` npm 5 `prepublish``npm publish`\n\n## \n\n npm \n\n> - `npm start``npm run start`\n- `npm stop``npm run stop`\n- `npm test``npm run test`\n- `npm restart``npm run stop && npm run restart && npm run start`\n\n`npm start``npm stop``npm restart``npm restart``stop``restart``start`\n\n> 1. prerestart\n1. prestop\n1. stop\n1. poststop\n1. restart\n1. prestart\n1. start\n1. poststart\n1. postrestart \n\n## \n\nnpm  npm \n\n`npm_package_`npm `package.json``package.json`\n\n```javascript\n{\n  \"name\": \"foo\", \n  \"version\": \"1.2.5\",\n  \"scripts\": {\n    \"view\": \"node view.js\"\n  }\n}\n```\n\n`npm_package_name``foo``npm_package_version``1.2.5`\n\n```javascript\n// view.js\nconsole.log(process.env.npm_package_name); // foo\nconsole.log(process.env.npm_package_version); // 1.2.5\n```\n\n`process.env``package.json` Bash `$npm_package_name``$npm_package_version`\n\n`npm_package_``package.json`\n\n```javascript\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"xxx\"\n  },\n  scripts: {\n    \"view\": \"echo $npm_package_repository_type\"\n  }\n```\n\n`repository``type``npm_package_repository_type`\n\n\n\n```javascript\n\"scripts\": {\n  \"install\": \"foo.js\"\n}\n```\n\n`npm_package_scripts_install``foo.js`\n\nnpm `npm_config_` npm `npm config get xxx``npm_config_tag`\n\n```javascript\n\"view\": \"echo $npm_config_tag\",\n```\n\n`package.json``config`\n\n```javascript\n{ \n  \"name\" : \"foo\",\n  \"config\" : { \"port\" : \"8080\" },\n  \"scripts\" : { \"start\" : \"node server.js\" }\n}\n```\n\n`npm_package_config_port``8080`\n\n```bash\n$ npm config set foo:port 80\n```\n\n`env`\n\n```javascript\n\"env\": \"env\"\n```\n\n## \n\n```javascript\n// \n\"clean\": \"rimraf dist/*\",\n\n//  HTTP \n\"serve\": \"http-server -p 9090 dist/\",\n\n// \n\"open:dev\": \"opener http://localhost:9090\",\n\n// \n \"livereload\": \"live-reload --port 9091 dist/\",\n\n//  HTML \n\"build:html\": \"jade index.jade > dist/index.html\",\n\n//  CSS \n\"watch:css\": \"watch 'npm run build:css' assets/styles/\",\n\n//  HTML \n\"watch:html\": \"watch 'npm run build:html' assets/html\",\n\n//  Amazon S3\n\"deploy:prod\": \"s3-cli sync ./dist/ s3://example-com/prod-site/\",\n\n//  favicon\n\"build:favicon\": \"node scripts/favicon.js\",\n```\n\n## \n\n- [How to Use npm as a Build Tool](https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/), by Keith Cirkel\n- [Awesome npm scripts](https://github.com/RyanZim/awesome-npm-scripts#articles), by Ryan Zimmerman\n","slug":"npm-script","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopuj0023cwnnqce28tgx","content":"<h1 id=\"npm-scripts-\"><a href=\"#npm-scripts-\" class=\"headerlink\" title=\"npm scripts \"></a>npm scripts </h1><p>Node  npm npm </p>\n<p> npm npm scripts</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"-npm-\"><a href=\"#-npm-\" class=\"headerlink\" title=\" npm \"></a> npm </h2><p>npm <code>package.json</code><code>scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"build\"</span>: <span class=\"string\">\"node build.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>scripts</code><code>build</code><code>node build.js</code></p>\n<p><code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run build</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ node build.js</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code> npm </p>\n<blockquote>\n<ul>\n<li></li>\n<li><code>npm run test</code></li>\n<li> npm </li>\n</ul>\n</blockquote>\n<p> npm <code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>npm run</code> Shell Shell  Shell Bash npm </p>\n<p><code>npm run</code> Shell<code>node_modules/.bin</code><code>PATH</code><code>PATH</code></p>\n<p><code>node_modules/.bin</code> Mocha<code>mocha test</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"./node_modules/.bin/mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p> npm  Shell  Node </p>\n<p>npm  Shell <code>0</code>npm </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm  Shell  Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>*</code><code>**</code></p>\n<p> Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm <code>--</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run lint</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<p><code>&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p><code>&amp;&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p> Bash  node <a href=\"https://github.com/paulpflug/script-runner\" target=\"_blank\" rel=\"external\">script-runner</a><a href=\"https://github.com/mysticatea/npm-run-all\" target=\"_blank\" rel=\"external\">npm-run-all</a><a href=\"https://github.com/coderaiser/redrun\" target=\"_blank\" rel=\"external\">redrun</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm npm </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run start</code><code>node server.js</code><code>server.js</code><code>npm run install</code><code>node-gyp rebuild</code><code>binding.gyp</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>pre</code><code>post</code><code>build</code><code>prebuild</code><code>postbuild</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run build</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n<p>npm </p>\n<blockquote>\n<ul>\n<li>prepublishpostpublish</li>\n<li>preinstallpostinstall</li>\n<li>preuninstallpostuninstall</li>\n<li>preversionpostversion</li>\n<li>pretestposttest</li>\n<li>prestoppoststop</li>\n<li>prestartpoststart</li>\n<li>prerestartpostrestart</li>\n</ul>\n</blockquote>\n<p><code>pre</code><code>post</code><code>myscript</code><code>premyscript</code><code>postmyscript</code><code>pre</code><code>post</code><code>prepretest</code><code>postposttest</code></p>\n<p>npm <code>npm_lifecycle_event</code><code>pretest</code><code>test</code><code>posttest</code><code>npm scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> TARGET = process.env.npm_lifecycle_event;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'test'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the test task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'pretest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the pretest task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'posttest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the posttest task!`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>prepublish</code><code>npm publish</code><code>npm install</code> npm 4 <code>prepare</code><code>prepublish</code> npm 5 <code>prepublish</code><code>npm publish</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<blockquote>\n<ul>\n<li><code>npm start</code><code>npm run start</code></li>\n<li><code>npm stop</code><code>npm run stop</code></li>\n<li><code>npm test</code><code>npm run test</code></li>\n<li><code>npm restart</code><code>npm run stop &amp;&amp; npm run restart &amp;&amp; npm run start</code></li>\n</ul>\n</blockquote>\n<p><code>npm start</code><code>npm stop</code><code>npm restart</code><code>npm restart</code><code>stop</code><code>restart</code><code>start</code></p>\n<blockquote>\n<ol>\n<li>prerestart</li>\n<li>prestop</li>\n<li>stop</li>\n<li>poststop</li>\n<li>restart</li>\n<li>prestart</li>\n<li>start</li>\n<li>poststart</li>\n<li>postrestart </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm  npm </p>\n<p><code>npm_package_</code>npm <code>package.json</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"name\"</span>: <span class=\"string\">\"foo\"</span>, </span><br><span class=\"line\">  <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.2.5\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"view\"</span>: <span class=\"string\">\"node view.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_name</code><code>foo</code><code>npm_package_version</code><code>1.2.5</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view.js</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_name); <span class=\"comment\">// foo</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_version); <span class=\"comment\">// 1.2.5</span></span><br></pre></td></tr></table></figure>\n<p><code>process.env</code><code>package.json</code> Bash <code>$npm_package_name</code><code>$npm_package_version</code></p>\n<p><code>npm_package_</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"repository\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"type\"</span>: <span class=\"string\">\"git\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"url\"</span>: <span class=\"string\">\"xxx\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">scripts: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_package_repository_type\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>repository</code><code>type</code><code>npm_package_repository_type</code></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"install\"</span>: <span class=\"string\">\"foo.js\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_scripts_install</code><code>foo.js</code></p>\n<p>npm <code>npm_config_</code> npm <code>npm config get xxx</code><code>npm_config_tag</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_config_tag\"</span>,</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>config</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; </span><br><span class=\"line\">  <span class=\"string\">\"name\"</span> : <span class=\"string\">\"foo\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"config\"</span> : &#123; <span class=\"string\">\"port\"</span> : <span class=\"string\">\"8080\"</span> &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span> : &#123; <span class=\"string\">\"start\"</span> : <span class=\"string\">\"node server.js\"</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_config_port</code><code>8080</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config <span class=\"built_in\">set</span> foo:port 80</span><br></pre></td></tr></table></figure>\n<p><code>env</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf dist/*\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTTP </span></span><br><span class=\"line\"><span class=\"string\">\"serve\"</span>: <span class=\"string\">\"http-server -p 9090 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"open:dev\"</span>: <span class=\"string\">\"opener http://localhost:9090\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"string\">\"livereload\"</span>: <span class=\"string\">\"live-reload --port 9091 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"build:html\"</span>: <span class=\"string\">\"jade index.jade &gt; dist/index.html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  CSS </span></span><br><span class=\"line\"><span class=\"string\">\"watch:css\"</span>: <span class=\"string\">\"watch 'npm run build:css' assets/styles/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"watch:html\"</span>: <span class=\"string\">\"watch 'npm run build:html' assets/html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Amazon S3</span></span><br><span class=\"line\"><span class=\"string\">\"deploy:prod\"</span>: <span class=\"string\">\"s3-cli sync ./dist/ s3://example-com/prod-site/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  favicon</span></span><br><span class=\"line\"><span class=\"string\">\"build:favicon\"</span>: <span class=\"string\">\"node scripts/favicon.js\"</span>,</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/\" target=\"_blank\" rel=\"external\">How to Use npm as a Build Tool</a>, by Keith Cirkel</li>\n<li><a href=\"https://github.com/RyanZim/awesome-npm-scripts#articles\" target=\"_blank\" rel=\"external\">Awesome npm scripts</a>, by Ryan Zimmerman</li>\n</ul>\n","excerpt":"<h1 id=\"npm-scripts-\"><a href=\"#npm-scripts-\" class=\"headerlink\" title=\"npm scripts \"></a>npm scripts </h1><p>Node  npm npm </p>\n<p> npm npm scripts</p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016101101.jpg\" alt=\"\"></p>","more":"<h2 id=\"-npm-\"><a href=\"#-npm-\" class=\"headerlink\" title=\" npm \"></a> npm </h2><p>npm <code>package.json</code><code>scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"build\"</span>: <span class=\"string\">\"node build.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>scripts</code><code>build</code><code>node build.js</code></p>\n<p><code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run build</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">$ node build.js</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code> npm </p>\n<blockquote>\n<ul>\n<li></li>\n<li><code>npm run test</code></li>\n<li> npm </li>\n</ul>\n</blockquote>\n<p> npm <code>npm run</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>npm run</code> Shell Shell  Shell Bash npm </p>\n<p><code>npm run</code> Shell<code>node_modules/.bin</code><code>PATH</code><code>PATH</code></p>\n<p><code>node_modules/.bin</code> Mocha<code>mocha test</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"./node_modules/.bin/mocha test\"</span></span><br></pre></td></tr></table></figure>\n<p> npm  Shell  Node </p>\n<p>npm  Shell <code>0</code>npm </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm  Shell  Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint *.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **/*.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>*</code><code>**</code></p>\n<p> Shell </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"test\"</span>: <span class=\"string\">\"tap test/\\*.js\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm <code>--</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run lint</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run lint --  --reporter checkstyle &gt; checkstyle.xml</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"lint\"</span>: <span class=\"string\">\"jshint **.js\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"lint:checkstyle\"</span>: <span class=\"string\">\"npm run lint -- --reporter checkstyle &gt; checkstyle.xml\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<p><code>&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p><code>&amp;&amp;</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm run script1.js &amp;&amp; npm run script2.js</span><br></pre></td></tr></table></figure>\n<p> Bash  node <a href=\"https://github.com/paulpflug/script-runner\">script-runner</a><a href=\"https://github.com/mysticatea/npm-run-all\">npm-run-all</a><a href=\"https://github.com/coderaiser/redrun\">redrun</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm npm </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"start\"</span>: <span class=\"string\">\"node server.js\"</span></span><br><span class=\"line\"><span class=\"string\">\"install\"</span>: <span class=\"string\">\"node-gyp rebuild\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run start</code><code>node server.js</code><code>server.js</code><code>npm run install</code><code>node-gyp rebuild</code><code>binding.gyp</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm <code>pre</code><code>post</code><code>build</code><code>prebuild</code><code>postbuild</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"echo I run before the build script\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"postbuild\"</span>: <span class=\"string\">\"echo I run after the build script\"</span></span><br></pre></td></tr></table></figure>\n<p><code>npm run build</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf ./dist &amp;&amp; mkdir dist\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"prebuild\"</span>: <span class=\"string\">\"npm run clean\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"build\"</span>: <span class=\"string\">\"cross-env NODE_ENV=production webpack\"</span></span><br></pre></td></tr></table></figure>\n<p>npm </p>\n<blockquote>\n<ul>\n<li>prepublishpostpublish</li>\n<li>preinstallpostinstall</li>\n<li>preuninstallpostuninstall</li>\n<li>preversionpostversion</li>\n<li>pretestposttest</li>\n<li>prestoppoststop</li>\n<li>prestartpoststart</li>\n<li>prerestartpostrestart</li>\n</ul>\n</blockquote>\n<p><code>pre</code><code>post</code><code>myscript</code><code>premyscript</code><code>postmyscript</code><code>pre</code><code>post</code><code>prepretest</code><code>postposttest</code></p>\n<p>npm <code>npm_lifecycle_event</code><code>pretest</code><code>test</code><code>posttest</code><code>npm scripts</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> TARGET = process.env.npm_lifecycle_event;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'test'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the test task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'pretest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the pretest task!`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (TARGET === <span class=\"string\">'posttest'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Running the posttest task!`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>prepublish</code><code>npm publish</code><code>npm install</code> npm 4 <code>prepare</code><code>prepublish</code> npm 5 <code>prepublish</code><code>npm publish</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> npm </p>\n<blockquote>\n<ul>\n<li><code>npm start</code><code>npm run start</code></li>\n<li><code>npm stop</code><code>npm run stop</code></li>\n<li><code>npm test</code><code>npm run test</code></li>\n<li><code>npm restart</code><code>npm run stop &amp;&amp; npm run restart &amp;&amp; npm run start</code></li>\n</ul>\n</blockquote>\n<p><code>npm start</code><code>npm stop</code><code>npm restart</code><code>npm restart</code><code>stop</code><code>restart</code><code>start</code></p>\n<blockquote>\n<ol>\n<li>prerestart</li>\n<li>prestop</li>\n<li>stop</li>\n<li>poststop</li>\n<li>restart</li>\n<li>prestart</li>\n<li>start</li>\n<li>poststart</li>\n<li>postrestart </li>\n</ol>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>npm  npm </p>\n<p><code>npm_package_</code>npm <code>package.json</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"name\"</span>: <span class=\"string\">\"foo\"</span>, </span><br><span class=\"line\">  <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.2.5\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"view\"</span>: <span class=\"string\">\"node view.js\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_name</code><code>foo</code><code>npm_package_version</code><code>1.2.5</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// view.js</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_name); <span class=\"comment\">// foo</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(process.env.npm_package_version); <span class=\"comment\">// 1.2.5</span></span><br></pre></td></tr></table></figure>\n<p><code>process.env</code><code>package.json</code> Bash <code>$npm_package_name</code><code>$npm_package_version</code></p>\n<p><code>npm_package_</code><code>package.json</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"repository\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"type\"</span>: <span class=\"string\">\"git\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"url\"</span>: <span class=\"string\">\"xxx\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">scripts: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_package_repository_type\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>repository</code><code>type</code><code>npm_package_repository_type</code></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"install\"</span>: <span class=\"string\">\"foo.js\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_scripts_install</code><code>foo.js</code></p>\n<p>npm <code>npm_config_</code> npm <code>npm config get xxx</code><code>npm_config_tag</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"view\"</span>: <span class=\"string\">\"echo $npm_config_tag\"</span>,</span><br></pre></td></tr></table></figure>\n<p><code>package.json</code><code>config</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; </span><br><span class=\"line\">  <span class=\"string\">\"name\"</span> : <span class=\"string\">\"foo\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"config\"</span> : &#123; <span class=\"string\">\"port\"</span> : <span class=\"string\">\"8080\"</span> &#125;,</span><br><span class=\"line\">  <span class=\"string\">\"scripts\"</span> : &#123; <span class=\"string\">\"start\"</span> : <span class=\"string\">\"node server.js\"</span> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>npm_package_config_port</code><code>8080</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config <span class=\"built_in\">set</span> foo:port 80</span><br></pre></td></tr></table></figure>\n<p><code>env</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"env\"</span>: <span class=\"string\">\"env\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"clean\"</span>: <span class=\"string\">\"rimraf dist/*\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTTP </span></span><br><span class=\"line\"><span class=\"string\">\"serve\"</span>: <span class=\"string\">\"http-server -p 9090 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"string\">\"open:dev\"</span>: <span class=\"string\">\"opener http://localhost:9090\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"string\">\"livereload\"</span>: <span class=\"string\">\"live-reload --port 9091 dist/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"build:html\"</span>: <span class=\"string\">\"jade index.jade &gt; dist/index.html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  CSS </span></span><br><span class=\"line\"><span class=\"string\">\"watch:css\"</span>: <span class=\"string\">\"watch 'npm run build:css' assets/styles/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  HTML </span></span><br><span class=\"line\"><span class=\"string\">\"watch:html\"</span>: <span class=\"string\">\"watch 'npm run build:html' assets/html\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Amazon S3</span></span><br><span class=\"line\"><span class=\"string\">\"deploy:prod\"</span>: <span class=\"string\">\"s3-cli sync ./dist/ s3://example-com/prod-site/\"</span>,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  favicon</span></span><br><span class=\"line\"><span class=\"string\">\"build:favicon\"</span>: <span class=\"string\">\"node scripts/favicon.js\"</span>,</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/\">How to Use npm as a Build Tool</a>, by Keith Cirkel</li>\n<li><a href=\"https://github.com/RyanZim/awesome-npm-scripts#articles\">Awesome npm scripts</a>, by Ryan Zimmerman</li>\n</ul>"},{"title":"mysql-cheatsheet","date":"2016-11-02T09:27:11.000Z","updated":"2016-11-02T09:27:11.000Z","_content":"\n### Connect/Disconnect\n\n``` mysql\nmysql -h <host> -u <user> -p<passwd>\nmysql -h <host> -u <user> -p\nEnter password: ********\nmysql -u user -p\nmysql\nmysql -h <host> -u <user> -p <Database>\n```\n<!-- more -->\n### Query\n \n```sql\n SELECT * FROM table\n SELECT * FROM table1, table2, ...\n SELECT field1, field2, ... FROM table1, table2, ...\n SELECT ... FROM ... WHERE condition\n SELECT ... FROM ... WHERE condition GROUP BY field\n SELECT ... FROM ... WHERE condition GROUP BY field HAVING condition2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2 DESC\n SELECT ... FROM ... WHERE condition LIMIT 10\n SELECT DISTINCT field1 FROM ...\n SELECT DISTINCT field1, field2 FROM ...\n\n SELECT ... FROM t1 JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 JOIN (t2 JOIN t3 ON ...) ON ...\n SELECT ... FROM t1 JOIN t2 USING(id) WHERE condition\n \n -- RLIKE|REGEXP\n SELECT * FROM table WHERE column REGEXP '^(A|B|C)'\n SELECT * FROM table WHERE rec RLIKE \"^b$\";  \n -- \n DESCRIBE table [column]\n \n --\n SELECT CURRENT_DATE, (YEAR(CURRENT_DATE)YEAR(date_col)) AS time_diff [FROM table]; \n\n```\n\n### Conditionals\n \n```\n field1 = value1\n field1 <> value1\n field1 LIKE 'value _ %'\n field1 IS NULL\n field1 IS NOT NULL\n field1 IN (value1, value2)\n field1 NOT IN (value1, value2)\n condition1 AND condition2\n condition1 OR condition2\n```\n###  table Index\n\n\n```\nCREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)\nDROP INDEX index_name\n\n```\n\n### Data Manipulation\n \n```\n INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)\n INSERT table1 SET field1=value_1, field2=value_2 ...\n\n LOAD DATA INFILE '/tmp/mydata.txt' INTO TABLE table1\n FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"' ESCAPED BY '\\\\'\n\n DELETE FROM table1 / TRUNCATE table1\n DELETE FROM table1 WHERE condition\n -- join:\n DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition\n\n UPDATE table1 SET field1=new_value1 WHERE condition\n -- join:\n UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...\n WHERE table1.id1 = table2.id2 AND condition\n```\n\n### Browsing\n \n```\n SHOW DATABASES\n SHOW TABLES\n SHOW FIELDS FROM table\n -- \n SHOW COLUMNS FROM table \n DESCRIBE table \n DESC table \n EXPLAIN table\n \n SHOW CREATE TABLE table\n SHOW CREATE TRIGGER trigger\n SHOW TRIGGERS LIKE '%update%'\n SHOW PROCESSLIST\n KILL process_number\n SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = '**yourdbname**';\n \n mysqlshow\n mysqlshow database\n \n SELECT current_database()\n```\n\n### Create / delete / select / alter database\n \n```\nCREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]\n CREATE DATABASE mabase CHARACTER SET utf8\n DROP DATABASE mabase\n USE mabase\n\n ALTER DATABASE mabase CHARACTER SET utf8\n```\n\n### Create table\n\n```\nCREATE TABLE table (field1 type1, field2 type2, ...)\n CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)\n CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))\n CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,\n   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)\n     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]\n     [ON DELETE] [CASCADE|SET NULL|RESTRICT])\n CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,\n   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))\n CREATE TABLE table IF NOT EXISTS (...)\n\n CREATE TABLE new_tbl_name LIKE tbl_name\n   [SELECT ... FROM tbl_name ...]\n\n CREATE TEMPORARY TABLE table (...)\n\n CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name\n ```\n### delete table\n\n\n```\nDROP TABLE table\n DROP TABLE IF EXISTS table\n DROP TABLE table1, table2, ...\n DROP TEMPORARY TABLE table\n```\n\n\n### modify table\n\n```\n ALTER TABLE table MODIFY field1 type1 \n ALTER TABLE table MODIFY field1 type1 NOT NULL ... \n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...\n ALTER TABLE table ALTER field1 SET DEFAULT ...\n ALTER TABLE table ALTER field1 DROP DEFAULT\n ALTER TABLE table ADD new_name_field1 type1\n ALTER TABLE table ADD new_name_field1 type1 FIRST\n ALTER TABLE table ADD new_name_field1 type1 AFTER another_field\n ALTER TABLE table DROP field1\n ALTER TABLE table ADD INDEX (field);\n ALTER TABLE table ADD PRIMARY KEY (field);\n\n -- Change field order:\n ALTER TABLE table MODIFY field1 type1 FIRST\n ALTER TABLE table MODIFY field1 type1 AFTER another_field\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field\n\n ALTER TABLE old_name RENAME new_name;\nKeys\n CREATE TABLE table (..., PRIMARY KEY (field1, field2))\n CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))\n ALTER TABLE table ADD PRIMARY KEY (field);\n ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);\n \n```\n### create/modify/drop view\n```\n CREATE VIEW view AS SELECT ... FROM table WHERE ...\n```\n\n### Privileges\n \n```\nCREATE USER 'user'@'localhost' IDENTIFIED BY 'password';\n\n GRANT ALL PRIVILEGES ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n GRANT SELECT, INSERT, DELETE ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n REVOKE ALL PRIVILEGES ON base.* FROM 'user'@'host'; -- one permission only\n REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'user'@'host'; -- all permissions\n\n SET PASSWORD = PASSWORD('new_pass')\n SET PASSWORD FOR 'user'@'host' = PASSWORD('new_pass')\n SET PASSWORD = OLD_PASSWORD('new_pass')\n\n DROP USER 'user'@'host'\n```\n\n### Main data types\n\n```\nTINYINT   (1o: -127+128) \nSMALLINT  (2o: +-65 000)\nMEDIUMINT (3o: +-16 000 000) \nINT       (4o: +-2 000 000 000)\nBIGINT    (8o: +-9.10^18)\n  Precise interval: -(2^(8*N-1)) -> (2^8*N)-1\n  /!\\ INT(2) = \"2 digits displayed\" -- NOT \"number with 2 digits max\"\nINT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK\nFLOAT(M,D) DOUBLE(M,D) FLOAT(D=0->53) \n  /!\\ 8,3 -> 12345,678 -- NOT 12345678,123!\nTIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000->9999)\n  TIMESTAMP (like DATETIME, but 1970->2038, compatible with Unix)\nVARCHAR (single-line; explicit size)  \nTEXT (multi-lines; max size=65535) \nBLOB (binary; max size=65535)\n  Variants for TEXT&BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)\n Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT\nENUM ('value1', 'value2', ...) -- (default NULL, or '' if NOT NULL)\n```\n\n### Forgot root password?\n\n```\n$ /etc/init.d/mysql stop\n$ mysqld_safe --skip-grant-tables &\n$ mysql # on another terminal\nmysql > UPDATE mysql.user SET password=PASSWORD('nouveau') WHERE user='root';\n## Kill mysqld_safe from the terminal, using Control + \\\n$ /etc/init.d/mysql start\n```\n\n### Repair tables after unclean shutdown\n\n```\nmysqlcheck --all-databases\nmysqlcheck --all-databases --fast\n```\n\n\n\n### Loading data\n\n```sql\nmysql> SOURCE input_file\nmysql -uroot database < filename-20120201.sql\n\ncat filename-20120201.sql | mysql database\n\nmysqldump -u [username] -p [database] > data_backup.sql;\n\n-- Load tabdelimited data into a table (Use \\n f or NULL)\nLOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;\n```\n","source":"_posts/2016/mysql-cheatsheet.md","raw":"---\ntitle: mysql-cheatsheet\ndate: 2016-11-02 17:27:11\nupdated: 2016-11-02 17:27:11\ntags:\n- mysql\ncategories:\n---\n\n### Connect/Disconnect\n\n``` mysql\nmysql -h <host> -u <user> -p<passwd>\nmysql -h <host> -u <user> -p\nEnter password: ********\nmysql -u user -p\nmysql\nmysql -h <host> -u <user> -p <Database>\n```\n<!-- more -->\n### Query\n \n```sql\n SELECT * FROM table\n SELECT * FROM table1, table2, ...\n SELECT field1, field2, ... FROM table1, table2, ...\n SELECT ... FROM ... WHERE condition\n SELECT ... FROM ... WHERE condition GROUP BY field\n SELECT ... FROM ... WHERE condition GROUP BY field HAVING condition2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2\n SELECT ... FROM ... WHERE condition ORDER BY field1, field2 DESC\n SELECT ... FROM ... WHERE condition LIMIT 10\n SELECT DISTINCT field1 FROM ...\n SELECT DISTINCT field1, field2 FROM ...\n\n SELECT ... FROM t1 JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2 WHERE condition\n SELECT ... FROM t1 JOIN (t2 JOIN t3 ON ...) ON ...\n SELECT ... FROM t1 JOIN t2 USING(id) WHERE condition\n \n -- RLIKE|REGEXP\n SELECT * FROM table WHERE column REGEXP '^(A|B|C)'\n SELECT * FROM table WHERE rec RLIKE \"^b$\";  \n -- \n DESCRIBE table [column]\n \n --\n SELECT CURRENT_DATE, (YEAR(CURRENT_DATE)YEAR(date_col)) AS time_diff [FROM table]; \n\n```\n\n### Conditionals\n \n```\n field1 = value1\n field1 <> value1\n field1 LIKE 'value _ %'\n field1 IS NULL\n field1 IS NOT NULL\n field1 IN (value1, value2)\n field1 NOT IN (value1, value2)\n condition1 AND condition2\n condition1 OR condition2\n```\n###  table Index\n\n\n```\nCREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)\nDROP INDEX index_name\n\n```\n\n### Data Manipulation\n \n```\n INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)\n INSERT table1 SET field1=value_1, field2=value_2 ...\n\n LOAD DATA INFILE '/tmp/mydata.txt' INTO TABLE table1\n FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"' ESCAPED BY '\\\\'\n\n DELETE FROM table1 / TRUNCATE table1\n DELETE FROM table1 WHERE condition\n -- join:\n DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition\n\n UPDATE table1 SET field1=new_value1 WHERE condition\n -- join:\n UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...\n WHERE table1.id1 = table2.id2 AND condition\n```\n\n### Browsing\n \n```\n SHOW DATABASES\n SHOW TABLES\n SHOW FIELDS FROM table\n -- \n SHOW COLUMNS FROM table \n DESCRIBE table \n DESC table \n EXPLAIN table\n \n SHOW CREATE TABLE table\n SHOW CREATE TRIGGER trigger\n SHOW TRIGGERS LIKE '%update%'\n SHOW PROCESSLIST\n KILL process_number\n SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = '**yourdbname**';\n \n mysqlshow\n mysqlshow database\n \n SELECT current_database()\n```\n\n### Create / delete / select / alter database\n \n```\nCREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]\n CREATE DATABASE mabase CHARACTER SET utf8\n DROP DATABASE mabase\n USE mabase\n\n ALTER DATABASE mabase CHARACTER SET utf8\n```\n\n### Create table\n\n```\nCREATE TABLE table (field1 type1, field2 type2, ...)\n CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)\n CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))\n CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))\n CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,\n   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)\n     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]\n     [ON DELETE] [CASCADE|SET NULL|RESTRICT])\n CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,\n   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))\n CREATE TABLE table IF NOT EXISTS (...)\n\n CREATE TABLE new_tbl_name LIKE tbl_name\n   [SELECT ... FROM tbl_name ...]\n\n CREATE TEMPORARY TABLE table (...)\n\n CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name\n ```\n### delete table\n\n\n```\nDROP TABLE table\n DROP TABLE IF EXISTS table\n DROP TABLE table1, table2, ...\n DROP TEMPORARY TABLE table\n```\n\n\n### modify table\n\n```\n ALTER TABLE table MODIFY field1 type1 \n ALTER TABLE table MODIFY field1 type1 NOT NULL ... \n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...\n ALTER TABLE table ALTER field1 SET DEFAULT ...\n ALTER TABLE table ALTER field1 DROP DEFAULT\n ALTER TABLE table ADD new_name_field1 type1\n ALTER TABLE table ADD new_name_field1 type1 FIRST\n ALTER TABLE table ADD new_name_field1 type1 AFTER another_field\n ALTER TABLE table DROP field1\n ALTER TABLE table ADD INDEX (field);\n ALTER TABLE table ADD PRIMARY KEY (field);\n\n -- Change field order:\n ALTER TABLE table MODIFY field1 type1 FIRST\n ALTER TABLE table MODIFY field1 type1 AFTER another_field\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST\n ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field\n\n ALTER TABLE old_name RENAME new_name;\nKeys\n CREATE TABLE table (..., PRIMARY KEY (field1, field2))\n CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))\n ALTER TABLE table ADD PRIMARY KEY (field);\n ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);\n \n```\n### create/modify/drop view\n```\n CREATE VIEW view AS SELECT ... FROM table WHERE ...\n```\n\n### Privileges\n \n```\nCREATE USER 'user'@'localhost' IDENTIFIED BY 'password';\n\n GRANT ALL PRIVILEGES ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n GRANT SELECT, INSERT, DELETE ON base.* TO 'user'@'localhost' IDENTIFIED BY 'password';\n REVOKE ALL PRIVILEGES ON base.* FROM 'user'@'host'; -- one permission only\n REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'user'@'host'; -- all permissions\n\n SET PASSWORD = PASSWORD('new_pass')\n SET PASSWORD FOR 'user'@'host' = PASSWORD('new_pass')\n SET PASSWORD = OLD_PASSWORD('new_pass')\n\n DROP USER 'user'@'host'\n```\n\n### Main data types\n\n```\nTINYINT   (1o: -127+128) \nSMALLINT  (2o: +-65 000)\nMEDIUMINT (3o: +-16 000 000) \nINT       (4o: +-2 000 000 000)\nBIGINT    (8o: +-9.10^18)\n  Precise interval: -(2^(8*N-1)) -> (2^8*N)-1\n  /!\\ INT(2) = \"2 digits displayed\" -- NOT \"number with 2 digits max\"\nINT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK\nFLOAT(M,D) DOUBLE(M,D) FLOAT(D=0->53) \n  /!\\ 8,3 -> 12345,678 -- NOT 12345678,123!\nTIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000->9999)\n  TIMESTAMP (like DATETIME, but 1970->2038, compatible with Unix)\nVARCHAR (single-line; explicit size)  \nTEXT (multi-lines; max size=65535) \nBLOB (binary; max size=65535)\n  Variants for TEXT&BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)\n Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT\nENUM ('value1', 'value2', ...) -- (default NULL, or '' if NOT NULL)\n```\n\n### Forgot root password?\n\n```\n$ /etc/init.d/mysql stop\n$ mysqld_safe --skip-grant-tables &\n$ mysql # on another terminal\nmysql > UPDATE mysql.user SET password=PASSWORD('nouveau') WHERE user='root';\n## Kill mysqld_safe from the terminal, using Control + \\\n$ /etc/init.d/mysql start\n```\n\n### Repair tables after unclean shutdown\n\n```\nmysqlcheck --all-databases\nmysqlcheck --all-databases --fast\n```\n\n\n\n### Loading data\n\n```sql\nmysql> SOURCE input_file\nmysql -uroot database < filename-20120201.sql\n\ncat filename-20120201.sql | mysql database\n\nmysqldump -u [username] -p [database] > data_backup.sql;\n\n-- Load tabdelimited data into a table (Use \\n f or NULL)\nLOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;\n```\n","slug":"mysql-cheatsheet","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopul0025cwnnnkvwnr56","content":"<h3 id=\"Connect-Disconnect\"><a href=\"#Connect-Disconnect\" class=\"headerlink\" title=\"Connect/Disconnect\"></a>Connect/Disconnect</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p&lt;passwd&gt;</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p</span><br><span class=\"line\">Enter password: ********</span><br><span class=\"line\">mysql -u user -p</span><br><span class=\"line\">mysql</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p &lt;Database&gt;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"Query\"><a href=\"#Query\" class=\"headerlink\" title=\"Query\"></a>Query</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> field1, field2, ... <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span> <span class=\"keyword\">HAVING</span> condition2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2 <span class=\"keyword\">DESC</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">LIMIT</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1, field2 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> (t2 <span class=\"keyword\">JOIN</span> t3 <span class=\"keyword\">ON</span> ...) <span class=\"keyword\">ON</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">USING</span>(<span class=\"keyword\">id</span>) <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- RLIKE|REGEXP</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> <span class=\"keyword\">column</span> REGEXP <span class=\"string\">'^(A|B|C)'</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> rec <span class=\"keyword\">RLIKE</span> <span class=\"string\">\"^b$\"</span>;  </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">DESCRIBE</span> <span class=\"keyword\">table</span> [<span class=\"keyword\">column</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">CURRENT_DATE</span>, (<span class=\"keyword\">YEAR</span>(<span class=\"keyword\">CURRENT_DATE</span>)<span class=\"keyword\">YEAR</span>(date_col)) <span class=\"keyword\">AS</span> time_diff [<span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span>];</span><br></pre></td></tr></table></figure>\n<h3 id=\"Conditionals\"><a href=\"#Conditionals\" class=\"headerlink\" title=\"Conditionals\"></a>Conditionals</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">field1 = value1</span><br><span class=\"line\">field1 &lt;&gt; value1</span><br><span class=\"line\">field1 LIKE &apos;value _ %&apos;</span><br><span class=\"line\">field1 IS NULL</span><br><span class=\"line\">field1 IS NOT NULL</span><br><span class=\"line\">field1 IN (value1, value2)</span><br><span class=\"line\">field1 NOT IN (value1, value2)</span><br><span class=\"line\">condition1 AND condition2</span><br><span class=\"line\">condition1 OR condition2</span><br></pre></td></tr></table></figure>\n<h3 id=\"table-Index\"><a href=\"#table-Index\" class=\"headerlink\" title=\"table Index\"></a>table Index</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)</span><br><span class=\"line\">DROP INDEX index_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"Data-Manipulation\"><a href=\"#Data-Manipulation\" class=\"headerlink\" title=\"Data Manipulation\"></a>Data Manipulation</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)</span><br><span class=\"line\">INSERT table1 SET field1=value_1, field2=value_2 ...</span><br><span class=\"line\"></span><br><span class=\"line\">LOAD DATA INFILE &apos;/tmp/mydata.txt&apos; INTO TABLE table1</span><br><span class=\"line\">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\\\&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">DELETE FROM table1 / TRUNCATE table1</span><br><span class=\"line\">DELETE FROM table1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE table1 SET field1=new_value1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...</span><br><span class=\"line\">WHERE table1.id1 = table2.id2 AND condition</span><br></pre></td></tr></table></figure>\n<h3 id=\"Browsing\"><a href=\"#Browsing\" class=\"headerlink\" title=\"Browsing\"></a>Browsing</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW DATABASES</span><br><span class=\"line\">SHOW TABLES</span><br><span class=\"line\">SHOW FIELDS FROM table</span><br><span class=\"line\">-- </span><br><span class=\"line\">SHOW COLUMNS FROM table </span><br><span class=\"line\">DESCRIBE table </span><br><span class=\"line\">DESC table </span><br><span class=\"line\">EXPLAIN table</span><br><span class=\"line\"></span><br><span class=\"line\">SHOW CREATE TABLE table</span><br><span class=\"line\">SHOW CREATE TRIGGER trigger</span><br><span class=\"line\">SHOW TRIGGERS LIKE &apos;%update%&apos;</span><br><span class=\"line\">SHOW PROCESSLIST</span><br><span class=\"line\">KILL process_number</span><br><span class=\"line\">SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &apos;**yourdbname**&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqlshow</span><br><span class=\"line\">mysqlshow database</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT current_database()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-delete-select-alter-database\"><a href=\"#Create-delete-select-alter-database\" class=\"headerlink\" title=\"Create / delete / select / alter database\"></a>Create / delete / select / alter database</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]</span><br><span class=\"line\"> CREATE DATABASE mabase CHARACTER SET utf8</span><br><span class=\"line\"> DROP DATABASE mabase</span><br><span class=\"line\"> USE mabase</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER DATABASE mabase CHARACTER SET utf8</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-table\"><a href=\"#Create-table\" class=\"headerlink\" title=\"Create table\"></a>Create table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE table (field1 type1, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)</span><br><span class=\"line\">     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]</span><br><span class=\"line\">     [ON DELETE] [CASCADE|SET NULL|RESTRICT])</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))</span><br><span class=\"line\"> CREATE TABLE table IF NOT EXISTS (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TABLE new_tbl_name LIKE tbl_name</span><br><span class=\"line\">   [SELECT ... FROM tbl_name ...]</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TEMPORARY TABLE table (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"delete-table\"><a href=\"#delete-table\" class=\"headerlink\" title=\"delete table\"></a>delete table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE table</span><br><span class=\"line\"> DROP TABLE IF EXISTS table</span><br><span class=\"line\"> DROP TABLE table1, table2, ...</span><br><span class=\"line\"> DROP TEMPORARY TABLE table</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-table\"><a href=\"#modify-table\" class=\"headerlink\" title=\"modify table\"></a>modify table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 </span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 NOT NULL ... </span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 SET DEFAULT ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 DROP DEFAULT</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table DROP field1</span><br><span class=\"line\"> ALTER TABLE table ADD INDEX (field);</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"></span><br><span class=\"line\"> -- Change field order:</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER TABLE old_name RENAME new_name;</span><br><span class=\"line\">Keys</span><br><span class=\"line\"> CREATE TABLE table (..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"> ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-modify-drop-view\"><a href=\"#create-modify-drop-view\" class=\"headerlink\" title=\"create/modify/drop view\"></a>create/modify/drop view</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE VIEW view AS SELECT ... FROM table WHERE ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"Privileges\"><a href=\"#Privileges\" class=\"headerlink\" title=\"Privileges\"></a>Privileges</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE USER &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> GRANT ALL PRIVILEGES ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> GRANT SELECT, INSERT, DELETE ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES ON base.* FROM &apos;user&apos;@&apos;host&apos;; -- one permission only</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES, GRANT OPTION FROM &apos;user&apos;@&apos;host&apos;; -- all permissions</span><br><span class=\"line\"></span><br><span class=\"line\"> SET PASSWORD = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD FOR &apos;user&apos;@&apos;host&apos; = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD = OLD_PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\"> DROP USER &apos;user&apos;@&apos;host&apos;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Main-data-types\"><a href=\"#Main-data-types\" class=\"headerlink\" title=\"Main data types\"></a>Main data types</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TINYINT   (1o: -127+128) </span><br><span class=\"line\">SMALLINT  (2o: +-65 000)</span><br><span class=\"line\">MEDIUMINT (3o: +-16 000 000) </span><br><span class=\"line\">INT       (4o: +-2 000 000 000)</span><br><span class=\"line\">BIGINT    (8o: +-9.10^18)</span><br><span class=\"line\">  Precise interval: -(2^(8*N-1)) -&gt; (2^8*N)-1</span><br><span class=\"line\">  /!\\ INT(2) = &quot;2 digits displayed&quot; -- NOT &quot;number with 2 digits max&quot;</span><br><span class=\"line\">INT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK</span><br><span class=\"line\">FLOAT(M,D) DOUBLE(M,D) FLOAT(D=0-&gt;53) </span><br><span class=\"line\">  /!\\ 8,3 -&gt; 12345,678 -- NOT 12345678,123!</span><br><span class=\"line\">TIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000-&gt;9999)</span><br><span class=\"line\">  TIMESTAMP (like DATETIME, but 1970-&gt;2038, compatible with Unix)</span><br><span class=\"line\">VARCHAR (single-line; explicit size)  </span><br><span class=\"line\">TEXT (multi-lines; max size=65535) </span><br><span class=\"line\">BLOB (binary; max size=65535)</span><br><span class=\"line\">  Variants for TEXT&amp;BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)</span><br><span class=\"line\"> Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT</span><br><span class=\"line\">ENUM (&apos;value1&apos;, &apos;value2&apos;, ...) -- (default NULL, or &apos;&apos; if NOT NULL)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Forgot-root-password\"><a href=\"#Forgot-root-password\" class=\"headerlink\" title=\"Forgot root password?\"></a>Forgot root password?</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /etc/init.d/mysql stop</span><br><span class=\"line\">$ mysqld_safe --skip-grant-tables &amp;</span><br><span class=\"line\">$ mysql # on another terminal</span><br><span class=\"line\">mysql &gt; UPDATE mysql.user SET password=PASSWORD(&apos;nouveau&apos;) WHERE user=&apos;root&apos;;</span><br><span class=\"line\">## Kill mysqld_safe from the terminal, using Control + \\</span><br><span class=\"line\">$ /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>\n<h3 id=\"Repair-tables-after-unclean-shutdown\"><a href=\"#Repair-tables-after-unclean-shutdown\" class=\"headerlink\" title=\"Repair tables after unclean shutdown\"></a>Repair tables after unclean shutdown</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlcheck --all-databases</span><br><span class=\"line\">mysqlcheck --all-databases --fast</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loading-data\"><a href=\"#Loading-data\" class=\"headerlink\" title=\"Loading data\"></a>Loading data</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SOURCE input_file</span><br><span class=\"line\">mysql -uroot database &lt; filename-20120201.sql</span><br><span class=\"line\"></span><br><span class=\"line\">cat filename-20120201.sql | mysql database</span><br><span class=\"line\"></span><br><span class=\"line\">mysqldump -u [username] -p [database] &gt; data_backup.sql;</span><br><span class=\"line\"></span><br><span class=\"line\">-- Load tabdelimited data into a table (Use \\n f or NULL)</span><br><span class=\"line\">LOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;</span><br></pre></td></tr></table></figure>\n","excerpt":"<h3 id=\"Connect-Disconnect\"><a href=\"#Connect-Disconnect\" class=\"headerlink\" title=\"Connect/Disconnect\"></a>Connect/Disconnect</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p&lt;passwd&gt;</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p</span><br><span class=\"line\">Enter password: ********</span><br><span class=\"line\">mysql -u user -p</span><br><span class=\"line\">mysql</span><br><span class=\"line\">mysql -h &lt;host&gt; -u &lt;user&gt; -p &lt;Database&gt;</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"Query\"><a href=\"#Query\" class=\"headerlink\" title=\"Query\"></a>Query</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> field1, field2, ... <span class=\"keyword\">FROM</span> table1, table2, ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> <span class=\"keyword\">field</span> <span class=\"keyword\">HAVING</span> condition2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> field1, field2 <span class=\"keyword\">DESC</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> ... <span class=\"keyword\">WHERE</span> condition <span class=\"keyword\">LIMIT</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> field1, field2 <span class=\"keyword\">FROM</span> ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">ON</span> t1.id1 = t2.id2 <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> (t2 <span class=\"keyword\">JOIN</span> t3 <span class=\"keyword\">ON</span> ...) <span class=\"keyword\">ON</span> ...</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> ... <span class=\"keyword\">FROM</span> t1 <span class=\"keyword\">JOIN</span> t2 <span class=\"keyword\">USING</span>(<span class=\"keyword\">id</span>) <span class=\"keyword\">WHERE</span> condition</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- RLIKE|REGEXP</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> <span class=\"keyword\">column</span> REGEXP <span class=\"string\">'^(A|B|C)'</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span> <span class=\"keyword\">WHERE</span> rec <span class=\"keyword\">RLIKE</span> <span class=\"string\">\"^b$\"</span>;  </span><br><span class=\"line\"><span class=\"comment\">-- </span></span><br><span class=\"line\"><span class=\"keyword\">DESCRIBE</span> <span class=\"keyword\">table</span> [<span class=\"keyword\">column</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">--</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">CURRENT_DATE</span>, (<span class=\"keyword\">YEAR</span>(<span class=\"keyword\">CURRENT_DATE</span>)<span class=\"keyword\">YEAR</span>(date_col)) <span class=\"keyword\">AS</span> time_diff [<span class=\"keyword\">FROM</span> <span class=\"keyword\">table</span>];</span><br></pre></td></tr></table></figure>\n<h3 id=\"Conditionals\"><a href=\"#Conditionals\" class=\"headerlink\" title=\"Conditionals\"></a>Conditionals</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">field1 = value1</span><br><span class=\"line\">field1 &lt;&gt; value1</span><br><span class=\"line\">field1 LIKE &apos;value _ %&apos;</span><br><span class=\"line\">field1 IS NULL</span><br><span class=\"line\">field1 IS NOT NULL</span><br><span class=\"line\">field1 IN (value1, value2)</span><br><span class=\"line\">field1 NOT IN (value1, value2)</span><br><span class=\"line\">condition1 AND condition2</span><br><span class=\"line\">condition1 OR condition2</span><br></pre></td></tr></table></figure>\n<h3 id=\"table-Index\"><a href=\"#table-Index\" class=\"headerlink\" title=\"table Index\"></a>table Index</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE [UNIQUE|FULLTEXT] INDEX index_name ON table (column,...)</span><br><span class=\"line\">DROP INDEX index_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"Data-Manipulation\"><a href=\"#Data-Manipulation\" class=\"headerlink\" title=\"Data Manipulation\"></a>Data Manipulation</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)</span><br><span class=\"line\">INSERT table1 SET field1=value_1, field2=value_2 ...</span><br><span class=\"line\"></span><br><span class=\"line\">LOAD DATA INFILE &apos;/tmp/mydata.txt&apos; INTO TABLE table1</span><br><span class=\"line\">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\\\&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">DELETE FROM table1 / TRUNCATE table1</span><br><span class=\"line\">DELETE FROM table1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE table1 SET field1=new_value1 WHERE condition</span><br><span class=\"line\">-- join:</span><br><span class=\"line\">UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...</span><br><span class=\"line\">WHERE table1.id1 = table2.id2 AND condition</span><br></pre></td></tr></table></figure>\n<h3 id=\"Browsing\"><a href=\"#Browsing\" class=\"headerlink\" title=\"Browsing\"></a>Browsing</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SHOW DATABASES</span><br><span class=\"line\">SHOW TABLES</span><br><span class=\"line\">SHOW FIELDS FROM table</span><br><span class=\"line\">-- </span><br><span class=\"line\">SHOW COLUMNS FROM table </span><br><span class=\"line\">DESCRIBE table </span><br><span class=\"line\">DESC table </span><br><span class=\"line\">EXPLAIN table</span><br><span class=\"line\"></span><br><span class=\"line\">SHOW CREATE TABLE table</span><br><span class=\"line\">SHOW CREATE TRIGGER trigger</span><br><span class=\"line\">SHOW TRIGGERS LIKE &apos;%update%&apos;</span><br><span class=\"line\">SHOW PROCESSLIST</span><br><span class=\"line\">KILL process_number</span><br><span class=\"line\">SELECT table_name, table_rows FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &apos;**yourdbname**&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqlshow</span><br><span class=\"line\">mysqlshow database</span><br><span class=\"line\"></span><br><span class=\"line\">SELECT current_database()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-delete-select-alter-database\"><a href=\"#Create-delete-select-alter-database\" class=\"headerlink\" title=\"Create / delete / select / alter database\"></a>Create / delete / select / alter database</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE [IF NOT EXISTS] mabase [CHARACTER SET charset] [COLLATE collation]</span><br><span class=\"line\"> CREATE DATABASE mabase CHARACTER SET utf8</span><br><span class=\"line\"> DROP DATABASE mabase</span><br><span class=\"line\"> USE mabase</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER DATABASE mabase CHARACTER SET utf8</span><br></pre></td></tr></table></figure>\n<h3 id=\"Create-table\"><a href=\"#Create-table\" class=\"headerlink\" title=\"Create table\"></a>Create table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE TABLE table (field1 type1, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1 unsigned not null auto_increment, field2 type2, ...)</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))</span><br><span class=\"line\"> CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1) REFERENCES table2 (t2_fieldA)</span><br><span class=\"line\">     [ON UPDATE] [CASCADE|SET NULL|RESTRICT]</span><br><span class=\"line\">     [ON DELETE] [CASCADE|SET NULL|RESTRICT])</span><br><span class=\"line\"> CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,</span><br><span class=\"line\">   FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))</span><br><span class=\"line\"> CREATE TABLE table IF NOT EXISTS (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TABLE new_tbl_name LIKE tbl_name</span><br><span class=\"line\">   [SELECT ... FROM tbl_name ...]</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE TEMPORARY TABLE table (...)</span><br><span class=\"line\"></span><br><span class=\"line\"> CREATE table new_table_name as SELECT [ *|column1, column2 ] FROM table_name</span><br></pre></td></tr></table></figure>\n<h3 id=\"delete-table\"><a href=\"#delete-table\" class=\"headerlink\" title=\"delete table\"></a>delete table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DROP TABLE table</span><br><span class=\"line\"> DROP TABLE IF EXISTS table</span><br><span class=\"line\"> DROP TABLE table1, table2, ...</span><br><span class=\"line\"> DROP TEMPORARY TABLE table</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-table\"><a href=\"#modify-table\" class=\"headerlink\" title=\"modify table\"></a>modify table</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 </span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 NOT NULL ... </span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 NOT NULL ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 SET DEFAULT ...</span><br><span class=\"line\"> ALTER TABLE table ALTER field1 DROP DEFAULT</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table ADD new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table DROP field1</span><br><span class=\"line\"> ALTER TABLE table ADD INDEX (field);</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"></span><br><span class=\"line\"> -- Change field order:</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table MODIFY field1 type1 AFTER another_field</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 FIRST</span><br><span class=\"line\"> ALTER TABLE table CHANGE old_name_field1 new_name_field1 type1 AFTER another_field</span><br><span class=\"line\"></span><br><span class=\"line\"> ALTER TABLE old_name RENAME new_name;</span><br><span class=\"line\">Keys</span><br><span class=\"line\"> CREATE TABLE table (..., PRIMARY KEY (field1, field2))</span><br><span class=\"line\"> CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))</span><br><span class=\"line\"> ALTER TABLE table ADD PRIMARY KEY (field);</span><br><span class=\"line\"> ALTER TABLE table ADD CONSTRAINT constraint_name PRIMARY KEY (field, field2);</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-modify-drop-view\"><a href=\"#create-modify-drop-view\" class=\"headerlink\" title=\"create/modify/drop view\"></a>create/modify/drop view</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE VIEW view AS SELECT ... FROM table WHERE ...</span><br></pre></td></tr></table></figure>\n<h3 id=\"Privileges\"><a href=\"#Privileges\" class=\"headerlink\" title=\"Privileges\"></a>Privileges</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE USER &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> GRANT ALL PRIVILEGES ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> GRANT SELECT, INSERT, DELETE ON base.* TO &apos;user&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;password&apos;;</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES ON base.* FROM &apos;user&apos;@&apos;host&apos;; -- one permission only</span><br><span class=\"line\"> REVOKE ALL PRIVILEGES, GRANT OPTION FROM &apos;user&apos;@&apos;host&apos;; -- all permissions</span><br><span class=\"line\"></span><br><span class=\"line\"> SET PASSWORD = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD FOR &apos;user&apos;@&apos;host&apos; = PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"> SET PASSWORD = OLD_PASSWORD(&apos;new_pass&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\"> DROP USER &apos;user&apos;@&apos;host&apos;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Main-data-types\"><a href=\"#Main-data-types\" class=\"headerlink\" title=\"Main data types\"></a>Main data types</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TINYINT   (1o: -127+128) </span><br><span class=\"line\">SMALLINT  (2o: +-65 000)</span><br><span class=\"line\">MEDIUMINT (3o: +-16 000 000) </span><br><span class=\"line\">INT       (4o: +-2 000 000 000)</span><br><span class=\"line\">BIGINT    (8o: +-9.10^18)</span><br><span class=\"line\">  Precise interval: -(2^(8*N-1)) -&gt; (2^8*N)-1</span><br><span class=\"line\">  /!\\ INT(2) = &quot;2 digits displayed&quot; -- NOT &quot;number with 2 digits max&quot;</span><br><span class=\"line\">INT NOT NULL auto_increment PRIMARY KEY -- auto-counter for PK</span><br><span class=\"line\">FLOAT(M,D) DOUBLE(M,D) FLOAT(D=0-&gt;53) </span><br><span class=\"line\">  /!\\ 8,3 -&gt; 12345,678 -- NOT 12345678,123!</span><br><span class=\"line\">TIME (HH:MM) YEAR (AAAA) DATE (AAAA-MM-JJ) DATETIME (AAAA-MM-JJ HH:MM; annes 1000-&gt;9999)</span><br><span class=\"line\">  TIMESTAMP (like DATETIME, but 1970-&gt;2038, compatible with Unix)</span><br><span class=\"line\">VARCHAR (single-line; explicit size)  </span><br><span class=\"line\">TEXT (multi-lines; max size=65535) </span><br><span class=\"line\">BLOB (binary; max size=65535)</span><br><span class=\"line\">  Variants for TEXT&amp;BLOB: TINY (max=255) MEDIUM (max=~16000) LONG (max=4Go)</span><br><span class=\"line\"> Ex: VARCHAR(32), TINYTEXT, LONGBLOB, MEDIUMTEXT</span><br><span class=\"line\">ENUM (&apos;value1&apos;, &apos;value2&apos;, ...) -- (default NULL, or &apos;&apos; if NOT NULL)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Forgot-root-password\"><a href=\"#Forgot-root-password\" class=\"headerlink\" title=\"Forgot root password?\"></a>Forgot root password?</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /etc/init.d/mysql stop</span><br><span class=\"line\">$ mysqld_safe --skip-grant-tables &amp;</span><br><span class=\"line\">$ mysql # on another terminal</span><br><span class=\"line\">mysql &gt; UPDATE mysql.user SET password=PASSWORD(&apos;nouveau&apos;) WHERE user=&apos;root&apos;;</span><br><span class=\"line\">## Kill mysqld_safe from the terminal, using Control + \\</span><br><span class=\"line\">$ /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>\n<h3 id=\"Repair-tables-after-unclean-shutdown\"><a href=\"#Repair-tables-after-unclean-shutdown\" class=\"headerlink\" title=\"Repair tables after unclean shutdown\"></a>Repair tables after unclean shutdown</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlcheck --all-databases</span><br><span class=\"line\">mysqlcheck --all-databases --fast</span><br></pre></td></tr></table></figure>\n<h3 id=\"Loading-data\"><a href=\"#Loading-data\" class=\"headerlink\" title=\"Loading data\"></a>Loading data</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SOURCE input_file</span><br><span class=\"line\">mysql -uroot database &lt; filename-20120201.sql</span><br><span class=\"line\"></span><br><span class=\"line\">cat filename-20120201.sql | mysql database</span><br><span class=\"line\"></span><br><span class=\"line\">mysqldump -u [username] -p [database] &gt; data_backup.sql;</span><br><span class=\"line\"></span><br><span class=\"line\">-- Load tabdelimited data into a table (Use \\n f or NULL)</span><br><span class=\"line\">LOAD DATA LOCAL INFILE \"infile.txt\" INTO TABLE table_name;</span><br></pre></td></tr></table></figure>"},{"title":"php-faker","date":"2016-08-19T06:46:49.000Z","updated":"2016-08-19T06:46:49.000Z","_content":"\nFaker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.\n<!--more-->\n### installation\n\n`composer require fzaninotto/faker`\n\n### basic usage\n\n\n\nUse`Faker\\Factory::create()`to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.\n\n```php\n<?php\n\nrequire_once '/path/to/Faker/src/autoload.php';\n$faker = Faker\\Factory::create();\necho $faker->name;\necho $faker->address;\necho $faker->text;\necho $faker->email;\n\n```\n\n`src/Faker/Generator.php` fileimageuuid \n\n[GIthub]: https://github.com/fzaninotto/Faker\n\n### laravel \n\nLaravel artisan  tinker [REPL (read-eval-print-loop)](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)REPL  `php artisan tinker`  fakerTinker  Laravel  REPL[PsySH](http://psysh.org/)`psysh`\n\n\n\n```php\nphp artisan tinker\n//fakerApp\\Userdatabase\\factories\\ModelFactories \nfactory(\"App\\User::class\",10)->create(); \n//\nAPP\\User::all(); \nApp\\User::count();\n//\n$user = new App\\User;\n$user->name = \"Wruce Bayne\";\n$user->email = \"iambatman@savegotham.com\";\n$user->save();\n// \n$user = App\\User::find(1);\n$user->delete();\n\n// doc\ndoc dd\ndoc app\n  \n// \n show <functionName>\n```\n\n\n","source":"_posts/2016/php-faker.md","raw":"---\ntitle: php-faker \ndate: 2016-08-19 14:46:49\nupdated: 2016-08-19 14:46:49\ntags: php\ncategories:\n---\n\nFaker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.\n<!--more-->\n### installation\n\n`composer require fzaninotto/faker`\n\n### basic usage\n\n\n\nUse`Faker\\Factory::create()`to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.\n\n```php\n<?php\n\nrequire_once '/path/to/Faker/src/autoload.php';\n$faker = Faker\\Factory::create();\necho $faker->name;\necho $faker->address;\necho $faker->text;\necho $faker->email;\n\n```\n\n`src/Faker/Generator.php` fileimageuuid \n\n[GIthub]: https://github.com/fzaninotto/Faker\n\n### laravel \n\nLaravel artisan  tinker [REPL (read-eval-print-loop)](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)REPL  `php artisan tinker`  fakerTinker  Laravel  REPL[PsySH](http://psysh.org/)`psysh`\n\n\n\n```php\nphp artisan tinker\n//fakerApp\\Userdatabase\\factories\\ModelFactories \nfactory(\"App\\User::class\",10)->create(); \n//\nAPP\\User::all(); \nApp\\User::count();\n//\n$user = new App\\User;\n$user->name = \"Wruce Bayne\";\n$user->email = \"iambatman@savegotham.com\";\n$user->save();\n// \n$user = App\\User::find(1);\n$user->delete();\n\n// doc\ndoc dd\ndoc app\n  \n// \n show <functionName>\n```\n\n\n","slug":"php-faker","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopun0027cwnnfboa0wae","content":"<p>Faker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.<br><a id=\"more\"></a></p>\n<h3 id=\"installation\"><a href=\"#installation\" class=\"headerlink\" title=\"installation\"></a>installation</h3><p><code>composer require fzaninotto/faker</code></p>\n<h3 id=\"basic-usage\"><a href=\"#basic-usage\" class=\"headerlink\" title=\"basic usage\"></a>basic usage</h3><p>Use <code>Faker\\Factory::create()</code> to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">require_once</span> <span class=\"string\">'/path/to/Faker/src/autoload.php'</span>;</span><br><span class=\"line\">$faker = Faker\\Factory::create();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;name;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;address;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;text;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;email;</span><br></pre></td></tr></table></figure>\n<p><code>src/Faker/Generator.php</code> fileimageuuid </p>\n<h3 id=\"laravel-\"><a href=\"#laravel-\" class=\"headerlink\" title=\"laravel \"></a>laravel </h3><p>Laravel artisan  tinker  <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" target=\"_blank\" rel=\"external\">REPL (read-eval-print-loop)</a> REPL  <code>php artisan tinker</code>  fakerTinker  Laravel  REPL <a href=\"http://psysh.org/\" target=\"_blank\" rel=\"external\">PsySH</a> <code>psysh</code></p>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">php artisan tinker</span><br><span class=\"line\"><span class=\"comment\">//fakerApp\\Userdatabase\\factories\\ModelFactories </span></span><br><span class=\"line\">factory(<span class=\"string\">\"App\\User::class\"</span>,<span class=\"number\">10</span>)-&gt;create(); </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">APP\\User::all(); </span><br><span class=\"line\">App\\User::count();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">$user = <span class=\"keyword\">new</span> App\\User;</span><br><span class=\"line\">$user-&gt;name = <span class=\"string\">\"Wruce Bayne\"</span>;</span><br><span class=\"line\">$user-&gt;email = <span class=\"string\">\"iambatman@savegotham.com\"</span>;</span><br><span class=\"line\">$user-&gt;save();</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">$user = App\\User::find(<span class=\"number\">1</span>);</span><br><span class=\"line\">$user-&gt;delete();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// doc</span></span><br><span class=\"line\">doc dd</span><br><span class=\"line\">doc app</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> show &lt;functionName&gt;</span><br></pre></td></tr></table></figure>\n","excerpt":"<p>Faker Faker is a PHP library that generates fake data for you. Whether you need to bootstrap your database, create good-looking XML documents, fill-in your persistence to stress test it, or anonymize data taken from a production service, Faker is for you.<br>","more":"</p>\n<h3 id=\"installation\"><a href=\"#installation\" class=\"headerlink\" title=\"installation\"></a>installation</h3><p><code>composer require fzaninotto/faker</code></p>\n<h3 id=\"basic-usage\"><a href=\"#basic-usage\" class=\"headerlink\" title=\"basic usage\"></a>basic usage</h3><p>Use <code>Faker\\Factory::create()</code> to create and initialize a faker generator, which can generate data by accessing properties named after the type of data you want.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">require_once</span> <span class=\"string\">'/path/to/Faker/src/autoload.php'</span>;</span><br><span class=\"line\">$faker = Faker\\Factory::create();</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;name;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;address;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;text;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $faker-&gt;email;</span><br></pre></td></tr></table></figure>\n<p><code>src/Faker/Generator.php</code> fileimageuuid </p>\n<h3 id=\"laravel-\"><a href=\"#laravel-\" class=\"headerlink\" title=\"laravel \"></a>laravel </h3><p>Laravel artisan  tinker  <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\">REPL (read-eval-print-loop)</a> REPL  <code>php artisan tinker</code>  fakerTinker  Laravel  REPL <a href=\"http://psysh.org/\">PsySH</a> <code>psysh</code></p>\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">php artisan tinker</span><br><span class=\"line\"><span class=\"comment\">//fakerApp\\Userdatabase\\factories\\ModelFactories </span></span><br><span class=\"line\">factory(<span class=\"string\">\"App\\User::class\"</span>,<span class=\"number\">10</span>)-&gt;create(); </span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">APP\\User::all(); </span><br><span class=\"line\">App\\User::count();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">$user = <span class=\"keyword\">new</span> App\\User;</span><br><span class=\"line\">$user-&gt;name = <span class=\"string\">\"Wruce Bayne\"</span>;</span><br><span class=\"line\">$user-&gt;email = <span class=\"string\">\"iambatman@savegotham.com\"</span>;</span><br><span class=\"line\">$user-&gt;save();</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">$user = App\\User::find(<span class=\"number\">1</span>);</span><br><span class=\"line\">$user-&gt;delete();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// doc</span></span><br><span class=\"line\">doc dd</span><br><span class=\"line\">doc app</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"> show &lt;functionName&gt;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2016-07-22T07:48:45.000Z","updated":"2016-07-22T07:48:45.000Z","_content":"![plan](/images/plan/1.png)\n          \n<!--more-->\n **  **\n\n  \n\n\n\n **   **\n\n![plan](/images/plan/8.png)\n\n  \n\n 3  XXL  S \n\n** **   \n\n** **\n\n![plan](/images/plan/2.png)\n  \n\n    \n\n\n\n![plan](/images/plan/3.png)\n## \n Jerry Seinfeld   Don't break the chain!   \n![plan](/images/plan/4.png)\nJerry Seinfeld \n\n  **  **\n\n  \n## \nRoy F. Baumeister Willpower: Rediscovering the Greatest Human Strength**  **\n\nBaumeister ** ** \n\n  2121  21  22 **  **\n\n## \n![plan](/images/plan/5.png)\n**  **\n\n  **   **  **  ** ** ** ** **\n![plan](/images/plan/6.png)\n``\n\n**   **\n\n## \n![plan](/images/plan/7.png)\n** **\n\n  \n\n\n ` ` ** **  `Rhonda Byrne `\n\n{% blockquote Jame Saltucher %}\nImprove the internal fire every day. Be persistent internally, then the external success will take of itself !!!\n\n{% endblockquote %}\n\n***\n\n> [](http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&mid=2650055652&idx=1&sn=e69d8252994229b3b3521f1bc80671ce&scene=21#wechat_redirect)\n","source":"_posts/2016/plan.md","raw":"---\ntitle: \ndate: 2016-07-22 15:48:45\nupdated: 2016-07-22 15:48:45\ntags:\n- \ncategories:\n---\n![plan](/images/plan/1.png)\n          \n<!--more-->\n **  **\n\n  \n\n\n\n **   **\n\n![plan](/images/plan/8.png)\n\n  \n\n 3  XXL  S \n\n** **   \n\n** **\n\n![plan](/images/plan/2.png)\n  \n\n    \n\n\n\n![plan](/images/plan/3.png)\n## \n Jerry Seinfeld   Don't break the chain!   \n![plan](/images/plan/4.png)\nJerry Seinfeld \n\n  **  **\n\n  \n## \nRoy F. Baumeister Willpower: Rediscovering the Greatest Human Strength**  **\n\nBaumeister ** ** \n\n  2121  21  22 **  **\n\n## \n![plan](/images/plan/5.png)\n**  **\n\n  **   **  **  ** ** ** ** **\n![plan](/images/plan/6.png)\n``\n\n**   **\n\n## \n![plan](/images/plan/7.png)\n** **\n\n  \n\n\n ` ` ** **  `Rhonda Byrne `\n\n{% blockquote Jame Saltucher %}\nImprove the internal fire every day. Be persistent internally, then the external success will take of itself !!!\n\n{% endblockquote %}\n\n***\n\n> [](http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&mid=2650055652&idx=1&sn=e69d8252994229b3b3521f1bc80671ce&scene=21#wechat_redirect)\n","slug":"plan","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopus0029cwnnu8wdxwdk","content":"<p><img src=\"/images/plan/1.png\" alt=\"plan\"><br>          <br><a id=\"more\"></a><br> <strong>  </strong></p>\n<p>  </p>\n<p></p>\n<p> <strong>   </strong></p>\n<p><img src=\"/images/plan/8.png\" alt=\"plan\"></p>\n<p>  </p>\n<p> 3  XXL  S </p>\n<p><strong> </strong>   </p>\n<p><strong> </strong></p>\n<p><img src=\"/images/plan/2.png\" alt=\"plan\"><br>  </p>\n<p>    </p>\n<p></p>\n<p><img src=\"/images/plan/3.png\" alt=\"plan\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jerry Seinfeld   Dont break the chain!   <br><img src=\"/images/plan/4.png\" alt=\"plan\"><br>Jerry Seinfeld </p>\n<p>  <strong>  </strong></p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Roy F. Baumeister Willpower: Rediscovering the Greatest Human Strength<strong>  </strong></p>\n<p>Baumeister <strong> </strong> </p>\n<p>  2121  21  22 <strong>  </strong></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/5.png\" alt=\"plan\"><br><strong>  </strong></p>\n<p>  <strong>   </strong>  <strong>  </strong> <strong> </strong> <strong> </strong><br><img src=\"/images/plan/6.png\" alt=\"plan\"><br><code></code></p>\n<p><strong>   </strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/7.png\" alt=\"plan\"><br><strong> </strong></p>\n<p>  </p>\n<p><br> <code></code> <strong> </strong>  <code>Rhonda Byrne </code></p>\n<blockquote><p>Improve the internal fire every day. Be persistent internally, then the external success will take of itself !!!<br></p>\n<footer><strong>Jame Saltucher</strong></footer></blockquote>\n<hr>\n<blockquote>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&amp;mid=2650055652&amp;idx=1&amp;sn=e69d8252994229b3b3521f1bc80671ce&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"external\"></a></p>\n</blockquote>\n","excerpt":"<p><img src=\"/images/plan/1.png\" alt=\"plan\"><br>          <br>","more":"<br> <strong>  </strong></p>\n<p>  </p>\n<p></p>\n<p> <strong>   </strong></p>\n<p><img src=\"/images/plan/8.png\" alt=\"plan\"></p>\n<p>  </p>\n<p> 3  XXL  S </p>\n<p><strong> </strong>   </p>\n<p><strong> </strong></p>\n<p><img src=\"/images/plan/2.png\" alt=\"plan\"><br>  </p>\n<p>    </p>\n<p></p>\n<p><img src=\"/images/plan/3.png\" alt=\"plan\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Jerry Seinfeld   Dont break the chain!   <br><img src=\"/images/plan/4.png\" alt=\"plan\"><br>Jerry Seinfeld </p>\n<p>  <strong>  </strong></p>\n<p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Roy F. Baumeister Willpower: Rediscovering the Greatest Human Strength<strong>  </strong></p>\n<p>Baumeister <strong> </strong> </p>\n<p>  2121  21  22 <strong>  </strong></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/5.png\" alt=\"plan\"><br><strong>  </strong></p>\n<p>  <strong>   </strong>  <strong>  </strong> <strong> </strong> <strong> </strong><br><img src=\"/images/plan/6.png\" alt=\"plan\"><br><code></code></p>\n<p><strong>   </strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/images/plan/7.png\" alt=\"plan\"><br><strong> </strong></p>\n<p>  </p>\n<p><br> <code></code> <strong> </strong>  <code>Rhonda Byrne </code></p>\n<blockquote><p>Improve the internal fire every day. Be persistent internally, then the external success will take of itself !!!<br></p>\n<footer><strong>Jame Saltucher</strong></footer></blockquote>\n<hr>\n<blockquote>\n<p><a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMDgyMTA3Mg==&amp;mid=2650055652&amp;idx=1&amp;sn=e69d8252994229b3b3521f1bc80671ce&amp;scene=21#wechat_redirect\"></a></p>\n</blockquote>"},{"title":"principles()","date":"2016-06-14T16:43:20.000Z","_content":"\n> , \n\n\n# \n1. \n2. \n3. <!-- more -->\n4. \n5. \n6. \n7. \n8. \n9. \n10. , ,\n\n# \n## \n> ``\n> \n\n     \n\n## MindsetAction Pattern\n> - \n> - Google\n> - \n> -   \n> -  \n\n**``****``**\n\n**``** **``****``**\n\n## \n1)\n2   -- *` `*\n\n\n## Meditation\n\n\n### \n  \n\n[how](http://www.wikihow.com/Do-Mindful-Meditation)\n","source":"_posts/2016/principles.md","raw":"---\ntitle: principles()\ndate: 2016-06-15 00:43:20\ntags:\n- \ncategories:\n---\n\n> , \n\n\n# \n1. \n2. \n3. <!-- more -->\n4. \n5. \n6. \n7. \n8. \n9. \n10. , ,\n\n# \n## \n> ``\n> \n\n     \n\n## MindsetAction Pattern\n> - \n> - Google\n> - \n> -   \n> -  \n\n**``****``**\n\n**``** **``****``**\n\n## \n1)\n2   -- *` `*\n\n\n## Meditation\n\n\n### \n  \n\n[how](http://www.wikihow.com/Do-Mindful-Meditation)\n","slug":"principles","published":1,"updated":"2017-01-04T03:59:35.410Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopuv002ccwnny21bol27","content":"<blockquote>\n<p>, </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li><a id=\"more\"></a></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>, ,</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><br></p>\n</blockquote>\n<p>     </p>\n<h2 id=\"MindsetAction-Pattern\"><a href=\"#MindsetAction-Pattern\" class=\"headerlink\" title=\"MindsetAction Pattern\"></a>MindsetAction Pattern</h2><blockquote>\n<ul>\n<li></li>\n<li>Google</li>\n<li></li>\n<li>  </li>\n<li> </li>\n</ul>\n</blockquote>\n<p><strong><code></code></strong><strong><code></code></strong></p>\n<p><strong><code></code></strong> <strong><code></code></strong><strong><code></code></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1)<br>2    <em><code> </code></em></p>\n<h2 id=\"Meditation\"><a href=\"#Meditation\" class=\"headerlink\" title=\"Meditation\"></a>Meditation</h2><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  <br><br><a href=\"http://www.wikihow.com/Do-Mindful-Meditation\" target=\"_blank\" rel=\"external\">how</a></p>\n","excerpt":"<blockquote>\n<p>, </p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n<li>","more":"</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>, ,</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><br></p>\n</blockquote>\n<p>     </p>\n<h2 id=\"MindsetAction-Pattern\"><a href=\"#MindsetAction-Pattern\" class=\"headerlink\" title=\"MindsetAction Pattern\"></a>MindsetAction Pattern</h2><blockquote>\n<ul>\n<li></li>\n<li>Google</li>\n<li></li>\n<li>  </li>\n<li> </li>\n</ul>\n</blockquote>\n<p><strong><code></code></strong><strong><code></code></strong></p>\n<p><strong><code></code></strong> <strong><code></code></strong><strong><code></code></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1)<br>2    <em><code> </code></em></p>\n<h2 id=\"Meditation\"><a href=\"#Meditation\" class=\"headerlink\" title=\"Meditation\"></a>Meditation</h2><p><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>  <br><br><a href=\"http://www.wikihow.com/Do-Mindful-Meditation\">how</a></p>"},{"title":"","date":"2016-11-23T13:46:52.000Z","updated":"2016-11-23T13:46:52.000Z","_content":"\n### \n\n![](/images/restore-db/master-slave.png)\n\n![](/images/restore-db/master-master.png)\n<!-- more --> \n\n> 1. \n> 2. \n\n\n \n\n\n> 1. \n> 2. \nDBA\n \n ### +\n+\n\n\n ![](/images/restore-db/all_bak.png)\n\nbinlog\n ![](/images/restore-db/inc_bak.png)\n\n1\n2binlog\n3binlog\n\n\n \n\n\n\n \n### 1\n1\n\n1\n111\n\n11\n21binlog\n\n \n\n1\n \n ### 1\n1\n\n1\n1\n\n \n![](/images/restore-db/delay_bak.png)\n\n****\n****2\n \n### \n\n11\n1\n2BI\n3\n\n \n### \nDBA\n1+\n211\n311","source":"_posts/2016/restore-db.md","raw":"---\ntitle: \ndate: 2016-11-23 21:46:52\nupdated: 2016-11-23 21:46:52\ntags:\n- mysql\ncategories:\n---\n\n### \n\n![](/images/restore-db/master-slave.png)\n\n![](/images/restore-db/master-master.png)\n<!-- more --> \n\n> 1. \n> 2. \n\n\n \n\n\n> 1. \n> 2. \nDBA\n \n ### +\n+\n\n\n ![](/images/restore-db/all_bak.png)\n\nbinlog\n ![](/images/restore-db/inc_bak.png)\n\n1\n2binlog\n3binlog\n\n\n \n\n\n\n \n### 1\n1\n\n1\n111\n\n11\n21binlog\n\n \n\n1\n \n ### 1\n1\n\n1\n1\n\n \n![](/images/restore-db/delay_bak.png)\n\n****\n****2\n \n### \n\n11\n1\n2BI\n3\n\n \n### \nDBA\n1+\n211\n311","slug":"restore-db","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopux002ecwnnsn9lxy0j","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/restore-db/master-slave.png\" alt=\"\"><br><br><img src=\"/images/restore-db/master-master.png\" alt=\"\"><br><a id=\"more\"></a><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<p><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li><br>DBA</li>\n</ol>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h3><p>+</p>\n<p><br> <img src=\"/images/restore-db/all_bak.png\" alt=\"\"></p>\n<p>binlog<br> <img src=\"/images/restore-db/inc_bak.png\" alt=\"\"><br><br>1<br>2binlog<br>3binlog<br><br></p>\n<p><br><br></p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>111<br><br>11<br>21binlog<br></p>\n<p><br>1</p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>1<br></p>\n<p><img src=\"/images/restore-db/delay_bak.png\" alt=\"\"></p>\n<p><strong></strong><br><strong></strong>2</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>11<br>1<br>2BI<br>3<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DBA<br>1+<br>211<br>311</p>\n","excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><img src=\"/images/restore-db/master-slave.png\" alt=\"\"><br><br><img src=\"/images/restore-db/master-master.png\" alt=\"\"><br>","more":"<br></p>\n<blockquote>\n<ol>\n<li></li>\n<li></li>\n</ol>\n</blockquote>\n<p></p>\n<p><br></p>\n<blockquote>\n<ol>\n<li></li>\n<li><br>DBA</li>\n</ol>\n</blockquote>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h3><p>+</p>\n<p><br> <img src=\"/images/restore-db/all_bak.png\" alt=\"\"></p>\n<p>binlog<br> <img src=\"/images/restore-db/inc_bak.png\" alt=\"\"><br><br>1<br>2binlog<br>3binlog<br><br></p>\n<p><br><br></p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>111<br><br>11<br>21binlog<br></p>\n<p><br>1</p>\n<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>1</p>\n<p>1<br>1<br></p>\n<p><img src=\"/images/restore-db/delay_bak.png\" alt=\"\"></p>\n<p><strong></strong><br><strong></strong>2</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>11<br>1<br>2BI<br>3<br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>DBA<br>1+<br>211<br>311</p>"},{"title":"running","date":"2016-06-20T07:35:36.000Z","_content":"\n# TIPS\n\n## \n\n34\n<!-- more -->\n## \n\n5\n\n## \n\napp\n\n## \n\n\n\n## \n\n\n\n## \n\n ()23 30\n\n## \n\n\"\"\n\n## \n\n\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n \"\" \"\"\"\"\n\n## \n\n   \n\n## \n\n     \n\n## \n\n \"\"\"\"\n\n## \n\n     \"\" \n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n1\\. \"----\" 2\\.  3\\.  4\\.  5\\.  6\\.  7\\. 7~10\n\n## \n\n8\\. \"\" 9\\. \n\n## \n\n10\\.  11\\.  12\\.  13\\. \n\n## \n\n14\\.  15\\. \n","source":"_posts/2016/running.md","raw":"---\ntitle: running\ndate: 2016-06-20T15:35:36.000Z\ntags:\n  - \ncategories: \n---\n\n# TIPS\n\n## \n\n34\n<!-- more -->\n## \n\n5\n\n## \n\napp\n\n## \n\n\n\n## \n\n\n\n## \n\n ()23 30\n\n## \n\n\"\"\n\n## \n\n\n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n \"\" \"\"\"\"\n\n## \n\n   \n\n## \n\n     \n\n## \n\n \"\"\"\"\n\n## \n\n     \"\" \n\n--------------------------------------------------------------------------------\n\n# \n\n## \n\n1\\. \"----\" 2\\.  3\\.  4\\.  5\\.  6\\.  7\\. 7~10\n\n## \n\n8\\. \"\" 9\\. \n\n## \n\n10\\.  11\\.  12\\.  13\\. \n\n## \n\n14\\.  15\\. \n","slug":"running","published":1,"updated":"2017-01-04T04:00:27.154Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopv2002hcwnnc2p2e5ys","content":"<h1 id=\"TIPS\"><a href=\"#TIPS\" class=\"headerlink\" title=\"TIPS\"></a>TIPS</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>34<br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>5</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()23 30</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>     </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>      </p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.  2.  3.  4.  5.  6.  7. 7~10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8.  9. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10.  11.  12.  13. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>14.  15. </p>\n","excerpt":"<h1 id=\"TIPS\"><a href=\"#TIPS\" class=\"headerlink\" title=\"TIPS\"></a>TIPS</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>34<br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>5</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>app</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()23 30</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>     </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>      </p>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.  2.  3.  4.  5.  6.  7. 7~10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8.  9. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10.  11.  12.  13. </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>14.  15. </p>"},{"title":"","date":"2016-12-01T05:52:43.000Z","updated":"2016-12-01T05:52:43.000Z","_content":"\n# \n1. imqq\n1. \n1. \n \n> 1\n\n> 1230612306sku[](http://mp.weixin.qq.com/s?src=3&timestamp=1483520302&ver=1&signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==)\n\n\n# \n\n1. 123062000200w0\n\n2. ****2000200w20000.1%99.9%\n \n# \n1. JS\n2. html\n3. \n4. mysql\n \n# \n## APP\n\t- \n\t- JS****x\n\t- APPxAPP80%+\n\n99%firebughttpjsforhttp\n \n## \nforipcookie-iduiduiduid5199%for\n\n5s\n****uidx\nitemx404\n\nhttp\n \nforhttp10w10wuiduid\n \n## \n\n1200010w** **\n** ** \n\n> 1w1wdb\n> 3k3kdb\n> \n \ncachememcachedredis`10w`mis99.9%\n \n:\n> - 1230610889...\n> - 5826``\n> -    \n \n## \n> - 80%\n> - 99.9%\n> - \n\n,db100w00%3k100%\n \n# \n1. \n2. \n\n> - APP\n> - uid\n> - \n> - \n\n# \n- ****50%50%\n- ******/**\n- ****\n- \n- \n- \n- ","source":"_posts/2016/seckill-sys.md","raw":"---\ntitle: \ndate: 2016-12-01 13:52:43\nupdated: 2016-12-01 13:52:43\ntags:\ncategories:\n---\n\n# \n1. imqq\n1. \n1. \n \n> 1\n\n> 1230612306sku[](http://mp.weixin.qq.com/s?src=3&timestamp=1483520302&ver=1&signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==)\n\n\n# \n\n1. 123062000200w0\n\n2. ****2000200w20000.1%99.9%\n \n# \n1. JS\n2. html\n3. \n4. mysql\n \n# \n## APP\n\t- \n\t- JS****x\n\t- APPxAPP80%+\n\n99%firebughttpjsforhttp\n \n## \nforipcookie-iduiduiduid5199%for\n\n5s\n****uidx\nitemx404\n\nhttp\n \nforhttp10w10wuiduid\n \n## \n\n1200010w** **\n** ** \n\n> 1w1wdb\n> 3k3kdb\n> \n \ncachememcachedredis`10w`mis99.9%\n \n:\n> - 1230610889...\n> - 5826``\n> -    \n \n## \n> - 80%\n> - 99.9%\n> - \n\n,db100w00%3k100%\n \n# \n1. \n2. \n\n> - APP\n> - uid\n> - \n> - \n\n# \n- ****50%50%\n- ******/**\n- ****\n- \n- \n- \n- ","slug":"seckill-sys","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopva002jcwnnygttfrlb","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>imqq</li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>1</p>\n<p>1230612306sku<a href=\"http://mp.weixin.qq.com/s?src=3&amp;timestamp=1483520302&amp;ver=1&amp;signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==\" target=\"_blank\" rel=\"external\"></a></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>123062000200w0</p>\n</li>\n<li><p><strong></strong>2000200w20000.1%99.9%</p>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>JS</li>\n<li>html</li>\n<li></li>\n<li>mysql</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"APP\"><a href=\"#APP\" class=\"headerlink\" title=\"APP\"></a>APP</h2><pre><code>- \n- JS****x\n- APPxAPP80%+\n</code></pre><p>99%firebughttpjsforhttp</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>foripcookie-iduiduiduid5199%for</p>\n<p>5s<br><strong></strong>uidx<br>itemx404</p>\n<p>http</p>\n<p>forhttp10w10wuiduid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1200010w<strong> </strong><br><strong> </strong> </p>\n<blockquote>\n<p>1w1wdb<br>3k3kdb<br></p>\n</blockquote>\n<p>cachememcachedredis<code>10w</code>mis99.9%</p>\n<p>:</p>\n<blockquote>\n<ul>\n<li>1230610889</li>\n<li>5826<code></code></li>\n<li>   </li>\n</ul>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ul>\n<li>80%</li>\n<li>99.9%</li>\n<li></li>\n</ul>\n</blockquote>\n<p>,db100w00%3k100%</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<ul>\n<li>APP</li>\n<li>uid</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong>50%50%</li>\n<li><strong></strong><strong>/</strong></li>\n<li><strong></strong></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n","excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>imqq</li>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<p>1</p>\n<p>1230612306sku<a href=\"http://mp.weixin.qq.com/s?src=3&amp;timestamp=1483520302&amp;ver=1&amp;signature=oMV0qeEAoxDXix0z8h1QIV3pVyw4Bqm9EvLUMBtk8dsrtnHZe1fKK2M403x7M2w0ut03F2lv1oFCx65DJxfPl4PlFW1rZPzOaSQspD4bZqjZ7pcjPfvo-PsR3Ec7nmkZo9jni8iNFahs0QtAZ8R3eg==\"></a></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>123062000200w0</p>\n</li>\n<li><p><strong></strong>2000200w20000.1%99.9%</p>\n</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li>JS</li>\n<li>html</li>\n<li></li>\n<li>mysql</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"APP\"><a href=\"#APP\" class=\"headerlink\" title=\"APP\"></a>APP</h2><pre><code>- \n- JS****x\n- APPxAPP80%+\n</code></pre><p>99%firebughttpjsforhttp</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>foripcookie-iduiduiduid5199%for</p>\n<p>5s<br><strong></strong>uidx<br>itemx404</p>\n<p>http</p>\n<p>forhttp10w10wuiduid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1200010w<strong> </strong><br><strong> </strong> </p>\n<blockquote>\n<p>1w1wdb<br>3k3kdb<br></p>\n</blockquote>\n<p>cachememcachedredis<code>10w</code>mis99.9%</p>\n<p>:</p>\n<blockquote>\n<ul>\n<li>1230610889</li>\n<li>5826<code></code></li>\n<li>   </li>\n</ul>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<ul>\n<li>80%</li>\n<li>99.9%</li>\n<li></li>\n</ul>\n</blockquote>\n<p>,db100w00%3k100%</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li></li>\n<li></li>\n</ol>\n<blockquote>\n<ul>\n<li>APP</li>\n<li>uid</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong>50%50%</li>\n<li><strong></strong><strong>/</strong></li>\n<li><strong></strong></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n"},{"title":"shell ","date":"2016-11-09T08:23:13.000Z","updated":"2016-11-09T08:23:13.000Z","_content":"shell\n<!-- more -->\n\n### shellrsync\n\n```bash\n# \n#!/bin/bash\nif [ $1 == \"f\" ]\nthen\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\nelif [ $1 == \"b\" ]\nthen\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\nelif [ $1 == \"a\" ]\nthen\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nelse\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nfi\n\n# .txt \n```\n\nrsync LAN,WANRsyncRsync`rsync --help` \n>- -a, --archive -rlptgoD\n>- -v, --verbose \n>- -P  --partial\n>- --progress \n>- -z, --compress \n>- --exclude=PATTERN \n>- --include=PATTERN \n>- --exclude-from=FILE FILE\n>- --include-from=FILE FILE ,\n>- --delete DSTSRC\n>- --delete-excluded \n>- --delete-after \n\n#### SSH(:)\n```bash\n\tservice sshd start\n\trsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync\n\n\t#rsync?\n\trsync -av --include '*/' --exclude '*' source-dir dest-dir\n```\n\n#### (::)\n##### rsync\n`vim /etc/xinetd.d/rsync` , `disable=yes``disable=no`,`xinetd`\n##### \n`vi /etc/rsyncd.conf`\n```bash\n\tuid=root\n\tgid=root\n\tmax connections=4\n\tlog file=/var/log/rsyncd.log\n\tpid file=/var/run/rsyncd.pid\n\tlock file=/var/run/rsyncd.lock\n\tsecrets file=/etc/rsyncd.passwd\n\thosts deny=172.16.78.0/22\n\n\t[www]\n\tcomment= backup web\n\tpath=/www\n\tread only = no\n\texclude=test\n\tauth users=work\n```\n##### \n```bash\necho \"work:abc123\" > /etc/rsyncd.passwd\nchmod 600 /etc/rsyncd.passwd\n```\n##### ,\n```bash\n\trsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync\n\trsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www\n```\n\n[rsync](https://rsync.samba.org/) , [](https://rsync.samba.org/examples.html)\n\n\n### crontab \n\n```bash\n .---------------- minute (0 - 59)\n |  .------------- hour (0 - 23)\n |  |  .---------- day of month (1 - 31)\n |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n |  |  |  |  |\n *  *  *  *  * user-name command to be executed\n\neg\n0 3 * * * bash /home/demo.sh >> /home/sh.log  # \n8 12 * * 3 bash /data1/auto.sh  # 3128\n0 21 * * 2 scp /data1/{kid_kid_ask_set,kid_period_ask_set} root@192.168.2.3:/data/ #21\n10 14 * * * bash /home/updataRedis.sh >>/home/log/log.txt 2>&1 # 14:10 \n*/1 * * * * curl http://www.xxx.com/test.php  #\n\n```\n### \n\n```bash\n#!/bin/bash \ncd /home/changyuan/test/\nstr=`date '+%Y%m%d%H%M'`\n\nif [ -d $str ] \nthen\n\techo \"exist floder\"\nelse\n\tmkdir $str\nfi\n```\n### shell \n```bash\ntouch online.sh\n\n#!/bin/bash\necho \"Hello World !\"\n\n#\nchmod +x ./online.sh\n\n#\n/bin/sh online.sh\n\n#\nfor file in `ls /etc`\n\nyour_name=\"qinjx\"\necho $your_name\necho ${your_name}\n\n#\nmyUrl=\"http://www.w3cschool.cc\"\nreadonly myUrl\n\n#\nunset variable_name\n\n\n\n#\necho \"\\\"It is a test\\\"\" # \necho -e \"OK! \\n\" # \necho '$name'  # \nstring=\"runoob is a great site\"\necho ${#string} #\necho ${string:1:4} #  unoo\n\necho $string $string1 #\n\necho `expr index \"$string\" is` # isexpr\n\n\n#\narray_name=(value0 value1 value2 value3) #\narray_name[n]=valuen\n\n${array_name[1]} #\n${array_name[@]} , ${array_name[*]}  #\n\n${#array_name[0]} #\n${#array_name[@]}  ${#array_name[*]} #\n\n# \n$0,$1,$2... # \n$#\t #\n$* , $@   #,\"1 2 3\"(1,2,3)\n$$  #ID\n$!  #ID\n\n#   `` \nval=`expr 2 + 2`\n\n#   !  -o (or) -a (and)\n#  && || \n# \n=:   #\n!=:  #\n-z:  #00 true(zero) [ -z $a ]\n-n:  #00 true(no zero) \nstr: #[ $a ]\n\n#\n-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e\n#-c-d-f-r-w-x-s>0,true-eexist\n\n\n# \nread name\necho \"$name It is a test\"\n\nprintf # \n\n#test \n# \nif test $[num1] -eq $[num2]\nthen\n    echo ''\nelse\n    echo ''\nfi\n\nif condition1\nthen\n    command1\nelif condition2 \nthen \n    command2\nelse\n    commandN\nfi\n\n\nfor var in item1 item2 ... itemN\ndo\n    command1\n    command2\n    ...\ndone\n\n\n#!/bin/sh\nint=1\nwhile(( $int<=5 ))\ndo\n        echo $int\n        let \"int++\"\ndone\n\nuntil condition\ndo\n    command\ndone\n\ncase var in\n\t1)\n    command1\n    ;;\n\t2\n    command2\n    ;;\nesac\n\nbreak\ncontinue\n\n# \n[function] demoFun(){\n    echo \"demo\"\n    return ($#,$*); # \n}\n\n#Shell /\n\ncat test.txt > test1.txt\ncat test.txt >> test1.txt\n\n# /dev/null\ncommand > /dev/null #\"\"\n\n#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR\ncommand > /dev/null 2>&1  \n\n\n# \n. ./test1.sh \nsource ./test1.sh\n\n```","source":"_posts/2016/shell.md","raw":"---\ntitle: shell \ndate: 2016-11-09 16:23:13\nupdated: 2016-11-09 16:23:13\ntags:\ncategories:\n---\nshell\n<!-- more -->\n\n### shellrsync\n\n```bash\n# \n#!/bin/bash\nif [ $1 == \"f\" ]\nthen\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\nelif [ $1 == \"b\" ]\nthen\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\nelif [ $1 == \"a\" ]\nthen\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nelse\n\trsync -av ./ --exclude-from='frontend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/frontend/\n\trsync -av ./ --exclude-from='backend_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/backend/\n\trsync -av ./ --exclude-from='api_rsync_exclude.txt' changyuan@172.21.0.86:/home/changyuan/api/\nfi\n\n# .txt \n```\n\nrsync LAN,WANRsyncRsync`rsync --help` \n>- -a, --archive -rlptgoD\n>- -v, --verbose \n>- -P  --partial\n>- --progress \n>- -z, --compress \n>- --exclude=PATTERN \n>- --include=PATTERN \n>- --exclude-from=FILE FILE\n>- --include-from=FILE FILE ,\n>- --delete DSTSRC\n>- --delete-excluded \n>- --delete-after \n\n#### SSH(:)\n```bash\n\tservice sshd start\n\trsync -vzrtopg --progress -e ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync\n\n\t#rsync?\n\trsync -av --include '*/' --exclude '*' source-dir dest-dir\n```\n\n#### (::)\n##### rsync\n`vim /etc/xinetd.d/rsync` , `disable=yes``disable=no`,`xinetd`\n##### \n`vi /etc/rsyncd.conf`\n```bash\n\tuid=root\n\tgid=root\n\tmax connections=4\n\tlog file=/var/log/rsyncd.log\n\tpid file=/var/run/rsyncd.pid\n\tlock file=/var/run/rsyncd.lock\n\tsecrets file=/etc/rsyncd.passwd\n\thosts deny=172.16.78.0/22\n\n\t[www]\n\tcomment= backup web\n\tpath=/www\n\tread only = no\n\texclude=test\n\tauth users=work\n```\n##### \n```bash\necho \"work:abc123\" > /etc/rsyncd.passwd\nchmod 600 /etc/rsyncd.passwd\n```\n##### ,\n```bash\n\trsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync\n\trsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www\n```\n\n[rsync](https://rsync.samba.org/) , [](https://rsync.samba.org/examples.html)\n\n\n### crontab \n\n```bash\n .---------------- minute (0 - 59)\n |  .------------- hour (0 - 23)\n |  |  .---------- day of month (1 - 31)\n |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n |  |  |  |  |\n *  *  *  *  * user-name command to be executed\n\neg\n0 3 * * * bash /home/demo.sh >> /home/sh.log  # \n8 12 * * 3 bash /data1/auto.sh  # 3128\n0 21 * * 2 scp /data1/{kid_kid_ask_set,kid_period_ask_set} root@192.168.2.3:/data/ #21\n10 14 * * * bash /home/updataRedis.sh >>/home/log/log.txt 2>&1 # 14:10 \n*/1 * * * * curl http://www.xxx.com/test.php  #\n\n```\n### \n\n```bash\n#!/bin/bash \ncd /home/changyuan/test/\nstr=`date '+%Y%m%d%H%M'`\n\nif [ -d $str ] \nthen\n\techo \"exist floder\"\nelse\n\tmkdir $str\nfi\n```\n### shell \n```bash\ntouch online.sh\n\n#!/bin/bash\necho \"Hello World !\"\n\n#\nchmod +x ./online.sh\n\n#\n/bin/sh online.sh\n\n#\nfor file in `ls /etc`\n\nyour_name=\"qinjx\"\necho $your_name\necho ${your_name}\n\n#\nmyUrl=\"http://www.w3cschool.cc\"\nreadonly myUrl\n\n#\nunset variable_name\n\n\n\n#\necho \"\\\"It is a test\\\"\" # \necho -e \"OK! \\n\" # \necho '$name'  # \nstring=\"runoob is a great site\"\necho ${#string} #\necho ${string:1:4} #  unoo\n\necho $string $string1 #\n\necho `expr index \"$string\" is` # isexpr\n\n\n#\narray_name=(value0 value1 value2 value3) #\narray_name[n]=valuen\n\n${array_name[1]} #\n${array_name[@]} , ${array_name[*]}  #\n\n${#array_name[0]} #\n${#array_name[@]}  ${#array_name[*]} #\n\n# \n$0,$1,$2... # \n$#\t #\n$* , $@   #,\"1 2 3\"(1,2,3)\n$$  #ID\n$!  #ID\n\n#   `` \nval=`expr 2 + 2`\n\n#   !  -o (or) -a (and)\n#  && || \n# \n=:   #\n!=:  #\n-z:  #00 true(zero) [ -z $a ]\n-n:  #00 true(no zero) \nstr: #[ $a ]\n\n#\n-b,-c,-d,-f,-g,-k,-p,-u,-r,-w,-x,-s,-e\n#-c-d-f-r-w-x-s>0,true-eexist\n\n\n# \nread name\necho \"$name It is a test\"\n\nprintf # \n\n#test \n# \nif test $[num1] -eq $[num2]\nthen\n    echo ''\nelse\n    echo ''\nfi\n\nif condition1\nthen\n    command1\nelif condition2 \nthen \n    command2\nelse\n    commandN\nfi\n\n\nfor var in item1 item2 ... itemN\ndo\n    command1\n    command2\n    ...\ndone\n\n\n#!/bin/sh\nint=1\nwhile(( $int<=5 ))\ndo\n        echo $int\n        let \"int++\"\ndone\n\nuntil condition\ndo\n    command\ndone\n\ncase var in\n\t1)\n    command1\n    ;;\n\t2\n    command2\n    ;;\nesac\n\nbreak\ncontinue\n\n# \n[function] demoFun(){\n    echo \"demo\"\n    return ($#,$*); # \n}\n\n#Shell /\n\ncat test.txt > test1.txt\ncat test.txt >> test1.txt\n\n# /dev/null\ncommand > /dev/null #\"\"\n\n#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR\ncommand > /dev/null 2>&1  \n\n\n# \n. ./test1.sh \nsource ./test1.sh\n\n```","slug":"shell","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopvd002mcwnn4p5xlc2h","content":"<p>shell<br><a id=\"more\"></a></p>\n<h3 id=\"shellrsync\"><a href=\"#shellrsync\" class=\"headerlink\" title=\"shellrsync\"></a>shellrsync</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"f\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"b\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"a\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .txt </span></span><br></pre></td></tr></table></figure>\n<p>rsync LAN,WANRsyncRsync<code>rsync --help</code> </p>\n<blockquote>\n<ul>\n<li>-a, archive -rlptgoD</li>\n<li>-v, verbose </li>\n<li>-P  partial</li>\n<li>progress </li>\n<li>-z, compress </li>\n<li>exclude=PATTERN </li>\n<li>include=PATTERN </li>\n<li>exclude-from=FILE FILE</li>\n<li>include-from=FILE FILE ,</li>\n<li>delete DSTSRC</li>\n<li>delete-excluded </li>\n<li>delete-after </li>\n</ul>\n</blockquote>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH(:)\"></a>SSH(:)</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service sshd start</span><br><span class=\"line\">rsync -vzrtopg --progress <span class=\"_\">-e</span> ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rsync?</span></span><br><span class=\"line\">rsync -av --include <span class=\"string\">'*/'</span> --exclude <span class=\"string\">'*'</span> <span class=\"built_in\">source</span>-dir dest-dir</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"(::)\"></a>(::)</h4><h5 id=\"rsync\"><a href=\"#rsync\" class=\"headerlink\" title=\"rsync\"></a>rsync</h5><p><code>vim /etc/xinetd.d/rsync</code> , <code>disable=yes</code><code>disable=no</code>,<code>xinetd</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>vi /etc/rsyncd.conf</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uid=root</span><br><span class=\"line\">gid=root</span><br><span class=\"line\">max connections=4</span><br><span class=\"line\"><span class=\"built_in\">log</span> file=/var/<span class=\"built_in\">log</span>/rsyncd.log</span><br><span class=\"line\">pid file=/var/run/rsyncd.pid</span><br><span class=\"line\">lock file=/var/run/rsyncd.lock</span><br><span class=\"line\">secrets file=/etc/rsyncd.passwd</span><br><span class=\"line\">hosts deny=172.16.78.0/22</span><br><span class=\"line\"></span><br><span class=\"line\">[www]</span><br><span class=\"line\">comment= backup web</span><br><span class=\"line\">path=/www</span><br><span class=\"line\"><span class=\"built_in\">read</span> only = no</span><br><span class=\"line\">exclude=<span class=\"built_in\">test</span></span><br><span class=\"line\">auth users=work</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"work:abc123\"</span> &gt; /etc/rsyncd.passwd</span><br><span class=\"line\">chmod 600 /etc/rsyncd.passwd</span><br></pre></td></tr></table></figure>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync</span><br><span class=\"line\">rsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://rsync.samba.org/\" target=\"_blank\" rel=\"external\">rsync</a> , <a href=\"https://rsync.samba.org/examples.html\" target=\"_blank\" rel=\"external\"></a></p>\n<h3 id=\"crontab-\"><a href=\"#crontab-\" class=\"headerlink\" title=\"crontab \"></a>crontab </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> .---------------- minute (0 - 59)</span><br><span class=\"line\"> |  .------------- hour (0 - 23)</span><br><span class=\"line\"> |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> |  |  |  |  |</span><br><span class=\"line\"> *  *  *  *  * user-name <span class=\"built_in\">command</span> to be executed</span><br><span class=\"line\"></span><br><span class=\"line\">eg</span><br><span class=\"line\">0 3 * * * bash /home/demo.sh &gt;&gt; /home/sh.log  <span class=\"comment\"># </span></span><br><span class=\"line\">8 12 * * 3 bash /data1/auto.sh  <span class=\"comment\"># 3128</span></span><br><span class=\"line\">0 21 * * 2 scp /data1/&#123;kid_kid_ask_<span class=\"built_in\">set</span>,kid_period_ask_<span class=\"built_in\">set</span>&#125; root@192.168.2.3:/data/ <span class=\"comment\">#21</span></span><br><span class=\"line\">10 14 * * * bash /home/updataRedis.sh &gt;&gt;/home/<span class=\"built_in\">log</span>/log.txt 2&gt;&amp;1 <span class=\"comment\"># 14:10 </span></span><br><span class=\"line\">*/1 * * * * curl http://www.xxx.com/test.php  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/changyuan/<span class=\"built_in\">test</span>/</span><br><span class=\"line\">str=`date <span class=\"string\">'+%Y%m%d%H%M'</span>`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-d</span> <span class=\"variable\">$str</span> ] </span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"exist floder\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\tmkdir <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"shell-\"><a href=\"#shell-\" class=\"headerlink\" title=\"shell \"></a>shell </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"Hello World !\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">chmod +x ./online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">/bin/sh online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls /etc`</span><br><span class=\"line\"></span><br><span class=\"line\">your_name=<span class=\"string\">\"qinjx\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$your_name</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;your_name&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">myUrl=<span class=\"string\">\"http://www.w3cschool.cc\"</span></span><br><span class=\"line\"><span class=\"built_in\">readonly</span> myUrl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> variable_name</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"\\\"It is a test\\\"\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"_\">-e</span> <span class=\"string\">\"OK! \\n\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'$name'</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">string=<span class=\"string\">\"runoob is a great site\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;#string&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;string:1:4&#125;</span> <span class=\"comment\">#  unoo</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$string</span> <span class=\"variable\">$string1</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `expr index <span class=\"string\">\"<span class=\"variable\">$string</span>\"</span> is` <span class=\"comment\"># isexpr</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">array_name=(value0 value1 value2 value3) <span class=\"comment\">#</span></span><br><span class=\"line\">array_name[n]=valuen</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[1]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[@]&#125;</span> , <span class=\"variable\">$&#123;array_name[*]&#125;</span>  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[0]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[@]&#125;</span>  <span class=\"variable\">$&#123;#array_name[*]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$0</span>,<span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>... <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$#</span>\t <span class=\"comment\">#</span></span><br><span class=\"line\">$* , <span class=\"variable\">$@</span>   <span class=\"comment\">#,\"1 2 3\"(1,2,3)</span></span><br><span class=\"line\">$$  <span class=\"comment\">#ID</span></span><br><span class=\"line\">$!  <span class=\"comment\">#ID</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   `` </span></span><br><span class=\"line\">val=`expr 2 + 2`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   !  -o (or) -a (and)</span></span><br><span class=\"line\"><span class=\"comment\">#  &amp;&amp; || </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">=:   <span class=\"comment\">#</span></span><br><span class=\"line\">!=:  <span class=\"comment\">#</span></span><br><span class=\"line\">-z:  <span class=\"comment\">#00 true(zero) [ -z $a ]</span></span><br><span class=\"line\">-n:  <span class=\"comment\">#00 true(no zero) </span></span><br><span class=\"line\">str: <span class=\"comment\">#[ $a ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">-b,-c,<span class=\"_\">-d</span>,<span class=\"_\">-f</span>,-g,-k,-p,-u,-r,-w,-x,<span class=\"_\">-s</span>,<span class=\"_\">-e</span></span><br><span class=\"line\"><span class=\"comment\">#-c-d-f-r-w-x-s&gt;0,true-eexist</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">read</span> name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$name</span> It is a test\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"built_in\">test</span> $[num1] <span class=\"_\">-eq</span> $[num2]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> condition1</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\"><span class=\"keyword\">elif</span> condition2 </span><br><span class=\"line\"><span class=\"keyword\">then</span> </span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>N</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> var <span class=\"keyword\">in</span> item1 item2 ... itemN</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">int=1</span><br><span class=\"line\"><span class=\"keyword\">while</span>(( <span class=\"variable\">$int</span>&lt;=5 ))</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"variable\">$int</span></span><br><span class=\"line\">        <span class=\"built_in\">let</span> <span class=\"string\">\"int++\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">until condition</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> var <span class=\"keyword\">in</span></span><br><span class=\"line\">\t1)</span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\">    ;;</span><br><span class=\"line\">\t2</span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\">    ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">break</span></span><br><span class=\"line\"><span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">[<span class=\"keyword\">function</span>] <span class=\"function\"><span class=\"title\">demoFun</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"demo\"</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> (<span class=\"variable\">$#</span>,$*); <span class=\"comment\"># </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#Shell /</span></span><br><span class=\"line\"></span><br><span class=\"line\">cat test.txt &gt; <span class=\"built_in\">test</span>1.txt</span><br><span class=\"line\">cat test.txt &gt;&gt; <span class=\"built_in\">test</span>1.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /dev/null</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null <span class=\"comment\">#\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null 2&gt;&amp;1  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">. ./<span class=\"built_in\">test</span>1.sh </span><br><span class=\"line\"><span class=\"built_in\">source</span> ./<span class=\"built_in\">test</span>1.sh</span><br></pre></td></tr></table></figure>","excerpt":"<p>shell<br>","more":"</p>\n<h3 id=\"shellrsync\"><a href=\"#shellrsync\" class=\"headerlink\" title=\"shellrsync\"></a>shellrsync</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"f\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"b\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\"><span class=\"keyword\">elif</span> [ <span class=\"variable\">$1</span> == <span class=\"string\">\"a\"</span> ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'frontend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/frontend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'backend_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/backend/</span><br><span class=\"line\">\trsync -av ./ --exclude-from=<span class=\"string\">'api_rsync_exclude.txt'</span> changyuan@172.21.0.86:/home/changyuan/api/</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># .txt </span></span><br></pre></td></tr></table></figure>\n<p>rsync LAN,WANRsyncRsync<code>rsync --help</code> </p>\n<blockquote>\n<ul>\n<li>-a, archive -rlptgoD</li>\n<li>-v, verbose </li>\n<li>-P  partial</li>\n<li>progress </li>\n<li>-z, compress </li>\n<li>exclude=PATTERN </li>\n<li>include=PATTERN </li>\n<li>exclude-from=FILE FILE</li>\n<li>include-from=FILE FILE ,</li>\n<li>delete DSTSRC</li>\n<li>delete-excluded </li>\n<li>delete-after </li>\n</ul>\n</blockquote>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH(:)\"></a>SSH(:)</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service sshd start</span><br><span class=\"line\">rsync -vzrtopg --progress <span class=\"_\">-e</span> ssh --delete work@172.16.78.192:/www/* /databack/experiment/rsync</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#rsync?</span></span><br><span class=\"line\">rsync -av --include <span class=\"string\">'*/'</span> --exclude <span class=\"string\">'*'</span> <span class=\"built_in\">source</span>-dir dest-dir</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"(::)\"></a>(::)</h4><h5 id=\"rsync\"><a href=\"#rsync\" class=\"headerlink\" title=\"rsync\"></a>rsync</h5><p><code>vim /etc/xinetd.d/rsync</code> , <code>disable=yes</code><code>disable=no</code>,<code>xinetd</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>vi /etc/rsyncd.conf</code><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uid=root</span><br><span class=\"line\">gid=root</span><br><span class=\"line\">max connections=4</span><br><span class=\"line\"><span class=\"built_in\">log</span> file=/var/<span class=\"built_in\">log</span>/rsyncd.log</span><br><span class=\"line\">pid file=/var/run/rsyncd.pid</span><br><span class=\"line\">lock file=/var/run/rsyncd.lock</span><br><span class=\"line\">secrets file=/etc/rsyncd.passwd</span><br><span class=\"line\">hosts deny=172.16.78.0/22</span><br><span class=\"line\"></span><br><span class=\"line\">[www]</span><br><span class=\"line\">comment= backup web</span><br><span class=\"line\">path=/www</span><br><span class=\"line\"><span class=\"built_in\">read</span> only = no</span><br><span class=\"line\">exclude=<span class=\"built_in\">test</span></span><br><span class=\"line\">auth users=work</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"work:abc123\"</span> &gt; /etc/rsyncd.passwd</span><br><span class=\"line\">chmod 600 /etc/rsyncd.passwd</span><br></pre></td></tr></table></figure>\n<h5 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\",\"></a>,</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rsync -avz --progress --delete work@172.16.78.192::www /databack/experiment/rsync</span><br><span class=\"line\">rsync -avz --progress /databack/experiment/rsync/ work@172.16.78.192::www</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://rsync.samba.org/\">rsync</a> , <a href=\"https://rsync.samba.org/examples.html\"></a></p>\n<h3 id=\"crontab-\"><a href=\"#crontab-\" class=\"headerlink\" title=\"crontab \"></a>crontab </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> .---------------- minute (0 - 59)</span><br><span class=\"line\"> |  .------------- hour (0 - 23)</span><br><span class=\"line\"> |  |  .---------- day of month (1 - 31)</span><br><span class=\"line\"> |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class=\"line\"> |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class=\"line\"> |  |  |  |  |</span><br><span class=\"line\"> *  *  *  *  * user-name <span class=\"built_in\">command</span> to be executed</span><br><span class=\"line\"></span><br><span class=\"line\">eg</span><br><span class=\"line\">0 3 * * * bash /home/demo.sh &gt;&gt; /home/sh.log  <span class=\"comment\"># </span></span><br><span class=\"line\">8 12 * * 3 bash /data1/auto.sh  <span class=\"comment\"># 3128</span></span><br><span class=\"line\">0 21 * * 2 scp /data1/&#123;kid_kid_ask_<span class=\"built_in\">set</span>,kid_period_ask_<span class=\"built_in\">set</span>&#125; root@192.168.2.3:/data/ <span class=\"comment\">#21</span></span><br><span class=\"line\">10 14 * * * bash /home/updataRedis.sh &gt;&gt;/home/<span class=\"built_in\">log</span>/log.txt 2&gt;&amp;1 <span class=\"comment\"># 14:10 </span></span><br><span class=\"line\">*/1 * * * * curl http://www.xxx.com/test.php  <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/changyuan/<span class=\"built_in\">test</span>/</span><br><span class=\"line\">str=`date <span class=\"string\">'+%Y%m%d%H%M'</span>`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"_\">-d</span> <span class=\"variable\">$str</span> ] </span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"exist floder\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\tmkdir <span class=\"variable\">$str</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"shell-\"><a href=\"#shell-\" class=\"headerlink\" title=\"shell \"></a>shell </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"Hello World !\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">chmod +x ./online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">/bin/sh online.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> `ls /etc`</span><br><span class=\"line\"></span><br><span class=\"line\">your_name=<span class=\"string\">\"qinjx\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$your_name</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;your_name&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">myUrl=<span class=\"string\">\"http://www.w3cschool.cc\"</span></span><br><span class=\"line\"><span class=\"built_in\">readonly</span> myUrl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">unset</span> variable_name</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"\\\"It is a test\\\"\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"_\">-e</span> <span class=\"string\">\"OK! \\n\"</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'$name'</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">string=<span class=\"string\">\"runoob is a great site\"</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;#string&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;string:1:4&#125;</span> <span class=\"comment\">#  unoo</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$string</span> <span class=\"variable\">$string1</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> `expr index <span class=\"string\">\"<span class=\"variable\">$string</span>\"</span> is` <span class=\"comment\"># isexpr</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">array_name=(value0 value1 value2 value3) <span class=\"comment\">#</span></span><br><span class=\"line\">array_name[n]=valuen</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[1]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;array_name[@]&#125;</span> , <span class=\"variable\">$&#123;array_name[*]&#125;</span>  <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[0]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;#array_name[@]&#125;</span>  <span class=\"variable\">$&#123;#array_name[*]&#125;</span> <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$0</span>,<span class=\"variable\">$1</span>,<span class=\"variable\">$2</span>... <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"variable\">$#</span>\t <span class=\"comment\">#</span></span><br><span class=\"line\">$* , <span class=\"variable\">$@</span>   <span class=\"comment\">#,\"1 2 3\"(1,2,3)</span></span><br><span class=\"line\">$$  <span class=\"comment\">#ID</span></span><br><span class=\"line\">$!  <span class=\"comment\">#ID</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   `` </span></span><br><span class=\"line\">val=`expr 2 + 2`</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#   !  -o (or) -a (and)</span></span><br><span class=\"line\"><span class=\"comment\">#  &amp;&amp; || </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">=:   <span class=\"comment\">#</span></span><br><span class=\"line\">!=:  <span class=\"comment\">#</span></span><br><span class=\"line\">-z:  <span class=\"comment\">#00 true(zero) [ -z $a ]</span></span><br><span class=\"line\">-n:  <span class=\"comment\">#00 true(no zero) </span></span><br><span class=\"line\">str: <span class=\"comment\">#[ $a ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\">-b,-c,<span class=\"_\">-d</span>,<span class=\"_\">-f</span>,-g,-k,-p,-u,-r,-w,-x,<span class=\"_\">-s</span>,<span class=\"_\">-e</span></span><br><span class=\"line\"><span class=\"comment\">#-c-d-f-r-w-x-s&gt;0,true-eexist</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">read</span> name</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$name</span> It is a test\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#test </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"built_in\">test</span> $[num1] <span class=\"_\">-eq</span> $[num2]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> condition1</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\"><span class=\"keyword\">elif</span> condition2 </span><br><span class=\"line\"><span class=\"keyword\">then</span> </span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>N</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> var <span class=\"keyword\">in</span> item1 item2 ... itemN</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">int=1</span><br><span class=\"line\"><span class=\"keyword\">while</span>(( <span class=\"variable\">$int</span>&lt;=5 ))</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"variable\">$int</span></span><br><span class=\"line\">        <span class=\"built_in\">let</span> <span class=\"string\">\"int++\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">until condition</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">command</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> var <span class=\"keyword\">in</span></span><br><span class=\"line\">\t1)</span><br><span class=\"line\">    <span class=\"built_in\">command</span>1</span><br><span class=\"line\">    ;;</span><br><span class=\"line\">\t2</span><br><span class=\"line\">    <span class=\"built_in\">command</span>2</span><br><span class=\"line\">    ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">break</span></span><br><span class=\"line\"><span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">[<span class=\"keyword\">function</span>] <span class=\"function\"><span class=\"title\">demoFun</span></span>()&#123;</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"demo\"</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> (<span class=\"variable\">$#</span>,$*); <span class=\"comment\"># </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#Shell /</span></span><br><span class=\"line\"></span><br><span class=\"line\">cat test.txt &gt; <span class=\"built_in\">test</span>1.txt</span><br><span class=\"line\">cat test.txt &gt;&gt; <span class=\"built_in\">test</span>1.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># /dev/null</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null <span class=\"comment\">#\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  stdout  stderr,0 STDIN,1 STDOUT,2 STDERR</span></span><br><span class=\"line\"><span class=\"built_in\">command</span> &gt; /dev/null 2&gt;&amp;1  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">. ./<span class=\"built_in\">test</span>1.sh </span><br><span class=\"line\"><span class=\"built_in\">source</span> ./<span class=\"built_in\">test</span>1.sh</span><br></pre></td></tr></table></figure>"},{"title":"vagrant usage","date":"2016-11-10T06:46:53.000Z","updated":"2016-11-10T06:46:53.000Z","author":"change","_content":"\n### VirtualBox Vagrant\n[VirtualBox](https://www.virtualbox.org/wiki/Downloads), [vagrant](https://www.vagrantup.com/downloads.html)\n\n### Box \n Vagrant  Box  Box  CentOSUbuntu  Box Box\n\n `vagrant Box` Vagrant  , Box  Vagrant Vagrant  Box \n\n<!-- more -->\n\n> http://www.vagrantbox.es/\n> https://atlas.hashicorp.com/boxes/search\n\n```bash\nvagrant box add {title} {box}    # title boxURLbox\n\n```\n**box**`vagrant box remove {title}`,vagrant -h \n\n\n### box\n`vagrant box list`\n\n\n### \n``` bash\n# \ncd project\n# box\nvagrant box list\n\n# Vagrantfileruby\n\n`vagrant init {title}`  title`config.vm.box`title`config.vm.box=base`\n\n```\n\n\n###  \n```bash\nvagrant up\n\nvagrant status\n```\n\n### \n\n```bash\n# mac\nvagrant ssh\n\n\n# windows ssh\n\n# Host127.0.0.1\n# Port2200\n# Usernamevagrant\n# passwordvagrant\n\n```\n\n### box\n\n```bash\nvagrant package\n\n\n# boxbox \nvagrant box add hahaha ~/box/package.box  #  package.box  hahaha\n\ncd ~/dev  # \nvagrant init hahaha  \n\n```\n### \n\n Vagrant  Vagrantfile \n```bash\nconfig.vm.provision \"shell\", inline: <<-SHELL\n   apt-get update\n   apt-get install -y apache2\nSHELL\n```\n `vagrant reload --provision`  Vagrantfile [](https://www.vagrantup.com/docs/provisioning/)\n\n bootstrap.sh\n```bash\n#!/usr/bin/env bash\n\napt-get update\napt-get install -y apache2\nif ! [ -L /var/www ]; then\n  rm -rf /var/www\n  ln -fs /vagrant /var/www\nfi\n```\n Vagrantfile \n```bash\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  ...\n\n  config.vm.provision \"shell\", path: \"bootstrap.sh\"  # \nend\n```\n[](https://www.vagrantup.com/docs/cli/index.html)\n\n\n### yii2 vagrant  DEMO  \n```bash\nvagrant box add ubuntu/trusty64\n# vagrantfile vargrant init \n\nvagrant up\n\n\n```\n\nVagrantfile \n\n```Vagrantfile\nrequire 'yaml'\nrequire 'fileutils'\n\ndomains = {\n  frontend: 'y2aa-frontend.dev',\n  backend:  'y2aa-backend.dev'\n}\n\nconfig = {\n  local: './vagrant/config/vagrant-local.yml',\n  example: './vagrant/config/vagrant-local.example.yml'\n}\n\n# copy config from example if local config not exists\nFileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])\n# read config\noptions = YAML.load_file config[:local]\n\n# check github token\nif options['github_token'].nil? || options['github_token'].to_s.length != 40\n  puts \"You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml\"\n  exit\nend\n\n# vagrant configurate\nVagrant.configure(2) do |config|\n  # select the box\n  config.vm.box = 'ubuntu/trusty64'\n\n  # should we ask about box updates?\n  config.vm.box_check_update = options['box_check_update']\n\n  config.vm.provider 'virtualbox' do |vb|\n    # machine cpus count\n    vb.cpus = options['cpus']\n    # machine memory size\n    vb.memory = options['memory']\n    # machine name (for VirtualBox UI)\n    vb.name = options['machine_name']\n  end\n\n  # machine name (for vagrant console)\n  config.vm.define options['machine_name']\n\n  # machine name (for guest machine console)\n  config.vm.hostname = options['machine_name']\n\n  # network settings\n  config.vm.network 'private_network', ip: options['ip']\n\n  # sync: folder 'yii2-app-advanced' (host machine) -> folder '/app' (guest machine)\n  config.vm.synced_folder './', '/app', owner: 'vagrant', group: 'vagrant'\n\n  # disable folder '/vagrant' (guest machine)\n  config.vm.synced_folder '.', '/vagrant', disabled: true\n\n  # hosts settings (host machine)\n  config.vm.provision :hostmanager\n  config.hostmanager.enabled            = true\n  config.hostmanager.manage_host        = true\n  config.hostmanager.ignore_private_ip  = false\n  config.hostmanager.include_offline    = true\n  config.hostmanager.aliases            = domains.values\n\n  # provisioners\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-root.sh', args: [options['timezone']]\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-vagrant.sh', args: [options['github_token']], privileged: false\n  config.vm.provision 'shell', path: './vagrant/provision/always-as-root.sh', run: 'always'\n\n  # post-install message (vagrant console)\n  config.vm.post_up_message = \"Frontend URL: http://#{domains[:frontend]}\\nBackend URL: http://#{domains[:backend]}\"\nend\n\n```\n\n```once-as-vagrant.sh\n\n#!/usr/bin/env bash\n\n#== Import script args ==\n\ngithub_token=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Configure composer\"\ncomposer config --global github-oauth.github.com ${github_token}\necho \"Done!\"\n\ninfo \"Install plugins for composer\"\ncomposer global require \"fxp/composer-asset-plugin:~1.1.1\" --no-progress\n\ninfo \"Install codeception\"\ncomposer global require \"codeception/codeception=2.0.*\" \"codeception/specify=*\" \"codeception/verify=*\" --no-progress\necho 'export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH' | tee -a /home/vagrant/.profile\n\ninfo \"Install project dependencies\"\ncd /app\ncomposer --no-progress --prefer-dist install\n\ninfo \"Init project\"\n./init --env=Development --overwrite=y\n\ninfo \"Apply migrations\"\n./yii migrate <<< \"yes\"\n\ninfo \"Create bash-alias 'app' for vagrant user\"\necho 'alias app=\"cd /app\"' | tee /home/vagrant/.bash_aliases\n\ninfo \"Enabling colorized prompt for guest console\"\nsed -i \"s/#force_color_prompt=yes/force_color_prompt=yes/\" /home/vagrant/.bashrc\n\n```\n\n\n```once-as-root.sh\n\t#!/usr/bin/env bash\n\n#== Import script args ==\n\ntimezone=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Allocate swap for MySQL 5.6\"\nfallocate -l 2048M /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap defaults 0 0' >> /etc/fstab\n\ninfo \"Configure locales\"\nupdate-locale LC_ALL=\"C\"\ndpkg-reconfigure locales\n\ninfo \"Configure timezone\"\necho ${timezone} | tee /etc/timezone\ndpkg-reconfigure --frontend noninteractive tzdata\n\ninfo \"Prepare root password for MySQL\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password password \\\"''\\\"\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password_again password \\\"''\\\"\"\necho \"Done!\"\n\ninfo \"Update OS software\"\napt-get update\napt-get upgrade -y\n\ninfo \"Install additional software\"\napt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6\n\ninfo \"Configure MySQL\"\nsed -i \"s/.*bind-address.*/bind-address = 0.0.0.0/\" /etc/mysql/my.cnf\necho \"Done!\"\n\ninfo \"Configure PHP-FPM\"\nsed -i 's/user = www-data/user = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/group = www-data/group = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/owner = www-data/owner = vagrant/g' /etc/php5/fpm/pool.d/www.conf\necho \"Done!\"\n\ninfo \"Configure NGINX\"\nsed -i 's/user www-data/user vagrant/g' /etc/nginx/nginx.conf\necho \"Done!\"\n\ninfo \"Enabling site configuration\"\nln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf\necho \"Done!\"\n\ninfo \"Initailize databases for MySQL\"\nmysql -uroot <<< \"CREATE DATABASE yii2advanced\"\nmysql -uroot <<< \"CREATE DATABASE yii2_advanced_tests\"\necho \"Done!\"\n\ninfo \"Install composer\"\ncurl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n```","source":"_posts/2016/vagrant.md","raw":"---\ntitle: vagrant usage\ndate: 2016-11-10 14:46:53\nupdated: 2016-11-10 14:46:53\nauthor: change\ntags:\ncategories:\n---\n\n### VirtualBox Vagrant\n[VirtualBox](https://www.virtualbox.org/wiki/Downloads), [vagrant](https://www.vagrantup.com/downloads.html)\n\n### Box \n Vagrant  Box  Box  CentOSUbuntu  Box Box\n\n `vagrant Box` Vagrant  , Box  Vagrant Vagrant  Box \n\n<!-- more -->\n\n> http://www.vagrantbox.es/\n> https://atlas.hashicorp.com/boxes/search\n\n```bash\nvagrant box add {title} {box}    # title boxURLbox\n\n```\n**box**`vagrant box remove {title}`,vagrant -h \n\n\n### box\n`vagrant box list`\n\n\n### \n``` bash\n# \ncd project\n# box\nvagrant box list\n\n# Vagrantfileruby\n\n`vagrant init {title}`  title`config.vm.box`title`config.vm.box=base`\n\n```\n\n\n###  \n```bash\nvagrant up\n\nvagrant status\n```\n\n### \n\n```bash\n# mac\nvagrant ssh\n\n\n# windows ssh\n\n# Host127.0.0.1\n# Port2200\n# Usernamevagrant\n# passwordvagrant\n\n```\n\n### box\n\n```bash\nvagrant package\n\n\n# boxbox \nvagrant box add hahaha ~/box/package.box  #  package.box  hahaha\n\ncd ~/dev  # \nvagrant init hahaha  \n\n```\n### \n\n Vagrant  Vagrantfile \n```bash\nconfig.vm.provision \"shell\", inline: <<-SHELL\n   apt-get update\n   apt-get install -y apache2\nSHELL\n```\n `vagrant reload --provision`  Vagrantfile [](https://www.vagrantup.com/docs/provisioning/)\n\n bootstrap.sh\n```bash\n#!/usr/bin/env bash\n\napt-get update\napt-get install -y apache2\nif ! [ -L /var/www ]; then\n  rm -rf /var/www\n  ln -fs /vagrant /var/www\nfi\n```\n Vagrantfile \n```bash\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"hashicorp/precise64\"\n  ...\n\n  config.vm.provision \"shell\", path: \"bootstrap.sh\"  # \nend\n```\n[](https://www.vagrantup.com/docs/cli/index.html)\n\n\n### yii2 vagrant  DEMO  \n```bash\nvagrant box add ubuntu/trusty64\n# vagrantfile vargrant init \n\nvagrant up\n\n\n```\n\nVagrantfile \n\n```Vagrantfile\nrequire 'yaml'\nrequire 'fileutils'\n\ndomains = {\n  frontend: 'y2aa-frontend.dev',\n  backend:  'y2aa-backend.dev'\n}\n\nconfig = {\n  local: './vagrant/config/vagrant-local.yml',\n  example: './vagrant/config/vagrant-local.example.yml'\n}\n\n# copy config from example if local config not exists\nFileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])\n# read config\noptions = YAML.load_file config[:local]\n\n# check github token\nif options['github_token'].nil? || options['github_token'].to_s.length != 40\n  puts \"You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml\"\n  exit\nend\n\n# vagrant configurate\nVagrant.configure(2) do |config|\n  # select the box\n  config.vm.box = 'ubuntu/trusty64'\n\n  # should we ask about box updates?\n  config.vm.box_check_update = options['box_check_update']\n\n  config.vm.provider 'virtualbox' do |vb|\n    # machine cpus count\n    vb.cpus = options['cpus']\n    # machine memory size\n    vb.memory = options['memory']\n    # machine name (for VirtualBox UI)\n    vb.name = options['machine_name']\n  end\n\n  # machine name (for vagrant console)\n  config.vm.define options['machine_name']\n\n  # machine name (for guest machine console)\n  config.vm.hostname = options['machine_name']\n\n  # network settings\n  config.vm.network 'private_network', ip: options['ip']\n\n  # sync: folder 'yii2-app-advanced' (host machine) -> folder '/app' (guest machine)\n  config.vm.synced_folder './', '/app', owner: 'vagrant', group: 'vagrant'\n\n  # disable folder '/vagrant' (guest machine)\n  config.vm.synced_folder '.', '/vagrant', disabled: true\n\n  # hosts settings (host machine)\n  config.vm.provision :hostmanager\n  config.hostmanager.enabled            = true\n  config.hostmanager.manage_host        = true\n  config.hostmanager.ignore_private_ip  = false\n  config.hostmanager.include_offline    = true\n  config.hostmanager.aliases            = domains.values\n\n  # provisioners\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-root.sh', args: [options['timezone']]\n  config.vm.provision 'shell', path: './vagrant/provision/once-as-vagrant.sh', args: [options['github_token']], privileged: false\n  config.vm.provision 'shell', path: './vagrant/provision/always-as-root.sh', run: 'always'\n\n  # post-install message (vagrant console)\n  config.vm.post_up_message = \"Frontend URL: http://#{domains[:frontend]}\\nBackend URL: http://#{domains[:backend]}\"\nend\n\n```\n\n```once-as-vagrant.sh\n\n#!/usr/bin/env bash\n\n#== Import script args ==\n\ngithub_token=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Configure composer\"\ncomposer config --global github-oauth.github.com ${github_token}\necho \"Done!\"\n\ninfo \"Install plugins for composer\"\ncomposer global require \"fxp/composer-asset-plugin:~1.1.1\" --no-progress\n\ninfo \"Install codeception\"\ncomposer global require \"codeception/codeception=2.0.*\" \"codeception/specify=*\" \"codeception/verify=*\" --no-progress\necho 'export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH' | tee -a /home/vagrant/.profile\n\ninfo \"Install project dependencies\"\ncd /app\ncomposer --no-progress --prefer-dist install\n\ninfo \"Init project\"\n./init --env=Development --overwrite=y\n\ninfo \"Apply migrations\"\n./yii migrate <<< \"yes\"\n\ninfo \"Create bash-alias 'app' for vagrant user\"\necho 'alias app=\"cd /app\"' | tee /home/vagrant/.bash_aliases\n\ninfo \"Enabling colorized prompt for guest console\"\nsed -i \"s/#force_color_prompt=yes/force_color_prompt=yes/\" /home/vagrant/.bashrc\n\n```\n\n\n```once-as-root.sh\n\t#!/usr/bin/env bash\n\n#== Import script args ==\n\ntimezone=$(echo \"$1\")\n\n#== Bash helpers ==\n\nfunction info {\n  echo \" \"\n  echo \"--> $1\"\n  echo \" \"\n}\n\n#== Provision script ==\n\ninfo \"Provision-script user: `whoami`\"\n\ninfo \"Allocate swap for MySQL 5.6\"\nfallocate -l 2048M /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap defaults 0 0' >> /etc/fstab\n\ninfo \"Configure locales\"\nupdate-locale LC_ALL=\"C\"\ndpkg-reconfigure locales\n\ninfo \"Configure timezone\"\necho ${timezone} | tee /etc/timezone\ndpkg-reconfigure --frontend noninteractive tzdata\n\ninfo \"Prepare root password for MySQL\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password password \\\"''\\\"\"\ndebconf-set-selections <<< \"mysql-server-5.6 mysql-server/root_password_again password \\\"''\\\"\"\necho \"Done!\"\n\ninfo \"Update OS software\"\napt-get update\napt-get upgrade -y\n\ninfo \"Install additional software\"\napt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6\n\ninfo \"Configure MySQL\"\nsed -i \"s/.*bind-address.*/bind-address = 0.0.0.0/\" /etc/mysql/my.cnf\necho \"Done!\"\n\ninfo \"Configure PHP-FPM\"\nsed -i 's/user = www-data/user = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/group = www-data/group = vagrant/g' /etc/php5/fpm/pool.d/www.conf\nsed -i 's/owner = www-data/owner = vagrant/g' /etc/php5/fpm/pool.d/www.conf\necho \"Done!\"\n\ninfo \"Configure NGINX\"\nsed -i 's/user www-data/user vagrant/g' /etc/nginx/nginx.conf\necho \"Done!\"\n\ninfo \"Enabling site configuration\"\nln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf\necho \"Done!\"\n\ninfo \"Initailize databases for MySQL\"\nmysql -uroot <<< \"CREATE DATABASE yii2advanced\"\nmysql -uroot <<< \"CREATE DATABASE yii2_advanced_tests\"\necho \"Done!\"\n\ninfo \"Install composer\"\ncurl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n```","slug":"vagrant","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopvf002ocwnner5zc8vw","content":"<h3 id=\"VirtualBox-Vagrant\"><a href=\"#VirtualBox-Vagrant\" class=\"headerlink\" title=\"VirtualBox Vagrant\"></a>VirtualBox Vagrant</h3><p><a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"external\">VirtualBox</a>, <a href=\"https://www.vagrantup.com/downloads.html\" target=\"_blank\" rel=\"external\">vagrant</a></p>\n<h3 id=\"Box\"><a href=\"#Box\" class=\"headerlink\" title=\"Box\"></a>Box</h3><p> Vagrant  Box  Box  CentOSUbuntu  Box Box</p>\n<p> <code>vagrant Box</code> Vagrant  , Box  Vagrant Vagrant  Box </p>\n<a id=\"more\"></a>\n<blockquote>\n<p><a href=\"http://www.vagrantbox.es/\" target=\"_blank\" rel=\"external\">http://www.vagrantbox.es/</a><br><a href=\"https://atlas.hashicorp.com/boxes/search\" target=\"_blank\" rel=\"external\">https://atlas.hashicorp.com/boxes/search</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add &#123;title&#125; &#123;box&#125;    <span class=\"comment\"># title boxURLbox</span></span><br></pre></td></tr></table></figure>\n<p><strong>box</strong><code>vagrant box remove {title}</code>,vagrant -h </p>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><p><code>vagrant box list</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> project</span><br><span class=\"line\"><span class=\"comment\"># box</span></span><br><span class=\"line\">vagrant box list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Vagrantfileruby</span></span><br><span class=\"line\"></span><br><span class=\"line\">`vagrant init &#123;title&#125;`  title`config.vm.box`title`config.vm.box=base`</span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">vagrant status</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mac</span></span><br><span class=\"line\">vagrant ssh</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows ssh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Host127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\"># Port2200</span></span><br><span class=\"line\"><span class=\"comment\"># Usernamevagrant</span></span><br><span class=\"line\"><span class=\"comment\"># passwordvagrant</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant package</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># boxbox </span></span><br><span class=\"line\">vagrant box add hahaha ~/box/package.box  <span class=\"comment\">#  package.box  hahaha</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/dev  <span class=\"comment\"># </span></span><br><span class=\"line\">vagrant init hahaha</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Vagrant  Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.vm.provision <span class=\"string\">\"shell\"</span>, inline: &lt;&lt;-SHELL</span><br><span class=\"line\">   apt-get update</span><br><span class=\"line\">   apt-get install -y apache2</span><br><span class=\"line\">SHELL</span><br></pre></td></tr></table></figure></p>\n<p> <code>vagrant reload --provision</code>  Vagrantfile <a href=\"https://www.vagrantup.com/docs/provisioning/\" target=\"_blank\" rel=\"external\"></a></p>\n<p> bootstrap.sh<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span><br><span class=\"line\"></span></span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install -y apache2</span><br><span class=\"line\"><span class=\"keyword\">if</span> ! [ -L /var/www ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  rm -rf /var/www</span><br><span class=\"line\">  ln -fs /vagrant /var/www</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></p>\n<p> Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Vagrant.configure(<span class=\"string\">\"2\"</span>) <span class=\"keyword\">do</span> |config|</span><br><span class=\"line\">  config.vm.box = <span class=\"string\">\"hashicorp/precise64\"</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provision <span class=\"string\">\"shell\"</span>, path: <span class=\"string\">\"bootstrap.sh\"</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://www.vagrantup.com/docs/cli/index.html\" target=\"_blank\" rel=\"external\"></a></p>\n<h3 id=\"yii2-vagrant--DEMO-\"><a href=\"#yii2-vagrant--DEMO-\" class=\"headerlink\" title=\"yii2 vagrant  DEMO  \"></a>yii2 vagrant  DEMO  </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add ubuntu/trusty64</span><br><span class=\"line\"><span class=\"comment\"># vagrantfile vargrant init </span></span><br><span class=\"line\"></span><br><span class=\"line\">vagrant up</span><br></pre></td></tr></table></figure>\n<p>Vagrantfile </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require &apos;yaml&apos;</span><br><span class=\"line\">require &apos;fileutils&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">domains = &#123;</span><br><span class=\"line\">  frontend: &apos;y2aa-frontend.dev&apos;,</span><br><span class=\"line\">  backend:  &apos;y2aa-backend.dev&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  local: &apos;./vagrant/config/vagrant-local.yml&apos;,</span><br><span class=\"line\">  example: &apos;./vagrant/config/vagrant-local.example.yml&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># copy config from example if local config not exists</span><br><span class=\"line\">FileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])</span><br><span class=\"line\"># read config</span><br><span class=\"line\">options = YAML.load_file config[:local]</span><br><span class=\"line\"></span><br><span class=\"line\"># check github token</span><br><span class=\"line\">if options[&apos;github_token&apos;].nil? || options[&apos;github_token&apos;].to_s.length != 40</span><br><span class=\"line\">  puts &quot;You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml&quot;</span><br><span class=\"line\">  exit</span><br><span class=\"line\">end</span><br><span class=\"line\"></span><br><span class=\"line\"># vagrant configurate</span><br><span class=\"line\">Vagrant.configure(2) do |config|</span><br><span class=\"line\">  # select the box</span><br><span class=\"line\">  config.vm.box = &apos;ubuntu/trusty64&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # should we ask about box updates?</span><br><span class=\"line\">  config.vm.box_check_update = options[&apos;box_check_update&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provider &apos;virtualbox&apos; do |vb|</span><br><span class=\"line\">    # machine cpus count</span><br><span class=\"line\">    vb.cpus = options[&apos;cpus&apos;]</span><br><span class=\"line\">    # machine memory size</span><br><span class=\"line\">    vb.memory = options[&apos;memory&apos;]</span><br><span class=\"line\">    # machine name (for VirtualBox UI)</span><br><span class=\"line\">    vb.name = options[&apos;machine_name&apos;]</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for vagrant console)</span><br><span class=\"line\">  config.vm.define options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for guest machine console)</span><br><span class=\"line\">  config.vm.hostname = options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # network settings</span><br><span class=\"line\">  config.vm.network &apos;private_network&apos;, ip: options[&apos;ip&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # sync: folder &apos;yii2-app-advanced&apos; (host machine) -&gt; folder &apos;/app&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;./&apos;, &apos;/app&apos;, owner: &apos;vagrant&apos;, group: &apos;vagrant&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # disable folder &apos;/vagrant&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;.&apos;, &apos;/vagrant&apos;, disabled: true</span><br><span class=\"line\"></span><br><span class=\"line\">  # hosts settings (host machine)</span><br><span class=\"line\">  config.vm.provision :hostmanager</span><br><span class=\"line\">  config.hostmanager.enabled            = true</span><br><span class=\"line\">  config.hostmanager.manage_host        = true</span><br><span class=\"line\">  config.hostmanager.ignore_private_ip  = false</span><br><span class=\"line\">  config.hostmanager.include_offline    = true</span><br><span class=\"line\">  config.hostmanager.aliases            = domains.values</span><br><span class=\"line\"></span><br><span class=\"line\">  # provisioners</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-root.sh&apos;, args: [options[&apos;timezone&apos;]]</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-vagrant.sh&apos;, args: [options[&apos;github_token&apos;]], privileged: false</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/always-as-root.sh&apos;, run: &apos;always&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # post-install message (vagrant console)</span><br><span class=\"line\">  config.vm.post_up_message = &quot;Frontend URL: http://#&#123;domains[:frontend]&#125;\\nBackend URL: http://#&#123;domains[:backend]&#125;&quot;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">github_token=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure composer&quot;</span><br><span class=\"line\">composer config --global github-oauth.github.com $&#123;github_token&#125;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install plugins for composer&quot;</span><br><span class=\"line\">composer global require &quot;fxp/composer-asset-plugin:~1.1.1&quot; --no-progress</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install codeception&quot;</span><br><span class=\"line\">composer global require &quot;codeception/codeception=2.0.*&quot; &quot;codeception/specify=*&quot; &quot;codeception/verify=*&quot; --no-progress</span><br><span class=\"line\">echo &apos;export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH&apos; | tee -a /home/vagrant/.profile</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install project dependencies&quot;</span><br><span class=\"line\">cd /app</span><br><span class=\"line\">composer --no-progress --prefer-dist install</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Init project&quot;</span><br><span class=\"line\">./init --env=Development --overwrite=y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Apply migrations&quot;</span><br><span class=\"line\">./yii migrate &lt;&lt;&lt; &quot;yes&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Create bash-alias &apos;app&apos; for vagrant user&quot;</span><br><span class=\"line\">echo &apos;alias app=&quot;cd /app&quot;&apos; | tee /home/vagrant/.bash_aliases</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling colorized prompt for guest console&quot;</span><br><span class=\"line\">sed -i &quot;s/#force_color_prompt=yes/force_color_prompt=yes/&quot; /home/vagrant/.bashrc</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">timezone=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Allocate swap for MySQL 5.6&quot;</span><br><span class=\"line\">fallocate -l 2048M /swapfile</span><br><span class=\"line\">chmod 600 /swapfile</span><br><span class=\"line\">mkswap /swapfile</span><br><span class=\"line\">swapon /swapfile</span><br><span class=\"line\">echo &apos;/swapfile none swap defaults 0 0&apos; &gt;&gt; /etc/fstab</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure locales&quot;</span><br><span class=\"line\">update-locale LC_ALL=&quot;C&quot;</span><br><span class=\"line\">dpkg-reconfigure locales</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure timezone&quot;</span><br><span class=\"line\">echo $&#123;timezone&#125; | tee /etc/timezone</span><br><span class=\"line\">dpkg-reconfigure --frontend noninteractive tzdata</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Prepare root password for MySQL&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password_again password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Update OS software&quot;</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get upgrade -y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install additional software&quot;</span><br><span class=\"line\">apt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure MySQL&quot;</span><br><span class=\"line\">sed -i &quot;s/.*bind-address.*/bind-address = 0.0.0.0/&quot; /etc/mysql/my.cnf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure PHP-FPM&quot;</span><br><span class=\"line\">sed -i &apos;s/user = www-data/user = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/group = www-data/group = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/owner = www-data/owner = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure NGINX&quot;</span><br><span class=\"line\">sed -i &apos;s/user www-data/user vagrant/g&apos; /etc/nginx/nginx.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling site configuration&quot;</span><br><span class=\"line\">ln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Initailize databases for MySQL&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2advanced&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2_advanced_tests&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install composer&quot;</span><br><span class=\"line\">curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer</span><br></pre></td></tr></table></figure>","excerpt":"<h3 id=\"VirtualBox-Vagrant\"><a href=\"#VirtualBox-Vagrant\" class=\"headerlink\" title=\"VirtualBox Vagrant\"></a>VirtualBox Vagrant</h3><p><a href=\"https://www.virtualbox.org/wiki/Downloads\">VirtualBox</a>, <a href=\"https://www.vagrantup.com/downloads.html\">vagrant</a></p>\n<h3 id=\"Box\"><a href=\"#Box\" class=\"headerlink\" title=\"Box\"></a>Box</h3><p> Vagrant  Box  Box  CentOSUbuntu  Box Box</p>\n<p> <code>vagrant Box</code> Vagrant  , Box  Vagrant Vagrant  Box </p>","more":"<blockquote>\n<p><a href=\"http://www.vagrantbox.es/\">http://www.vagrantbox.es/</a><br><a href=\"https://atlas.hashicorp.com/boxes/search\">https://atlas.hashicorp.com/boxes/search</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add &#123;title&#125; &#123;box&#125;    <span class=\"comment\"># title boxURLbox</span></span><br></pre></td></tr></table></figure>\n<p><strong>box</strong><code>vagrant box remove {title}</code>,vagrant -h </p>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><p><code>vagrant box list</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> project</span><br><span class=\"line\"><span class=\"comment\"># box</span></span><br><span class=\"line\">vagrant box list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Vagrantfileruby</span></span><br><span class=\"line\"></span><br><span class=\"line\">`vagrant init &#123;title&#125;`  title`config.vm.box`title`config.vm.box=base`</span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">vagrant status</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mac</span></span><br><span class=\"line\">vagrant ssh</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows ssh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Host127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\"># Port2200</span></span><br><span class=\"line\"><span class=\"comment\"># Usernamevagrant</span></span><br><span class=\"line\"><span class=\"comment\"># passwordvagrant</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"box\"><a href=\"#box\" class=\"headerlink\" title=\"box\"></a>box</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant package</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># boxbox </span></span><br><span class=\"line\">vagrant box add hahaha ~/box/package.box  <span class=\"comment\">#  package.box  hahaha</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/dev  <span class=\"comment\"># </span></span><br><span class=\"line\">vagrant init hahaha</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Vagrant  Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.vm.provision <span class=\"string\">\"shell\"</span>, inline: &lt;&lt;-SHELL</span><br><span class=\"line\">   apt-get update</span><br><span class=\"line\">   apt-get install -y apache2</span><br><span class=\"line\">SHELL</span><br></pre></td></tr></table></figure></p>\n<p> <code>vagrant reload --provision</code>  Vagrantfile <a href=\"https://www.vagrantup.com/docs/provisioning/\"></a></p>\n<p> bootstrap.sh<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env bash</span><br><span class=\"line\"></span></span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install -y apache2</span><br><span class=\"line\"><span class=\"keyword\">if</span> ! [ -L /var/www ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  rm -rf /var/www</span><br><span class=\"line\">  ln -fs /vagrant /var/www</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></p>\n<p> Vagrantfile <br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Vagrant.configure(<span class=\"string\">\"2\"</span>) <span class=\"keyword\">do</span> |config|</span><br><span class=\"line\">  config.vm.box = <span class=\"string\">\"hashicorp/precise64\"</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provision <span class=\"string\">\"shell\"</span>, path: <span class=\"string\">\"bootstrap.sh\"</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://www.vagrantup.com/docs/cli/index.html\"></a></p>\n<h3 id=\"yii2-vagrant--DEMO-\"><a href=\"#yii2-vagrant--DEMO-\" class=\"headerlink\" title=\"yii2 vagrant  DEMO  \"></a>yii2 vagrant  DEMO  </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vagrant box add ubuntu/trusty64</span><br><span class=\"line\"><span class=\"comment\"># vagrantfile vargrant init </span></span><br><span class=\"line\"></span><br><span class=\"line\">vagrant up</span><br></pre></td></tr></table></figure>\n<p>Vagrantfile </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require &apos;yaml&apos;</span><br><span class=\"line\">require &apos;fileutils&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">domains = &#123;</span><br><span class=\"line\">  frontend: &apos;y2aa-frontend.dev&apos;,</span><br><span class=\"line\">  backend:  &apos;y2aa-backend.dev&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  local: &apos;./vagrant/config/vagrant-local.yml&apos;,</span><br><span class=\"line\">  example: &apos;./vagrant/config/vagrant-local.example.yml&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"># copy config from example if local config not exists</span><br><span class=\"line\">FileUtils.cp config[:example], config[:local] unless File.exist?(config[:local])</span><br><span class=\"line\"># read config</span><br><span class=\"line\">options = YAML.load_file config[:local]</span><br><span class=\"line\"></span><br><span class=\"line\"># check github token</span><br><span class=\"line\">if options[&apos;github_token&apos;].nil? || options[&apos;github_token&apos;].to_s.length != 40</span><br><span class=\"line\">  puts &quot;You must place REAL GitHub token into configuration:\\n/yii2-app-advancded/vagrant/config/vagrant-local.yml&quot;</span><br><span class=\"line\">  exit</span><br><span class=\"line\">end</span><br><span class=\"line\"></span><br><span class=\"line\"># vagrant configurate</span><br><span class=\"line\">Vagrant.configure(2) do |config|</span><br><span class=\"line\">  # select the box</span><br><span class=\"line\">  config.vm.box = &apos;ubuntu/trusty64&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # should we ask about box updates?</span><br><span class=\"line\">  config.vm.box_check_update = options[&apos;box_check_update&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  config.vm.provider &apos;virtualbox&apos; do |vb|</span><br><span class=\"line\">    # machine cpus count</span><br><span class=\"line\">    vb.cpus = options[&apos;cpus&apos;]</span><br><span class=\"line\">    # machine memory size</span><br><span class=\"line\">    vb.memory = options[&apos;memory&apos;]</span><br><span class=\"line\">    # machine name (for VirtualBox UI)</span><br><span class=\"line\">    vb.name = options[&apos;machine_name&apos;]</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for vagrant console)</span><br><span class=\"line\">  config.vm.define options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # machine name (for guest machine console)</span><br><span class=\"line\">  config.vm.hostname = options[&apos;machine_name&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # network settings</span><br><span class=\"line\">  config.vm.network &apos;private_network&apos;, ip: options[&apos;ip&apos;]</span><br><span class=\"line\"></span><br><span class=\"line\">  # sync: folder &apos;yii2-app-advanced&apos; (host machine) -&gt; folder &apos;/app&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;./&apos;, &apos;/app&apos;, owner: &apos;vagrant&apos;, group: &apos;vagrant&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # disable folder &apos;/vagrant&apos; (guest machine)</span><br><span class=\"line\">  config.vm.synced_folder &apos;.&apos;, &apos;/vagrant&apos;, disabled: true</span><br><span class=\"line\"></span><br><span class=\"line\">  # hosts settings (host machine)</span><br><span class=\"line\">  config.vm.provision :hostmanager</span><br><span class=\"line\">  config.hostmanager.enabled            = true</span><br><span class=\"line\">  config.hostmanager.manage_host        = true</span><br><span class=\"line\">  config.hostmanager.ignore_private_ip  = false</span><br><span class=\"line\">  config.hostmanager.include_offline    = true</span><br><span class=\"line\">  config.hostmanager.aliases            = domains.values</span><br><span class=\"line\"></span><br><span class=\"line\">  # provisioners</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-root.sh&apos;, args: [options[&apos;timezone&apos;]]</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/once-as-vagrant.sh&apos;, args: [options[&apos;github_token&apos;]], privileged: false</span><br><span class=\"line\">  config.vm.provision &apos;shell&apos;, path: &apos;./vagrant/provision/always-as-root.sh&apos;, run: &apos;always&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  # post-install message (vagrant console)</span><br><span class=\"line\">  config.vm.post_up_message = &quot;Frontend URL: http://#&#123;domains[:frontend]&#125;\\nBackend URL: http://#&#123;domains[:backend]&#125;&quot;</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">github_token=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure composer&quot;</span><br><span class=\"line\">composer config --global github-oauth.github.com $&#123;github_token&#125;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install plugins for composer&quot;</span><br><span class=\"line\">composer global require &quot;fxp/composer-asset-plugin:~1.1.1&quot; --no-progress</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install codeception&quot;</span><br><span class=\"line\">composer global require &quot;codeception/codeception=2.0.*&quot; &quot;codeception/specify=*&quot; &quot;codeception/verify=*&quot; --no-progress</span><br><span class=\"line\">echo &apos;export PATH=/home/vagrant/.config/composer/vendor/bin:$PATH&apos; | tee -a /home/vagrant/.profile</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install project dependencies&quot;</span><br><span class=\"line\">cd /app</span><br><span class=\"line\">composer --no-progress --prefer-dist install</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Init project&quot;</span><br><span class=\"line\">./init --env=Development --overwrite=y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Apply migrations&quot;</span><br><span class=\"line\">./yii migrate &lt;&lt;&lt; &quot;yes&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Create bash-alias &apos;app&apos; for vagrant user&quot;</span><br><span class=\"line\">echo &apos;alias app=&quot;cd /app&quot;&apos; | tee /home/vagrant/.bash_aliases</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling colorized prompt for guest console&quot;</span><br><span class=\"line\">sed -i &quot;s/#force_color_prompt=yes/force_color_prompt=yes/&quot; /home/vagrant/.bashrc</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t#!/usr/bin/env bash</span><br><span class=\"line\"></span><br><span class=\"line\">#== Import script args ==</span><br><span class=\"line\"></span><br><span class=\"line\">timezone=$(echo &quot;$1&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">#== Bash helpers ==</span><br><span class=\"line\"></span><br><span class=\"line\">function info &#123;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">  echo &quot;--&gt; $1&quot;</span><br><span class=\"line\">  echo &quot; &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#== Provision script ==</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Provision-script user: `whoami`&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Allocate swap for MySQL 5.6&quot;</span><br><span class=\"line\">fallocate -l 2048M /swapfile</span><br><span class=\"line\">chmod 600 /swapfile</span><br><span class=\"line\">mkswap /swapfile</span><br><span class=\"line\">swapon /swapfile</span><br><span class=\"line\">echo &apos;/swapfile none swap defaults 0 0&apos; &gt;&gt; /etc/fstab</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure locales&quot;</span><br><span class=\"line\">update-locale LC_ALL=&quot;C&quot;</span><br><span class=\"line\">dpkg-reconfigure locales</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure timezone&quot;</span><br><span class=\"line\">echo $&#123;timezone&#125; | tee /etc/timezone</span><br><span class=\"line\">dpkg-reconfigure --frontend noninteractive tzdata</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Prepare root password for MySQL&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">debconf-set-selections &lt;&lt;&lt; &quot;mysql-server-5.6 mysql-server/root_password_again password \\&quot;&apos;&apos;\\&quot;&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Update OS software&quot;</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get upgrade -y</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install additional software&quot;</span><br><span class=\"line\">apt-get install -y git php5-curl php5-cli php5-intl php5-mysqlnd php5-gd php5-fpm nginx mysql-server-5.6</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure MySQL&quot;</span><br><span class=\"line\">sed -i &quot;s/.*bind-address.*/bind-address = 0.0.0.0/&quot; /etc/mysql/my.cnf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure PHP-FPM&quot;</span><br><span class=\"line\">sed -i &apos;s/user = www-data/user = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/group = www-data/group = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">sed -i &apos;s/owner = www-data/owner = vagrant/g&apos; /etc/php5/fpm/pool.d/www.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Configure NGINX&quot;</span><br><span class=\"line\">sed -i &apos;s/user www-data/user vagrant/g&apos; /etc/nginx/nginx.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Enabling site configuration&quot;</span><br><span class=\"line\">ln -s /app/vagrant/nginx/app.conf /etc/nginx/sites-enabled/app.conf</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Initailize databases for MySQL&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2advanced&quot;</span><br><span class=\"line\">mysql -uroot &lt;&lt;&lt; &quot;CREATE DATABASE yii2_advanced_tests&quot;</span><br><span class=\"line\">echo &quot;Done!&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">info &quot;Install composer&quot;</span><br><span class=\"line\">curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer</span><br></pre></td></tr></table></figure>"},{"title":"YAML ","date":"2016-11-23T10:13:25.000Z","updated":"2016-11-23T10:13:25.000Z","_content":"\n\n\nYAML  JSON \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif)\n\n YAML  [JS-YAML](https://github.com/nodeca/js-yaml) [ Demo](http://nodeca.github.io/js-yaml/)\n<!-- more -->\n## \n\nYAML  /jml/ \n\n\n\n> - \n- \n- Tab\n- \n\n`#` \n\nYAML \n\n> - mapping/ hashes / dictionary\n- sequence / list\n- scalars\n\n\n\n## \n\n\n\n```yaml\nanimal: pets\n```\n\n JavaScript \n\n```javascript\n{ animal: 'pets' }\n```\n\nYaml \n\n```yaml\nhash: { name: Steve, foo: bar } \n```\n\n JavaScript \n\n```javascript\n{ hash: { name: 'Steve', foo: 'bar' } }\n```\n\n## \n\n\n\n```yaml\n- Cat\n- Dog\n- Goldfish\n```\n\n JavaScript \n\n```javascript\n[ 'Cat', 'Dog', 'Goldfish' ]\n```\n\n\n\n```yaml\n-\n - Cat\n - Dog\n - Goldfish\n```\n\n JavaScript \n\n```javascript\n[ [ 'Cat', 'Dog', 'Goldfish' ] ]\n```\n\n\n\n```yaml\nanimal: [Cat, Dog]\n```\n\n JavaScript \n\n```javascript\n{ animal: [ 'Cat', 'Dog' ] }\n```\n\n## \n\n\n\n```yaml\nlanguages:\n - Ruby\n - Perl\n - Python \nwebsites:\n YAML: yaml.org \n Ruby: ruby-lang.org \n Python: python.org \n Perl: use.perl.org \n```\n\n JavaScript \n\n```javascript\n{ languages: [ 'Ruby', 'Perl', 'Python' ],\n  websites: \n   { YAML: 'yaml.org',\n     Ruby: 'ruby-lang.org',\n     Python: 'python.org',\n     Perl: 'use.perl.org' } }\n```\n\n## \n\n JavaScript \n\n> - \n- \n- \n- \n- Null\n- \n- \n\n\n\n```yaml\nnumber: 12.30\n```\n\n JavaScript \n\n```javascript\n{ number: 12.30 }\n```\n\n`true``false`\n\n```yaml\nisSet: true\n```\n\n JavaScript \n\n```javascript\n{ isSet: true }\n```\n\n`null``~`\n\n```yaml\nparent: ~ \n```\n\n JavaScript \n\n```javascript\n{ parent: null }\n```\n\n ISO8601 \n\n```yaml\niso8601: 2001-12-14t21:59:43.10-05:00 \n```\n\n JavaScript \n\n```javascript\n{ iso8601: new Date('2001-12-14t21:59:43.10-05:00') }\n```\n\n iso8601 \n\n```yaml\ndate: 1976-07-31\n```\n\n JavaScript \n\n```javascript\n{ date: new Date('1976-07-31') }\n```\n\nYAML \n\n```yaml\ne: !!str 123\nf: !!str true\n```\n\n JavaScript \n\n```javascript\n{ e: '123', f: 'true' }\n```\n\n## \n\n\n\n\n\n```yaml\nstr: \n```\n\n JavaScript \n\n```javascript\n{ str: '' }\n```\n\n\n\n```yaml\nstr: ' '\n```\n\n JavaScript \n\n```javascript\nstr: ': '\n```\n\n\n\n```yaml\ns1: '\\n'\ns2: \"\\n\"\n```\n\n JavaScript \n\n```javascript\n{ s1: '\\\\n', s2: '\\n' }\n```\n\n\n\n```javascript\nstr: 'labor''s day' \n```\n\n JavaScript \n\n```javascript\n{ str: 'labor\\'s day' }\n```\n\n\n\n```yaml\nstr: \n  \n  \n```\n\n JavaScript \n\n```javascript\n{ str: '  ' }\n```\n\n`|``>`\n\n```javascript\nthis: |\n  Foo\n  Bar\nthat: >\n  Foo\n  Bar\n```\n\n JavaScript \n\n```javascript\n{ this: 'Foo\\nBar\\n', that: 'Foo Bar\\n' }\n```\n\n`+``-`\n\n```yaml\ns1: |\n  Foo\n\ns2: |+\n  Foo\n\n\ns3: |-\n  Foo\n```\n\n JavaScript \n\n```javascript\n{ s1: 'Foo\\n', s2: 'Foo\\n\\n\\n', s3: 'Foo' }\n```\n\n HTML \n\n```yaml\nmessage: |\n\n        <p style=\"color: red\">\n          \n        </p>\n```\n\n JavaScript \n\n```javascript\n{ message: '\\n<p style=\"color: red\">\\n  \\n</p>\\n' }\n```\n\n## \n\n`&``*`\n\n```yaml\ndefaults: &defaults\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  <<: *defaults\n\ntest:\n  database: myapp_test\n  <<: *defaults\n```\n\n\n\n```yaml\ndefaults:\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  adapter:  postgres\n  host:     localhost\n\ntest:\n  database: myapp_test\n  adapter:  postgres\n  host:     localhost\n```\n\n`&``defaults``<<``*`\n\n\n\n```yaml\n- &showell Steve \n- Clark \n- Brian \n- Oren \n- *showell \n``` \n\n JavaScript \n\n```javascript\n[ 'Steve', 'Clark', 'Brian', 'Oren', 'Steve' ]\n```\n\n## \n\n [JS-YAML](https://github.com/nodeca/js-yaml) \n\n```yaml\n# example.yml\nfn: function () { return 1 }\nreg: /test/\n```\n\n yml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\ntry {\n  var doc = yaml.load(\n    fs.readFileSync('./example.yml', 'utf8')\n  );\n  console.log(doc);\n} catch (e) {\n  console.log(e);\n}\n```\n\n JavaScript  yaml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\nvar obj = {\n  fn: function () { return 1 },\n  reg: /test/\n};\n\ntry {\n  fs.writeFileSync(\n    './example.yml',\n    yaml.dump(obj),\n    'utf8'\n  );\n} catch (e) {\n  console.log(e);\n}\n```\n\n## \n\n- [YAML 1.2 ](http://www.yaml.org/spec/1.2/spec.html)\n- [YAML from Wikipedia](https://en.wikipedia.org/wiki/YAML)\n- [YAML for Ruby](http://yaml.org/YAML_for_ruby.html)","source":"_posts/2016/yaml.md","raw":"---\ntitle: YAML \ndate: 2016-11-23 18:13:25\nupdated: 2016-11-23 18:13:25\ntags:\ncategories:\n---\n\n\n\nYAML  JSON \n\n![](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif)\n\n YAML  [JS-YAML](https://github.com/nodeca/js-yaml) [ Demo](http://nodeca.github.io/js-yaml/)\n<!-- more -->\n## \n\nYAML  /jml/ \n\n\n\n> - \n- \n- Tab\n- \n\n`#` \n\nYAML \n\n> - mapping/ hashes / dictionary\n- sequence / list\n- scalars\n\n\n\n## \n\n\n\n```yaml\nanimal: pets\n```\n\n JavaScript \n\n```javascript\n{ animal: 'pets' }\n```\n\nYaml \n\n```yaml\nhash: { name: Steve, foo: bar } \n```\n\n JavaScript \n\n```javascript\n{ hash: { name: 'Steve', foo: 'bar' } }\n```\n\n## \n\n\n\n```yaml\n- Cat\n- Dog\n- Goldfish\n```\n\n JavaScript \n\n```javascript\n[ 'Cat', 'Dog', 'Goldfish' ]\n```\n\n\n\n```yaml\n-\n - Cat\n - Dog\n - Goldfish\n```\n\n JavaScript \n\n```javascript\n[ [ 'Cat', 'Dog', 'Goldfish' ] ]\n```\n\n\n\n```yaml\nanimal: [Cat, Dog]\n```\n\n JavaScript \n\n```javascript\n{ animal: [ 'Cat', 'Dog' ] }\n```\n\n## \n\n\n\n```yaml\nlanguages:\n - Ruby\n - Perl\n - Python \nwebsites:\n YAML: yaml.org \n Ruby: ruby-lang.org \n Python: python.org \n Perl: use.perl.org \n```\n\n JavaScript \n\n```javascript\n{ languages: [ 'Ruby', 'Perl', 'Python' ],\n  websites: \n   { YAML: 'yaml.org',\n     Ruby: 'ruby-lang.org',\n     Python: 'python.org',\n     Perl: 'use.perl.org' } }\n```\n\n## \n\n JavaScript \n\n> - \n- \n- \n- \n- Null\n- \n- \n\n\n\n```yaml\nnumber: 12.30\n```\n\n JavaScript \n\n```javascript\n{ number: 12.30 }\n```\n\n`true``false`\n\n```yaml\nisSet: true\n```\n\n JavaScript \n\n```javascript\n{ isSet: true }\n```\n\n`null``~`\n\n```yaml\nparent: ~ \n```\n\n JavaScript \n\n```javascript\n{ parent: null }\n```\n\n ISO8601 \n\n```yaml\niso8601: 2001-12-14t21:59:43.10-05:00 \n```\n\n JavaScript \n\n```javascript\n{ iso8601: new Date('2001-12-14t21:59:43.10-05:00') }\n```\n\n iso8601 \n\n```yaml\ndate: 1976-07-31\n```\n\n JavaScript \n\n```javascript\n{ date: new Date('1976-07-31') }\n```\n\nYAML \n\n```yaml\ne: !!str 123\nf: !!str true\n```\n\n JavaScript \n\n```javascript\n{ e: '123', f: 'true' }\n```\n\n## \n\n\n\n\n\n```yaml\nstr: \n```\n\n JavaScript \n\n```javascript\n{ str: '' }\n```\n\n\n\n```yaml\nstr: ' '\n```\n\n JavaScript \n\n```javascript\nstr: ': '\n```\n\n\n\n```yaml\ns1: '\\n'\ns2: \"\\n\"\n```\n\n JavaScript \n\n```javascript\n{ s1: '\\\\n', s2: '\\n' }\n```\n\n\n\n```javascript\nstr: 'labor''s day' \n```\n\n JavaScript \n\n```javascript\n{ str: 'labor\\'s day' }\n```\n\n\n\n```yaml\nstr: \n  \n  \n```\n\n JavaScript \n\n```javascript\n{ str: '  ' }\n```\n\n`|``>`\n\n```javascript\nthis: |\n  Foo\n  Bar\nthat: >\n  Foo\n  Bar\n```\n\n JavaScript \n\n```javascript\n{ this: 'Foo\\nBar\\n', that: 'Foo Bar\\n' }\n```\n\n`+``-`\n\n```yaml\ns1: |\n  Foo\n\ns2: |+\n  Foo\n\n\ns3: |-\n  Foo\n```\n\n JavaScript \n\n```javascript\n{ s1: 'Foo\\n', s2: 'Foo\\n\\n\\n', s3: 'Foo' }\n```\n\n HTML \n\n```yaml\nmessage: |\n\n        <p style=\"color: red\">\n          \n        </p>\n```\n\n JavaScript \n\n```javascript\n{ message: '\\n<p style=\"color: red\">\\n  \\n</p>\\n' }\n```\n\n## \n\n`&``*`\n\n```yaml\ndefaults: &defaults\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  <<: *defaults\n\ntest:\n  database: myapp_test\n  <<: *defaults\n```\n\n\n\n```yaml\ndefaults:\n  adapter:  postgres\n  host:     localhost\n\ndevelopment:\n  database: myapp_development\n  adapter:  postgres\n  host:     localhost\n\ntest:\n  database: myapp_test\n  adapter:  postgres\n  host:     localhost\n```\n\n`&``defaults``<<``*`\n\n\n\n```yaml\n- &showell Steve \n- Clark \n- Brian \n- Oren \n- *showell \n``` \n\n JavaScript \n\n```javascript\n[ 'Steve', 'Clark', 'Brian', 'Oren', 'Steve' ]\n```\n\n## \n\n [JS-YAML](https://github.com/nodeca/js-yaml) \n\n```yaml\n# example.yml\nfn: function () { return 1 }\nreg: /test/\n```\n\n yml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\ntry {\n  var doc = yaml.load(\n    fs.readFileSync('./example.yml', 'utf8')\n  );\n  console.log(doc);\n} catch (e) {\n  console.log(e);\n}\n```\n\n JavaScript  yaml \n\n```javascript\nvar yaml = require('js-yaml');\nvar fs   = require('fs');\n\nvar obj = {\n  fn: function () { return 1 },\n  reg: /test/\n};\n\ntry {\n  fs.writeFileSync(\n    './example.yml',\n    yaml.dump(obj),\n    'utf8'\n  );\n} catch (e) {\n  console.log(e);\n}\n```\n\n## \n\n- [YAML 1.2 ](http://www.yaml.org/spec/1.2/spec.html)\n- [YAML from Wikipedia](https://en.wikipedia.org/wiki/YAML)\n- [YAML for Ruby](http://yaml.org/YAML_for_ruby.html)","slug":"yaml","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cixkcopvi002rcwnn09rcr44l","content":"<p></p>\n<p>YAML  JSON </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif\" alt=\"\"></p>\n<p> YAML  <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"external\">JS-YAML</a> <a href=\"http://nodeca.github.io/js-yaml/\" target=\"_blank\" rel=\"external\"> Demo</a><br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YAML  /jml/ </p>\n<p></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li>Tab</li>\n<li></li>\n</ul>\n</blockquote>\n<p><code>#</code> </p>\n<p>YAML </p>\n<blockquote>\n<ul>\n<li>mapping/ hashes / dictionary</li>\n<li>sequence / list</li>\n<li>scalars</li>\n</ul>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> pets</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; animal: <span class=\"string\">'pets'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p>Yaml </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">hash:</span> &#123; name: Steve, foo: bar &#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; hash: &#123; name: <span class=\"string\">'Steve'</span>, foo: <span class=\"string\">'bar'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> Cat</span><br><span class=\"line\"><span class=\"bullet\">-</span> Dog</span><br><span class=\"line\"><span class=\"bullet\">-</span> Goldfish</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> Cat</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Dog</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Goldfish</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ] ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> [Cat, Dog]</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; animal: [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span> ] &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">languages:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> Ruby</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Perl</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Python </span><br><span class=\"line\"><span class=\"attr\">websites:</span></span><br><span class=\"line\"><span class=\"attr\"> YAML:</span> yaml.org </span><br><span class=\"line\"><span class=\"attr\"> Ruby:</span> ruby-lang.org </span><br><span class=\"line\"><span class=\"attr\"> Python:</span> python.org </span><br><span class=\"line\"><span class=\"attr\"> Perl:</span> use.perl.org</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; languages: [ <span class=\"string\">'Ruby'</span>, <span class=\"string\">'Perl'</span>, <span class=\"string\">'Python'</span> ],</span><br><span class=\"line\">  websites: </span><br><span class=\"line\">   &#123; YAML: <span class=\"string\">'yaml.org'</span>,</span><br><span class=\"line\">     Ruby: <span class=\"string\">'ruby-lang.org'</span>,</span><br><span class=\"line\">     Python: <span class=\"string\">'python.org'</span>,</span><br><span class=\"line\">     Perl: <span class=\"string\">'use.perl.org'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JavaScript </p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Null</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">number:</span> <span class=\"number\">12.30</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; number: <span class=\"number\">12.30</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>true</code><code>false</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">isSet:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; isSet: <span class=\"literal\">true</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>null</code><code>~</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">parent:</span> ~</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; parent: <span class=\"literal\">null</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> ISO8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">iso8601:</span> <span class=\"number\">2001</span><span class=\"bullet\">-12</span><span class=\"bullet\">-14</span>t21:<span class=\"number\">59</span>:<span class=\"number\">43.10</span><span class=\"bullet\">-05</span>:<span class=\"number\">00</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; iso8601: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'2001-12-14t21:59:43.10-05:00'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p> iso8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">1976</span><span class=\"bullet\">-07</span><span class=\"bullet\">-31</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; date: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'1976-07-31'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p>YAML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">e:</span> <span class=\"type\">!!str</span> <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"attr\">f:</span> <span class=\"type\">!!str</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; e: <span class=\"string\">'123'</span>, f: <span class=\"string\">'true'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> </span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">''</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\">' '</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">': '</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">'\\n'</span></span><br><span class=\"line\"><span class=\"attr\">s2:</span> <span class=\"string\">\"\\n\"</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; s1: <span class=\"string\">'\\\\n'</span>, s2: <span class=\"string\">'\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">'labor'</span><span class=\"string\">'s day'</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">'labor\\'s day'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> </span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">'  '</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>|</code><code>&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>: |</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br><span class=\"line\">that: &gt;</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"keyword\">this</span>: <span class=\"string\">'Foo\\nBar\\n'</span>, that: <span class=\"string\">'Foo Bar\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>+</code><code>-</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">|</span><br><span class=\"line\">  Foo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><span class=\"attr\">s2:</span> |+</span><br><span class=\"line\">  Foo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">s3:</span> |-</span><br><span class=\"line\">  Foo</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; s1: <span class=\"string\">'Foo\\n'</span>, s2: <span class=\"string\">'Foo\\n\\n\\n'</span>, s3: <span class=\"string\">'Foo'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> HTML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">message:</span> <span class=\"string\">|</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;p style=\"color: red\"&gt;</span><br><span class=\"line\">          </span><br><span class=\"line\">        &lt;/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; message: <span class=\"string\">'\\n&lt;p style=\"color: red\"&gt;\\n  \\n&lt;/p&gt;\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>&amp;</code><code>*</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span> <span class=\"meta\">&amp;defaults</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_development</span><br><span class=\"line\">  &lt;&lt;: <span class=\"meta\">*defaults</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_test</span><br><span class=\"line\">  &lt;&lt;: <span class=\"meta\">*defaults</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_development</span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_test</span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br></pre></td></tr></table></figure>\n<p><code>&amp;</code><code>defaults</code><code>&lt;&lt;</code><code>*</code></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> &amp;showell Steve </span><br><span class=\"line\"><span class=\"bullet\">-</span> Clark </span><br><span class=\"line\"><span class=\"bullet\">-</span> Brian </span><br><span class=\"line\"><span class=\"bullet\">-</span> Oren </span><br><span class=\"line\"><span class=\"bullet\">-</span> *showell </span><br><span class=\"line\">``` </span><br><span class=\"line\"></span><br><span class=\"line\"> JavaScript </span><br><span class=\"line\"></span><br><span class=\"line\">```javascript</span><br><span class=\"line\">[ <span class=\"string\">'Steve'</span>, <span class=\"string\">'Clark'</span>, <span class=\"string\">'Brian'</span>, <span class=\"string\">'Oren'</span>, <span class=\"string\">'Steve'</span> ]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://github.com/nodeca/js-yaml\" target=\"_blank\" rel=\"external\">JS-YAML</a> </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># example.yml</span></span><br><span class=\"line\"><span class=\"attr\">fn:</span> function () &#123; return <span class=\"number\">1</span> &#125;</span><br><span class=\"line\"><span class=\"attr\">reg:</span> /test/</span><br></pre></td></tr></table></figure>\n<p> yml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> doc = yaml.load(</span><br><span class=\"line\">    fs.readFileSync(<span class=\"string\">'./example.yml'</span>, <span class=\"string\">'utf8'</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(doc);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript  yaml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  fn: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  reg: <span class=\"regexp\">/test/</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  fs.writeFileSync(</span><br><span class=\"line\">    <span class=\"string\">'./example.yml'</span>,</span><br><span class=\"line\">    yaml.dump(obj),</span><br><span class=\"line\">    <span class=\"string\">'utf8'</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.yaml.org/spec/1.2/spec.html\" target=\"_blank\" rel=\"external\">YAML 1.2 </a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"external\">YAML from Wikipedia</a></li>\n<li><a href=\"http://yaml.org/YAML_for_ruby.html\" target=\"_blank\" rel=\"external\">YAML for Ruby</a></li>\n</ul>\n","excerpt":"<p></p>\n<p>YAML  JSON </p>\n<p><img src=\"http://www.ruanyifeng.com/blogimg/asset/2016/bg2016070401.gif\" alt=\"\"></p>\n<p> YAML  <a href=\"https://github.com/nodeca/js-yaml\">JS-YAML</a> <a href=\"http://nodeca.github.io/js-yaml/\"> Demo</a><br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YAML  /jml/ </p>\n<p></p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li>Tab</li>\n<li></li>\n</ul>\n</blockquote>\n<p><code>#</code> </p>\n<p>YAML </p>\n<blockquote>\n<ul>\n<li>mapping/ hashes / dictionary</li>\n<li>sequence / list</li>\n<li>scalars</li>\n</ul>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> pets</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; animal: <span class=\"string\">'pets'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p>Yaml </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">hash:</span> &#123; name: Steve, foo: bar &#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; hash: &#123; name: <span class=\"string\">'Steve'</span>, foo: <span class=\"string\">'bar'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> Cat</span><br><span class=\"line\"><span class=\"bullet\">-</span> Dog</span><br><span class=\"line\"><span class=\"bullet\">-</span> Goldfish</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> Cat</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Dog</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Goldfish</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span>, <span class=\"string\">'Goldfish'</span> ] ]</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">animal:</span> [Cat, Dog]</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; animal: [ <span class=\"string\">'Cat'</span>, <span class=\"string\">'Dog'</span> ] &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">languages:</span></span><br><span class=\"line\"><span class=\"bullet\"> -</span> Ruby</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Perl</span><br><span class=\"line\"><span class=\"bullet\"> -</span> Python </span><br><span class=\"line\"><span class=\"attr\">websites:</span></span><br><span class=\"line\"><span class=\"attr\"> YAML:</span> yaml.org </span><br><span class=\"line\"><span class=\"attr\"> Ruby:</span> ruby-lang.org </span><br><span class=\"line\"><span class=\"attr\"> Python:</span> python.org </span><br><span class=\"line\"><span class=\"attr\"> Perl:</span> use.perl.org</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; languages: [ <span class=\"string\">'Ruby'</span>, <span class=\"string\">'Perl'</span>, <span class=\"string\">'Python'</span> ],</span><br><span class=\"line\">  websites: </span><br><span class=\"line\">   &#123; YAML: <span class=\"string\">'yaml.org'</span>,</span><br><span class=\"line\">     Ruby: <span class=\"string\">'ruby-lang.org'</span>,</span><br><span class=\"line\">     Python: <span class=\"string\">'python.org'</span>,</span><br><span class=\"line\">     Perl: <span class=\"string\">'use.perl.org'</span> &#125; &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> JavaScript </p>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Null</li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">number:</span> <span class=\"number\">12.30</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; number: <span class=\"number\">12.30</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>true</code><code>false</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">isSet:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; isSet: <span class=\"literal\">true</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>null</code><code>~</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">parent:</span> ~</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; parent: <span class=\"literal\">null</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> ISO8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">iso8601:</span> <span class=\"number\">2001</span><span class=\"bullet\">-12</span><span class=\"bullet\">-14</span>t21:<span class=\"number\">59</span>:<span class=\"number\">43.10</span><span class=\"bullet\">-05</span>:<span class=\"number\">00</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; iso8601: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'2001-12-14t21:59:43.10-05:00'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p> iso8601 </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">1976</span><span class=\"bullet\">-07</span><span class=\"bullet\">-31</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; date: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">'1976-07-31'</span>) &#125;</span><br></pre></td></tr></table></figure>\n<p>YAML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">e:</span> <span class=\"type\">!!str</span> <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"attr\">f:</span> <span class=\"type\">!!str</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; e: <span class=\"string\">'123'</span>, f: <span class=\"string\">'true'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> </span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">''</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> <span class=\"string\">' '</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">': '</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">'\\n'</span></span><br><span class=\"line\"><span class=\"attr\">s2:</span> <span class=\"string\">\"\\n\"</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; s1: <span class=\"string\">'\\\\n'</span>, s2: <span class=\"string\">'\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str: <span class=\"string\">'labor'</span><span class=\"string\">'s day'</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">'labor\\'s day'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">str:</span> </span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; str: <span class=\"string\">'  '</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>|</code><code>&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>: |</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br><span class=\"line\">that: &gt;</span><br><span class=\"line\">  Foo</span><br><span class=\"line\">  Bar</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"keyword\">this</span>: <span class=\"string\">'Foo\\nBar\\n'</span>, that: <span class=\"string\">'Foo Bar\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p><code>+</code><code>-</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">s1:</span> <span class=\"string\">|</span><br><span class=\"line\">  Foo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><span class=\"attr\">s2:</span> |+</span><br><span class=\"line\">  Foo</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">s3:</span> |-</span><br><span class=\"line\">  Foo</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; s1: <span class=\"string\">'Foo\\n'</span>, s2: <span class=\"string\">'Foo\\n\\n\\n'</span>, s3: <span class=\"string\">'Foo'</span> &#125;</span><br></pre></td></tr></table></figure>\n<p> HTML </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">message:</span> <span class=\"string\">|</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;p style=\"color: red\"&gt;</span><br><span class=\"line\">          </span><br><span class=\"line\">        &lt;/p&gt;</span></span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; message: <span class=\"string\">'\\n&lt;p style=\"color: red\"&gt;\\n  \\n&lt;/p&gt;\\n'</span> &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>&amp;</code><code>*</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span> <span class=\"meta\">&amp;defaults</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_development</span><br><span class=\"line\">  &lt;&lt;: <span class=\"meta\">*defaults</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_test</span><br><span class=\"line\">  &lt;&lt;: <span class=\"meta\">*defaults</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">defaults:</span></span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">development:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_development</span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\"><span class=\"attr\">  database:</span> myapp_test</span><br><span class=\"line\"><span class=\"attr\">  adapter:</span>  postgres</span><br><span class=\"line\"><span class=\"attr\">  host:</span>     localhost</span><br></pre></td></tr></table></figure>\n<p><code>&amp;</code><code>defaults</code><code>&lt;&lt;</code><code>*</code></p>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> &amp;showell Steve </span><br><span class=\"line\"><span class=\"bullet\">-</span> Clark </span><br><span class=\"line\"><span class=\"bullet\">-</span> Brian </span><br><span class=\"line\"><span class=\"bullet\">-</span> Oren </span><br><span class=\"line\"><span class=\"bullet\">-</span> *showell </span><br><span class=\"line\">``` </span><br><span class=\"line\"></span><br><span class=\"line\"> JavaScript </span><br><span class=\"line\"></span><br><span class=\"line\">```javascript</span><br><span class=\"line\">[ <span class=\"string\">'Steve'</span>, <span class=\"string\">'Clark'</span>, <span class=\"string\">'Brian'</span>, <span class=\"string\">'Oren'</span>, <span class=\"string\">'Steve'</span> ]</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <a href=\"https://github.com/nodeca/js-yaml\">JS-YAML</a> </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># example.yml</span></span><br><span class=\"line\"><span class=\"attr\">fn:</span> function () &#123; return <span class=\"number\">1</span> &#125;</span><br><span class=\"line\"><span class=\"attr\">reg:</span> /test/</span><br></pre></td></tr></table></figure>\n<p> yml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> doc = yaml.load(</span><br><span class=\"line\">    fs.readFileSync(<span class=\"string\">'./example.yml'</span>, <span class=\"string\">'utf8'</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(doc);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> JavaScript  yaml </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> yaml = <span class=\"built_in\">require</span>(<span class=\"string\">'js-yaml'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> fs   = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  fn: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">  reg: <span class=\"regexp\">/test/</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  fs.writeFileSync(</span><br><span class=\"line\">    <span class=\"string\">'./example.yml'</span>,</span><br><span class=\"line\">    yaml.dump(obj),</span><br><span class=\"line\">    <span class=\"string\">'utf8'</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.yaml.org/spec/1.2/spec.html\">YAML 1.2 </a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/YAML\">YAML from Wikipedia</a></li>\n<li><a href=\"http://yaml.org/YAML_for_ruby.html\">YAML for Ruby</a></li>\n</ul>"}],"PostAsset":[],"PostCategory":[{"post_id":"cixkcopru000acwnnthqixtd1","category_id":"cixkcoprz000ccwnnhywhlq2e","_id":"cixkcopsd000lcwnnbcx80vab"},{"post_id":"cixkcops8000hcwnns704om33","category_id":"cixkcoprz000ccwnnhywhlq2e","_id":"cixkcopsj000ocwnntlvcczgw"}],"PostTag":[{"post_id":"cixkcoprh0007cwnncvh4n6qq","tag_id":"cixkcopro0009cwnn1vu5v61c","_id":"cixkcops4000fcwnng1sg8cx2"},{"post_id":"cixkcoprj0008cwnn0nwwsiz0","tag_id":"cixkcops0000dcwnn5cewroys","_id":"cixkcopsb000jcwnnlvts9eri"},{"post_id":"cixkcopru000acwnnthqixtd1","tag_id":"cixkcopsa000icwnnc47gp25d","_id":"cixkcopsr000tcwnn4a7olop2"},{"post_id":"cixkcopru000acwnnthqixtd1","tag_id":"cixkcopsh000ncwnnisqdkz8c","_id":"cixkcopss000vcwnntrqf2q8k"},{"post_id":"cixkcops5000gcwnnac7paoew","tag_id":"cixkcopso000rcwnnoxu2kpic","_id":"cixkcopsw000ycwnnn6uxqt72"},{"post_id":"cixkcops8000hcwnns704om33","tag_id":"cixkcopst000wcwnnq85o5o7s","_id":"cixkcopt00012cwnnyzc1w2j7"},{"post_id":"cixkcopsk000pcwnnf1289smm","tag_id":"cixkcopsz0011cwnnbxoyu81u","_id":"cixkcopta0017cwnno8utaoox"},{"post_id":"cixkcopsm000qcwnnph4x4lxq","tag_id":"cixkcopt40015cwnnrt83zpq2","_id":"cixkcopth001bcwnn49aupteg"},{"post_id":"cixkcopsp000scwnnifybwgn6","tag_id":"cixkcopt40015cwnnrt83zpq2","_id":"cixkcopto001fcwnn6qyh179a"},{"post_id":"cixkcopti001ccwnnnoam587e","tag_id":"cixkcopt40015cwnnrt83zpq2","_id":"cixkcoptq001hcwnn2xqw5o4r"},{"post_id":"cixkcoptm001ecwnndvfcul06","tag_id":"cixkcopt40015cwnnrt83zpq2","_id":"cixkcoptu001kcwnnt70twspm"},{"post_id":"cixkcopsr000ucwnn26vulpwq","tag_id":"cixkcopt40015cwnnrt83zpq2","_id":"cixkcoptw001mcwnne4273y3u"},{"post_id":"cixkcopsw000zcwnnrftmsprr","tag_id":"cixkcoptq001icwnnrp80bds9","_id":"cixkcopu1001pcwnnnpa4rwm0"},{"post_id":"cixkcopt10013cwnn35ntc462","tag_id":"cixkcoptw001ncwnn3a6f4fnc","_id":"cixkcopu6001tcwnnaxb3kie8"},{"post_id":"cixkcopu4001rcwnnxtceumrh","tag_id":"cixkcopsz0011cwnnbxoyu81u","_id":"cixkcopu8001vcwnnpkonpgus"},{"post_id":"cixkcoptb0018cwnn0kztz9ps","tag_id":"cixkcopu5001scwnntpfs8ao3","_id":"cixkcopub001zcwnn0ht0qzd5"},{"post_id":"cixkcopts001jcwnnw0zf68gk","tag_id":"cixkcopu9001xcwnn9iid1wsn","_id":"cixkcopun0026cwnnqtazf0pi"},{"post_id":"cixkcopts001jcwnnw0zf68gk","tag_id":"cixkcopuf0021cwnnyou83k9q","_id":"cixkcopuq0028cwnn3tutu8yz"},{"post_id":"cixkcopul0025cwnnnkvwnr56","tag_id":"cixkcopsz0011cwnnbxoyu81u","_id":"cixkcopuu002bcwnnn7jc5nk5"},{"post_id":"cixkcopus0029cwnnu8wdxwdk","tag_id":"cixkcoptq001icwnnrp80bds9","_id":"cixkcopuw002dcwnn2pnvpkut"},{"post_id":"cixkcopuv002ccwnny21bol27","tag_id":"cixkcopuf0021cwnnyou83k9q","_id":"cixkcopv1002gcwnn2br5930g"},{"post_id":"cixkcoptv001lcwnnaoxgdsaj","tag_id":"cixkcopul0024cwnnmys945zt","_id":"cixkcopv9002icwnnia051i6u"},{"post_id":"cixkcoptv001lcwnnaoxgdsaj","tag_id":"cixkcoput002acwnnwupauejw","_id":"cixkcopvc002lcwnnu9gtwsrw"},{"post_id":"cixkcopux002ecwnnsn9lxy0j","tag_id":"cixkcopsz0011cwnnbxoyu81u","_id":"cixkcopve002ncwnn9jdc021q"},{"post_id":"cixkcoptx001ocwnn1b179cj1","tag_id":"cixkcopuz002fcwnnqgiohtlc","_id":"cixkcopvh002qcwnn8hqmfu0v"},{"post_id":"cixkcopuc0020cwnnfaqiwsck","tag_id":"cixkcopuf0021cwnnyou83k9q","_id":"cixkcopvj002scwnnq55091j1"},{"post_id":"cixkcopuj0023cwnnqce28tgx","tag_id":"cixkcopvh002pcwnnjqd5j8cx","_id":"cixkcopvk002ucwnn40h5u26y"},{"post_id":"cixkcopun0027cwnnfboa0wae","tag_id":"cixkcopvk002tcwnnvtb1errr","_id":"cixkcopvl002wcwnn7bhfgkpm"},{"post_id":"cixkcopv2002hcwnnc2p2e5ys","tag_id":"cixkcopvl002vcwnnh5yqbttt","_id":"cixkcopvl002xcwnnel146hwe"}],"Tag":[{"name":"git","_id":"cixkcopro0009cwnn1vu5v61c"},{"name":"","_id":"cixkcops0000dcwnn5cewroys"},{"name":"hexo","_id":"cixkcopsa000icwnnc47gp25d"},{"name":"next","_id":"cixkcopsh000ncwnnisqdkz8c"},{"name":"english","_id":"cixkcopso000rcwnnoxu2kpic"},{"name":"learn","_id":"cixkcopst000wcwnnq85o5o7s"},{"name":"mysql","_id":"cixkcopsz0011cwnnbxoyu81u"},{"name":"design pattern","_id":"cixkcopt40015cwnnrt83zpq2"},{"name":"","_id":"cixkcoptq001icwnnrp80bds9"},{"name":"work","_id":"cixkcoptw001ncwnn3a6f4fnc"},{"name":"tools","_id":"cixkcopu5001scwnntpfs8ao3"},{"name":"","_id":"cixkcopu9001xcwnn9iid1wsn"},{"name":"","_id":"cixkcopuf0021cwnnyou83k9q"},{"name":"","_id":"cixkcopul0024cwnnmys945zt"},{"name":"","_id":"cixkcoput002acwnnwupauejw"},{"name":"db","_id":"cixkcopuz002fcwnnqgiohtlc"},{"name":"js","_id":"cixkcopvh002pcwnnjqd5j8cx"},{"name":"php","_id":"cixkcopvk002tcwnnvtb1errr"},{"name":"","_id":"cixkcopvl002vcwnnh5yqbttt"}]}}